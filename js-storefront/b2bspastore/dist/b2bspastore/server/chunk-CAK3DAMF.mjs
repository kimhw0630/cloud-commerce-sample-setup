import './polyfills.server.mjs';
import{b as ye,d as Ze,e as xe,f as et}from"./chunk-YZJYNVE5.mjs";import{$ as wt,C as Be,D as Ve,Da as ie,E as ue,F as gt,Fa as fe,G as Ue,H as Ke,Ja as Ce,Ka as Oe,L as vt,M as ht,N as Ct,Pb as P,Q as qe,Qb as Ft,Sa as Le,Ua as Xe,Y as yt,_ as bt,a as _t,aa as W,b as G,c as A,d as Y,db as St,e as H,eb as Tt,g as Ie,h as $t,j as U,k as Rt,l as X,n as Ut,p as Z,pa as pe,q as qt,r as Ot,s as ee,sb as Yt,tb as Ht,ua as jt,x as te,xa as Gt,xc as Wt,y as Lt}from"./chunk-EKK5QDHO.mjs";import{A as de,Aa as ge,Ac as se,Ba as Dt,Bb as ze,Cb as j,Gb as oe,Hb as kt,J as K,K as We,P as ft,_c as Re,ba as xt,ea as $e,fc as Je,lc as ve,mc as he,oa as k,pa as Pe,pb as M,qb as I,tb as Me,ub as Qe,vb as Nt,y as _e,zc as R}from"./chunk-H5UHAHI5.mjs";import{$a as C,$b as D,Aa as ce,Bc as re,Cc as b,Dd as Ee,Ed as O,Fa as me,Ga as Q,Ia as He,Ib as Vt,Jc as o,Ka as E,Kc as s,L as ke,La as N,Md as ne,Oc as le,Pb as f,Qb as B,Ra as $,Rb as n,Sa as z,X as Ye,Xb as l,Yb as c,Zb as u,_a as h,_b as V,a as ot,bc as F,dc as y,ec as p,f as st,fb as lt,g as ae,gb as dt,hc as v,ia as at,mc as pt,nc as mt,oc as ut,pc as J,qc as m,rc as w,sc as _,tc as we,wb as i,wc as Se,x as be,xa as ct,xb as S,xc as Te,y as Ge,yc as Fe,yd as Ae,zd as q}from"./chunk-TXWRNZDJ.mjs";import{a as It,b as Bt}from"./chunk-GHFNAT2I.mjs";function Zt(e,d){e&1&&(l(0,"div")(1,"div",10),u(2,"cx-spinner"),c()())}function ei(e,d){if(e&1){let t=F();l(0,"div",11)(1,"p",12),m(2),o(3,"cxTranslate"),c()(),l(4,"div",13)(5,"button",14),y("click",function(){h(t);let a=p(2);return C(a.closeAccount())}),m(6),o(7,"cxTranslate"),c(),l(8,"button",15),y("click",function(){h(t);let a=p(2);return C(a.dismissModal("Cancel"))}),m(9),o(10,"cxTranslate"),c()()}e&2&&(i(2),_(" ",s(3,3,"closeAccount.confirmAccountClosureMessage")," "),i(4),_(" ",s(7,5,"closeAccount.closeMyAccount")," "),i(3),_(" ",s(10,7,"common.cancel")," "))}function ti(e,d){if(e&1){let t=F();V(0),l(1,"div",2),y("esc",function(){h(t);let a=p();return C(a.dismissModal("Escape click"))}),l(2,"div",3)(3,"div",4)(4,"h3",5),m(5),o(6,"cxTranslate"),c(),l(7,"button",6),o(8,"cxTranslate"),o(9,"cxTranslate"),y("click",function(){h(t);let a=p();return C(a.dismissModal("Cross click"))}),l(10,"span",7),u(11,"cx-icon",8),c()()(),f(12,Zt,3,0,"div",9),o(13,"async"),f(14,ei,11,9,"ng-template",null,0,le),c()(),D()}if(e&2){let t=J(15),r=p();i(),n("cxFocus",r.focusConfig),i(4),_(" ",s(6,7,"closeAccount.confirmAccountClosure")," "),i(2),v("title",s(8,9,"common.close")),B("aria-label",s(9,11,"common.close")),i(4),n("type",r.iconTypes.CLOSE),i(),n("ngIf",s(13,13,r.isLoading$))("ngIfElse",t)}}var ii=["element"],nt=()=>({cxRoute:"home"});function ri(e,d){if(e&1){let t=F();V(0),l(1,"button",6),y("click",function(){h(t);let a=p();return C(a.navigateTo("home"))}),m(2),o(3,"cxTranslate"),c(),D()}e&2&&(i(2),_(" ",s(3,1,"common.cancel")," "))}function ni(e,d){e&1&&(V(0),l(1,"a",7),o(2,"cxUrl"),m(3),o(4,"cxTranslate"),c(),D()),e&2&&(i(),n("routerLink",s(2,2,re(6,nt))),i(2),w(s(4,4,"common.cancel")))}var T=e=>({label:e}),Qt=()=>({cxRoute:"login"});function oi(e,d){e&1&&u(0,"cx-spinner",10)}function si(e,d){e&1&&(l(0,"p",11),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"formLegend.required"),`
`))}function ai(e,d){e&1&&(l(0,"abbr",12),o(1,"cxTranslate"),m(2,"*"),c()),e&2&&v("title",s(1,1,"common.required"))}function ci(e,d){if(e&1&&(u(0,"cx-form-errors",13),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"forgottenPassword.emailAddress.label")))("control",t.form.get("userEmail"))}}function li(e,d){if(e&1&&u(0,"cx-form-errors",14),e&2){let t=p();n("control",t.form.get("userEmail"))}}function di(e,d){if(e&1){let t=F();V(0),l(1,"button",15),y("click",function(){h(t);let a=p();return C(a.navigateTo("login"))}),m(2),o(3,"cxTranslate"),c(),D()}e&2&&(i(2),_(" ",s(3,1,"common.cancel")," "))}function pi(e,d){e&1&&(V(0),l(1,"a",16),o(2,"cxUrl"),m(3),o(4,"cxTranslate"),c(),D()),e&2&&(i(),n("routerLink",s(2,2,re(6,Qt))),i(2),w(s(4,4,"common.cancel")))}var De=e=>({ariaLabel:e}),mi=()=>({cxRoute:"termsAndConditions"});function ui(e,d){e&1&&(u(0,"div",32),o(1,"cxTranslate")),e&2&&B("aria-label",s(1,1,"common.loaded"))}function fi(e,d){e&1&&(l(0,"p",33),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"formLegend.required")," "))}function xi(e,d){}function _i(e,d){if(e&1&&(u(0,"cx-form-errors",34),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.firstName.label")))("control",t.registerForm.get("firstName"))}}function gi(e,d){if(e&1&&u(0,"cx-form-errors",29),e&2){let t=p(2);n("control",t.registerForm.get("firstName"))}}function vi(e,d){}function hi(e,d){if(e&1&&(u(0,"cx-form-errors",34),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.lastName.label")))("control",t.registerForm.get("lastName"))}}function Ci(e,d){if(e&1&&u(0,"cx-form-errors",29),e&2){let t=p(2);n("control",t.registerForm.get("lastName"))}}function yi(e,d){}function bi(e,d){if(e&1&&(u(0,"cx-form-errors",34),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.emailAddress.label")))("control",t.registerForm.get("email"))}}function wi(e,d){if(e&1&&u(0,"cx-form-errors",29),e&2){let t=p(2);n("control",t.registerForm.get("email"))}}function Si(e,d){}function Ti(e,d){if(e&1&&(u(0,"cx-form-errors",34),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.password.label")))("control",t.registerForm.get("password"))}}function Fi(e,d){if(e&1&&u(0,"cx-form-errors",29),e&2){let t=p(2);n("control",t.registerForm.get("password"))}}function Ai(e,d){}function Ei(e,d){if(e&1&&(u(0,"cx-form-errors",34),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.confirmPassword.label")))("control",t.registerForm.get("passwordconf"))}}function Pi(e,d){if(e&1&&u(0,"cx-form-errors",29),e&2){let t=p(2);n("control",t.registerForm.get("passwordconf"))}}function Mi(e,d){if(e&1&&(l(0,"label"),u(1,"input",35),l(2,"span",26),m(3),c()()),e&2){let t=d.ngIf,r=p(2);i(),n("checked",r.isConsentGiven(t.consent)),i(2),_(" ",t.template," ")}}function Ii(e,d){if(e&1){let t=F();l(0,"div")(1,"label")(2,"input",38),y("change",function(a){h(t);let x=p().index,g=p(3);return C(g.updateAdditionalConsents(a,x))}),c(),l(3,"span",26),m(4),c(),u(5,"cx-form-errors",29),c()()}if(e&2){let t=d.ngIf,r=p(),a=r.$implicit,x=r.index,g=p().ngIf;i(2),n("required",g[x].required)("name",t)("formControlName",x),i(2),_(" ",g[x].template.description," "),i(),n("control",a)}}function Bi(e,d){if(e&1&&(l(0,"div",22),f(1,Ii,6,5,"div",23),c()),e&2){let t=d.index,r=p().ngIf;i(),n("ngIf",r[t]==null||r[t].template==null?null:r[t].template.id)}}function Vi(e,d){if(e&1&&(l(0,"div",36),f(1,Bi,2,1,"div",37),c()),e&2){let t=p(2);i(),n("ngForOf",t.additionalConsents.controls)}}function Di(e,d){}function Ni(e,d){if(e&1&&(u(0,"cx-form-errors",34),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.termsAndConditions")))("control",t.registerForm.get("termsandconditions"))}}function ki(e,d){if(e&1&&u(0,"cx-form-errors",29),e&2){let t=p(2);n("control",t.registerForm.get("termsandconditions"))}}function $i(e,d){if(e&1){let t=F();l(0,"section",3),f(1,ui,2,3,"div",4),l(2,"div",5)(3,"div",6)(4,"div",7),f(5,fi,3,3,"p",8),l(6,"form",9),y("ngSubmit",function(){h(t);let a=p();return C(a.submitForm())}),l(7,"div",10)(8,"label")(9,"span",11),m(10),o(11,"cxTranslate"),c(),u(12,"ng-select",12),o(13,"async"),o(14,"cxTranslate"),o(15,"cxTranslate"),c()(),l(16,"div",10)(17,"label")(18,"span",11),m(19),o(20,"cxTranslate"),f(21,xi,0,0,"ng-template",13),c(),u(22,"input",14),o(23,"cxTranslate"),f(24,_i,2,6,"cx-form-errors",15)(25,gi,1,1,"cx-form-errors",16),c()(),l(26,"div",10)(27,"label")(28,"span",11),m(29),o(30,"cxTranslate"),f(31,vi,0,0,"ng-template",13),c(),u(32,"input",17),o(33,"cxTranslate"),f(34,hi,2,6,"cx-form-errors",15)(35,Ci,1,1,"cx-form-errors",16),c()(),l(36,"div",10)(37,"label")(38,"span",11),m(39),o(40,"cxTranslate"),f(41,yi,0,0,"ng-template",13),c(),u(42,"input",18),o(43,"cxTranslate"),f(44,bi,2,6,"cx-form-errors",15)(45,wi,1,1,"cx-form-errors",16),c()(),l(46,"div",10)(47,"label")(48,"span",11),m(49),o(50,"cxTranslate"),f(51,Si,0,0,"ng-template",13),c(),u(52,"input",19),o(53,"cxTranslate"),o(54,"cxTranslate"),l(55,"p",20),m(56),o(57,"cxTranslate"),c(),f(58,Ti,2,6,"cx-form-errors",15)(59,Fi,1,1,"cx-form-errors",16),c()(),l(60,"div",10)(61,"label")(62,"span",11),m(63),o(64,"cxTranslate"),f(65,Ai,0,0,"ng-template",13),c(),u(66,"input",21),o(67,"cxTranslate"),o(68,"cxTranslate"),f(69,Ei,2,6,"cx-form-errors",15)(70,Pi,1,1,"cx-form-errors",16),c()(),l(71,"div",10)(72,"div",22),f(73,Mi,4,2,"label",23),o(74,"async"),c()(),f(75,Vi,2,1,"div",24),l(76,"div",10)(77,"div",22)(78,"label"),u(79,"input",25),l(80,"span",26),m(81),o(82,"cxTranslate"),l(83,"a",27),o(84,"cxUrl"),m(85),o(86,"cxTranslate"),c(),f(87,Di,0,0,"ng-template",13),c(),f(88,Ni,2,6,"cx-form-errors",15)(89,ki,1,1,"cx-form-errors",16),c()()(),l(90,"cx-captcha",28),y("confirmed",function(){h(t);let a=p();return C(a.captchaConfirmed())}),c(),u(91,"cx-form-errors",29),l(92,"button",30),m(93),o(94,"cxTranslate"),c(),l(95,"a",31),o(96,"cxUrl"),m(97),o(98,"cxTranslate"),c()()()()()()}if(e&2){let t=p(),r=J(3);i(),n("cxFeature","!a11yRemoveStatusLoadedRole"),i(4),n("cxFeature","a11yRequiredAsterisks"),i(),n("formGroup",t.registerForm),i(4),w(s(11,49,"register.titleOptional")),i(2),n("clearable",!1)("items",s(13,51,t.titles$))("placeholder",s(14,53,"register.selectTitle"))("searchable",!1)("cxNgSelectA11y",b(97,De,s(15,55,"register.title"))),i(7),_("",s(20,57,"register.firstName.label")," "),i(2),n("ngTemplateOutlet",r),i(),v("placeholder",s(23,59,"register.firstName.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),_("",s(30,61,"register.lastName.label")," "),i(2),n("ngTemplateOutlet",r),i(),v("placeholder",s(33,63,"register.lastName.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),_("",s(40,65,"register.emailAddress.label")," "),i(2),n("ngTemplateOutlet",r),i(),v("placeholder",s(43,67,"register.emailAddress.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),_("",s(50,69,"register.password.label")," "),i(2),n("ngTemplateOutlet",r),i(),v("placeholder",s(53,71,"register.password.placeholder")),B("aria-label",s(54,73,"register.password.placeholder")),i(4),_(" ",s(57,75,"register.passwordMinRequirements")," "),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),_("",s(64,77,"register.confirmPassword.label")," "),i(2),n("ngTemplateOutlet",r),i(),v("placeholder",s(67,79,"register.confirmPassword.placeholder")),B("aria-label",s(68,81,"register.confirmPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),n("ngIf",s(74,83,t.anonymousConsent$)),i(2),n("ngIf",t.additionalRegistrationConsents),i(6),_(" ",s(82,85,"register.confirmThatRead")," "),i(2),n("routerLink",s(84,87,re(99,mi))),i(2),_(" ",s(86,89,"register.termsAndConditions")," "),i(2),n("ngTemplateOutlet",r),i(),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(2),n("control",t.registerForm.get("captcha")),i(2),_(" ",s(94,91,"register.register")," "),i(2),n("routerLink",s(96,93,re(100,Qt))),i(2),w(s(98,95,"register.signIn"))}}function Ri(e,d){e&1&&(l(0,"abbr",40),o(1,"cxTranslate"),m(2,"*"),c()),e&2&&v("title",s(1,1,"common.required"))}function Ui(e,d){e&1&&f(0,Ri,3,3,"abbr",39),e&2&&n("cxFeature","a11yRequiredAsterisks")}function qi(e,d){e&1&&(l(0,"div",41),u(1,"cx-spinner"),c())}function Oi(e,d){e&1&&u(0,"cx-spinner",2)}function Li(e,d){if(e&1&&(u(0,"cx-form-errors",10),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.newPassword")))("control",t.form.get("password"))}}function ji(e,d){if(e&1&&u(0,"cx-form-errors",11),e&2){let t=p(2);n("control",t.form.get("password"))}}function Gi(e,d){if(e&1&&(u(0,"cx-form-errors",10),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"register.passwordMinRequirements")))("control",t.form.get("passwordConfirm"))}}function Yi(e,d){if(e&1&&u(0,"cx-form-errors",11),e&2){let t=p(2);n("control",t.form.get("passwordConfirm"))}}function Hi(e,d){if(e&1){let t=F();l(0,"form",3),y("ngSubmit",function(){let a=h(t).ngIf,x=p();return C(x.onSubmit(a))}),l(1,"label")(2,"span",4),m(3),o(4,"cxTranslate"),c(),u(5,"input",5),o(6,"cxTranslate"),o(7,"cxTranslate"),f(8,Li,2,6,"cx-form-errors",6)(9,ji,1,1,"cx-form-errors",7),c(),l(10,"label")(11,"span",4),m(12),o(13,"cxTranslate"),c(),u(14,"input",8),o(15,"cxTranslate"),o(16,"cxTranslate"),f(17,Gi,2,6,"cx-form-errors",6)(18,Yi,1,1,"cx-form-errors",7),c(),l(19,"button",9),m(20),o(21,"cxTranslate"),c()()}if(e&2){let t=p();n("formGroup",t.form),i(3),w(s(4,13,"register.newPassword")),i(2),v("placeholder",s(6,15,"register.password.placeholder")),B("aria-label",s(7,17,"register.password.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(13,19,"register.passwordMinRequirements")),i(2),v("placeholder",s(15,21,"register.confirmPassword.placeholder")),B("aria-label",s(16,23,"register.confirmPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(),n("disabled",t.form.disabled),i(),_(" ",s(21,25,"register.resetPassword")," ")}}function Wi(e,d){e&1&&u(0,"cx-spinner",13)}function Qi(e,d){e&1&&(l(0,"p",14),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"formLegend.required"),`
`))}function zi(e,d){}function Ji(e,d){if(e&1&&(u(0,"cx-form-errors",15),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updateEmailForm.newEmailAddress.label")))("control",t.form.get("email"))}}function Ki(e,d){if(e&1&&u(0,"cx-form-errors",16),e&2){let t=p();n("control",t.form.get("email"))}}function Xi(e,d){}function Zi(e,d){if(e&1&&(u(0,"cx-form-errors",15),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updateEmailForm.confirmNewEmailAddress.label")))("control",t.form.get("confirmEmail"))}}function er(e,d){if(e&1&&u(0,"cx-form-errors",16),e&2){let t=p();n("control",t.form.get("confirmEmail"))}}function tr(e,d){}function ir(e,d){if(e&1&&(u(0,"cx-form-errors",15),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updateEmailForm.password.label")))("control",t.form.get("password"))}}function rr(e,d){if(e&1&&u(0,"cx-form-errors",16),e&2){let t=p();n("control",t.form.get("password"))}}function nr(e,d){e&1&&(l(0,"abbr",18),o(1,"cxTranslate"),m(2,"*"),c()),e&2&&v("title",s(1,1,"common.required"))}function or(e,d){e&1&&f(0,nr,3,3,"abbr",17),e&2&&n("cxFeature","a11yRequiredAsterisks")}function sr(e,d){e&1&&u(0,"cx-spinner",7)}function ar(e,d){if(e&1){let t=F();l(0,"button",8),y("click",function(){h(t);let a=p();return C(a.onEdit())}),m(1),o(2,"cxTranslate"),c()}e&2&&(i(),_(" ",s(2,1,"common.edit")," "))}function cr(e,d){if(e&1&&(l(0,"div")(1,"div",1)(2,"label",9),m(3),o(4,"cxTranslate"),c(),l(5,"label",10),m(6),o(7,"async"),c()()()),e&2){let t,r=p();i(3),_(" ",s(4,2,"myAccountV2Email.email")," "),i(3),_(" ",(t=s(7,4,r.user$))==null?null:t.uid," ")}}function lr(e,d){if(e&1){let t=F();l(0,"cx-message",11),o(1,"cxTranslate"),y("closeMessage",function(){h(t);let a=p();return C(a.closeDialogConfirmationAlert())}),c()}if(e&2){let t=p();n("text",s(1,2,"myAccountV2Email.reloginIndicator"))("type",t.globalMessageType.MSG_TYPE_INFO)}}function dr(e,d){if(e&1&&(u(0,"cx-form-errors",24),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"updateEmailForm.newEmailAddress.label")))("control",t.form.get("email"))}}function pr(e,d){if(e&1&&u(0,"cx-form-errors",25),e&2){let t=p(2);n("control",t.form.get("email"))}}function mr(e,d){if(e&1&&(u(0,"cx-form-errors",24),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"updateEmailForm.confirmNewEmailAddress.label")))("control",t.form.get("confirmEmail"))}}function ur(e,d){if(e&1&&u(0,"cx-form-errors",25),e&2){let t=p(2);n("control",t.form.get("confirmEmail"))}}function fr(e,d){if(e&1&&(u(0,"cx-form-errors",24),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"updateEmailForm.password.label")))("control",t.form.get("password"))}}function xr(e,d){if(e&1&&u(0,"cx-form-errors",25),e&2){let t=p(2);n("control",t.form.get("password"))}}function _r(e,d){if(e&1){let t=F();l(0,"div",12)(1,"form",13),y("ngSubmit",function(){h(t);let a=p();return C(a.onSubmit())}),l(2,"label")(3,"span",9),m(4),o(5,"cxTranslate"),c(),u(6,"input",14),o(7,"async"),c(),l(8,"label")(9,"span",9),m(10),o(11,"cxTranslate"),c(),u(12,"input",15),o(13,"cxTranslate"),f(14,dr,2,6,"cx-form-errors",16)(15,pr,1,1,"cx-form-errors",17),c(),l(16,"label")(17,"span",9),m(18),o(19,"cxTranslate"),c(),u(20,"input",18),o(21,"cxTranslate"),f(22,mr,2,6,"cx-form-errors",16)(23,ur,1,1,"cx-form-errors",17),c(),l(24,"label")(25,"span",19),m(26),o(27,"cxTranslate"),c(),u(28,"input",20),o(29,"cxTranslate"),o(30,"cxTranslate"),f(31,fr,2,6,"cx-form-errors",16)(32,xr,1,1,"cx-form-errors",17),c(),l(33,"div",21)(34,"button",22),y("click",function(){h(t);let a=p();return C(a.cancelEdit())}),m(35),o(36,"cxTranslate"),c(),l(37,"button",23),y("click",function(){h(t);let a=p();return C(a.onSubmit())}),m(38),o(39,"cxTranslate"),c()()()()}if(e&2){let t,r=p();i(),n("formGroup",r.form),i(3),w(s(5,19,"myAccountV2Email.emailAddress")),i(2),n("value",(t=s(7,21,r.user$))==null?null:t.uid),i(4),w(s(11,23,"myAccountV2Email.newEmailAddress")),i(2),v("placeholder",s(13,25,"myAccountV2Email.emailPlaceHolder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(19,27,"myAccountV2Email.confirmNewEmailAddress")),i(2),v("placeholder",s(21,29,"myAccountV2Email.emailPlaceHolder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(27,31,"myAccountV2Email.password")),i(2),v("placeholder",s(29,33,"myAccountV2Email.passwordPlaceHolder")),B("aria-label",s(30,35,"myAccountV2Email.passwordPlaceHolder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_(" ",s(36,37,"common.cancel")," "),i(2),n("disabled",r.form.disabled),i(),_(" ",s(39,39,"common.save")," ")}}function gr(e,d){e&1&&u(0,"cx-spinner",13)}function vr(e,d){e&1&&(l(0,"p",14),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"formLegend.required"),`
`))}function hr(e,d){}function Cr(e,d){if(e&1&&(u(0,"cx-form-errors",15),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updatePasswordForm.oldPassword.label")))("control",t.form.get("oldPassword"))}}function yr(e,d){if(e&1&&u(0,"cx-form-errors",16),e&2){let t=p();n("control",t.form.get("oldPassword"))}}function br(e,d){}function wr(e,d){if(e&1&&(u(0,"cx-form-errors",15),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updatePasswordForm.newPassword.label")))("control",t.form.get("newPassword"))}}function Sr(e,d){if(e&1&&u(0,"cx-form-errors",16),e&2){let t=p();n("control",t.form.get("newPassword"))}}function Tr(e,d){}function Fr(e,d){if(e&1&&(u(0,"cx-form-errors",15),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updatePasswordForm.confirmPassword.label")))("control",t.form.get("newPasswordConfirm"))}}function Ar(e,d){if(e&1&&u(0,"cx-form-errors",16),e&2){let t=p();n("control",t.form.get("newPasswordConfirm"))}}function Er(e,d){if(e&1){let t=F();V(0),l(1,"button",17),y("click",function(){h(t);let a=p();return C(a.navigateTo("home"))}),m(2),o(3,"cxTranslate"),c(),D()}e&2&&(i(2),_(" ",s(3,1,"common.cancel")," "))}function Pr(e,d){e&1&&(V(0),l(1,"a",18),o(2,"cxUrl"),m(3),o(4,"cxTranslate"),c(),D()),e&2&&(i(),n("routerLink",s(2,2,re(6,nt))),i(2),w(s(4,4,"common.cancel")))}function Mr(e,d){e&1&&(l(0,"abbr",20),o(1,"cxTranslate"),m(2,"*"),c()),e&2&&v("title",s(1,1,"common.required"))}function Ir(e,d){e&1&&f(0,Mr,3,3,"abbr",19),e&2&&n("cxFeature","a11yRequiredAsterisks")}function Br(e,d){e&1&&u(0,"cx-spinner",14)}function Vr(e,d){if(e&1){let t=F();l(0,"cx-message",15),o(1,"cxTranslate"),y("closeMessage",function(){h(t);let a=p();return C(a.closeDialogConfirmationAlert())}),c()}if(e&2){let t=p();n("text",s(1,2,"myAccountV2PasswordForm.reloginIndicator"))("type",t.globalMessageType.MSG_TYPE_INFO)}}function Dr(e,d){if(e&1&&(u(0,"cx-form-errors",16),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updatePasswordForm.oldPassword.label")))("control",t.form.get("oldPassword"))}}function Nr(e,d){if(e&1&&u(0,"cx-form-errors",17),e&2){let t=p();n("control",t.form.get("oldPassword"))}}function kr(e,d){if(e&1&&(u(0,"cx-form-errors",16),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updatePasswordForm.newPassword.label")))("control",t.form.get("newPassword"))}}function $r(e,d){if(e&1&&u(0,"cx-form-errors",17),e&2){let t=p();n("control",t.form.get("newPassword"))}}function Rr(e,d){if(e&1&&(u(0,"cx-form-errors",16),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updatePasswordForm.confirmPassword.label")))("control",t.form.get("newPasswordConfirm"))}}function Ur(e,d){if(e&1&&u(0,"cx-form-errors",17),e&2){let t=p();n("control",t.form.get("newPasswordConfirm"))}}function qr(e,d){e&1&&u(0,"cx-spinner",15)}function Or(e,d){e&1&&(l(0,"p",16),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"formLegend.required"),`
`))}function Lr(e,d){if(e&1&&(l(0,"ng-option",17),m(1),c()),e&2){let t=d.$implicit;n("value",t.code),i(),w(t.name)}}function jr(e,d){}function Gr(e,d){if(e&1&&(u(0,"cx-form-errors",18),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updateProfileForm.firstName.label")))("control",t.form.get("firstName"))}}function Yr(e,d){if(e&1&&u(0,"cx-form-errors",19),e&2){let t=p();n("control",t.form.get("firstName"))}}function Hr(e,d){}function Wr(e,d){if(e&1&&(u(0,"cx-form-errors",18),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updateProfileForm.lastName.label")))("control",t.form.get("lastName"))}}function Qr(e,d){if(e&1&&u(0,"cx-form-errors",19),e&2){let t=p();n("control",t.form.get("lastName"))}}function zr(e,d){if(e&1&&(u(0,"cx-form-errors",18),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"updateProfileForm.customerId")))("control",t.form.get("customerId"))}}function Jr(e,d){if(e&1&&u(0,"cx-form-errors",19),e&2){let t=p();n("control",t.form.get("customerId"))}}function Kr(e,d){if(e&1){let t=F();V(0),l(1,"button",20),y("click",function(){h(t);let a=p();return C(a.navigateTo("home"))}),m(2),o(3,"cxTranslate"),c(),D()}e&2&&(i(2),_(" ",s(3,1,"common.cancel")," "))}function Xr(e,d){e&1&&(V(0),l(1,"a",21),o(2,"cxUrl"),m(3),o(4,"cxTranslate"),c(),D()),e&2&&(i(),n("routerLink",s(2,2,re(6,nt))),i(2),w(s(4,4,"common.cancel")))}function Zr(e,d){e&1&&(l(0,"abbr",23),o(1,"cxTranslate"),m(2,"*"),c()),e&2&&v("title",s(1,1,"common.required"))}function en(e,d){e&1&&f(0,Zr,3,3,"abbr",22),e&2&&n("cxFeature","a11yRequiredAsterisks")}function tn(e,d){e&1&&u(0,"cx-spinner",6)}function rn(e,d){if(e&1){let t=F();l(0,"button",7),y("click",function(){h(t);let a=p();return C(a.onEdit())}),m(1),o(2,"cxTranslate"),c()}e&2&&(i(),_(" ",s(2,1,"common.edit")," "))}function nn(e,d){if(e&1&&(l(0,"div")(1,"div",1)(2,"label",8),m(3),o(4,"cxTranslate"),c(),l(5,"label",9),m(6),o(7,"async"),c()(),l(8,"div",1)(9,"label",8),m(10),o(11,"cxTranslate"),c(),l(12,"label",9),m(13),o(14,"async"),o(15,"async"),c()(),l(16,"div",1)(17,"label",8),m(18),o(19,"cxTranslate"),c(),l(20,"label",9),m(21),o(22,"async"),c()()()),e&2){let t,r,a,x=p();i(3),_(" ",s(4,7,"myAccountV2UserProfile.title")," "),i(3),_(" ",(t=s(7,9,x.user$))==null?null:t.title," "),i(4),_(" ",s(11,11,"myAccountV2UserProfile.name")," "),i(3),we(" ",(r=s(14,13,x.user$))==null?null:r.firstName," ",(r=s(15,15,x.user$))==null?null:r.lastName," "),i(5),_(" ",s(19,17,"myAccountV2UserProfile.customerId")," "),i(3),_(" ",(a=s(22,19,x.user$))==null?null:a.customerId," ")}}function on(e,d){if(e&1&&(l(0,"ng-option",23),m(1),c()),e&2){let t=d.$implicit;n("value",t.code),i(),w(t.name)}}function sn(e,d){if(e&1&&(u(0,"cx-form-errors",24),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"updateProfileForm.firstName.label")))("control",t.form.get("firstName"))}}function an(e,d){if(e&1&&u(0,"cx-form-errors",25),e&2){let t=p(2);n("control",t.form.get("firstName"))}}function cn(e,d){if(e&1&&(u(0,"cx-form-errors",24),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"updateProfileForm.lastName.label")))("control",t.form.get("lastName"))}}function ln(e,d){if(e&1&&u(0,"cx-form-errors",25),e&2){let t=p(2);n("control",t.form.get("lastName"))}}function dn(e,d){if(e&1&&(u(0,"cx-form-errors",24),o(1,"cxTranslate")),e&2){let t=p(2);n("translationParams",b(4,T,s(1,2,"updateProfileForm.customerId")))("control",t.form.get("customerId"))}}function pn(e,d){if(e&1&&u(0,"cx-form-errors",25),e&2){let t=p(2);n("control",t.form.get("customerId"))}}function mn(e,d){if(e&1){let t=F();l(0,"div",10)(1,"form",11),y("ngSubmit",function(){h(t);let a=p();return C(a.onSubmit())}),l(2,"label")(3,"span",12),m(4),o(5,"cxTranslate"),c(),l(6,"ng-select",13),o(7,"cxTranslate"),f(8,on,2,2,"ng-option",14),o(9,"async"),c()(),l(10,"label")(11,"span",12),m(12),o(13,"cxTranslate"),c(),u(14,"input",15),f(15,sn,2,6,"cx-form-errors",16)(16,an,1,1,"cx-form-errors",17),c(),l(17,"label")(18,"span",12),m(19),o(20,"cxTranslate"),c(),u(21,"input",18),f(22,cn,2,6,"cx-form-errors",16)(23,ln,1,1,"cx-form-errors",17),c(),l(24,"label")(25,"span",12),m(26),o(27,"cxTranslate"),c(),u(28,"input",19),f(29,dn,2,6,"cx-form-errors",16)(30,pn,1,1,"cx-form-errors",17),c()(),l(31,"div",20)(32,"button",21),y("click",function(){h(t);let a=p();return C(a.cancelEdit())}),m(33),o(34,"cxTranslate"),c(),l(35,"button",22),y("click",function(){h(t);let a=p();return C(a.onSubmit())}),m(36),o(37,"cxTranslate"),c()()()}if(e&2){let t=p();i(),n("formGroup",t.form),i(3),w(s(5,18,"myAccountV2UserProfile.title")),i(2),n("clearable",!1)("searchable",!1)("cxNgSelectA11y",b(34,De,s(7,20,"myAccountV2UserProfile.title"))),i(2),n("ngForOf",s(9,22,t.titles$)),i(4),w(s(13,24,"myAccountV2UserProfile.firstName")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(20,26,"myAccountV2UserProfile.lastName")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(27,28,"myAccountV2UserProfile.customerId")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_(" ",s(34,30,"common.cancel")," "),i(2),n("disabled",t.form.disabled),i(),_(" ",s(37,32,"common.save")," ")}}var un=["submit"],zt=()=>({required:"true"});function fn(e,d){e&1&&(l(0,"p",29),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"formLegend.required"),`
`))}function xn(e,d){}function _n(e,d){if(e&1&&(u(0,"cx-form-errors",31),o(1,"cxTranslate")),e&2){let t=p(3);n("translationParams",b(4,T,s(1,2,"addressForm.country")))("control",t.addressForm.get("country.isocode"))}}function gn(e,d){if(e&1&&u(0,"cx-form-errors",32),e&2){let t=p(3);n("control",t.addressForm.get("country.isocode"))}}function vn(e,d){if(e&1){let t=F();l(0,"div")(1,"label")(2,"span",8),m(3),o(4,"cxTranslate"),f(5,xn,0,0,"ng-template",9),c(),l(6,"ng-select",30),o(7,"cxTranslate"),o(8,"cxTranslate"),y("change",function(a){h(t);let x=p(2);return C(x.countrySelected(a))}),c(),f(9,_n,2,6,"cx-form-errors",11)(10,gn,1,1,"cx-form-errors",12),c()()}if(e&2){let t=p().ngIf;p();let r=J(92);i(3),_("",s(4,10,"addressForm.country")," "),i(2),n("ngTemplateOutlet",r),i(),v("placeholder",s(7,12,"addressForm.selectOne")),n("inputAttrs",re(16,zt))("searchable",!0)("clearable",!1)("items",t)("cxNgSelectA11y",b(17,De,s(8,14,"addressForm.country"))),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages")}}function hn(e,d){if(e&1&&(V(0),f(1,vn,11,19,"div",5),D()),e&2){let t=d.ngIf;i(),n("ngIf",t.length!==0)}}function Cn(e,d){if(e&1&&(l(0,"div")(1,"label")(2,"span",8),m(3),o(4,"cxTranslate"),c(),u(5,"ng-select",33),o(6,"cxTranslate"),o(7,"cxTranslate"),c()()),e&2){let t=p().ngIf;i(3),w(s(4,6,"addressForm.titleOptional")),i(2),n("searchable",!0)("clearable",!1)("items",t)("placeholder",s(6,8,"addressForm.title"))("cxNgSelectA11y",b(12,De,s(7,10,"addressForm.title")))}}function yn(e,d){if(e&1&&(V(0),f(1,Cn,8,14,"div",5),D()),e&2){let t=d.ngIf;i(),n("ngIf",t.length!==0)}}function bn(e,d){if(e&1&&(l(0,"div",7),f(1,yn,2,1,"ng-container",5),o(2,"async"),c()),e&2){let t=p();i(),n("ngIf",s(2,1,t.titles$))}}function wn(e,d){}function Sn(e,d){if(e&1&&(u(0,"cx-form-errors",31),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"addressForm.firstName.label")))("control",t.addressForm.get("firstName"))}}function Tn(e,d){if(e&1&&u(0,"cx-form-errors",32),e&2){let t=p();n("control",t.addressForm.get("firstName"))}}function Fn(e,d){}function An(e,d){if(e&1&&(u(0,"cx-form-errors",31),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"addressForm.lastName.label")))("control",t.addressForm.get("lastName"))}}function En(e,d){if(e&1&&u(0,"cx-form-errors",32),e&2){let t=p();n("control",t.addressForm.get("lastName"))}}function Pn(e,d){}function Mn(e,d){if(e&1&&(u(0,"cx-form-errors",31),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"addressForm.address1")))("control",t.addressForm.get("line1"))}}function In(e,d){if(e&1&&u(0,"cx-form-errors",32),e&2){let t=p();n("control",t.addressForm.get("line1"))}}function Bn(e,d){}function Vn(e,d){if(e&1&&(u(0,"cx-form-errors",31),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"addressForm.city.label")))("control",t.addressForm.get("town"))}}function Dn(e,d){if(e&1&&u(0,"cx-form-errors",32),e&2){let t=p();n("control",t.addressForm.get("town"))}}function Nn(e,d){}function kn(e,d){if(e&1&&(u(0,"cx-form-errors",31),o(1,"cxTranslate")),e&2){let t=p();n("translationParams",b(4,T,s(1,2,"addressForm.zipCode.label")))("control",t.addressForm.get("postalCode"))}}function $n(e,d){if(e&1&&u(0,"cx-form-errors",32),e&2){let t=p();n("control",t.addressForm.get("postalCode"))}}function Rn(e,d){}function Un(e,d){if(e&1&&(V(0),l(1,"div",22)(2,"label")(3,"span",8),m(4),o(5,"cxTranslate"),f(6,Rn,0,0,"ng-template",9),c(),u(7,"ng-select",35),o(8,"cxTranslate"),o(9,"cxTranslate"),u(10,"cx-form-errors",32),c()(),D()),e&2){let t=p().ngIf,r=p(),a=J(92);i(4),_("",s(5,11,"addressForm.state")," "),i(2),n("ngTemplateOutlet",a),i(),v("bindLabel",t[0].name?"name":"isocode"),v("bindValue",t[0].name?"isocode":"region"),v("placeholder",s(8,13,"addressForm.selectOne")),n("inputAttrs",re(17,zt))("searchable",!0)("clearable",!1)("items",t)("cxNgSelectA11y",b(18,De,s(9,15,"addressForm.state"))),i(3),n("control",r.addressForm.get("region.isocode"))}}function qn(e,d){if(e&1&&(V(0,34),f(1,Un,11,20,"ng-container",5),D()),e&2){let t=d.ngIf;i(),n("ngIf",t.length!==0)}}function On(e,d){if(e&1){let t=F();l(0,"div",7)(1,"div",36)(2,"label")(3,"input",37),y("change",function(){h(t);let a=p();return C(a.toggleDefaultAddress())}),c(),l(4,"span",38),m(5),o(6,"cxTranslate"),c()()()()}e&2&&(i(5),w(s(6,1,"addressForm.setAsDefault")))}function Ln(e,d){if(e&1){let t=F();l(0,"div",27)(1,"button",39),y("click",function(){h(t);let a=p();return C(a.back())}),m(2),o(3,"cxTranslate"),c()()}if(e&2){let t=p();i(2),_(" ",t.cancelBtnLabel||s(3,1,"addressForm.chooseAddress")," ")}}function jn(e,d){e&1&&(l(0,"abbr",41),o(1,"cxTranslate"),m(2,"*"),c()),e&2&&v("title",s(1,1,"common.required"))}function Gn(e,d){e&1&&f(0,jn,3,3,"abbr",40),e&2&&n("cxFeature","a11yRequiredAsterisks")}function Yn(e,d){e&1&&(u(0,"div",10),o(1,"cxTranslate")),e&2&&B("aria-label",s(1,1,"common.loaded"))}function Hn(e,d){if(e&1){let t=F();l(0,"div",11)(1,"cx-card",12),o(2,"async"),y("editCard",function(){let a=h(t).$implicit,x=p(3);return C(x.editAddressButtonHandle(a))})("setDefaultCard",function(){let a=h(t).$implicit,x=p(3);return C(x.setAddressAsDefault(a))})("deleteCard",function(){let a,x=h(t).$implicit,g=p(3);return C(g.setEdit((a=x.id)!==null&&a!==void 0?a:""))})("cancelCard",function(){h(t);let a=p(3);return C(a.cancelCard())}),c()()}if(e&2){let t=d.$implicit,r=d.index,a=p(3);i(),n("index",r)("border",!0)("fitToContainer",!0)("content",s(2,5,a.getCardContent(t)))("editMode",t.id===a.editCard)}}function Wn(e,d){if(e&1&&(l(0,"div",7),f(1,Yn,2,3,"div",8)(2,Hn,3,7,"div",9),o(3,"async"),c()),e&2){let t=p(2);i(),n("cxFeature","!a11yRemoveStatusLoadedRole"),i(),n("ngForOf",s(3,2,t.addresses$))}}function Qn(e,d){if(e&1){let t=F();V(0),l(1,"div",3)(2,"div",4)(3,"button",5),y("click",function(){h(t);let a=p();return C(a.addAddressButtonHandle())}),m(4),o(5,"cxTranslate"),c()()(),f(6,Wn,4,4,"div",6),o(7,"async"),D()}if(e&2){let t=p(),r=J(7);i(4),_(" ",s(5,3,"addressBook.addNewAddress")," "),i(2),n("ngIf",!s(7,5,t.addressesStateLoading$))("ngIfElse",r)}}function zn(e,d){if(e&1){let t=F();V(0),l(1,"section")(2,"h2",13),m(3),o(4,"cxTranslate"),c(),l(5,"cx-address-form",14),o(6,"cxTranslate"),o(7,"cxTranslate"),o(8,"async"),o(9,"async"),y("submitAddress",function(a){h(t);let x=p();return C(x.addAddressSubmit(a))})("backToAddress",function(){h(t);let a=p();return C(a.addAddressCancel())})("cancelCard",function(){h(t);let a=p();return C(a.cancelCard())}),c()(),D()}if(e&2){let t,r,a=p();i(3),_(" ",s(4,6,"addressBook.addNewDeliveryAddress")," "),i(2),v("actionBtnLabel",s(6,8,"addressBook.addAddress")),v("cancelBtnLabel",s(7,10,"addressBook.backToAddressList")),n("showTitleCode",!0)("showCancelBtn",((t=s(8,12,a.addresses$))==null?null:t.length)!==0)("setAsDefaultField",((r=s(9,14,a.addresses$))==null?null:r.length)!==0)}}function Jn(e,d){if(e&1){let t=F();V(0),l(1,"section")(2,"h2",13),m(3),o(4,"cxTranslate"),c(),l(5,"cx-address-form",15),o(6,"cxTranslate"),o(7,"cxTranslate"),y("submitAddress",function(a){h(t);let x=p();return C(x.editAddressSubmit(a))})("backToAddress",function(){h(t);let a=p();return C(a.editAddressCancel())}),c()(),D()}if(e&2){let t=p();i(3),_(" ",s(4,5,"addressBook.editDeliveryAddress")," "),i(2),v("actionBtnLabel",s(6,7,"addressBook.updateAddress")),v("cancelBtnLabel",s(7,9,"addressBook.backToAddressList")),n("showTitleCode",!0)("addressData",t.currentAddress)}}function Kn(e,d){e&1&&(l(0,"div",16),u(1,"cx-spinner"),c())}function Xn(e,d){e&1&&(l(0,"h3",23),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"addressSuggestion.verifyYourAddress")," "))}function Zn(e,d){e&1&&(l(0,"div",23),m(1),o(2,"cxTranslate"),c()),e&2&&(i(),_(" ",s(2,1,"addressSuggestion.verifyYourAddress")," "))}function eo(e,d){if(e&1){let t=F();l(0,"div",12)(1,"input",24),Fe("ngModelChange",function(a){h(t);let x=p(2);return Te(x.selectedAddress,a)||(x.selectedAddress=a),C(a)}),c(),l(2,"label",25),m(3),o(4,"cxTranslate"),c(),l(5,"div",26)(6,"div",16)(7,"div",17),m(8),c(),l(9,"div",17),m(10),c(),l(11,"div",17),m(12),c(),l(13,"div",17)(14,"span"),m(15),c()(),l(16,"div",17),m(17),c(),l(18,"div",17),m(19),c(),l(20,"div",17),m(21),c()()()()}if(e&2){let t=d.$implicit,r=d.index,a=p().ngIf,x=p();i(),Se("ngModel",x.selectedAddress),n("value",t)("id","suggested-addresses--suggested-"+r),i(),n("for","suggested-addresses--suggested-"+r),i(),we(" ",s(4,13,"addressSuggestion.suggestedAddress")," ",a.suggestedAddresses.length>1?r+1:null," "),i(5),w(t==null?null:t.firstName),i(2),w(t==null?null:t.lastName),i(2),w(t==null?null:t.line1),i(3),w(t==null?null:t.line2),i(2),w(t==null?null:t.town),i(2),_(" ",t==null||t.region==null?null:t.region.isocode," "),i(2),_(" ",t==null?null:t.postalCode," ")}}function to(e,d){if(e&1){let t=F();l(0,"div",2)(1,"div",3),f(2,Xn,3,3,"h3",4)(3,Zn,3,3,"div",4),l(4,"button",5),o(5,"cxTranslate"),o(6,"cxTranslate"),y("click",function(){h(t);let a=p();return C(a.closeModal("Cross click"))}),l(7,"span",6),u(8,"cx-icon",7),c()()(),l(9,"div",8)(10,"div",9)(11,"p"),m(12),o(13,"cxTranslate"),o(14,"cxTranslate"),c()(),l(15,"div",10),f(16,eo,22,15,"div",11),l(17,"div",12)(18,"input",13),Fe("ngModelChange",function(a){h(t);let x=p();return Te(x.selectedAddress,a)||(x.selectedAddress=a),C(a)}),c(),l(19,"label",14),m(20),o(21,"cxTranslate"),c(),l(22,"div",15)(23,"div",16)(24,"div",17),m(25),c(),l(26,"div",17),m(27),c(),l(28,"div",17)(29,"span"),m(30),c()(),l(31,"div",17),m(32),c(),l(33,"div",17),m(34),c()()()()()(),l(35,"div",18)(36,"div",19)(37,"div",20)(38,"button",21),y("click",function(){h(t);let a=p();return C(a.closeModal("Edit address"))}),m(39),o(40,"cxTranslate"),c(),l(41,"button",22),y("click",function(){h(t);let a=p();return C(a.closeModal(a.selectedAddress))}),m(42),o(43,"cxTranslate"),c()()()()()}if(e&2){let t=d.ngIf,r=p();i(2),n("cxFeature","a11yDialogsHeading"),i(),n("cxFeature","!a11yDialogsHeading"),i(),v("title",s(5,20,"common.close")),B("aria-label",s(6,22,"common.close")),i(4),n("type",r.iconTypes.CLOSE),i(4),we(" ",s(13,24,"addressSuggestion.ensureAccuracySuggestChange")," ",s(14,26,"addressSuggestion.chooseAddressToUse")," "),i(4),n("ngForOf",t.suggestedAddresses),i(2),Se("ngModel",r.selectedAddress),n("value",t.enteredAddress),i(2),_(" ",s(21,28,"addressSuggestion.enteredAddress")," "),i(5),we(" ",t.enteredAddress==null?null:t.enteredAddress.firstName," ",t.enteredAddress==null?null:t.enteredAddress.lastName," "),i(2),w(t.enteredAddress==null?null:t.enteredAddress.line1),i(3),w(t.enteredAddress==null?null:t.enteredAddress.line2),i(2),we(" ",t.enteredAddress==null?null:t.enteredAddress.town," ",t.enteredAddress==null||t.enteredAddress.region==null?null:t.enteredAddress.region.isocode," "),i(2),_(" ",t.enteredAddress==null?null:t.enteredAddress.postalCode," "),i(5),_(" ",s(40,30,"addressSuggestion.editAddress")," "),i(3),_(" ",s(43,32,"addressSuggestion.saveAddress")," ")}}var io=(()=>{class e{handleClick(t){t.target.tagName===this.el.nativeElement.tagName&&this.dismissModal("Cross click")}constructor(t,r,a,x,g,L,Ne){this.authService=t,this.globalMessageService=r,this.routingService=a,this.translationService=x,this.userProfile=g,this.launchDialogService=L,this.el=Ne,this.iconTypes=yt,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0},this.loading$=new ae(!1)}get isLoading$(){return this.loading$.asObservable()}ngOnInit(){this.isLoggedIn$=this.authService.isUserLoggedIn()}onSuccess(){this.dismissModal("Success"),this.translationService.translate("closeAccount.accountClosedSuccessfully").pipe(at()).subscribe(t=>{this.globalMessageService.add(t,M.MSG_TYPE_CONFIRMATION)}),this.authService.coreLogout().then(()=>{this.routingService.go({cxRoute:"home"})})}onError(){this.dismissModal("Error"),this.translationService.translate("closeAccount.accountClosedFailure").pipe(at()).subscribe(t=>{this.globalMessageService.add(t,M.MSG_TYPE_ERROR)})}dismissModal(t){this.launchDialogService.closeDialog(t)}closeAccount(){this.loading$.next(!0),this.userProfile.close().subscribe({next:()=>{this.onSuccess(),this.loading$.next(!1)},error:()=>{this.onError(),this.loading$.next(!1)}})}static{this.\u0275fac=function(r){return new(r||e)(S(ge),S(I),S(k),S(Je),S(ye),S(qe),S(lt))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-close-account-modal"]],hostBindings:function(r,a){r&1&&y("click",function(g){return a.handleClick(g)})},decls:2,vars:3,consts:[["loaded",""],[4,"ngIf"],[1,"cx-close-account-modal",3,"esc","cxFocus"],[1,"cx-close-account-modal-container"],[1,"cx-close-account-modal-header","cx-modal-header"],[1,"cx-close-account-modal-title"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],[4,"ngIf","ngIfElse"],[1,"cx-spinner"],[1,"cx-close-account-modal-body","modal-body"],[1,"cx-confirmation"],[1,"cx-close-account-modal-footer","cx-modal-footer"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-block","btn-secondary",3,"click"]],template:function(r,a){r&1&&(f(0,ti,16,15,"ng-container",1),o(1,"async")),r&2&&n("ngIf",s(1,1,a.isLoggedIn$))},dependencies:[q,bt,W,vt,O,R],encapsulation:2,changeDetection:0})}}return e})(),ro={launch:{CLOSE_ACCOUNT:{inline:!0,component:io,dialogType:Ct.DIALOG}}},no=(()=>{class e{constructor(t,r){this.launchDialogService=t,this.vcr=r,this.routingService=N(k,{optional:!0})}openModal(){this.launchDialogService.openDialog("CLOSE_ACCOUNT",this.element,this.vcr)?.pipe(Ye(1)).subscribe()}navigateTo(t){this.routingService?.go({cxRoute:t})}static{this.\u0275fac=function(r){return new(r||e)(S(qe),S(Vt))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-close-account"]],viewQuery:function(r,a){if(r&1&&pt(ii,5),r&2){let x;mt(x=ut())&&(a.element=x.first)}},decls:10,vars:5,consts:[["element",""],[1,"col-lg-8","col-md-9"],[1,"row","cx-btn-group"],[1,"col-sm-6"],[4,"cxFeature"],[1,"btn","btn-block","btn-primary",3,"click"],[1,"btn","btn-block","btn-secondary",3,"click"],["role","button",1,"btn","btn-block","btn-secondary",3,"routerLink"]],template:function(r,a){if(r&1){let x=F();l(0,"div",1)(1,"div",2)(2,"div",3),f(3,ri,4,3,"ng-container",4)(4,ni,5,7,"ng-container",4),c(),l(5,"div",3)(6,"button",5,0),y("click",function(){return h(x),C(a.openModal())}),m(8),o(9,"cxTranslate"),c()()()()}r&2&&(i(3),n("cxFeature","a11yUseButtonsForBtnLinks"),i(),n("cxFeature","!a11yUseButtonsForBtnLinks"),i(4),_(" ",s(9,3,"closeAccount.closeMyAccount")," "))},dependencies:[_e,j,ve,R],encapsulation:2,changeDetection:0})}}return e})(),oo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{CloseAccountComponent:{component:no,guards:[Me]}}}),K(ro)],imports:[ne,de,he,se,wt,pe,ht,oe]})}}return e})(),At=(()=>{class e{constructor(t,r,a,x){this.userPasswordService=t,this.routingService=r,this.authConfigService=a,this.globalMessage=x,this.busy$=new ae(!1),this.isUpdating$=this.busy$.pipe(ce(g=>g===!0?this.form.disable():this.form.enable())),this.form=new Ie({userEmail:new U("",[A.required,P.emailValidator])})}requestEmail(){if(!this.form.valid){this.form.markAllAsTouched();return}this.busy$.next(!0),this.userPasswordService.requestForgotPasswordEmail(this.form.value.userEmail).subscribe({next:()=>this.onSuccess(),error:t=>this.onError(t)})}onSuccess(){this.globalMessage.add({key:"forgottenPassword.passwordResetEmailSent"},M.MSG_TYPE_CONFIRMATION),this.busy$.next(!1),this.form.reset(),this.redirect()}onError(t){this.busy$.next(!1)}redirect(){this.authConfigService.getOAuthFlow()===xt.ResourceOwnerPasswordFlow&&this.routingService.go({cxRoute:"login"})}static{this.\u0275fac=function(r){return new(r||e)(E(xe),E(k),E($e),E(I))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac})}}return e})(),so=(()=>{class e{constructor(t){this.service=t,this.routingService=N(k,{optional:!0}),this.form=this.service.form,this.isUpdating$=this.service.isUpdating$}onSubmit(){this.service.requestEmail()}navigateTo(t){this.routingService?.go({cxRoute:t})}static{this.\u0275fac=function(r){return new(r||e)(S(At))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-forgot-password"]],decls:18,vars:20,consts:[["class","overlay",4,"ngIf"],["class","form-legend",4,"cxFeature"],[3,"ngSubmit","formGroup"],[1,"label-content"],["aria-hidden","true","class","text-decoration-none",3,"title",4,"cxFeature"],["required","true","type","email","formControlName","userEmail",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],[4,"cxFeature"],[1,"btn","btn-block","btn-primary",3,"disabled"],[1,"overlay"],[1,"form-legend"],["aria-hidden","true",1,"text-decoration-none",3,"title"],[3,"translationParams","control"],[3,"control"],[1,"btn","btn-block","btn-secondary",3,"click"],["role","button",1,"btn","btn-block","btn-secondary",3,"routerLink"]],template:function(r,a){r&1&&(f(0,oi,1,0,"cx-spinner",0),o(1,"async"),f(2,si,3,3,"p",1),l(3,"form",2),y("ngSubmit",function(){return a.onSubmit()}),l(4,"label")(5,"span",3),m(6),o(7,"cxTranslate"),f(8,ai,3,3,"abbr",4),c(),u(9,"input",5),o(10,"cxTranslate"),f(11,ci,2,6,"cx-form-errors",6)(12,li,1,1,"cx-form-errors",7),c(),f(13,di,4,3,"ng-container",8)(14,pi,5,7,"ng-container",8),l(15,"button",9),m(16),o(17,"cxTranslate"),c()()),r&2&&(n("ngIf",s(1,12,a.isUpdating$)),i(2),n("cxFeature","a11yRequiredAsterisks"),i(),n("formGroup",a.form),i(3),_("",s(7,14,"forgottenPassword.emailAddress.label")," "),i(2),n("cxFeature","a11yRequiredAsterisks"),i(),v("placeholder",s(10,16,"forgottenPassword.emailAddress.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(),n("cxFeature","a11yUseButtonsForBtnLinks"),i(),n("cxFeature","!a11yUseButtonsForBtnLinks"),i(),n("disabled",a.form.disabled),i(),_(" ",s(17,18,"common.submit")," "))},dependencies:[q,X,G,Y,H,te,Z,ee,_e,ie,W,j,O,ve,R],encapsulation:2,changeDetection:0})}}return e})(),ao=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{ForgotPasswordComponent:{component:so,guards:[Qe],providers:[{provide:At,useClass:At,deps:[xe,k,$e,I]}]}}})],imports:[ne,ue,de,he,se,fe,pe,oe]})}}return e})(),Et=(()=>{class e{constructor(t,r,a){this.userRegisterFacade=t,this.globalMessageService=r,this.fb=a}register(t){return this.userRegisterFacade.register(t)}getTitles(){return this.userRegisterFacade.getTitles()}postRegisterMessage(){this.globalMessageService.add({key:"register.postRegisterMessage"},M.MSG_TYPE_CONFIRMATION)}getAdditionalConsents(){return[]}generateAdditionalConsentsFormControl(){return this.fb?.array([])??void 0}static{this.\u0275fac=function(r){return new(r||e)(E(et),E(I),E(Be))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac})}}return e})(),co=(()=>{class e{get additionalConsents(){return this.registerForm?.get("additionalConsents")}updateAdditionalConsents(t,r){let{checked:a}=t.target;this.registerForm.value.additionalConsents[r]=a}constructor(t,r,a,x,g,L,Ne){this.globalMessageService=t,this.fb=r,this.router=a,this.anonymousConsentsService=x,this.anonymousConsentsConfig=g,this.authConfigService=L,this.registerComponentService=Ne,this.featureConfigService=N(ze),this.passwordValidators=this.featureConfigService?.isEnabled("formErrorsDescriptiveMessages")?this.featureConfigService.isEnabled("enableConsecutiveCharactersPasswordRequirement")?[...P.passwordValidators,P.noConsecutiveCharacters]:P.passwordValidators:[this.featureConfigService.isEnabled("enableConsecutiveCharactersPasswordRequirement")?P.strongPasswordValidator:P.passwordValidator],this.isLoading$=new ae(!1),this.subscription=new ot,this.registerForm=this.fb.group({titleCode:[null],firstName:["",A.required],lastName:["",A.required],email:["",[A.required,P.emailValidator]],password:["",[A.required,...this.passwordValidators]],passwordconf:["",A.required],newsletter:new U({value:!1,disabled:this.isConsentRequired()}),additionalConsents:this.registerComponentService.generateAdditionalConsentsFormControl?.()??this.fb.array([]),termsandconditions:[!1,A.requiredTrue],captcha:[!1,A.requiredTrue]},{validators:P.passwordsMustMatch("password","passwordconf")})}ngOnInit(){this.titles$=this.registerComponentService.getTitles().pipe(be(r=>r.sort(Ft))),this.subscription.add(this.globalMessageService.get().pipe(ke(r=>!!Object.keys(r).length)).subscribe(r=>{let a=r&&r[M.MSG_TYPE_ERROR];a&&a.some(x=>x.raw==="This field is required.")&&(this.globalMessageService.remove(M.MSG_TYPE_ERROR),this.globalMessageService.add({key:"register.titleRequired"},M.MSG_TYPE_ERROR))}));let t=this.anonymousConsentsConfig?.anonymousConsents?.registerConsent??"";this.anonymousConsent$=Ge([this.anonymousConsentsService.getConsent(t),this.anonymousConsentsService.getTemplate(t)]).pipe(be(([r,a])=>({consent:r,template:a?.description?a.description:""}))),this.additionalRegistrationConsents=this.registerComponentService?.getAdditionalConsents()||[],this.subscription.add(this.registerForm.get("newsletter").valueChanges.subscribe(()=>{this.toggleAnonymousConsent()}))}submitForm(){this.registerForm.valid?this.registerUser():this.registerForm.markAllAsTouched()}registerUser(){this.isLoading$.next(!0),this.registerComponentService.register(this.collectDataFromRegisterForm(this.registerForm.value)).subscribe({next:()=>this.onRegisterUserSuccess(),complete:()=>this.isLoading$.next(!1),error:()=>this.isLoading$.next(!1)})}titleSelected(t){this.registerForm.controls.titleCode.setValue(t.code)}collectDataFromRegisterForm(t){let{firstName:r,lastName:a,email:x,password:g,titleCode:L}=t;return{firstName:r,lastName:a,uid:x.toLowerCase(),password:g,titleCode:L}}isConsentGiven(t){return this.anonymousConsentsService.isConsentGiven(t)}isConsentRequired(){let t=this.anonymousConsentsConfig?.anonymousConsents?.requiredConsents,r=this.anonymousConsentsConfig?.anonymousConsents?.registerConsent;return t&&r?t.includes(r):!1}onRegisterUserSuccess(){this.authConfigService.getOAuthFlow()===xt.ResourceOwnerPasswordFlow&&this.router.go("login"),this.registerComponentService.postRegisterMessage()}toggleAnonymousConsent(){let t=this.anonymousConsentsConfig?.anonymousConsents?.registerConsent;t&&(this.registerForm.get("newsletter").value?this.anonymousConsentsService.giveConsent(t):this.anonymousConsentsService.withdrawConsent(t))}captchaConfirmed(){this.registerForm.get("captcha")?.setValue(!0)}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(S(I),S(Be),S(k),S(Dt),S(Nt),S($e),S(Et))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-register"]],decls:6,vars:4,consts:[["requiredAsterisk",""],["loading",""],["class","cx-page-section container",4,"ngIf","ngIfElse"],[1,"cx-page-section","container"],["role","status",4,"cxFeature"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"cx-section"],["class","form-legend",4,"cxFeature"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"label-content"],["bindLabel","name","bindValue","code","formControlName","titleCode","id","title-select",3,"clearable","items","placeholder","searchable","cxNgSelectA11y"],[3,"ngTemplateOutlet"],["required","true","type","text","name","firstname","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","text","name","lastname","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],["required","true","type","password","name","password","formControlName","password","aria-describedby","password-input-hint","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],["id","password-input-hint",1,"input-hint"],["required","true","type","password","name","confirmpassword","formControlName","passwordconf","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[1,"form-check"],[4,"ngIf"],["formArrayName","additionalConsents","class","form-group",4,"ngIf"],["required","true","type","checkbox","name","termsandconditions","formControlName","termsandconditions"],[1,"form-check-label"],["target","_blank","rel","noopener noreferrer",3,"routerLink"],[3,"confirmed"],[3,"control"],["type","submit",1,"btn","btn-block","btn-primary"],[1,"cx-login-link","btn-link",3,"routerLink"],["role","status"],[1,"form-legend"],[3,"translationParams","control"],["type","checkbox","name","newsletter","formControlName","newsletter",1,"form-check-input",3,"checked"],["formArrayName","additionalConsents",1,"form-group"],["class","form-check",4,"ngFor","ngForOf"],["type","checkbox",3,"change","required","name","formControlName"],["aria-hidden","true","class","text-decoration-none",3,"title",4,"cxFeature"],["aria-hidden","true",1,"text-decoration-none",3,"title"],[1,"cx-spinner"]],template:function(r,a){if(r&1&&(f(0,$i,99,101,"section",2),o(1,"async"),f(2,Ui,1,1,"ng-template",null,0,le)(4,qi,2,0,"ng-template",null,1,le)),r&2){let x=J(5);n("ngIf",!s(1,2,a.isLoading$))("ngIfElse",x)}},dependencies:[Yt,Ae,q,Ee,X,G,_t,Y,H,te,Lt,Z,ee,Ot,_e,W,ie,Ue,Le,Ce,j,O,ve,R],encapsulation:2})}}return e})(),lo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{RegisterCustomerComponent:{component:co,guards:[Qe],providers:[{provide:Et,useClass:Et,deps:[et,I,Be]}]}}})],imports:[Ht,ne,ue,de,he,se,pe,fe,Ke,Xe,Oe,oe]})}}return e})(),Pt=(()=>{class e{constructor(t,r,a){this.userPasswordService=t,this.routingService=r,this.globalMessage=a,this.featureConfigService=N(ze),this.passwordValidators=this.featureConfigService?.isEnabled("formErrorsDescriptiveMessages")?this.featureConfigService.isEnabled("enableConsecutiveCharactersPasswordRequirement")?[...P.passwordValidators,P.noConsecutiveCharacters]:P.passwordValidators:[this.featureConfigService.isEnabled("enableConsecutiveCharactersPasswordRequirement")?P.strongPasswordValidator:P.passwordValidator],this.busy$=new ae(!1),this.isUpdating$=this.busy$.pipe(ce(x=>x===!0?this.form.disable():this.form.enable())),this.resetToken$=this.routingService.getRouterState().pipe(be(x=>x.state.queryParams.token)),this.form=new Ie({password:new U("",[A.required,...this.passwordValidators]),passwordConfirm:new U("",A.required)},{validators:P.passwordsMustMatch("password","passwordConfirm")})}resetPassword(t){if(!this.form.valid){this.form.markAllAsTouched();return}this.busy$.next(!0);let r=this.form.get("password").value;this.userPasswordService.reset(t,r).subscribe({next:()=>this.onSuccess(),error:a=>this.onError(a)})}onSuccess(){this.globalMessage.add({key:"forgottenPassword.passwordResetSuccess"},M.MSG_TYPE_CONFIRMATION),this.busy$.next(!1),this.form.reset(),this.redirect()}onError(t){this.busy$.next(!1),t instanceof ft&&(t.details??[]).forEach(r=>{r.message&&this.globalMessage.add({raw:r.message},M.MSG_TYPE_ERROR)})}redirect(){this.routingService.go({cxRoute:"login"})}static{this.\u0275fac=function(r){return new(r||e)(E(xe),E(k),E(I))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac})}}return e})(),po=(()=>{class e{constructor(t){this.service=t,this.form=this.service.form,this.isUpdating$=this.service.isUpdating$,this.token$=this.service.resetToken$}onSubmit(t){this.service.resetPassword(t)}static{this.\u0275fac=function(r){return new(r||e)(S(Pt))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-reset-password"]],hostAttrs:[1,"user-form"],decls:4,vars:6,consts:[["class","overlay",4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[1,"overlay"],[3,"ngSubmit","formGroup"],[1,"label-content"],["required","true","type","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","password","formControlName","passwordConfirm","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[1,"btn","btn-block","btn-primary",3,"disabled"],[3,"translationParams","control"],[3,"control"]],template:function(r,a){r&1&&(f(0,Oi,1,0,"cx-spinner",0),o(1,"async"),f(2,Hi,22,27,"form",1),o(3,"async")),r&2&&(n("ngIf",s(1,2,a.isUpdating$)),i(2),n("ngIf",s(3,4,a.token$)))},dependencies:[q,X,G,Y,H,te,Z,ee,ie,W,Ce,j,O,R],encapsulation:2,changeDetection:0})}}return e})(),mo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{ResetPasswordComponent:{component:po,guards:[Qe],providers:[{provide:Pt,useClass:Pt,deps:[xe,k,I]}]}}})],imports:[ne,Ve,ue,de,se,fe,pe,Oe,oe]})}}return e})(),tt=(()=>{class e{constructor(t,r,a,x,g){this.userEmail=t,this.routingService=r,this.globalMessageService=a,this.authService=x,this.authRedirectService=g,this.busy$=new ae(!1),this.updateSucceed$=new st,this.isUpdating$=this.busy$.pipe(ce(L=>L===!0?this.form.disable():this.form.enable())),this.form=new Ie({email:new U("",[A.required,P.emailValidator]),confirmEmail:new U("",[A.required]),password:new U("",[A.required])},{validators:P.emailsMustMatch("email","confirmEmail")})}save(){if(!this.form.valid){this.form.markAllAsTouched();return}this.busy$.next(!0);let t=this.form.get("confirmEmail")?.value,r=this.form.get("password")?.value;this.userEmail.update(r,t).subscribe({next:()=>this.onSuccess(t),error:a=>this.onError(a)})}onSuccess(t){this.globalMessageService.add({key:"updateEmailForm.emailUpdateSuccess",params:{newUid:t}},M.MSG_TYPE_CONFIRMATION),this.busy$.next(!1),this.form.reset(),this.updateSucceed$.next(!0),this.authRedirectService.setRedirectUrl(this.routingService.getUrl({cxRoute:"home"})),this.authService.coreLogout().then(()=>{this.routingService.go({cxRoute:"login"},{state:{newUid:t}})})}onError(t){this.busy$.next(!1),this.updateSucceed$.next(!1)}static{this.\u0275fac=function(r){return new(r||e)(E(Ze),E(k),E(I),E(ge),E(Pe))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac})}}return e})(),uo=(()=>{class e{constructor(t){this.service=t,this.form=this.service.form,this.isUpdating$=this.service.isUpdating$}onSubmit(){this.service.save()}static{this.\u0275fac=function(r){return new(r||e)(S(tt))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-update-email"]],hostAttrs:[1,"user-form"],decls:41,vars:46,consts:[["requiredAsterisk",""],["class","overlay",4,"ngIf"],["class","form-legend",4,"cxFeature"],[3,"ngSubmit","formGroup"],[1,"label-content"],[3,"ngTemplateOutlet"],["required","true","type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","email","name","confirmEmail","formControlName","confirmEmail",1,"form-control",3,"placeholder"],["required","true","type","password","name","password","formControlName","password","autocomplete","new-password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],["role","button",1,"btn","btn-block","btn-secondary",3,"routerLink"],[1,"btn","btn-block","btn-primary",3,"disabled"],[1,"overlay"],[1,"form-legend"],[3,"translationParams","control"],[3,"control"],["aria-hidden","true","class","text-decoration-none",3,"title",4,"cxFeature"],["aria-hidden","true",1,"text-decoration-none",3,"title"]],template:function(r,a){if(r&1){let x=F();f(0,Wi,1,0,"cx-spinner",1),o(1,"async"),f(2,Qi,3,3,"p",2),l(3,"form",3),y("ngSubmit",function(){return h(x),C(a.onSubmit())}),l(4,"label")(5,"span",4),m(6),o(7,"cxTranslate"),f(8,zi,0,0,"ng-template",5),c(),u(9,"input",6),o(10,"cxTranslate"),f(11,Ji,2,6,"cx-form-errors",7)(12,Ki,1,1,"cx-form-errors",8),c(),l(13,"label")(14,"span",4),m(15),o(16,"cxTranslate"),f(17,Xi,0,0,"ng-template",5),c(),u(18,"input",9),o(19,"cxTranslate"),f(20,Zi,2,6,"cx-form-errors",7)(21,er,1,1,"cx-form-errors",8),c(),l(22,"label")(23,"span",4),m(24),o(25,"cxTranslate"),f(26,tr,0,0,"ng-template",5),c(),u(27,"input",10),o(28,"cxTranslate"),o(29,"cxTranslate"),f(30,ir,2,6,"cx-form-errors",7)(31,rr,1,1,"cx-form-errors",8),c(),l(32,"a",11),o(33,"cxUrl"),m(34),o(35,"cxTranslate"),c(),l(36,"button",12),m(37),o(38,"cxTranslate"),c()(),f(39,or,1,1,"ng-template",null,0,le)}if(r&2){let x=J(40);n("ngIf",s(1,23,a.isUpdating$)),i(2),n("cxFeature","a11yRequiredAsterisks"),i(),n("formGroup",a.form),i(3),_("",s(7,25,"updateEmailForm.newEmailAddress.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(10,27,"updateEmailForm.newEmailAddress.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_("",s(16,29,"updateEmailForm.confirmNewEmailAddress.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(19,31,"updateEmailForm.confirmNewEmailAddress.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_("",s(25,33,"updateEmailForm.password.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(28,35,"updateEmailForm.password.placeholder")),B("aria-label",s(29,37,"updateEmailForm.password.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(),n("routerLink",s(33,39,re(45,nt))),i(2),_(" ",s(35,41,"common.cancel")," "),i(2),n("disabled",a.form.disabled),i(),_(" ",s(38,43,"common.save")," ")}},dependencies:[q,Ee,X,G,Y,H,te,Z,ee,W,_e,ie,Ce,j,O,ve,R],encapsulation:2,changeDetection:0})}}return e})(),fo=(()=>{class e{constructor(){this.emailComponentService=N(tt),this.userProfile=N(ye),this.form=this.emailComponentService.form,this.isUpdating$=this.emailComponentService.isUpdating$,this.user$=this.userProfile.get().pipe(ke(t=>!!t)),this.globalMessageType=M}ngOnInit(){this.isEditing=!1}onSubmit(){this.emailComponentService.save(),this.emailComponentService.updateSucceed$.subscribe(t=>{this.isEditing=!t})}onEdit(){this.isEditing=!0,this.showingAlert=!0,this.form.reset()}cancelEdit(){this.isEditing=!1}closeDialogConfirmationAlert(){this.showingAlert=!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["cx-my-account-v2-email"]],decls:13,vars:12,consts:[["class","overlay",4,"ngIf$","ngIf"],[1,"flex-line"],[1,"headertext"],["class","editButton",3,"click",4,"ngIf"],[4,"ngIf"],[3,"text","type","closeMessage",4,"ngIf"],["class","email-editing-area",4,"ngIf"],[1,"overlay"],[1,"editButton",3,"click"],[1,"text-head"],[1,"value"],[3,"closeMessage","text","type"],[1,"email-editing-area"],[3,"ngSubmit","formGroup"],["type","text","readonly","",1,"form-control",3,"value"],["required","true","type","email","name","email","formControlName","email",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","email","name","confirmEmail","formControlName","confirmEmail",1,"form-control",3,"placeholder"],[1,"label-content,","text-head"],["required","true","type","password","name","password","formControlName","password","autocomplete","new-password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[1,"btn-group"],[1,"btn","button-cancel","button",3,"click"],[1,"btn","btn-primary","button",3,"click","disabled"],[3,"translationParams","control"],[3,"control"]],template:function(r,a){r&1&&(f(0,sr,1,0,"cx-spinner",0),o(1,"async"),o(2,"async"),l(3,"div")(4,"div",1)(5,"label",2),m(6),o(7,"cxTranslate"),c(),f(8,ar,3,3,"button",3),c(),l(9,"div"),f(10,cr,8,6,"div",4),c(),f(11,lr,2,4,"cx-message",5)(12,_r,40,41,"div",6),c()),r&2&&(n("ngIf",s(1,6,a.isUpdating$)||!s(2,8,a.user$)),i(6),_("",s(7,10,"myAccountV2Email.myEmailAddress")," "),i(2),n("ngIf",!a.isEditing),i(2),n("ngIf",!a.isEditing),i(),n("ngIf",a.isEditing&&a.showingAlert),i(),n("ngIf",a.isEditing))},dependencies:[q,X,G,Y,H,te,Z,ee,W,ie,Ce,j,St,O,R],encapsulation:2,changeDetection:0})}}return e})(),xo=new He("feature flag to enable enhanced UI for email related pages under My-Account",{providedIn:"root",factory:()=>!1}),_o={cmsComponents:{UpdateEmailComponent:{component:fo}}},go=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{UpdateEmailComponent:{component:uo,guards:[Me],providers:[{provide:tt,useClass:tt,deps:[Ze,k,I,ge,Pe]}]}}}),We(()=>N(xo)?_o:{})],imports:[ne,Ve,ue,pe,he,de,se,fe,Oe,oe,Tt]})}}return e})(),Jt=new He("feature flag to enable enhanced UI for Update Password related pages under My-Account",{providedIn:"root",factory:()=>!1}),it=(()=>{class e{constructor(t,r,a,x,g){this.userPasswordService=t,this.routingService=r,this.globalMessageService=a,this.authRedirectService=x,this.authService=g,this.featureConfigService=N(ze),this.passwordValidators=this.featureConfigService?.isEnabled("formErrorsDescriptiveMessages")?this.featureConfigService.isEnabled("enableConsecutiveCharactersPasswordRequirement")?[...P.passwordValidators,P.noConsecutiveCharacters]:P.passwordValidators:[this.featureConfigService.isEnabled("enableConsecutiveCharactersPasswordRequirement")?P.strongPasswordValidator:P.passwordValidator],this.busy$=new ae(!1),this.usingV2=N(Jt),this.isUpdating$=this.busy$.pipe(ce(L=>L===!0?this.form.disable():this.form.enable())),this.form=new Ie({oldPassword:new U("",A.required),newPassword:new U("",[A.required,...this.passwordValidators]),newPasswordConfirm:new U("",A.required)},{validators:this.getPasswordValidators()})}updatePassword(){if(!this.form.valid){this.form.markAllAsTouched();return}this.busy$.next(!0);let t=this.form.get("oldPassword")?.value,r=this.form.get("newPassword")?.value;this.userPasswordService.update(t,r).subscribe({next:()=>this.onSuccess(),error:a=>this.onError(a)})}onSuccess(){this.globalMessageService.add({key:this.usingV2?"myAccountV2PasswordForm.passwordUpdateSuccess":"updatePasswordForm.passwordUpdateSuccess"},M.MSG_TYPE_CONFIRMATION),this.busy$.next(!1),this.form.reset(),this.authRedirectService?.setRedirectUrl(this.routingService.getUrl({cxRoute:"home"})),this.authService?.coreLogout().then(()=>{this.routingService.go({cxRoute:"login"})})}onError(t){t instanceof ft&&t.details?.[0].type==="AccessDeniedError"&&this.globalMessageService.add({key:this.usingV2?"myAccountV2PasswordForm.accessDeniedError":"updatePasswordForm.accessDeniedError"},M.MSG_TYPE_ERROR),this.busy$.next(!1),this.form.reset()}getPasswordValidators(){let t=P.passwordsMustMatch("newPassword","newPasswordConfirm");return this.featureConfigService.isEnabled("enablePasswordsCannotMatchInPasswordUpdateForm")?[t,P.passwordsCannotMatch("oldPassword","newPassword")]:[t]}static{this.\u0275fac=function(r){return new(r||e)(E(xe),E(k),E(I),E(Pe),E(ge))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac})}}return e})(),vo=(()=>{class e{constructor(t){this.service=t,this.routingService=N(k,{optional:!0}),this.form=this.service.form,this.isUpdating$=this.service.isUpdating$}onSubmit(){this.service.updatePassword()}navigateTo(t){this.routingService?.go({cxRoute:t})}static{this.\u0275fac=function(r){return new(r||e)(S(it))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-update-password"]],hostAttrs:[1,"user-form"],decls:41,vars:47,consts:[["requiredAsterisk",""],["class","overlay",4,"ngIf"],["class","form-legend",4,"cxFeature"],[3,"ngSubmit","formGroup"],[1,"label-content"],[3,"ngTemplateOutlet"],["required","true","type","password","name","oldPassword","formControlName","oldPassword","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","password","name","newPassword","formControlName","newPassword","aria-describedby","password-input-hint","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],["required","true","type","password","name","newPasswordConfirm","formControlName","newPasswordConfirm","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[4,"cxFeature"],[1,"btn","btn-block","btn-primary",3,"disabled"],[1,"overlay"],[1,"form-legend"],[3,"translationParams","control"],[3,"control"],[1,"btn","btn-block","btn-secondary",3,"click"],["role","button",1,"btn","btn-block","btn-secondary",3,"routerLink"],["aria-hidden","true","class","text-decoration-none",3,"title",4,"cxFeature"],["aria-hidden","true",1,"text-decoration-none",3,"title"]],template:function(r,a){if(r&1){let x=F();f(0,gr,1,0,"cx-spinner",1),o(1,"async"),f(2,vr,3,3,"p",2),l(3,"form",3),y("ngSubmit",function(){return h(x),C(a.onSubmit())}),l(4,"label")(5,"span",4),m(6),o(7,"cxTranslate"),f(8,hr,0,0,"ng-template",5),c(),u(9,"input",6),o(10,"cxTranslate"),o(11,"cxTranslate"),f(12,Cr,2,6,"cx-form-errors",7)(13,yr,1,1,"cx-form-errors",8),c(),l(14,"label")(15,"span",4),m(16),o(17,"cxTranslate"),f(18,br,0,0,"ng-template",5),c(),u(19,"input",9),o(20,"cxTranslate"),o(21,"cxTranslate"),f(22,wr,2,6,"cx-form-errors",7)(23,Sr,1,1,"cx-form-errors",8),c(),l(24,"label")(25,"span",4),m(26),o(27,"cxTranslate"),f(28,Tr,0,0,"ng-template",5),c(),u(29,"input",10),o(30,"cxTranslate"),o(31,"cxTranslate"),f(32,Fr,2,6,"cx-form-errors",7)(33,Ar,1,1,"cx-form-errors",8),c(),f(34,Er,4,3,"ng-container",11)(35,Pr,5,7,"ng-container",11),l(36,"button",12),m(37),o(38,"cxTranslate"),c()(),f(39,Ir,1,1,"ng-template",null,0,le)}if(r&2){let x=J(40);n("ngIf",s(1,25,a.isUpdating$)),i(2),n("cxFeature","a11yRequiredAsterisks"),i(),n("formGroup",a.form),i(3),_("",s(7,27,"updatePasswordForm.oldPassword.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(10,29,"updatePasswordForm.oldPassword.placeholder")),B("aria-label",s(11,31,"updatePasswordForm.oldPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_("",s(17,33,"updatePasswordForm.newPassword.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(20,35,"updatePasswordForm.newPassword.placeholder")),B("aria-label",s(21,37,"updatePasswordForm.newPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_("",s(27,39,"updatePasswordForm.confirmPassword.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(30,41,"updatePasswordForm.confirmPassword.placeholder")),B("aria-label",s(31,43,"updatePasswordForm.confirmPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(),n("cxFeature","a11yUseButtonsForBtnLinks"),i(),n("cxFeature","!a11yUseButtonsForBtnLinks"),i(),n("disabled",a.form.disabled),i(),_(" ",s(38,45,"common.save")," ")}},dependencies:[q,Ee,X,G,Y,H,te,Z,ee,W,ie,_e,Ce,j,O,R,ve],encapsulation:2,changeDetection:0})}}return e})(),ho=(()=>{class e{constructor(){this.service=N(it),this.showingAlert=!0,this.globalMessageType=M,this.form=this.service.form,this.isUpdating$=this.service.isUpdating$}onSubmit(){this.service.updatePassword()}onCancel(){this.oldPassword="",this.newPassword="",this.newPasswordConfirm=""}closeDialogConfirmationAlert(){this.showingAlert=!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["cx-my-account-v2-password"]],decls:41,vars:51,consts:[["class","overlay",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"myaccount-password-header"],[3,"text","type","closeMessage",4,"ngIf"],[1,"myaccount-label-padding"],[1,"label-content","myaccount-password-label"],["required","true","type","password","name","oldPassword","formControlName","oldPassword","cxPasswordVisibilitySwitch","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","password","name","newPassword","formControlName","newPassword","cxPasswordVisibilitySwitch","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["required","true","type","password","name","newPasswordConfirm","formControlName","newPasswordConfirm","cxPasswordVisibilitySwitch","",1,"form-control",3,"ngModelChange","ngModel","placeholder"],[1,"password-btn-group"],[1,"btn","myaccount-password-button","myaccount-password-button-cancel",3,"click"],[1,"btn","btn-primary","myaccount-password-button",3,"disabled"],[1,"overlay"],[3,"closeMessage","text","type"],[3,"translationParams","control"],[3,"control"]],template:function(r,a){r&1&&(f(0,Br,1,0,"cx-spinner",0),o(1,"async"),l(2,"form",1),y("ngSubmit",function(){return a.onSubmit()}),l(3,"label",2),m(4),o(5,"cxTranslate"),c(),f(6,Vr,2,4,"cx-message",3),l(7,"label",4)(8,"span",5),m(9),o(10,"cxTranslate"),c(),l(11,"input",6),o(12,"cxTranslate"),o(13,"cxTranslate"),Fe("ngModelChange",function(g){return Te(a.oldPassword,g)||(a.oldPassword=g),g}),c(),f(14,Dr,2,6,"cx-form-errors",7)(15,Nr,1,1,"cx-form-errors",8),c(),l(16,"label",4)(17,"span",5),m(18),o(19,"cxTranslate"),c(),l(20,"input",9),o(21,"cxTranslate"),o(22,"cxTranslate"),Fe("ngModelChange",function(g){return Te(a.newPassword,g)||(a.newPassword=g),g}),c(),f(23,kr,2,6,"cx-form-errors",7)(24,$r,1,1,"cx-form-errors",8),c(),l(25,"label",4)(26,"span",5),m(27),o(28,"cxTranslate"),c(),l(29,"input",10),o(30,"cxTranslate"),o(31,"cxTranslate"),Fe("ngModelChange",function(g){return Te(a.newPasswordConfirm,g)||(a.newPasswordConfirm=g),g}),c(),f(32,Rr,2,6,"cx-form-errors",7)(33,Ur,1,1,"cx-form-errors",8),c(),l(34,"div",11)(35,"button",12),y("click",function(){return a.onCancel()}),m(36),o(37,"cxTranslate"),c(),l(38,"button",13),m(39),o(40,"cxTranslate"),c()()()),r&2&&(n("ngIf",s(1,25,a.isUpdating$)),i(2),n("formGroup",a.form),i(2),_("",s(5,27,"myAccountV2PasswordForm.newPasswordTitle")," "),i(2),n("ngIf",a.showingAlert),i(3),w(s(10,29,"myAccountV2PasswordForm.oldPassword.label")),i(2),v("placeholder",s(12,31,"myAccountV2PasswordForm.oldPassword.placeholder")),Se("ngModel",a.oldPassword),B("aria-label",s(13,33,"myAccountV2PasswordForm.oldPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(19,35,"myAccountV2PasswordForm.newPassword.label")),i(2),v("placeholder",s(21,37,"myAccountV2PasswordForm.newPassword.placeholder")),Se("ngModel",a.newPassword),B("aria-label",s(22,39,"myAccountV2PasswordForm.newPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(28,41,"myAccountV2PasswordForm.confirmPassword.label")),i(2),v("placeholder",s(30,43,"myAccountV2PasswordForm.confirmPassword.placeholder")),Se("ngModel",a.newPasswordConfirm),B("aria-label",s(31,45,"myAccountV2PasswordForm.confirmPassword.placeholder")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_(" ",s(37,47,"common.cancel")," "),i(2),n("disabled",a.form.disabled),i(),_(" ",s(40,49,"common.save")," "))},dependencies:[q,X,G,Y,H,te,Z,ee,W,ie,Ce,j,St,O,R],encapsulation:2,changeDetection:0})}}return e})(),Co={cmsComponents:{UpdatePasswordComponent:{component:ho}}},yo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{UpdatePasswordComponent:{component:vo,guards:[Me],providers:[{provide:it,useClass:it,deps:[xe,k,I,Pe,ge]}]}}}),We(()=>N(Jt)?Co:{})],imports:[ne,Ve,ue,pe,se,fe,he,de,Oe,oe,Tt]})}}return e})(),rt=(()=>{class e{constructor(t,r){this.userProfile=t,this.globalMessageService=r,this.user$=this.userProfile.get().pipe(ke(a=>!!a)),this.busy$=new ae(!1),this.updateSucceed$=new st,this.isUpdating$=this.user$.pipe(ce(a=>this.form.patchValue(a)),ct(a=>this.busy$),ce(a=>a===!0?this.form.disable():this.form.enable())),this.titles$=this.userProfile.getTitles(),this.form=new Ie({customerId:new U(""),titleCode:new U(""),firstName:new U("",A.required),lastName:new U("",A.required)})}updateProfile(){if(!this.form.valid){this.form.markAllAsTouched();return}this.busy$.next(!0),this.userProfile.update(this.form.value).subscribe({next:()=>this.onSuccess(),error:t=>this.onError(t)})}onSuccess(){this.globalMessageService.add({key:"updateProfileForm.profileUpdateSuccess"},M.MSG_TYPE_CONFIRMATION),this.busy$.next(!1),this.form.reset(),this.updateSucceed$.next(!0)}onError(t){this.busy$.next(!1),this.updateSucceed$.next(!1)}static{this.\u0275fac=function(r){return new(r||e)(E(ye),E(I))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac})}}return e})(),bo=(()=>{class e{constructor(t){this.service=t,this.routingService=N(k,{optional:!0}),this.form=this.service.form,this.isUpdating$=this.service.isUpdating$,this.titles$=this.service.titles$}onSubmit(){this.service.updateProfile()}navigateTo(t){this.routingService?.go({cxRoute:t})}static{this.\u0275fac=function(r){return new(r||e)(S(rt))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-update-profile"]],hostAttrs:[1,"user-form"],decls:44,vars:47,consts:[["requiredAsterisk",""],["class","overlay",4,"ngIf"],["class","form-legend",4,"cxFeature"],[3,"ngSubmit","formGroup"],[1,"label-content"],["formControlName","titleCode","id","title-select",3,"clearable","searchable","cxNgSelectA11y"],[3,"value",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],["required","true","type","text","name","firstName","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","text","name","lastName","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","name","customerId","formControlName","customerId","readonly","",1,"form-control"],[4,"cxFeature"],[1,"btn","btn-block","btn-primary",3,"disabled"],[1,"overlay"],[1,"form-legend"],[3,"value"],[3,"translationParams","control"],[3,"control"],[1,"btn","btn-block","btn-secondary",3,"click"],["role","button",1,"btn","btn-block","btn-secondary",3,"routerLink"],["aria-hidden","true","class","text-decoration-none",3,"title",4,"cxFeature"],["aria-hidden","true",1,"text-decoration-none",3,"title"]],template:function(r,a){if(r&1){let x=F();f(0,qr,1,0,"cx-spinner",1),o(1,"async"),f(2,Or,3,3,"p",2),l(3,"form",3),y("ngSubmit",function(){return h(x),C(a.onSubmit())}),l(4,"label")(5,"span",4),m(6),o(7,"cxTranslate"),c(),l(8,"ng-select",5),o(9,"cxTranslate"),f(10,Lr,2,2,"ng-option",6),o(11,"async"),c()(),l(12,"label")(13,"span",4),m(14),o(15,"cxTranslate"),f(16,jr,0,0,"ng-template",7),c(),u(17,"input",8),o(18,"cxTranslate"),f(19,Gr,2,6,"cx-form-errors",9)(20,Yr,1,1,"cx-form-errors",10),c(),l(21,"label")(22,"span",4),m(23),o(24,"cxTranslate"),f(25,Hr,0,0,"ng-template",7),c(),u(26,"input",11),o(27,"cxTranslate"),f(28,Wr,2,6,"cx-form-errors",9)(29,Qr,1,1,"cx-form-errors",10),c(),l(30,"label")(31,"span",4),m(32),o(33,"cxTranslate"),c(),u(34,"input",12),f(35,zr,2,6,"cx-form-errors",9)(36,Jr,1,1,"cx-form-errors",10),c(),f(37,Kr,4,3,"ng-container",13)(38,Xr,5,7,"ng-container",13),l(39,"button",14),m(40),o(41,"cxTranslate"),c()(),f(42,en,1,1,"ng-template",null,0,le)}if(r&2){let x=J(43);n("ngIf",s(1,25,a.isUpdating$)),i(2),n("cxFeature","a11yRequiredAsterisks"),i(),n("formGroup",a.form),i(3),w(s(7,27,"updateProfileForm.title")),i(2),n("clearable",!1)("searchable",!1)("cxNgSelectA11y",b(45,De,s(9,29,"updateProfileForm.title"))),i(2),n("ngForOf",s(11,31,a.titles$)),i(4),_("",s(15,33,"updateProfileForm.firstName.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(18,35,"updateProfileForm.firstName.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),_("",s(24,37,"updateProfileForm.lastName.label")," "),i(2),n("ngTemplateOutlet",x),i(),v("placeholder",s(27,39,"updateProfileForm.lastName.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(3),w(s(33,41,"updateProfileForm.customerId")),i(3),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(),n("cxFeature","a11yUseButtonsForBtnLinks"),i(),n("cxFeature","!a11yUseButtonsForBtnLinks"),i(),n("disabled",a.form.disabled),i(),_(" ",s(41,43,"common.save")," ")}},dependencies:[Ae,q,Ee,X,G,Y,H,te,Z,ee,W,ie,_e,Ue,gt,Le,j,O,R,ve],encapsulation:2,changeDetection:0})}}return e})(),wo=(()=>{class e{constructor(){this.service=N(rt),this.form=this.service.form,this.isUpdating$=this.service.isUpdating$,this.titles$=this.service.titles$,this.user$=this.service.user$}ngOnInit(){this.isEditing=!1}onSubmit(){this.service.updateProfile(),this.service.updateSucceed$.subscribe(t=>{this.isEditing=!t})}cancelEdit(){this.isEditing=!1,this.form.setValue(this.originalEditValue)}onEdit(){this.isEditing=!0,this.originalEditValue=this.form.value}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["cx-my-account-v2-profile"]],decls:12,vars:11,consts:[["class","overlay",4,"ngIf"],[1,"flex-line"],[1,"headertext"],["class","editButton",3,"click",4,"ngIf"],[4,"ngIf"],["class","myaccount-editing-area",4,"ngIf"],[1,"overlay"],[1,"editButton",3,"click"],[1,"text-head"],[1,"value"],[1,"myaccount-editing-area"],[3,"ngSubmit","formGroup"],[1,"label-content,","text-head"],["formControlName","titleCode","id","title-select",3,"clearable","searchable","cxNgSelectA11y"],[3,"value",4,"ngFor","ngForOf"],["required","true","type","text","name","firstName","formControlName","firstName",1,"form-control"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","text","name","lastName","formControlName","lastName",1,"form-control"],["required","true","type","text","name","customerId","formControlName","customerId","readonly","",1,"form-control"],[1,"btn-group"],[1,"btn","button-cancel","button",3,"click"],[1,"btn","btn-primary","button",3,"click","disabled"],[3,"value"],[3,"translationParams","control"],[3,"control"]],template:function(r,a){r&1&&(f(0,tn,1,0,"cx-spinner",0),o(1,"async"),o(2,"async"),l(3,"div")(4,"div")(5,"div",1)(6,"label",2),m(7),o(8,"cxTranslate"),c(),f(9,rn,3,3,"button",3),c()(),f(10,nn,23,21,"div",4)(11,mn,38,36,"div",5),c()),r&2&&(n("ngIf",s(1,5,a.isUpdating$)||!s(2,7,a.user$)),i(7),_("",s(8,9,"myAccountV2UserProfile.myInformation")," "),i(2),n("ngIf",!a.isEditing),i(),n("ngIf",!a.isEditing),i(),n("ngIf",a.isEditing))},dependencies:[Ae,q,X,G,Y,H,te,Z,ee,W,ie,Ue,gt,Le,j,O,R],encapsulation:2,changeDetection:0})}}return e})(),So=new He("feature flag to enable enhanced UI for profile related pages under My-Account",{providedIn:"root",factory:()=>!1}),To={cmsComponents:{UpdateProfileComponent:{component:wo}}},Fo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{UpdateProfileComponent:{component:bo,guards:[Me],providers:[{provide:rt,useClass:rt,deps:[ye,I]}]}}}),We(()=>N(So)?To:{})],imports:[ne,Ve,ue,pe,se,fe,de,he,Ke,Xe,oe]})}}return e})(),Ao=(()=>{class e{constructor(t){this.userAddressService=t}getAddresses(){return this.userAddressService.getAddresses()}getAddressesStateLoading(){return this.userAddressService.getAddressesLoading()}loadAddresses(){this.userAddressService.loadAddresses()}addUserAddress(t){this.userAddressService.addUserAddress(t)}updateUserAddress(t,r){this.userAddressService.updateUserAddress(t,r)}setAddressAsDefault(t){this.userAddressService.setAddressAsDefault(t)}deleteUserAddress(t){this.userAddressService.deleteUserAddress(t)}static{this.\u0275fac=function(r){return new(r||e)(E(Re))}}static{this.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Eo=(()=>{class e{constructor(t,r,a,x,g,L){this.fb=t,this.userAddressService=r,this.globalMessageService=a,this.translation=x,this.launchDialogService=g,this.userProfileFacade=L,this.selectedCountry$=new ae(""),this.setAsDefaultField=!0,this.showCancelBtn=!0,this.submitAddress=new dt,this.backToAddress=new dt,this.subscription=new ot,this.addressForm=this.fb.group({country:this.fb.group({isocode:[null,A.required]}),titleCode:[""],firstName:["",A.required],lastName:["",A.required],line1:["",A.required],line2:[""],town:["",A.required],region:this.fb.group({isocode:[null,A.required]}),postalCode:["",A.required],phone:"",cellphone:"",defaultAddress:[!1]})}ngOnInit(){this.countries$=this.userAddressService.getDeliveryCountries().pipe(ce(t=>{Object.keys(t).length===0&&this.userAddressService.loadDeliveryCountries()})),this.titles$=this.getTitles(),this.regions$=this.selectedCountry$.pipe(ct(t=>this.userAddressService.getRegions(t)),ce(t=>{let r=this.addressForm.get("region.isocode");t&&t.length>0?r?.enable():r?.disable()})),this.addressData&&Object.keys(this.addressData).length!==0&&(this.addressForm.patchValue(this.addressData),this.countrySelected(this.addressData.country),this.addressData.region&&this.regionSelected(this.addressData.region)),this.addresses$=this.userAddressService.getAddresses()}getTitles(){return Ge([this.translation.translate("addressForm.defaultTitle"),this.userProfileFacade.getTitles()]).pipe(be(([t,r])=>{let a={code:"",name:t};return r.sort(Ft),[a,...r]}))}handleAddressVerificationResults(t){t.decision==="ACCEPT"?this.submitAddress.emit(this.addressForm.value):t.decision==="REJECT"?t.errors?.errors.some(r=>r.subject==="titleCode")?this.globalMessageService.add({key:"addressForm.titleRequired"},M.MSG_TYPE_ERROR):this.globalMessageService.add({key:"addressForm.invalidAddress"},M.MSG_TYPE_ERROR):t.decision==="REVIEW"&&this.openSuggestedAddress(t)}countrySelected(t){this.addressForm.get("country")?.get("isocode")?.setValue(t?.isocode),this.selectedCountry$.next(t?.isocode??"")}regionSelected(t){this.addressForm.get("region")?.get("isocode")?.setValue(t.isocode)}toggleDefaultAddress(){this.addressForm.controls.defaultAddress.setValue(this.addressForm.value.defaultAddress)}back(){this.backToAddress.emit()}verifyAddress(){if(this.addressForm.valid){let t=this.addressForm.get("region"),r=t?.value?.isocode;r&&this.regions$.pipe(Ye(1)).subscribe(a=>{if(a.length){let x=a.find(g=>g.isocode===r);t?.patchValue({isocodeShort:x?.isocodeShort})}else t?.reset()}),this.addressForm.dirty?this.subscription.add(this.userAddressService.verifyAddress(this.addressForm.value).subscribe(a=>{this.handleAddressVerificationResults(a)})):this.submitAddress.emit(void 0)}else this.addressForm.markAllAsTouched(),this.globalMessageService.add({key:"formErrors.globalMessage"},M.MSG_TYPE_ASSISTIVE)}openSuggestedAddress(t){this.launchDialogService.openDialogAndSubscribe("SUGGESTED_ADDRESSES",this.element,{enteredAddress:this.addressForm.value,suggestedAddresses:t.suggestedAddresses}),this.subscription.add(this.launchDialogService.dialogClose.pipe(ke(r=>!!r)).subscribe(r=>{if(typeof r=="object"){let a=Bt(It({},r),{titleCode:this.addressForm.value.titleCode,phone:this.addressForm.value.phone,selected:!0});this.submitAddress.emit(a)}}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)(S(Be),S(Re),S(I),S(Je),S(qe),S(ye))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-address-form"]],viewQuery:function(r,a){if(r&1&&pt(un,5),r&2){let x;mt(x=ut())&&(a.element=x.first)}},inputs:{addressData:"addressData",actionBtnLabel:"actionBtnLabel",cancelBtnLabel:"cancelBtnLabel",setAsDefaultField:"setAsDefaultField",showTitleCode:"showTitleCode",showCancelBtn:"showCancelBtn"},outputs:{submitAddress:"submitAddress",backToAddress:"backToAddress"},decls:93,vars:79,consts:[["submit",""],["requiredAsterisk",""],["class","form-legend",4,"cxFeature"],[3,"ngSubmit","formGroup"],["formGroupName","country",1,"form-group"],[4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"label-content","required"],[3,"ngTemplateOutlet"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],[1,"row"],[1,"form-group","col-sm-6"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],["formGroupName","region",4,"ngIf"],[1,"form-group","col-md-6"],["type","tel","formControlName","phone",1,"form-control",3,"placeholder"],["type","tel","formControlName","cellphone",1,"form-control",3,"placeholder"],[1,"cx-address-form-btns"],["class","col-md-13 col-lg-6",4,"ngIf"],[1,"col-md-13","col-lg-6"],["type","submit",1,"btn","btn-block","btn-primary"],[1,"form-legend"],["id","country-select","formControlName","isocode","bindLabel","name","bindValue","isocode",1,"country-select",3,"change","inputAttrs","searchable","clearable","items","placeholder","cxNgSelectA11y"],[3,"translationParams","control"],[3,"control"],["id","title-select","formControlName","titleCode","bindLabel","name","bindValue","code",3,"searchable","clearable","items","placeholder","cxNgSelectA11y"],["formGroupName","region"],["formControlName","isocode","id","region-select",1,"region-select",3,"inputAttrs","searchable","clearable","items","bindLabel","bindValue","placeholder","cxNgSelectA11y"],[1,"form-check"],["type","checkbox","formControlName","defaultAddress",1,"form-check-input",3,"change"],[1,"form-check-label"],[1,"btn","btn-block","btn-secondary",3,"click"],["aria-hidden","true","class","text-decoration-none",3,"title",4,"cxFeature"],["aria-hidden","true",1,"text-decoration-none",3,"title"]],template:function(r,a){if(r&1){let x=F();f(0,fn,3,3,"p",2),l(1,"form",3),y("ngSubmit",function(){return h(x),C(a.verifyAddress())}),l(2,"div",4),f(3,hn,2,1,"ng-container",5),o(4,"async"),c(),f(5,bn,3,3,"div",6),l(6,"div",7)(7,"label")(8,"span",8),m(9),o(10,"cxTranslate"),f(11,wn,0,0,"ng-template",9),c(),u(12,"input",10),o(13,"cxTranslate"),f(14,Sn,2,6,"cx-form-errors",11)(15,Tn,1,1,"cx-form-errors",12),c()(),l(16,"div",7)(17,"label")(18,"span",8),m(19),o(20,"cxTranslate"),f(21,Fn,0,0,"ng-template",9),c(),u(22,"input",13),o(23,"cxTranslate"),f(24,An,2,6,"cx-form-errors",11)(25,En,1,1,"cx-form-errors",12),c()(),l(26,"div",7)(27,"label")(28,"span",8),m(29),o(30,"cxTranslate"),f(31,Pn,0,0,"ng-template",9),c(),u(32,"input",14),o(33,"cxTranslate"),f(34,Mn,2,6,"cx-form-errors",11)(35,In,1,1,"cx-form-errors",12),c()(),l(36,"div",7)(37,"label")(38,"span",15),m(39),o(40,"cxTranslate"),c(),u(41,"input",16),o(42,"cxTranslate"),c()(),l(43,"div",17)(44,"div",18)(45,"label")(46,"span",8),m(47),o(48,"cxTranslate"),f(49,Bn,0,0,"ng-template",9),c(),u(50,"input",19),o(51,"cxTranslate"),f(52,Vn,2,6,"cx-form-errors",11)(53,Dn,1,1,"cx-form-errors",12),c()(),l(54,"div",18)(55,"label")(56,"span",8),m(57),o(58,"cxTranslate"),f(59,Nn,0,0,"ng-template",9),c(),u(60,"input",20),o(61,"cxTranslate"),f(62,kn,2,6,"cx-form-errors",11)(63,$n,1,1,"cx-form-errors",12),c()(),f(64,qn,2,1,"ng-container",21),o(65,"async"),c(),l(66,"div",17)(67,"div",22)(68,"label")(69,"span",15),m(70),o(71,"cxTranslate"),c(),u(72,"input",23),o(73,"cxTranslate"),c()(),l(74,"div",22)(75,"label")(76,"span",15),m(77),o(78,"cxTranslate"),c(),u(79,"input",24),o(80,"cxTranslate"),c()()(),f(81,On,7,3,"div",6),o(82,"async"),l(83,"div",25)(84,"div",17),f(85,Ln,4,3,"div",26),l(86,"div",27)(87,"button",28,0),m(89),o(90,"cxTranslate"),c()()()()(),f(91,Gn,1,1,"ng-template",null,1,le)}if(r&2){let x,g=J(92);n("cxFeature","a11yRequiredAsterisks"),i(),n("formGroup",a.addressForm),i(2),n("ngIf",s(4,39,a.countries$)),i(2),n("ngIf",a.showTitleCode),i(4),_("",s(10,41,"addressForm.firstName.label")," "),i(2),n("ngTemplateOutlet",g),i(),v("placeholder",s(13,43,"addressForm.firstName.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),_("",s(20,45,"addressForm.lastName.label")," "),i(2),n("ngTemplateOutlet",g),i(),v("placeholder",s(23,47,"addressForm.lastName.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),_("",s(30,49,"addressForm.address1")," "),i(2),n("ngTemplateOutlet",g),i(),v("placeholder",s(33,51,"addressForm.streetAddress")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),w(s(40,53,"addressForm.address2")),i(2),v("placeholder",s(42,55,"addressForm.aptSuite")),i(6),_("",s(48,57,"addressForm.city.label")," "),i(2),n("ngTemplateOutlet",g),i(),v("placeholder",s(51,59,"addressForm.city.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(4),_("",s(58,61,"addressForm.zipCode.label")," "),i(2),n("ngTemplateOutlet",g),i(),v("placeholder",s(61,63,"addressForm.zipCode.placeholder")),i(2),n("cxFeature","formErrorsDescriptiveMessages"),i(),n("cxFeature","!formErrorsDescriptiveMessages"),i(),n("ngIf",s(65,65,a.regions$)),i(6),w(s(71,67,"addressForm.phoneNumber.label")),i(2),v("placeholder",s(73,69,"addressForm.phoneNumber.placeholder")),i(5),w(s(78,71,"addressForm.cellphone.label")),i(2),v("placeholder",s(80,73,"addressForm.cellphone.placeholder")),i(2),n("ngIf",((x=s(82,75,a.addresses$))==null?null:x.length)&&a.setAsDefaultField),i(4),n("ngIf",a.showCancelBtn),i(4),_(" ",a.actionBtnLabel||s(90,77,"common.continue")," ")}},dependencies:[Le,q,Ee,X,G,_t,Y,H,te,Z,ee,qt,Ue,ie,j,O,R],encapsulation:2,changeDetection:0})}}return e})(),Po=(()=>{class e{constructor(t,r,a){this.service=t,this.translation=r,this.globalMessageService=a,this.showAddAddressForm=!1,this.showEditAddressForm=!1}ngOnInit(){this.addresses$=this.service.getAddresses(),this.addressesStateLoading$=this.service.getAddressesStateLoading(),this.service.loadAddresses()}addAddressButtonHandle(){this.showEditAddressForm=!1,this.showAddAddressForm=!0}editAddressButtonHandle(t){this.showAddAddressForm=!1,this.showEditAddressForm=!0,this.currentAddress=t}addAddressSubmit(t){this.showAddAddressForm=!1,this.service.addUserAddress(t)}addAddressCancel(){this.showAddAddressForm=!1}editAddressSubmit(t){this.showEditAddressForm=!1,t&&this.currentAddress.id&&this.service.updateUserAddress(this.currentAddress.id,t)}editAddressCancel(){this.showEditAddressForm=!1}getCardContent(t){return Ge([this.translation.translate("addressCard.default"),this.translation.translate("addressCard.setAsDefault"),this.translation.translate("common.delete"),this.translation.translate("common.edit"),this.translation.translate("addressBook.areYouSureToDeleteAddress"),this.translation.translate("addressCard.phoneNumber"),this.translation.translate("addressCard.mobileNumber")]).pipe(be(([r,a,x,g,L,Ne,Kt])=>{let Mt="";t.region&&t.region.isocode&&(Mt=t.region.isocode+", ");let je=[];t.defaultAddress||je.push({name:a,event:"default"}),je.push({name:g,event:"edit"}),je.push({name:x,event:"delete"});let Xt=Wt(t,Ne,Kt);return{role:"region",textBold:t.firstName+" "+t.lastName,text:[t.line1,t.line2,t.town+", "+Mt+t.country?.isocode,t.postalCode,Xt],actions:je,header:t.defaultAddress?`\u2713 ${r}`:"",deleteMsg:L,label:t.defaultAddress?"addressBook.defaultDeliveryAddress":"addressBook.additionalDeliveryAddress"}}))}setAddressAsDefault(t){this.service.setAddressAsDefault(t.id??""),this.globalMessageService.add({key:"addressMessages.setAsDefaultSuccessfully",params:{streetAddress:t.line1}},M.MSG_TYPE_CONFIRMATION)}deleteAddress(t){this.service.deleteUserAddress(t)}setEdit(t){this.editCard!==t?this.editCard=t:this.deleteAddress(t)}cancelCard(){this.editCard=null}static{this.\u0275fac=function(r){return new(r||e)(S(Ao),S(Je),S(I))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-address-book"]],decls:8,vars:7,consts:[["loading",""],[1,"cx-section"],[4,"ngIf"],[1,"row"],[1,"col-md-6"],[1,"btn","btn-block","btn-secondary",3,"click"],["class","row cx-address-deck",4,"ngIf","ngIfElse"],[1,"row","cx-address-deck"],["role","status",4,"cxFeature"],["class","col-md-6 cx-address-card",4,"ngFor","ngForOf"],["role","status"],[1,"col-md-6","cx-address-card"],[3,"editCard","setDefaultCard","deleteCard","cancelCard","index","border","fitToContainer","content","editMode"],[1,"cx-section-msg"],[1,"cx-form",3,"submitAddress","backToAddress","cancelCard","showTitleCode","showCancelBtn","actionBtnLabel","cancelBtnLabel","setAsDefaultField"],[3,"submitAddress","backToAddress","showTitleCode","actionBtnLabel","cancelBtnLabel","addressData"],[1,"col-md-12","cx-address-spinner"]],template:function(r,a){if(r&1&&(l(0,"div",1),f(1,Qn,8,7,"ng-container",2),o(2,"async"),f(3,zn,10,16,"ng-container",2),o(4,"async"),f(5,Jn,8,11,"ng-container",2),c(),f(6,Kn,2,0,"ng-template",null,0,le)),r&2){let x,g;i(),n("ngIf",((x=s(2,3,a.addresses$))==null?null:x.length)&&!(a.showAddAddressForm||a.showEditAddressForm)),i(2),n("ngIf",(!((g=s(4,5,a.addresses$))!=null&&g.length)||a.showAddAddressForm)&&!a.showEditAddressForm),i(2),n("ngIf",a.showEditAddressForm)}},dependencies:[Ae,q,jt,Eo,W,O,R],encapsulation:2})}}return e})(),Mo=(()=>{class e{handleClick(t){t.target.tagName===this.el.nativeElement.tagName&&this.closeModal("Cross click")}constructor(t,r){this.launchDialogService=t,this.el=r,this.iconTypes=yt,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0},this.data$=this.launchDialogService.data$,kt("a11yExpandedFocusIndicator")}ngOnInit(){this.data$.pipe(Ye(1)).subscribe(t=>this.setSelectedAddress(t))}closeModal(t){this.launchDialogService.closeDialog(t)}setSelectedAddress(t){this.selectedAddress=t.suggestedAddresses?.length?t.suggestedAddresses[0]:t.enteredAddress}static{this.\u0275fac=function(r){return new(r||e)(S(qe),S(lt))}}static{this.\u0275cmp=$({type:e,selectors:[["cx-suggested-addresses-dialog"]],hostBindings:function(r,a){r&1&&y("click",function(g){return a.handleClick(g)})},decls:3,vars:4,consts:[["role","dialog","aria-labelledby","dialogTitle",1,"cx-suggested-addresses-dialog",3,"esc","cxFocus"],["class","cx-suggested-addresses-container",4,"ngIf"],[1,"cx-suggested-addresses-container"],[1,"cx-suggested-addresses-header","cx-modal-header"],["id","dialogTitle","class","cx-suggested-addresses-title",4,"cxFeature"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],["ngForm","",1,"cx-suggested-addresses-body"],[1,"cx-dialog-info"],[1,"cx-dialog-options"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","radio","name","selectedAddress","id","suggested-addresses--entered",1,"form-check-input",3,"ngModelChange","ngModel","value"],["for","suggested-addresses--entered",1,"form-check-label","cx-dialog-label"],[1,"cx-dialog-entered"],[1,"cx-card-container"],[1,"cx-card-label"],[1,"cx-suggested-addresses-footer","cx-modal-footer"],[1,"row"],[1,"cx-dialog-actions","col-sm-12","col-md-12","col-lg-6","offset-lg-6"],[1,"btn","btn-secondary","cx-dialog-buttons",3,"click"],["cxAutoFocus","",1,"btn","btn-primary","cx-dialog-buttons",3,"click"],["id","dialogTitle",1,"cx-suggested-addresses-title"],["type","radio","name","selectedAddress",1,"form-check-input",3,"ngModelChange","ngModel","value","id"],[1,"form-check-label","cx-dialog-label",3,"for"],[1,"cx-dialog-suggested"]],template:function(r,a){r&1&&(l(0,"div",0),y("esc",function(){return a.closeModal("Escape clicked")}),f(1,to,44,34,"div",1),o(2,"async"),c()),r&2&&(n("cxFocus",a.focusConfig),i(),n("ngIf",s(2,2,a.data$)))},dependencies:[Ae,q,G,Ut,Y,H,Rt,$t,bt,vt,j,O,R],encapsulation:2,changeDetection:0})}}return e})(),Io=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({imports:[Xe,ne,ue,Ve,de,Ke,wt,se,fe,ht,oe]})}}return e})(),Bo={launch:{SUGGESTED_ADDRESSES:{inlineRoot:!0,component:Mo,dialogType:Ct.DIALOG}}},Vo=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({providers:[K({cmsComponents:{AccountAddressBookComponent:{component:Po,guards:[Me]}}}),K(Bo),Re,oe],imports:[ne,Gt,Io,pe,se]})}}return e})(),as=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=Q({imports:[lo,Fo,go,yo,ao,mo,oo,Vo]})}}return e})();export{Eo as a,Io as b,as as c};
