import './polyfills.server.mjs';
import{a as ae,b as et,c as tt,d as bo,f as dt,g as ve}from"./chunk-VS6T2B26.mjs";import{y as xo}from"./chunk-I46GM3YF.mjs";import"./chunk-HA7MUAI7.mjs";import{e as yo}from"./chunk-UXBWB3PG.mjs";import"./chunk-W6I6IL5E.mjs";import{a as Gn,b as Qt}from"./chunk-ZSZ2OSPO.mjs";import"./chunk-YZJYNVE5.mjs";import{C as ho,H as Kt,V as Vn}from"./chunk-UHE32XUF.mjs";import{$ as be,$b as vo,Ba as fo,D as ue,E as le,H as Je,K as lt,L as we,La as Nn,M as fe,Ma as vi,N as gi,Na as Mn,O as Ot,Oa as Pn,Pa as mo,Q as pt,Qa as _o,U as uo,Y as pe,Z as fi,_ as xe,a as jt,aa as lo,ac as Co,b as qt,d as Be,da as At,j as Ie,n as En,o as Le,oa as po,pa as go,t as wn,ta as Dn,u as On,v as An,wa as Rn,ya as mi,z as Fn,za as _i}from"./chunk-EKK5QDHO.mjs";import{$ as Jr,A as ct,Ac as Q,Bb as st,Cb as di,F as Ke,Fb as oo,Gb as $t,Ha as to,Hb as Ze,J as X,Nb as ao,Oa as io,Rb as co,Rc as Qe,Ta as pi,V as K,Va as bn,da as eo,f as at,fc as Ee,g as Se,h as ze,ha as wt,i as Yr,ib as De,j as zr,ka as $e,kb as no,lc as so,m as me,mb as ro,mc as ut,n as li,o as _e,oa as Xe,p as Xr,pb as In,qb as Tn,y as Zr,yc as Sn,zc as ee}from"./chunk-H5UHAHI5.mjs";import{$ as Ve,$a as D,$b as b,$c as kr,$d as Wr,Aa as Ce,Ad as qr,Bc as Ae,Bd as Kr,Cc as B,Cd as Qr,Dc as Ue,Dd as yn,Ec as Et,Ed as J,Fa as ie,Ga as G,H as ai,Hc as Lr,Ia as Ge,Ib as Br,Ic as Cn,J as Fr,Jc as d,Ka as P,Kb as ye,Kc as f,L as W,La as Z,Lc as Y,Md as L,Oc as de,Pb as _,Qa as Vr,Qb as N,Ra as j,Rb as s,S as Fe,Sa as U,Sb as ui,Ta as si,Tb as se,Td as xn,U as ci,X as w,Xb as l,Xd as Hr,Yb as p,Za as dn,Zb as I,_ as pn,_a as F,_b as x,_c as Ye,a as ke,ab as gn,ac as Bt,ba as Dr,bc as k,ca as Gt,cb as Gr,cc as mn,da as Rr,dc as V,ec as u,g as Vt,gb as Ut,h as oi,hc as E,ia as Nr,ic as _n,l as ln,mc as nt,nc as rt,oc as ot,pc as oe,pd as $r,q as Te,qb as Ur,qc as h,qd as Lt,rc as ne,rd as jr,sb as St,sc as S,sd as kt,ta as Mr,tc as vn,ua as Pr,ub as fn,vd as hn,wb as a,wd as Pe,x as O,xa as R,xb as v,y as Ar,yd as he,z as qe,zc as We,zd as H}from"./chunk-TXWRNZDJ.mjs";import{a as A,b as M}from"./chunk-GHFNAT2I.mjs";function va(i,o){if(i&1){let e=k();x(0),l(1,"div",4)(2,"div",5)(3,"div",6)(4,"label"),h(5),d(6,"cxTranslate"),p(),I(7,"cx-item-counter",7),p(),l(8,"button",8),d(9,"cxTranslate"),d(10,"cxTranslate"),d(11,"cxTranslate"),V("click",function(){F(e);let n=u(2).ngIf,r=u();return D(r.onAddToCart(n.configuration,n.routerData))}),I(12,"cx-icon",9),p()()(),b()}if(i&2){let e=u(2).ngIf,t=u();a(5),ne(f(6,5,"configurator.addToCart.quantity")),a(2),s("control",t.quantityControl),a(),E("title",f(9,7,t.getButtonResourceKey(e.routerData,e.configuration))),N("aria-label",f(10,9,t.getButtonResourceKey(e.routerData,e.configuration))+" "+Y(11,11,"configurator.a11y.addToCartPrices",t.extractConfigPrices(e.configuration))),a(4),s("type",t.iconType.CART_PLUS)}}function Ca(i,o){if(i&1){let e=k();x(0),l(1,"button",10),d(2,"async"),d(3,"cxTranslate"),d(4,"cxTranslate"),V("click",function(){F(e);let n=u(2).ngIf,r=u();return D(r.onAddToCart(n.configuration,n.routerData))}),h(5),d(6,"async"),d(7,"cxTranslate"),p(),b()}if(i&2){let e=u(2).ngIf,t=u();a(),N("aria-label",f(3,4,t.getButtonResourceKey(e.routerData,e.configuration,f(2,2,t.isQuoteCartActive())))+" "+Y(4,6,"configurator.a11y.addToCartPrices",t.extractConfigPrices(e.configuration))),a(4),S(" ",f(7,11,t.getButtonResourceKey(e.routerData,e.configuration,f(6,9,t.isQuoteCartActive())))," ")}}function ha(i,o){if(i&1&&(x(0),l(1,"div",3),_(2,va,13,14,"ng-container",1)(3,Ca,8,13,"ng-container",1),p(),b()),i&2){let e=u().ngIf,t=u();a(2),s("ngIf",!t.isCartEntry(e.routerData)),a(),s("ngIf",t.isCartEntry(e.routerData))}}function ya(i,o){if(i&1){let e=k();l(0,"div",11)(1,"button",12),V("click",function(){F(e);let n=u(2);return D(n.leaveConfigurationOverview())}),h(2),d(3,"cxTranslate"),p()()}i&2&&(a(2),S(" ",f(3,1,"configurator.addToCart.buttonClose")," "))}function xa(i,o){if(i&1&&(x(0),_(1,ha,4,2,"ng-container",2)(2,ya,4,3,"ng-template",null,0,de),b()),i&2){let e=o.ngIf,t=oe(3);a(),s("ngIf",!e.routerData.displayOnly)("ngIfElse",t)}}function ba(i,o){i&1&&(x(0),h(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.attribute.defaultRequiredMessage")," "))}function Ia(i,o){i&1&&(x(0),h(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.attribute.singleSelectRequiredMessage")," "))}function Ta(i,o){if(i&1&&(l(0,"div",1),d(1,"cxTranslate"),d(2,"cxTranslate"),I(3,"cx-icon",2),_(4,ba,3,3,"ng-container",3)(5,Ia,3,3,"ng-container",3),p()),i&2){let e=u();E("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),N("aria-label",e.isUserInput(e.attribute)?f(1,5,"configurator.attribute.defaultRequiredMessage"):f(2,7,"configurator.attribute.singleSelectRequiredMessage")),a(3),s("type",e.iconType.ERROR),a(),s("ngIf",e.isUserInput(e.attribute)),a(),s("ngIf",e.isDropDown(e.attribute))}}var Sa=i=>({item:i});function Ea(i,o){i&1&&(x(0),h(1),d(2,"cxTranslate"),b()),i&2&&(a(),S("\xA0... ",f(2,1,"configurator.button.less"),""))}function wa(i,o){i&1&&(h(0),d(1,"cxTranslate")),i&2&&S(" \xA0... ",f(1,1,"configurator.button.more"),"")}function Oa(i,o){if(i&1){let e=k();l(0,"button",4),V("click",function(){F(e);let n=u(2);return D(n.toggleShowMore())}),_(1,Ea,3,3,"ng-container",5)(2,wa,2,3,"ng-template",null,0,de),p()}if(i&2){let e=oe(3),t=u(2);E("tabindex",t.tabIndex),a(),s("ngIf",t.showHiddenText)("ngIfElse",e)}}function Aa(i,o){if(i&1&&(x(0),I(1,"span",2),d(2,"cxTranslate"),_(3,Oa,4,3,"button",3),b()),i&2){let e=u();a(),s("innerHTML",e.textToShow,Ur),N("aria-label",Y(2,3,"configurator.a11y.itemDescription",B(6,Sa,e.productName))),a(2),s("ngIf",e.showMore)}}var mt=i=>({attribute:i}),Fa=i=>({param:i});function Da(i,o){if(i&1&&(l(0,"div",8),I(1,"cx-icon",9),h(2),d(3,"cxTranslate"),p()),i&2){let e=u();a(),s("type",e.iconTypes.WARNING),a(),S(" ",f(3,2,"configurator.attribute.notVisibleAttributeMsg"),`
`)}}function Ra(i,o){if(i&1&&I(0,"cx-configurator-show-more",10),i&2){let e=u();s("text",e.attribute.description)("textSize",e.getAttributeDescriptionLength())("productName",e.getLabel(e.expMode,e.attribute.label,e.attribute.name))("tabIndex",0)}}function Na(i,o){if(i&1&&I(0,"cx-icon",9),i&2){let e=u(2);s("type",e.iconTypes.WARNING)}}function Ma(i,o){if(i&1){let e=k();x(0),l(1,"a",14),d(2,"cxTranslate"),V("click",function(){F(e);let n=u(3);return D(n.navigateToGroup())})("keydown.enter",function(){F(e);let n=u(3);return D(n.navigateToGroup())}),h(3),d(4,"cxTranslate"),p(),b()}if(i&2){let e=u(3);a(),N("aria-label",Y(2,2,"configurator.a11y.navigateToConflict",B(7,mt,e.attribute.label))),a(2),S(" ",f(4,5,e.getConflictMessageKey())," ")}}function Pa(i,o){if(i&1&&(x(0),_(1,Ma,5,9,"ng-container",13),b()),i&2){let e=u(2),t=oe(15);a(),s("ngIf",e.isNavigationToConflictEnabled())("ngIfElse",t)}}function Va(i,o){if(i&1&&(l(0,"div",11),d(1,"cxTranslate"),_(2,Na,1,1,"cx-icon",12)(3,Pa,2,2,"ng-container",13),p()),i&2){let e=u(),t=oe(13);E("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),N("aria-live",e.isConflictResolutionActive()?"assertive":"off")("aria-atomic",!!e.isConflictResolutionActive())("role",e.isConflictResolutionActive()?"alert":null)("aria-label",e.isConflictResolutionActive()?f(1,8,"configurator.a11y.conflictDetected"):""),a(2),s("ngIf",e.isAttributeGroup()),a(),s("ngIf",e.isAttributeGroup())("ngIfElse",t)}}function Ga(i,o){if(i&1&&(l(0,"div",15),d(1,"cxTranslate"),I(2,"cx-icon",16),h(3),d(4,"cxTranslate"),p()),i&2){let e=u();E("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),N("aria-label",f(1,4,e.getRequiredMessageKey())),a(2),s("type",e.iconTypes.ERROR),a(),S(" ",f(4,6,e.getRequiredMessageKey()),`
`)}}function Ua(i,o){if(i&1&&I(0,"img",17),i&2){let e=u();E("src",e.image==null?null:e.image.url,St),E("alt",e.image==null?null:e.image.altText)}}function Ba(i,o){if(i&1){let e=k();l(0,"a",14),V("click",function(){F(e);let n=u(2);return D(n.navigateToGroup())})("keydown.enter",function(){F(e);let n=u(2);return D(n.navigateToGroup())}),h(1),d(2,"cxTranslate"),p()}if(i&2){let e=u(2);a(),S(" ",f(2,1,e.getConflictMessageKey())," ")}}function La(i,o){if(i&1&&_(0,Ba,3,3,"a",18),i&2){let e=u();s("ngIf",e.isNavigationToGroupEnabled)}}function ka(i,o){if(i&1&&(l(0,"div",19),h(1),d(2,"cxTranslate"),p()),i&2){let e=u();a(),S(" ",f(2,1,e.getConflictMessageKey())," ")}}function $a(i,o){if(i&1&&(x(0),l(1,"div",1),d(2,"cxTranslate"),h(3),p(),b()),i&2){let e=u(2);a(),s("ngClass",e.styleClass),N("aria-label",f(2,3,"configurator.a11y.valueSurcharge")),a(2),S(" ",e.price," ")}}function ja(i,o){if(i&1&&(x(0),l(1,"div",2),d(2,"cxTranslate"),h(3),d(4,"cxNumeric"),p(),l(5,"div",3),h(6),p(),b()),i&2){let e=u(2);a(),N("aria-label",f(2,3,"configurator.a11y.valueSurcharge")),a(2),S(" ",e.quantityWithPrice(f(4,5,e.formula==null?null:e.formula.quantity))," "),a(3),ne(e.priceTotal)}}function qa(i,o){if(i&1&&(x(0),_(1,$a,4,5,"ng-container",0)(2,ja,7,7,"ng-container",0),b()),i&2){let e=u();a(),s("ngIf",e.displayPriceOnly()),a(),s("ngIf",e.displayQuantityAndPrice())}}var Ka=i=>({"cx-product-card-selected":i});function Qa(i,o){if(i&1&&(l(0,"div",13),h(1),d(2,"cxTranslate"),p()),i&2){let e=u().ngIf;a(),vn(" ",f(2,2,"configurator.attribute.id"),": ",e.code," ")}}function Ha(i,o){if(i&1&&I(0,"cx-configurator-show-more",14),i&2){let e=u().ngIf;s("text",e.description)("textSize",45)("productName",e.code)("tabIndex",0)}}function Wa(i,o){if(i&1){let e=k();l(0,"cx-configurator-attribute-quantity",23),V("changeQuantity",function(n){F(e);let r=u(3);return D(r.onChangeQuantity(n))}),p()}if(i&2){let e=u(3);s("quantityOptions",e.extractQuantityParameters())}}function Ya(i,o){if(i&1){let e=k();l(0,"button",27),V("click",function(){F(e);let n=u(5);return D(n.onHandleDeselect())}),h(1),d(2,"cxTranslate"),p()}if(i&2){let e=u(4).ngIf,t=u();s("cxFocus",t.focusConfig),N("aria-label",t.getAriaLabelMultiSelected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(),S(" ",f(2,4,"configurator.button.remove")," ")}}function za(i,o){if(i&1){let e=k();l(0,"button",28),d(1,"async"),V("click",function(){F(e);let n=u(5);return D(n.onHandleSelect())}),h(2),d(3,"cxTranslate"),p()}if(i&2){let e=u(4).ngIf,t=u();s("disabled",t.productCardOptions.disableAllButtons||f(1,5,t.loading$))("cxFocus",t.focusConfig),N("aria-label",t.getAriaLabelMultiUnselected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(2),S(" ",f(3,7,"configurator.button.add")," ")}}function Xa(i,o){if(i&1&&(x(0),_(1,Ya,3,6,"button",26)(2,za,4,9,"ng-template",null,1,de),b()),i&2){let e=oe(3),t=u(4);a(),s("ngIf",t.productCardOptions==null||t.productCardOptions.productBoundValue==null?null:t.productCardOptions.productBoundValue.selected)("ngIfElse",e)}}function Za(i,o){if(i&1){let e=k();l(0,"button",28),d(1,"async"),V("click",function(){F(e);let n=u(5);return D(n.onHandleSelect())}),h(2),d(3,"cxTranslate"),p()}if(i&2){let e=u(4).ngIf,t=u();s("disabled",t.productCardOptions.disableAllButtons||f(1,5,t.loading$))("cxFocus",t.focusConfig),N("aria-label",t.getAriaLabelSingleUnselected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(2),S(" ",f(3,7,"configurator.button.select")," ")}}function Ja(i,o){if(i&1){let e=k();l(0,"button",32),d(1,"async"),V("click",function(){F(e);let n=u(7);return D(n.onHandleDeselect())}),h(2),d(3,"cxTranslate"),p()}if(i&2){let e=u(6).ngIf,t=u();s("disabled",t.productCardOptions.hideRemoveButton||f(1,5,t.loading$))("cxFocus",t.focusConfig),N("aria-label",t.getAriaLabelSingleSelected(e))("aria-describedby",t.createAttributeUiKey("label",t.productCardOptions.attributeName)),a(2),S(" ",f(3,7,"configurator.button.deselect")," ")}}function ec(i,o){if(i&1&&(l(0,"span",33),h(1),p()),i&2){let e=u(6).ngIf,t=u();a(),S(" ",t.getAriaLabelSingleSelectedNoButton(e)," ")}}function tc(i,o){if(i&1&&(x(0),_(1,Ja,4,9,"button",30)(2,ec,2,1,"span",31),b()),i&2){let e=u(6);a(),s("ngIf",!(e.productCardOptions!=null&&e.productCardOptions.hideRemoveButton)),a(),s("ngIf",e.productCardOptions==null?null:e.productCardOptions.hideRemoveButton)}}function ic(i,o){if(i&1&&_(0,tc,3,2,"ng-container",3),i&2){let e=u(5);s("ngIf",e.isValueCodeDefined(e.productCardOptions==null||e.productCardOptions.productBoundValue==null?null:e.productCardOptions.productBoundValue.valueCode))}}function nc(i,o){if(i&1&&_(0,Za,4,9,"button",29)(1,ic,1,1,"ng-template",null,2,de),i&2){let e=oe(2),t=u(4);s("ngIf",!(!(t.productCardOptions==null||t.productCardOptions.productBoundValue==null)&&t.productCardOptions.productBoundValue.selected))("ngIfElse",e)}}function rc(i,o){if(i&1&&(l(0,"div",24),_(1,Xa,4,2,"ng-container",25)(2,nc,3,2,"ng-template",null,0,de),p()),i&2){let e=oe(3),t=u(3);a(),s("ngIf",t.productCardOptions==null?null:t.productCardOptions.multiSelect)("ngIfElse",e)}}function oc(i,o){if(i&1&&(l(0,"div",15)(1,"div",16)(2,"div",17),_(3,Wa,1,1,"cx-configurator-attribute-quantity",18),p(),l(4,"div",19),I(5,"cx-configurator-price",20),p()(),l(6,"div",21),_(7,rc,4,2,"div",22),p()()),i&2){let e=u(2);a(3),s("ngIf",e.showQuantity),a(2),s("formula",e.extractPriceFormulaParameters()),a(2),s("ngIf",!(e.productCardOptions!=null&&e.productCardOptions.singleDropdown))}}function ac(i,o){if(i&1&&(x(0),l(1,"div",34),I(2,"cx-icon",35),h(3),d(4,"cxTranslate"),p(),b()),i&2){let e=u(2);a(),E("id",e.createAttributeUiKey("attribute-msg",e.productCardOptions.attributeName)),a(2),S(" ",f(4,2,"configurator.attribute.deselectionNotPossible")," ")}}function cc(i,o){if(i&1&&(x(0),l(1,"div",4),d(2,"cxTranslate"),l(3,"div",5)(4,"div",6),I(5,"cx-media",7),p(),l(6,"div",8)(7,"div",9)(8,"p"),h(9),p()(),_(10,Qa,3,4,"div",10)(11,Ha,1,4,"cx-configurator-show-more",11),p()(),_(12,oc,8,3,"div",12)(13,ac,5,4,"ng-container",3),p(),b()),i&2){let e=o.ngIf,t=u();a(),s("ngClass",B(11,Ka,t.isProductCardSelected())),N("aria-label",Y(2,8,"configurator.a11y.itemOfAttribute",B(13,mt,t.productCardOptions.attributeLabel))),a(4),s("container",e.images==null?null:e.images.PRIMARY),a(4),S(" ",e.name," "),a(),s("ngIf",e.code),a(),s("ngIf",e.description&&e.code),a(),s("ngIf",!t.productCardOptions.singleDropdown||t.hasPriceDisplay()),a(),s("ngIf",t.showDeselectionNotPossible)}}var Re=i=>({key:i});function sc(i,o){if(i&1){let e=k();l(0,"div",5)(1,"cx-configurator-attribute-quantity",6),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeQuantity(n))}),p(),I(2,"cx-configurator-price",7),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters(e.attribute.quantity,!e.attribute.required)),a(),s("formula",e.extractPriceFormulaParameters())}}function uc(i,o){if(i&1&&I(0,"cx-configurator-show-more",15),i&2){let e=u().$implicit,t=u(2);s("text",e.description)("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,e.valueDisplay,e.valueCode))("tabIndex",0)}}function lc(i,o){if(i&1){let e=k();l(0,"cx-configurator-attribute-quantity",6),V("changeQuantity",function(n){F(e);let r=u(),c=r.$implicit,g=r.index,T=u(2);return D(T.onChangeValueQuantity(n,c.valueCode,g))}),p()}if(i&2){let e=u().$implicit,t=u(2);s("quantityOptions",t.extractQuantityParameters(e.quantity,t.allowZeroValueQuantity))}}function pc(i,o){if(i&1){let e=k();x(0),l(1,"div",8)(2,"div",9)(3,"input",10),V("change",function(){let n=F(e).$implicit,r=u(2);return D(r.onSelect(n.valueCode))}),p(),l(4,"label",11),h(5),p(),_(6,uc,1,4,"cx-configurator-show-more",12),p(),l(7,"div",13),I(8,"cx-configurator-price",7),p()(),_(9,lc,1,1,"cx-configurator-attribute-quantity",14),b()}if(i&2){let e=o.$implicit,t=o.index,n=u().ngIf,r=u();a(3),E("id",r.createAttributeValueIdForConfigurator(r.attribute,e.valueCode)),E("name",r.createAttributeIdForConfigurator(r.attribute)),s("cxFocus",B(14,Re,r.attribute.name+"-"+e.name))("value",e.valueCode)("formControl",r.attributeCheckBoxForms[t]),N("aria-label",r.getAriaLabelGeneric(r.attribute,r.enrichValueWithPrice(e,n)))("aria-describedby",r.createAttributeUiKey("label",r.attribute.name))("aria-live",r.isLastSelected(r.attribute.name,e.valueCode)?"polite":null),a(),E("id",r.createValueUiKey("label",r.attribute.name,e.valueCode)),E("for",r.createAttributeValueIdForConfigurator(r.attribute,e.valueCode)),a(),ne(r.getLabel(r.expMode,e.valueDisplay,e.valueCode)),a(),s("ngIf",e.description),a(2),s("formula",r.extractValuePriceFormulaParameters(r.enrichValueWithPrice(e,n))),a(),s("ngIf",e.selected&&r.withQuantity&&!r.withQuantityOnAttributeLevel)}}function dc(i,o){if(i&1&&(l(0,"div",2),_(1,sc,3,2,"div",3)(2,pc,10,16,"ng-container",4),p()),i&2){let e=u();E("id",e.createAttributeIdForConfigurator(e.attribute)),a(),s("ngIf",e.withQuantityOnAttributeLevel),a(),s("ngForOf",e.attribute.values)}}function gc(i,o){if(i&1&&I(0,"cx-configurator-show-more",10),i&2){let e=u(2);s("text",e.attributeValue.description)("textSize",e.getValueDescriptionLength())("productName",e.getLabel(e.expMode,e.attributeValue.valueDisplay,e.attributeValue.valueCode))("tabIndex",0)}}function fc(i,o){if(i&1){let e=k();l(0,"div",3)(1,"div",4)(2,"input",5),V("change",function(){F(e);let n=u();return D(n.onSelect(n.attributeValue.valueCode))}),p(),l(3,"label",6),h(4),p(),_(5,gc,1,4,"cx-configurator-show-more",7),p(),l(6,"div",8),I(7,"cx-configurator-price",9),p()()}if(i&2){let e=o.ngIf,t=u();a(2),E("id",t.createAttributeValueIdForConfigurator(t.attribute,t.attributeValue.valueCode)),E("name",t.createAttributeIdForConfigurator(t.attribute)),s("value",t.attributeValue.valueCode)("cxFocus",B(13,Re,t.attribute.name+"-"+t.attributeValue.name))("formControl",t.attributeCheckBoxForm),N("aria-label",t.getAriaLabelGeneric(t.attribute,t.enrichValueWithPrice(t.attributeValue,e)))("aria-live",t.isLastSelected(t.attribute.name,t.attributeValue.valueCode)?"polite":null)("aria-describedby",t.createAttributeUiKey("label",t.attribute.name)),a(),E("id",t.createValueUiKey("label",t.attribute.name,t.attributeValue.valueCode)),E("for",t.createAttributeValueIdForConfigurator(t.attribute,t.attributeValue.valueCode)),a(),ne(t.getLabel(t.expMode,t.attributeValue.valueDisplay,t.attributeValue.valueCode)),a(),s("ngIf",t.attributeValue.description),a(2),s("formula",t.extractValuePriceFormulaParameters(t.enrichValueWithPrice(t.attributeValue,e)))}}var ni=i=>({"cx-required-error-msg ":i}),Yt=(i,o)=>({value:i,attribute:o});function mc(i,o){if(i&1&&(I(0,"label",3),d(1,"cxTranslate"),d(2,"cxTranslate")),i&2){let e=u();E("id",e.createAttributeUiKey("labelForDate",e.attribute.name)),N("aria-label",e.isUserInputEmpty?Y(1,2,"configurator.a11y.valueOfDateAttributeBlank",B(8,mt,e.attribute.label)):Y(2,5,"configurator.a11y.valueOfDateAttributeFull",Ue(10,Yt,e.attribute.userInput,e.attribute.label)))}}var _c=i=>({pattern:i});function vc(i,o){if(i&1&&(l(0,"label",4),h(1),p()),i&2){let e=u();a(),ne(e.getHelpTextForInterval())}}function Cc(i,o){if(i&1&&(l(0,"div",5),I(1,"cx-icon",6),h(2),d(3,"cxTranslate"),p()),i&2){let e=u();E("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),a(),s("type",e.iconType.ERROR),a(),S(" ",Y(3,3,"configurator.attribute.wrongNumericFormatMessage",B(6,_c,e.numericFormatPattern)),`
`)}}function hc(i,o){if(i&1&&(l(0,"div",5),I(1,"cx-icon",6),h(2),d(3,"cxTranslate"),p()),i&2){let e=u();E("id",e.createAttributeUiKey("attribute-msg",e.attribute.name)),a(),s("type",e.iconType.ERROR),a(),S(" ",f(3,3,"configurator.attribute.wrongIntervalFormat"),`
`)}}var tn=i=>({count:i});function yc(i,o){if(i&1&&(l(0,"option",9),h(1),p()),i&2){let e=o.$implicit,t=u(4);s("selected",e.selected)("label",t.getLabel(t.expMode,e.valueDisplay,e.valueCode,e))("value",e.valueCode),N("aria-label",t.getAriaLabel(e,t.attribute)),a(),S(" ",t.getLabel(t.expMode,e.valueDisplay,e.valueCode,e)," ")}}function xc(i,o){if(i&1){let e=k();x(0),l(1,"select",7),d(2,"async"),V("change",function(){F(e);let n=u(3);return D(n.onSelect(n.attributeDropDownForm.value))}),_(3,yc,2,5,"option",8),p(),b()}if(i&2){let e=u(3);a(),E("id",e.createAttributeIdForConfigurator(e.attribute)),s("ngClass",B(8,ni,f(2,6,e.showRequiredErrorMessage$)))("formControl",e.attributeDropDownForm)("cxFocus",B(10,Re,e.attribute.name)),N("aria-describedby",e.createAttributeUiKey("label",e.attribute.name)),a(2),s("ngForOf",e.attribute.values)}}function bc(i,o){if(i&1&&(l(0,"option",9),h(1),p()),i&2){let e=o.$implicit,t=u(3).ngIf,n=u();s("selected",e.selected)("label",n.getLabel(n.expMode,e.valueDisplay,e.valueCode,n.enrichValueWithPrice(e,t)))("value",e.valueCode),N("aria-label",n.getAriaLabel(e,n.attribute)),a(),S(" ",n.getLabel(n.expMode,e.valueDisplay,e.valueCode,n.enrichValueWithPrice(e,t))," ")}}function Ic(i,o){if(i&1&&I(0,"cx-configurator-show-more",12),i&2){let e,t=u(4);s("text",t.getSelectedValueDescription())("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,(e=t.getSelectedValue())==null?null:e.valueDisplay,(e=t.getSelectedValue())==null?null:e.valueCode,t.getSelectedValue()))("tabIndex",0)}}function Tc(i,o){if(i&1){let e=k();x(0),l(1,"div",10)(2,"select",7),d(3,"async"),V("change",function(){F(e);let n=u(3);return D(n.onSelect(n.attributeDropDownForm.value))}),_(4,bc,2,5,"option",8),p(),_(5,Ic,1,4,"cx-configurator-show-more",11),p(),b()}if(i&2){let e=u(3);a(2),E("id",e.createAttributeIdForConfigurator(e.attribute)),s("ngClass",B(9,ni,f(3,7,e.showRequiredErrorMessage$)))("formControl",e.attributeDropDownForm)("cxFocus",B(11,Re,e.attribute.name)),N("aria-describedby",e.createAttributeUiKey("label",e.attribute.name)),a(2),s("ngForOf",e.attribute.values),a(),s("ngIf",e.getSelectedValueDescription())}}function Sc(i,o){if(i&1&&(l(0,"div",13),I(1,"cx-configurator-price",14),p()),i&2){let e=u(2).ngIf,t=u();a(),s("formula",t.extractValuePriceFormulaParameters(t.enrichValueWithPrice(t.getSelectedValue(),e)))}}function Ec(i,o){if(i&1&&(l(0,"div",4)(1,"label",5),h(2),d(3,"cxTranslate"),p(),_(4,xc,4,12,"ng-container",0)(5,Tc,6,13,"ng-container",0)(6,Sc,2,1,"div",6),p()),i&2){let e=u(2);a(),E("for",e.createAttributeIdForConfigurator(e.attribute)),a(),S(" ",Y(3,5,"configurator.a11y.listbox",B(8,tn,e.attribute.values.length))," "),a(2),s("ngIf",!(e.config.features!=null&&e.config.features.productConfiguratorAttributeTypesV2)),a(),s("ngIf",e.config.features==null?null:e.config.features.productConfiguratorAttributeTypesV2),a(),s("ngIf",!e.withQuantity&&e.getSelectedValue())}}function wc(i,o){if(i&1&&I(0,"cx-configurator-price",14),i&2){let e=u(3);s("formula",e.extractPriceFormulaParameters())}}function Oc(i,o){if(i&1){let e=k();l(0,"div",15)(1,"cx-configurator-attribute-quantity",16),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeQuantity(n,r.attributeDropDownForm))}),p(),_(2,wc,1,1,"cx-configurator-price",17),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters(e.attributeDropDownForm)),a(),s("ngIf",e.getSelectedValuePrice())}}function Ac(i,o){if(i&1&&(x(0),_(1,Ec,7,10,"div",2)(2,Oc,3,2,"div",3),b()),i&2){let e=u();a(),s("ngIf",e.attribute.values&&e.attribute.values.length!==0),a(),s("ngIf",e.withQuantity)}}function Fc(i,o){i&1&&(I(0,"cx-configurator-attribute-numeric-input-field",18),d(1,"cxTranslate")),i&2&&N("aria-label",f(1,1,"configurator.a11y.additionalValue"))}function Dc(i,o){i&1&&(I(0,"cx-configurator-attribute-input-field",18),d(1,"cxTranslate")),i&2&&N("aria-label",f(1,1,"configurator.a11y.additionalValue"))}function Rc(i,o){if(i&1){let e=k();l(0,"div",4)(1,"cx-configurator-attribute-quantity",5),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeAttributeQuantity(n))}),p(),I(2,"cx-configurator-price",6),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters(e.attribute.quantity)),a(),s("formula",e.extractPriceFormulaParameters())}}function Nc(i,o){if(i&1){let e=k();l(0,"cx-configurator-attribute-product-card",7),d(1,"async"),d(2,"async"),V("handleDeselect",function(n){F(e);let r=u(2);return D(r.onDeselect(n))})("handleQuantity",function(n){F(e);let r=u(2);return D(r.onChangeValueQuantity(n))})("handleSelect",function(n){F(e);let r=u(2);return D(r.onSelect(n))}),p()}if(i&2){let e=o.$implicit,t=o.index,n=u(2);E("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),s("productCardOptions",n.extractProductCardParameters(f(1,2,n.loading$),f(2,4,n.preventAction$),e,t))}}function Mc(i,o){if(i&1&&(l(0,"div",1),_(1,Rc,3,2,"div",2)(2,Nc,3,6,"cx-configurator-attribute-product-card",3),p()),i&2){let e=u();E("id",e.createAttributeIdForConfigurator(e.attribute)),a(),s("ngIf",e.withQuantityOnAttributeLevel),a(),s("ngForOf",e.attribute==null?null:e.attribute.values)}}var Pc=()=>({placement:"auto",class:"cx-value-description",appendToBody:!0,displayCloseButton:!0});function Vc(i,o){if(i&1&&I(0,"img",10),i&2){let e=o.ngIf;E("src",e==null?null:e.url,St),E("alt",e==null?null:e.altText)}}function Gc(i,o){i&1&&I(0,"div",11)}function Uc(i,o){if(i&1){let e=k();l(0,"div",3)(1,"input",4),V("click",function(){let n=F(e).index,r=u(2);return D(r.onSelect(n))}),p(),l(2,"div",5)(3,"label",6),_(4,Vc,1,2,"img",7)(5,Gc,1,0,"div",8),h(6),I(7,"cx-configurator-price",9),p()()()}if(i&2){let e=o.$implicit,t=o.index,n=u().ngIf,r=u();E("id",r.createAttributeValueIdForConfigurator(r.attribute,e.valueCode)),a(),E("id",r.createAttributeValueIdForConfigurator(r.attribute,e.valueCode)+"-input"),E("name",r.createAttributeIdForConfigurator(r.attribute)),s("value",e.valueCode)("formControl",r.attributeCheckBoxForms[t])("cxFocus",B(16,Re,r.attribute.name+"-"+e.name)),N("aria-label",r.getAriaLabelGeneric(r.attribute,r.enrichValueWithPrice(e,n)))("aria-live",r.isLastSelected(r.attribute.name,e.valueCode)?"polite":null)("aria-describedby",r.createAttributeUiKey("label",r.attribute.name))("checked",r.attributeCheckBoxForms[t].value?"checked":null),a(2),E("id",r.createValueUiKey("label",r.attribute.name,e.valueCode)),E("for",r.createAttributeValueIdForConfigurator(r.attribute,e.valueCode)+"-input"),a(),s("ngIf",r.getImage(e)),a(),s("ngIf",!r.getImage(e)),a(),S(" ",r.getLabel(r.expMode,e.valueDisplay,e.valueCode)," "),a(),s("formula",r.extractValuePriceFormulaParameters(r.enrichValueWithPrice(e,n)))}}function Bc(i,o){if(i&1&&(x(0),_(1,Uc,8,18,"div",2),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function Lc(i,o){if(i&1&&I(0,"img",18),i&2){let e=o.ngIf,t=u(2).$implicit,n=u(2);E("src",e==null?null:e.url,St),E("alt",e==null?null:e.altText),s("ngClass",n.getImgStyleClasses(n.attribute,t,"cx-img"))}}function kc(i,o){if(i&1&&I(0,"div",19),i&2){let e=u(2).$implicit,t=u(2);s("ngClass",t.getImgStyleClasses(t.attribute,e,"cx-img-dummy"))}}function $c(i,o){if(i&1&&(l(0,"button",20),d(1,"cxTranslate"),I(2,"cx-icon",21),p()),i&2){let e=u(2).$implicit,t=u(2);s("cxPopover",e.description)("cxPopoverOptions",Ae(6,Pc)),N("aria-label",f(1,4,"configurator.a11y.description")),a(2),s("type",t.iconTypes.INFO)}}function jc(i,o){if(i&1){let e=k();l(0,"div",3)(1,"input",4),V("click",function(){F(e);let n=u().index,r=u(2);return D(!r.isReadOnly(r.attribute)&&r.onSelect(n))}),p(),l(2,"div",5)(3,"label",14),_(4,Lc,1,3,"img",15)(5,kc,1,1,"div",16),h(6),_(7,$c,3,7,"button",17),I(8,"cx-configurator-price",9),p()()()}if(i&2){let e=u(),t=e.$implicit,n=e.index,r=u().ngIf,c=u();E("id",c.createAttributeValueIdForConfigurator(c.attribute,t.valueCode)),a(),E("id",c.createAttributeValueIdForConfigurator(c.attribute,t.valueCode)+"-input"),E("name",c.createAttributeIdForConfigurator(c.attribute)),s("value",t.valueCode)("formControl",c.attributeCheckBoxForms[n])("cxFocus",B(20,Re,c.attribute.name+"-"+t.name)),N("aria-label",c.getAriaLabelGeneric(c.attribute,c.enrichValueWithPrice(t,r)))("aria-live",c.isLastSelected(c.attribute.name,t.valueCode)?"polite":null)("aria-describedby",c.createAttributeUiKey("label",c.attribute.name))("checked",c.attributeCheckBoxForms[n].value?"checked":null),a(2),ui("cursor",c.isReadOnly(c.attribute)?"default":"pointer"),E("id",c.createValueUiKey("label",c.attribute.name,t.valueCode)),E("for",c.createAttributeValueIdForConfigurator(c.attribute,t.valueCode)+"-input"),E("title",c.getLabel(c.expMode,t.valueDisplay,t.valueCode)),a(),s("ngIf",c.getImage(t)),a(),s("ngIf",!c.getImage(t)),a(),S(" ",c.getImageLabel(c.expMode,t.valueDisplay,t.valueCode)," "),a(),s("ngIf",t.description),a(),s("formula",c.extractValuePriceFormulaParameters(c.enrichValueWithPrice(t,r)))}}function qc(i,o){if(i&1&&(x(0),_(1,jc,9,22,"div",13),b()),i&2){let e=o.$implicit,t=u(2);a(),s("ngIf",t.isValueDisplayed(t.attribute,e))}}function Kc(i,o){if(i&1&&(x(0),_(1,qc,2,1,"ng-container",12),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function Qc(i,o){if(i&1&&I(0,"cx-configurator-price",8),i&2){let e=u(2);s("formula",e.extractPriceFormulaParameters())}}function Hc(i,o){if(i&1){let e=k();l(0,"div",5)(1,"cx-configurator-attribute-quantity",6),V("changeQuantity",function(n){F(e);let r=u();return D(r.onChangeQuantity(n))}),p(),_(2,Qc,1,1,"cx-configurator-price",7),p()}if(i&2){let e=u();a(),s("quantityOptions",e.extractQuantityParameters()),a(),s("ngIf",e.getSelectedValuePrice())}}function Wc(i,o){if(i&1&&I(0,"cx-configurator-show-more",16),i&2){let e=u().$implicit,t=u(2);s("text",e.description)("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,e.valueDisplay,e.valueCode))("tabIndex",0)}}function Yc(i,o){if(i&1){let e=k();l(0,"div",10)(1,"div",11)(2,"input",12),V("change",function(){let n=F(e).$implicit,r=u(2);return D(r.onSelect(n.valueCode))}),p(),l(3,"label",13),h(4),p(),_(5,Wc,1,4,"cx-configurator-show-more",14),p(),l(6,"div",15),I(7,"cx-configurator-price",8),p()()}if(i&2){let e=o.$implicit,t=u().ngIf,n=u();a(2),E("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),E("name",n.createAttributeIdForConfigurator(n.attribute)),s("formControl",n.attributeRadioButtonForm)("value",e.valueCode)("cxFocus",B(16,Re,n.attribute.name+"-"+e.name)),N("required",n.attribute.required===!0?"required":null)("name",n.createAttributeIdForConfigurator(n.attribute))("aria-label",n.getAriaLabel(n.enrichValueWithPrice(e,t),n.attribute))("aria-live",n.listenForPriceChanges&&n.attributeRadioButtonForm.value===e.valueCode?"polite":null)("checked",n.attributeRadioButtonForm.value===e.valueCode?"checked":null)("aria-describedby",n.createAttributeUiKey("label",n.attribute.name)),a(),E("id",n.createValueUiKey("label",n.attribute.name,e.valueCode)),E("for",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),a(),ne(n.getLabel(n.expMode,e.valueDisplay,e.valueCode)),a(),s("ngIf",e.description),a(2),s("formula",n.extractValuePriceFormulaParameters(n.enrichValueWithPrice(e,t)))}}function zc(i,o){if(i&1&&(x(0),_(1,Yc,8,18,"div",9),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function Xc(i,o){i&1&&I(0,"cx-configurator-attribute-numeric-input-field",17)}function Zc(i,o){i&1&&I(0,"cx-configurator-attribute-input-field",17)}function Jc(i,o){if(i&1&&I(0,"cx-configurator-show-more",12),i&2){let e=u(2).$implicit,t=u(2);s("text",e.description)("textSize",t.getValueDescriptionLength())("productName",t.getLabel(t.expMode,e.valueDisplay,e.valueCode))("tabIndex",0)}}function es(i,o){if(i&1&&(l(0,"div",5)(1,"span",6),h(2),p(),l(3,"div",7)(4,"label",8),h(5),p(),_(6,Jc,1,4,"cx-configurator-show-more",9),p(),l(7,"div",10),I(8,"cx-configurator-price",11),p()()),i&2){let e=o.ngIf,t=u().$implicit,n=u(2);a(),E("id",n.createValueUiKey("aria-label",n.attribute.name,t.valueCode)),a(),S(" ",n.getAriaLabel(n.attribute,n.enrichValueWithPrice(t,e))," "),a(2),E("id",n.createValueUiKey("label",n.attribute.name,t.valueCode)),a(),ne(n.getLabel(n.expMode,t.valueDisplay,t.valueCode)),a(),s("ngIf",t.description),a(2),s("formula",n.extractValuePriceFormulaParameters(n.enrichValueWithPrice(t,e)))}}function ts(i,o){if(i&1&&(x(0),_(1,es,9,6,"div",4),d(2,"async"),b()),i&2){let e=o.$implicit,t=u(2);a(),s("ngIf",e.selected&&f(2,1,t.changedPrices$))}}function is(i,o){if(i&1&&(x(0),_(1,ts,3,3,"ng-container",3),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function ns(i,o){if(i&1&&(x(0),l(1,"span",6),h(2),p(),l(3,"div",14)(4,"span",15),h(5),p()(),b()),i&2){let e=u(2);a(),E("id",e.createValueUiKey("aria-label",e.attribute.name,e.attribute.selectedSingleValue)),a(),S(" ",e.getAriaLabel(e.attribute)," "),a(3),ne(e.attribute.selectedSingleValue)}}function rs(i,o){if(i&1&&(x(0),l(1,"span",6),h(2),p(),l(3,"div",14)(4,"span",15),h(5),p()(),b()),i&2){let e=u(2);a(),E("id",e.createValueUiKey("aria-label",e.attribute.name,e.attribute.userInput)),a(),S(" ",e.getAriaLabel(e.attribute)," "),a(3),ne(e.attribute.userInput)}}function os(i,o){if(i&1&&_(0,ns,6,3,"ng-container",13)(1,rs,6,3,"ng-container",13),i&2){let e=u();s("ngIf",e.attribute.selectedSingleValue),a(),s("ngIf",e.attribute.userInput)}}var Un=(i,o,e)=>({value:i,attribute:o,price:e});function as(i,o){if(i&1&&(l(0,"option",7),d(1,"cxTranslate"),d(2,"cxTranslate"),d(3,"cxTranslate"),h(4),p()),i&2){let e,t=o.$implicit,n=u(2);s("label",n.getLabel(!1,t.valueDisplay,void 0,t))("selected",t.selected)("value",t.valueCode)("value",t.valueCode),N("aria-label",n.isRetractValue(t.valueCode)?Y(1,6,"configurator.a11y.forAttribute",Ue(15,Yt,t.valueDisplay,n.attribute.label)):t.valuePrice&&(t.valuePrice==null?null:t.valuePrice.value)!==0?Y(2,9,"configurator.a11y.selectedValueOfAttributeFullWithPrice",Et(18,Un,t.valueDisplay,n.attribute.label,(e=t.valuePriceTotal==null?null:t.valuePriceTotal.formattedValue)!==null&&e!==void 0?e:0)):Y(3,12,"configurator.a11y.selectedValueOfAttributeFull",Ue(22,Yt,t.valueDisplay,n.attribute.label))),a(4),S(" ",n.getLabel(!1,t.valueDisplay,void 0,t)," ")}}function cs(i,o){if(i&1){let e=k();l(0,"div",3)(1,"label",4),h(2),d(3,"cxTranslate"),p(),l(4,"select",5),d(5,"async"),V("change",function(){F(e);let n=u();return D(n.onSelect(n.attributeDropDownForm.value))}),_(6,as,5,25,"option",6),p()()}if(i&2){let e=u();a(),E("for",e.createAttributeIdForConfigurator(e.attribute)),a(),S(" ",Y(3,8,"configurator.a11y.listbox",B(13,tn,e.attribute.values==null?null:e.attribute.values.length))," "),a(2),E("id",e.createAttributeIdForConfigurator(e.attribute)),s("ngClass",B(15,ni,f(5,11,e.showRequiredErrorMessage$)))("formControl",e.attributeDropDownForm)("cxFocus",B(17,Re,e.attribute.name)),N("aria-describedby",e.createAttributeUiKey("label",e.attribute.name)),a(2),s("ngForOf",e.attribute.values)}}function ss(i,o){if(i&1){let e=k();l(0,"cx-configurator-attribute-product-card",8),V("handleDeselect",function(){F(e);let n=u();return D(n.onSelect(n.RETRACT_VALUE_CODE))}),p()}if(i&2){let e=u();E("id",e.createAttributeValueIdForConfigurator(e.attribute,e.selectedValue.valueCode)),s("productCardOptions",e.extractProductCardParameters())}}function us(i,o){if(i&1){let e=k();l(0,"div",9)(1,"cx-configurator-attribute-quantity",10),V("changeQuantity",function(n){F(e);let r=u();return D(r.onChangeQuantity(n,r.attributeDropDownForm))}),p(),I(2,"cx-configurator-price",11),p()}if(i&2){let e=u();a(),s("quantityOptions",e.extractQuantityParameters(e.attributeDropDownForm)),a(),s("formula",e.extractPriceFormulaParameters())}}function ls(i,o){if(i&1){let e=k();l(0,"div",4)(1,"cx-configurator-attribute-quantity",5),V("changeQuantity",function(n){F(e);let r=u(2);return D(r.onChangeQuantity(n))}),p(),I(2,"cx-configurator-price",6),p()}if(i&2){let e=u(2);a(),s("quantityOptions",e.extractQuantityParameters()),a(),s("formula",e.extractPriceFormulaParameters())}}function ps(i,o){if(i&1){let e=k();l(0,"cx-configurator-attribute-product-card",7),V("handleDeselect",function(){F(e);let n=u(2);return D(n.onSelect(""))})("handleSelect",function(n){F(e);let r=u(2);return D(r.onSelect(n))}),p()}if(i&2){let e=o.$implicit,t=o.index,n=u(2);s("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode))("productCardOptions",n.extractProductCardParameters(e,t))}}function ds(i,o){if(i&1&&(l(0,"div",1),_(1,ls,3,2,"div",2)(2,ps,1,2,"cx-configurator-attribute-product-card",3),p()),i&2){let e=u();E("id",e.createAttributeIdForConfigurator(e.attribute)),a(),s("ngIf",e.withQuantity),a(),s("ngForOf",e.attribute==null?null:e.attribute.values)}}var gs=i=>({placement:"auto",class:i,appendToBody:!0,displayCloseButton:!0});function fs(i,o){if(i&1&&I(0,"img",10),i&2){let e,t,n=u().$implicit,r=u(2);E("src",(e=r.getImage(n))==null?null:e.url,St),E("alt",(t=r.getImage(n))==null?null:t.altText)}}function ms(i,o){i&1&&I(0,"div",11)}function _s(i,o){if(i&1){let e=k();l(0,"div",3)(1,"input",4),V("click",function(){let n=F(e).$implicit,r=u(2);return D(r.onClick(n.valueCode))}),p(),l(2,"div",5)(3,"label",6),_(4,fs,1,2,"img",7)(5,ms,1,0,"div",8),h(6),I(7,"cx-configurator-price",9),p()()()}if(i&2){let e=o.$implicit,t=u().ngIf,n=u();E("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),a(),E("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)+"-input"),E("name",n.createAttributeIdForConfigurator(n.attribute)),s("value",e.valueCode)("formControl",n.attributeRadioButtonForm)("value",e.valueCode)("cxFocus",B(20,Re,n.attribute.name+"-"+e.name)),N("name",n.createAttributeIdForConfigurator(n.attribute))("required",n.attribute.required===!0?"required":null)("checked",n.attributeRadioButtonForm.value===e.valueCode?"checked":null)("aria-checked",n.attributeRadioButtonForm.value===e.valueCode?"true":"false")("aria-label",n.getAriaLabelGeneric(n.attribute,n.enrichValueWithPrice(e,t)))("aria-live",n.listenForPriceChanges&&n.attributeRadioButtonForm.value===e.valueCode?"polite":null)("aria-describedby",n.createAttributeUiKey("label",n.attribute.name)),a(2),E("id",n.createValueUiKey("label",n.attribute.name,e.valueCode)),E("for",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)+"-input"),a(),s("ngIf",n.getImage(e)),a(),s("ngIf",!n.getImage(e)),a(),S(" ",n.getLabel(n.expMode,e.valueDisplay,e.valueCode)," "),a(),s("formula",n.extractValuePriceFormulaParameters(n.enrichValueWithPrice(e,t)))}}function vs(i,o){if(i&1&&(x(0),_(1,_s,8,22,"div",2),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function Cs(i,o){if(i&1&&I(0,"img",18),i&2){let e,t,n=u(2).$implicit,r=u(2);E("src",(e=r.getImage(n))==null?null:e.url,St),E("alt",(t=r.getImage(n))==null?null:t.altText),s("ngClass",r.getImgStyleClasses(r.attribute,n,"cx-img"))}}function hs(i,o){if(i&1&&I(0,"div",19),i&2){let e=u(2).$implicit,t=u(2);s("ngClass",t.getImgStyleClasses(t.attribute,e,"cx-img-dummy"))}}function ys(i,o){if(i&1&&(l(0,"button",20),d(1,"cxTranslate"),I(2,"cx-icon",21),p()),i&2){let e=u(2).$implicit,t=u(2);s("cxPopover",e.description)("cxPopoverOptions",B(6,gs,t.getValueDescriptionStyleClasses())),N("aria-label",f(1,4,"configurator.a11y.description")),a(2),s("type",t.iconTypes.INFO)}}function xs(i,o){if(i&1){let e=k();l(0,"div",3)(1,"input",4),V("click",function(){F(e);let n=u().$implicit,r=u(2);return D(!r.isReadOnly(r.attribute)&&r.onClick(n.valueCode))}),p(),l(2,"div",5)(3,"label",14),_(4,Cs,1,3,"img",15)(5,hs,1,1,"div",16),h(6),_(7,ys,3,8,"button",17),I(8,"cx-configurator-price",9),p()()()}if(i&2){let e=u().$implicit,t=u().ngIf,n=u();E("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)),a(),E("id",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)+"-input"),E("name",n.createAttributeIdForConfigurator(n.attribute)),s("value",e.valueCode)("formControl",n.attributeRadioButtonForm)("value",e.valueCode)("cxFocus",B(24,Re,n.attribute.name+"-"+e.name)),N("name",n.createAttributeIdForConfigurator(n.attribute))("required",n.attribute.required===!0?"required":null)("checked",n.attributeRadioButtonForm.value===e.valueCode?"checked":null)("aria-checked",n.attributeRadioButtonForm.value===e.valueCode?"true":"false")("aria-label",n.getAriaLabelGeneric(n.attribute,n.enrichValueWithPrice(e,t)))("aria-live",n.listenForPriceChanges&&n.attributeRadioButtonForm.value===e.valueCode?"polite":null)("aria-describedby",n.createAttributeUiKey("label",n.attribute.name)),a(2),ui("cursor",n.isReadOnly(n.attribute)?"default":"pointer"),E("id",n.createValueUiKey("label",n.attribute.name,e.valueCode)),E("for",n.createAttributeValueIdForConfigurator(n.attribute,e.valueCode)+"-input"),E("title",n.getLabel(n.expMode,e.valueDisplay,e.valueCode)),a(),s("ngIf",n.getImage(e)),a(),s("ngIf",!n.getImage(e)),a(),S(" ",n.getImageLabel(n.expMode,e.valueDisplay,e.valueCode)," "),a(),s("ngIf",e.description),a(),s("formula",n.extractValuePriceFormulaParameters(n.enrichValueWithPrice(e,t)))}}function bs(i,o){if(i&1&&(x(0),_(1,xs,9,26,"div",13),b()),i&2){let e=o.$implicit,t=u(2);a(),s("ngIf",t.isValueDisplayed(t.attribute,e))}}function Is(i,o){if(i&1&&(x(0),_(1,bs,2,1,"ng-container",12),b()),i&2){let e=u();a(),s("ngForOf",e.attribute.values)}}function Ts(i,o){i&1&&(l(0,"span",8),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.multipleWarnings"),""))}function Ss(i,o){i&1&&(x(0),I(1,"cx-icon",10),b())}function Es(i,o){i&1&&(x(0),I(1,"cx-icon",11),b())}function ws(i,o){if(i&1){let e=k();l(0,"button",9),V("click",function(){F(e);let n=u(3);return D(n.toggleWarnings())}),h(1),d(2,"cxTranslate"),_(3,Ss,2,0,"ng-container",0)(4,Es,2,0,"ng-container",0),p()}if(i&2){let e=u(3);N("aria-expanded",e.showWarnings),a(),S(" ",f(2,4,"configurator.header.reviewWarnings")," "),a(2),s("ngIf",!e.showWarnings),a(),s("ngIf",e.showWarnings)}}function Os(i,o){if(i&1&&(l(0,"div",12),h(1),p()),i&2){let e=o.$implicit,t=u(2).ngIf,n=u();se("open",n.showWarnings||(t==null||t.warningMessages==null?null:t.warningMessages.length)===1),a(),S(" ",e," ")}}function As(i,o){if(i&1&&(x(0),l(1,"div",1)(2,"span",2),I(3,"cx-icon",3),p(),_(4,Ts,3,3,"span",4)(5,ws,5,6,"button",5),l(6,"div",6),_(7,Os,2,3,"div",7),p()(),b()),i&2){let e,t,n=u().ngIf;a(4),s("ngIf",((e=n==null||n.warningMessages==null?null:n.warningMessages.length)!==null&&e!==void 0?e:0)>1),a(),s("ngIf",((t=n==null||n.warningMessages==null?null:n.warningMessages.length)!==null&&t!==void 0?t:0)>1),a(),se("inline",(n==null||n.warningMessages==null?null:n.warningMessages.length)===1),a(),s("ngForOf",n.warningMessages)}}function Fs(i,o){i&1&&(l(0,"span",19),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.multipleErrors"),""))}function Ds(i,o){i&1&&(x(0),I(1,"cx-icon",10),b())}function Rs(i,o){i&1&&(x(0),I(1,"cx-icon",11),b())}function Ns(i,o){if(i&1){let e=k();l(0,"button",20),V("click",function(){F(e);let n=u(3);return D(n.toggleErrors())}),h(1),d(2,"cxTranslate"),_(3,Ds,2,0,"ng-container",0)(4,Rs,2,0,"ng-container",0),p()}if(i&2){let e=u(3);N("aria-expanded",e.showErrors),a(),S(" ",f(2,4,"configurator.header.reviewErrors")," "),a(2),s("ngIf",!e.showErrors),a(),s("ngIf",e.showErrors)}}function Ms(i,o){if(i&1&&(l(0,"div",21),h(1),p()),i&2){let e=o.$implicit,t=u(2).ngIf,n=u();se("open",n.showErrors||(t==null||t.errorMessages==null?null:t.errorMessages.length)===1),a(),S(" ",e," ")}}function Ps(i,o){if(i&1&&(x(0),l(1,"div",13)(2,"span",2),I(3,"cx-icon",14),p(),_(4,Fs,3,3,"span",15)(5,Ns,5,6,"button",16),l(6,"div",17),_(7,Ms,2,3,"div",18),p()(),b()),i&2){let e,t,n=u().ngIf;a(4),s("ngIf",((e=n==null||n.errorMessages==null?null:n.errorMessages.length)!==null&&e!==void 0?e:0)>1),a(),s("ngIf",((t=n==null||n.errorMessages==null?null:n.errorMessages.length)!==null&&t!==void 0?t:0)>1),a(),se("inline",(n==null||n.errorMessages==null?null:n.errorMessages.length)===1),a(),s("ngForOf",n.errorMessages)}}function Vs(i,o){if(i&1&&(x(0),_(1,As,8,5,"ng-container",0)(2,Ps,8,5,"ng-container",0),b()),i&2){let e,t,n=o.ngIf;a(),s("ngIf",((e=n==null||n.warningMessages==null?null:n.warningMessages.length)!==null&&e!==void 0?e:0)>0),a(),s("ngIf",((t=n==null||n.errorMessages==null?null:n.errorMessages.length)!==null&&t!==void 0?t:0)>0)}}function Gs(i,o){if(i&1&&(x(0),I(1,"cx-icon",1),h(2),b()),i&2){let e=u();a(),s("type",e.iconTypes.WARNING),a(),S(" ",e.currentGroup.name,`
`)}}var Bn=i=>({number:i});function Us(i,o){if(i&1&&(x(0),l(1,"div",1),d(2,"cxTranslate"),d(3,"cxTranslate"),l(4,"span",2),h(5),d(6,"cxTranslate"),p()(),l(7,"span",2),h(8),d(9,"cxTranslate"),p(),b()),i&2){let e=u();a(),N("aria-label",Y(2,3,"configurator.conflict.suggestionTitle",B(15,Bn,e.suggestionNumber+1))+" "+Y(3,6,"configurator.conflict.suggestionText",B(17,mt,e.attribute.label))),a(4),ne(Y(6,9,"configurator.conflict.suggestionTitle",B(19,Bn,e.suggestionNumber+1))),a(3),ne(Y(9,12,"configurator.conflict.suggestionText",B(21,mt,e.attribute.label)))}}function Bs(i,o){i&1&&(x(0),h(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.exit")," "))}function Ls(i,o){i&1&&(x(0),h(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.exitMobile")," "))}function ks(i,o){if(i&1&&(x(0),_(1,Bs,3,3,"ng-container",0),d(2,"async"),_(3,Ls,3,3,"ng-container",0),d(4,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,2,e.isDesktop())),a(2),s("ngIf",f(4,4,e.isMobile()))}}function $s(i,o){i&1&&(x(0),h(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.cancelConfigurationMobile")," "))}function js(i,o){i&1&&(x(0),h(1),d(2,"cxTranslate"),b()),i&2&&(a(),S(" ",f(2,1,"configurator.button.cancelConfiguration")," "))}function qs(i,o){if(i&1&&(x(0),_(1,$s,3,3,"ng-container",0),d(2,"async"),_(3,js,3,3,"ng-container",0),d(4,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,2,e.isMobile())),a(2),s("ngIf",f(4,4,e.isDesktop()))}}function Ks(i,o){if(i&1){let e=k();x(0),l(1,"button",1),d(2,"cxTranslate"),d(3,"cxTranslate"),V("click",function(){F(e);let n=u();return D(n.exitConfiguration())}),_(4,ks,5,6,"ng-container",0)(5,qs,5,6,"ng-container",0),p(),b()}if(i&2){let e=o.ngIf;a(),N("title",e.routerData.isOwnerCartEntry?f(2,3,"configurator.button.cancelConfiguration"):f(3,5,"configurator.button.exit")),a(3),s("ngIf",!e.routerData.isOwnerCartEntry),a(),s("ngIf",e.routerData.isOwnerCartEntry)}}var Qs=(i,o,e,t,n,r,c)=>({componentKey:"Header",attribute:i,owner:o,group:e,language:t,expMode:n,isNavigationToGroupEnabled:r,isPricingAsync:c}),Hs=(i,o,e,t,n,r,c)=>({componentKey:i,attribute:o,owner:e,group:t,language:n,expMode:r,isPricingAsync:c}),Ws=(i,o,e,t,n,r)=>({componentKey:"Footer",attribute:i,owner:o,group:e,language:t,expMode:n,isPricingAsync:r});function Ys(i,o){if(i&1&&(x(0),I(1,"cx-configurator-conflict-description",3),b()),i&2){let e=u();a(),s("currentGroup",e.group)}}function zs(i,o){if(i&1&&(x(0),I(1,"cx-configurator-conflict-suggestion",5),b()),i&2){let e=u(),t=e.$implicit,n=e.index,r=u();a(),s("currentGroup",r.group)("attribute",t)("suggestionNumber",n)}}function Xs(i,o){if(i&1&&(x(0),I(1,"div",6),d(2,"async"),I(3,"div",6),d(4,"async"),I(5,"div",6),d(6,"async"),b()),i&2){let e,t,n,r=o.ngIf,c=u().$implicit,g=u();a(),s("cxConfiguratorAttributeComponent",Cn(9,Qs,c,g.owner,g.group,r,(e=f(2,3,g.expMode))!==null&&e!==void 0?e:!1,g.isNavigationToGroupEnabled,g.isPricingAsync)),a(2),s("cxConfiguratorAttributeComponent",Cn(17,Hs,g.getComponentKey(c),c,g.owner,g.group,r,(t=f(4,5,g.expMode))!==null&&t!==void 0?t:!1,g.isPricingAsync)),a(2),s("cxConfiguratorAttributeComponent",Lr(25,Ws,c,g.owner,g.group,r,(n=f(6,7,g.expMode))!==null&&n!==void 0?n:!1,g.isPricingAsync))}}function Zs(i,o){if(i&1&&(l(0,"div",4),_(1,zs,2,3,"ng-container",1)(2,Xs,7,32,"ng-container",1),d(3,"async"),p()),i&2){let e=o.$implicit,t=u();se("cx-hidden",!e.visible),a(),s("ngIf",t.isConflictGroupType(t.group.groupType)),a(),s("ngIf",f(3,4,t.activeLanguage$))}}function Js(i,o){i&1&&(l(0,"h3",11),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.resolveIssue")," "))}function eu(i,o){i&1&&(l(0,"div",11),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.header.resolveIssue")," "))}function tu(i,o){if(i&1&&(x(0),I(1,"cx-configurator-group",12),b()),i&2){let e=o.ngIf,t=u().ngIf;a(),s("group",e)("owner",t.owner)("isNavigationToGroupEnabled",!1)}}function iu(i,o){if(i&1&&(x(0),_(1,tu,2,3,"ng-container",10),d(2,"async"),b()),i&2){let e=u();a(),s("ngIf",f(2,1,e.conflictGroup$))}}var Ft=()=>[0,1,2];function nu(i,o){if(i&1&&(x(0),I(1,"cx-configurator-group",3),b()),i&2){let e=o.ngIf,t=u(2).ngIf,n=u();a(),s("group",e)("owner",t.owner)("isNavigationToGroupEnabled",n.isNavigationToGroupEnabled(t))("isPricingAsync",t.isPricingAsync)}}function ru(i,o){if(i&1&&(x(0),_(1,nu,2,4,"ng-container",2),d(2,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,1,e.currentGroup$))}}function ou(i,o){if(i&1&&(x(0),_(1,ru,3,3,"ng-container",1),b()),i&2){let e=o.ngIf,t=u(),n=oe(3);a(),s("ngIf",!t.isDialogActive(e))("ngIfElse",n)}}function au(i,o){i&1&&(x(0),I(1,"div",20),b())}function cu(i,o){if(i&1&&(l(0,"div",15)(1,"div",16),I(2,"div",17)(3,"div",18),p(),l(4,"div",19),_(5,au,2,0,"ng-container",2),p()()),i&2){let e=o.index;a(5),s("ngIf",e!==0)}}function su(i,o){i&1&&(x(0),l(1,"div",5)(2,"div",6),I(3,"div",7)(4,"div",8),p(),l(5,"div",9),I(6,"div",10)(7,"div",11),p()(),l(8,"div",5)(9,"div",6),I(10,"div",7)(11,"div",8),l(12,"div",12),I(13,"div",13),p()(),l(14,"div",9),_(15,cu,6,1,"div",14),p()(),b()),i&2&&(a(15),s("ngForOf",Ae(1,Ft)))}function uu(i,o){i&1&&_(0,su,16,2,"ng-container",4),i&2&&s("ngForOf",Ae(1,Ft))}var lu=["groupItem"],pu=()=>({key:"cx-menu-back"}),du=()=>[0,1,2,3,4,5,6,7,8,9];function gu(i,o){if(i&1){let e=k();l(0,"button",9,1),d(2,"cxTranslate"),d(3,"cxTranslate"),V("click",function(){F(e);let n=u(3).ngIf,r=u(4);return D(r.navigateUp(n))})("keydown",function(n){F(e);let r=u(2),c=r.$implicit,g=r.index,T=u().ngIf,y=u(4);return D(y.switchGroupOnArrowPress(n,g,c,T))}),I(4,"cx-icon",10),h(5),d(6,"cxTranslate"),p()}if(i&2){let e=u().ngIf,t=u(6);s("cxFocus",Ae(11,pu)),N("aria-selected",!1)("aria-label",t.isConflictGroupType(e.groupType)?f(2,5,"configurator.a11y.conflictBack"):f(3,7,"configurator.a11y.groupBack")),a(4),s("type",t.iconTypes.CARET_LEFT),a(),S(" ",f(6,9,"configurator.button.back")," ")}}function fu(i,o){if(i&1&&(x(0),_(1,gu,7,12,"button",8),b()),i&2){let e=o.ngIf,t=u().index;a(),s("ngIf",e!==null&&t===0)}}function mu(i,o){if(i&1&&(I(0,"cx-icon",21),d(1,"cxTranslate"),d(2,"cxTranslate")),i&2){let e=u(2).$implicit,t=u(5);E("id",t.createIconId(t.iconTypes.CARET_RIGHT,e.id)),E("title",f(1,4,"configurator.icon.subgroup")),s("type",t.iconTypes.CARET_RIGHT),N("aria-label",f(2,6,"configurator.a11y.iconSubGroup"))}}function _u(i,o){if(i&1){let e=k();x(0),l(1,"button",11,1),d(3,"async"),d(4,"async"),V("click",function(){F(e);let n=u().$implicit,r=u().ngIf,c=u(4);return D(c.click(n,r))})("keydown",function(n){F(e);let r=u(),c=r.$implicit,g=r.index,T=u().ngIf,y=u(4);return D(y.switchGroupOnArrowPress(n,g,c,T))}),l(5,"span",12),h(6),p(),l(7,"div",13)(8,"div",14),h(9),p(),l(10,"div",15),I(11,"cx-icon",16),d(12,"cxTranslate"),d(13,"cxTranslate"),p(),l(14,"div",15),I(15,"cx-icon",17),d(16,"cxTranslate"),d(17,"cxTranslate"),I(18,"cx-icon",18),d(19,"cxTranslate"),d(20,"cxTranslate"),p(),l(21,"div",19),_(22,mu,3,8,"cx-icon",20),p()()(),b()}if(i&2){let e=u().$implicit,t=u().ngIf,n=u(3).ngIf,r=u();a(),se("DISABLED",!e.configurable)("cx-menu-conflict",r.isConflictGroupType(e.groupType))("active",r.isGroupSelected(e.id,t.id))("disable",!e.configurable),E("id",e.id),E("ngClass",f(3,32,r.getGroupStatusStyles(e,n))),s("cxFocus",B(48,Re,e.id))("tabindex",r.getTabIndex(e,t.id)),N("aria-describedby",f(4,34,r.getAriaDescribedby(e,n)))("aria-selected",r.isGroupSelected(e.id,t.id))("aria-controls",r.isGroupSelected(e.id,t.id)?r.createAriaControls(e.id):null)("aria-label",r.getAriaLabel(e)),a(4),E("title",e.description),a(),ne(r.getGroupMenuTitle(e)),a(3),S(" ",r.getConflictNumber(e)," "),a(2),E("id",r.createIconId(r.iconTypes.WARNING,e.id)),E("title",f(12,36,"configurator.icon.groupConflict")),s("type",r.iconTypes.WARNING),N("aria-label",f(13,38,"configurator.a11y.iconConflict")),a(4),E("id",r.createIconId(r.iconTypes.ERROR,e.id)),E("title",f(16,40,"configurator.icon.groupIncomplete")),s("type",r.iconTypes.ERROR),N("aria-label",f(17,42,"configurator.a11y.iconIncomplete")),a(3),E("id",r.createIconId(r.iconTypes.SUCCESS,e.id)),E("title",f(19,44,"configurator.icon.groupComplete")),s("type",r.iconTypes.SUCCESS),N("aria-label",f(20,46,"configurator.a11y.iconComplete")),a(4),s("ngIf",r.hasSubGroups(e))}}function vu(i,o){if(i&1&&(x(0),_(1,fu,2,1,"ng-container",6),d(2,"async"),_(3,_u,23,50,"ng-container",6),d(4,"async"),b()),i&2){let e=o.$implicit,t=u(5);a(),s("ngIf",f(2,2,t.displayedParentGroup$)),a(2),s("ngIf",f(4,4,t.displayMenuItem(e)))}}function Cu(i,o){if(i&1&&(x(0),_(1,vu,5,6,"ng-container",7),b()),i&2){let e=u().ngIf,t=u(3);a(),s("ngForOf",e)("ngForTrackBy",t.trackByFn)}}function hu(i,o){if(i&1&&(x(0),_(1,Cu,2,2,"ng-container",6),d(2,"async"),b()),i&2){let e=u(3);a(),s("ngIf",f(2,1,e.currentGroup$))}}function yu(i,o){if(i&1&&(x(0),l(1,"div",3)(2,"span",4),h(3),d(4,"cxTranslate"),p(),l(5,"span",5),h(6),d(7,"cxTranslate"),p(),_(8,hu,3,3,"ng-container",6),d(9,"async"),p(),b()),i&2){let e=u(2);a(3),S(" ",f(4,3,"configurator.a11y.listOfGroups")," "),a(3),S(" ",f(7,5,"configurator.a11y.inListOfGroups")," "),a(2),s("ngIf",f(9,7,e.displayedGroups$))}}function xu(i,o){if(i&1&&(x(0),_(1,yu,10,9,"ng-container",2),b()),i&2){let e=o.ngIf,t=u(),n=oe(3);a(),s("ngIf",!t.isDialogActive(e))("ngIfElse",n)}}function bu(i,o){i&1&&(l(0,"div",24),I(1,"div",25),p())}function Iu(i,o){i&1&&(l(0,"div",22),_(1,bu,2,0,"div",23),p()),i&2&&(a(),s("ngForOf",Ae(1,du)))}function Tu(i,o){i&1&&(x(0),I(1,"cx-hamburger-menu"),b())}function Su(i,o){if(i&1&&(x(0),l(1,"div",2),_(2,Tu,2,0,"ng-container",3),d(3,"async"),h(4),p(),b()),i&2){let e=o.ngIf,t=u();a(2),s("ngIf",f(3,2,t.isMobile())),a(2),S(" ",t.getGroupTitle(e)," ")}}function Eu(i,o){i&1&&I(0,"div",4)}function wu(i,o){if(i&1&&(x(0),l(1,"div",4),h(2),p(),l(3,"div",5),I(4,"cx-configurator-price",6),p(),b()),i&2){let e=u();a(2),S(" ",e.attributeOverview.attribute," "),a(2),s("formula",e.extractPriceFormulaParameters())}}function Ou(i,o){if(i&1&&(l(0,"div",5),I(1,"cx-configurator-price",6),p(),l(2,"div",4),h(3),p()),i&2){let e=u();a(),s("formula",e.extractPriceFormulaParameters()),a(2),S(" ",e.attributeOverview.attribute," ")}}function Au(i,o){if(i&1&&(l(0,"span",12),h(1),d(2,"cxTranslate"),p()),i&2){let e=u(2);a(),vn(" ",f(2,2,"configurator.attribute.id"),": ",e.attributeOverview.productCode,"")}}function Fu(i,o){if(i&1&&(l(0,"div",13)(1,"span",14),h(2),d(3,"cxTranslate"),p(),l(4,"span",15),h(5),d(6,"cxNumeric"),p()()),i&2){let e=u(2);a(2),ne(f(3,2,"configurator.attribute.quantity")),a(3),ne(f(6,4,e.attributeOverview.quantity))}}function Du(i,o){if(i&1&&(l(0,"div",16)(1,"span",14),h(2),d(3,"cxTranslate"),p(),l(4,"span",15),h(5),p()()),i&2){let e=u(2);a(2),ne(f(3,2,"configurator.overviewForm.itemPrice")),a(3),ne(e.attributeOverview.valuePrice==null?null:e.attributeOverview.valuePrice.formattedValue)}}function Ru(i,o){if(i&1&&(x(0),l(1,"div",1)(2,"div",2),I(3,"cx-media",3),p(),l(4,"span",4),h(5),p(),l(6,"div",5)(7,"div"),h(8),p(),_(9,Au,3,4,"span",6)(10,Fu,7,6,"div",7)(11,Du,6,4,"div",8),p()(),l(12,"div",9)(13,"span",10),h(14),p(),I(15,"cx-configurator-price",11),p(),b()),i&2){let e=o.ngIf,t=u();a(3),s("container",t.getProductPrimaryImage(e)),a(2),S(" ",t.getAriaLabel()," "),a(3),S(" ",t.attributeOverview.value," "),a(),s("ngIf",t.attributeOverview==null?null:t.attributeOverview.productCode),a(),s("ngIf",t.displayQuantity()),a(),s("ngIf",t.displayPrice()),a(3),ne(t.attributeOverview.attribute),a(),s("formula",t.extractPriceFormulaParameters())}}var $n=i=>({group:i});function Nu(i,o){if(i&1){let e=k();x(0),l(1,"button",2),d(2,"cxTranslate"),V("keydown.delete",function(){let n=F(e).$implicit,r=u();return D(r.onAttrFilterRemove(r.config,n))})("click",function(){let n=F(e).$implicit,r=u();return D(r.onAttrFilterRemove(r.config,n))}),h(3),d(4,"cxTranslate"),l(5,"span",3),I(6,"cx-icon",4),p()(),b()}if(i&2){let e=o.$implicit,t=u();a(),_n("id","cx-overview-filter-applied-",e===t.attributeFilterTypes.PRICE_RELEVANT?t.attributeFilterTypes.PRICE_RELEVANT:t.attributeFilterTypes.USER_INPUT,""),E("title",f(2,5,e===t.attributeFilterTypes.PRICE_RELEVANT?"configurator.overviewFilter.removeByPrice":"configurator.overviewFilter.removeMySelections")),a(2),S(" ",f(4,7,e===t.attributeFilterTypes.PRICE_RELEVANT?"configurator.overviewFilter.byPrice":"configurator.overviewFilter.mySelections")," "),a(3),s("type",t.iconTypes.CLOSE)}}function Mu(i,o){if(i&1){let e=k();x(0),l(1,"button",2),d(2,"cxTranslate"),V("keydown.delete",function(){let n=F(e).$implicit,r=u();return D(r.onGroupFilterRemove(r.config,n))})("click",function(){let n=F(e).$implicit,r=u();return D(r.onGroupFilterRemove(r.config,n))}),h(3),l(4,"span",3),I(5,"cx-icon",4),p()(),b()}if(i&2){let e=o.$implicit,t=u();a(),_n("id","cx-overview-filter-applied-",e,""),E("title",Y(2,5,"configurator.overviewFilter.removeByGroup",B(8,$n,t.getGroupFilterDescription(t.config.overview,e)))),a(2),S(" ",t.getGroupFilterDescription(t.config.overview,e)," "),a(2),s("type",t.iconTypes.CLOSE)}}function Pu(i,o){if(i&1){let e=k();x(0),l(1,"button",5),d(2,"cxTranslate"),V("keydown.delete",function(){F(e);let n=u();return D(n.onRemoveAll(n.config))})("click",function(){F(e);let n=u();return D(n.onRemoveAll(n.config))}),h(3),d(4,"cxTranslate"),l(5,"span",3),I(6,"cx-icon",4),p()(),b()}if(i&2){let e=u();a(),E("title",f(2,3,"configurator.overviewFilter.removeAllFilters")),a(2),S(" ",f(4,5,"configurator.overviewFilter.removeAll")," "),a(3),s("type",e.iconTypes.CLOSE)}}var Vu=i=>({groupName:i});function Gu(i,o){if(i&1&&(x(0),I(1,"cx-configurator-overview-filter-bar",2),b()),i&2){let e=u();a(),s("config",e.config)}}function Uu(i,o){if(i&1){let e=k();x(0),l(1,"div",3),h(2),d(3,"cxTranslate"),p(),l(4,"div",4)(5,"div",5)(6,"input",6),d(7,"cxTranslate"),V("change",function(){F(e);let n=u();return D(n.onFilter(n.config))}),p(),l(8,"label",7),h(9),d(10,"cxTranslate"),p()()(),l(11,"div",4)(12,"div",5)(13,"input",8),d(14,"cxTranslate"),V("change",function(){F(e);let n=u();return D(n.onFilter(n.config))}),p(),l(15,"label",9),h(16),d(17,"cxTranslate"),p()()(),b()}if(i&2){let e=u();a(2),S(" ",f(3,7,"configurator.overviewFilter.byOption")," "),a(4),s("formControl",e.priceFilter),N("aria-label",f(7,9,"configurator.a11y.filterOverviewByPrice")),a(3),S(" ",f(10,11,"configurator.overviewFilter.byPrice"),""),a(4),s("formControl",e.mySelectionsFilter),N("aria-label",f(14,13,"configurator.a11y.filterOverviewByMySelections")),a(3),S(" ",f(17,15,"configurator.overviewFilter.mySelections"),"")}}function Bu(i,o){if(i&1){let e=k();x(0),l(1,"div",4)(2,"div",5)(3,"input",11),d(4,"cxTranslate"),V("change",function(){F(e);let n=u(2);return D(n.onFilter(n.config))}),p(),l(5,"label",12),h(6),p()()(),b()}if(i&2){let e=o.$implicit,t=o.index,n=u(2);a(3),E("id","cx-configurator-overview-filter-option-group-"+e.id),E("name","config-overview-group-filter-"+e.id),s("formControl",n.groupFilters[t]),N("aria-label",Y(4,6,"configurator.a11y.filterOverviewByGroup",B(9,Vu,e.groupDescription))),a(2),E("for","cx-configurator-overview-filter-option-group-"+e.id),a(),ne(e.groupDescription)}}function Lu(i,o){if(i&1&&(x(0),l(1,"div",3),h(2),d(3,"cxTranslate"),p(),_(4,Bu,7,11,"ng-container",10),b()),i&2){let e=u();a(2),S(" ",f(3,2,"configurator.overviewFilter.byGroup")," "),a(2),s("ngForOf",e.config.overview.possibleGroups)}}function ku(i,o){i&1&&(l(0,"div",13),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.overviewFilter.noFiltersAvailable"),`
`))}var $u=["filterButton"],Io=i=>({numAppliedFilters:i});function ju(i,o){if(i&1){let e=k();x(0),l(1,"button",5,1),d(3,"cxTranslate"),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.openFilterModal(n))}),h(4),d(5,"cxTranslate"),p(),b()}if(i&2){let e=u().ngIf,t=u();a(),E("title",Y(3,2,t.getNumFilters(e.overview)>0?"configurator.a11y.filterOverviewWithCount":"configurator.a11y.filterOverview",B(8,Io,t.getNumFilters(e.overview)))),a(3),S(" ",Y(5,5,t.getNumFilters(e.overview)>0?"configurator.button.filterOverviewWithCount":"configurator.button.filterOverview",B(10,Io,t.getNumFilters(e.overview)))," ")}}function qu(i,o){if(i&1&&(x(0),_(1,ju,6,12,"ng-container",3),d(2,"async"),I(3,"cx-configurator-overview-filter-bar",4),b()),i&2){let e=o.ngIf,t=u();a(),s("ngIf",!f(2,2,t.isDisplayOnlyVariant())||(e.overview.possibleGroups==null?null:e.overview.possibleGroups.length)!==1),a(2),s("config",e)}}function Ku(i,o){i&1&&I(0,"div",6)}function Qu(i,o){i&1&&(l(0,"h3",8),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.overviewFilter.title")," "))}function Hu(i,o){i&1&&(l(0,"div",8),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.overviewFilter.title")," "))}function Wu(i,o){if(i&1&&(x(0),l(1,"div",9),I(2,"cx-configurator-overview-filter",10),p(),b()),i&2){let e=o.ngIf;a(2),s("config",e)("showFilterBar",!1)}}var Ro=i=>({overviewGroups:i,level:1,idPrefix:""}),No=(i,o,e)=>({overviewGroups:i,level:o,idPrefix:e}),Yu=()=>[0,1,2,3,4,5];function zu(i,o){i&1&&Bt(0)}function Xu(i,o){if(i&1&&(x(0),_(1,zu,1,0,"ng-container",4),b()),i&2){let e=u().ngIf;u();let t=oe(5);a(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",B(2,Ro,e.overview==null?null:e.overview.groups))}}function Zu(i,o){if(i&1&&(x(0),_(1,Xu,2,4,"ng-container",3),b()),i&2){let e=o.ngIf,t=u(),n=oe(3);a(),s("ngIf",t.hasAttributes(e))("ngIfElse",n)}}function Ju(i,o){i&1&&(l(0,"div",5)(1,"h2"),h(2),d(3,"cxTranslate"),p(),l(4,"p"),h(5),d(6,"cxTranslate"),p()()),i&2&&(a(2),ne(f(3,2,"configurator.overviewForm.noAttributeHeader")),a(3),ne(f(6,4,"configurator.overviewForm.noAttributeText")))}function el(i,o){if(i&1&&(x(0),I(1,"cx-configurator-overview-attribute",16),b()),i&2){let e=u().$implicit;a(),s("attributeOverview",e)}}function tl(i,o){if(i&1&&(x(0),I(1,"cx-configurator-cpq-overview-attribute",16),b()),i&2){let e=u().$implicit;a(),s("attributeOverview",e)}}function il(i,o){if(i&1&&(x(0),I(1,"cx-configurator-overview-attribute",16),b()),i&2){let e=u().$implicit;a(),s("attributeOverview",e)}}function nl(i,o){if(i&1&&(l(0,"div",12),x(1,13),_(2,el,2,1,"ng-container",14)(3,tl,2,1,"ng-container",14)(4,il,2,1,"ng-container",15),b(),p()),i&2){let e=o.$implicit,t=o.index,n=u().$implicit,r=u(2);s("ngClass",r.getStyleClasses(n.attributes,t)),a(),s("ngSwitch",e==null?null:e.type),a(),s("ngSwitchCase",r.attributeOverviewType.GENERAL),a(),s("ngSwitchCase",r.attributeOverviewType.BUNDLE)}}function rl(i,o){i&1&&Bt(0)}function ol(i,o){if(i&1&&(x(0),_(1,rl,1,0,"ng-container",4),b()),i&2){let e=u().$implicit,t=u(),n=t.level,r=t.idPrefix,c=u(),g=oe(5);a(),s("ngTemplateOutlet",g)("ngTemplateOutletContext",Et(2,No,e.subGroups,n+1,c.getPrefixId(r,e.id)))}}function al(i,o){if(i&1&&(x(0),l(1,"div",8)(2,"span",6),h(3),d(4,"cxTranslate"),p(),l(5,"h2",9)(6,"span"),h(7),p()(),_(8,nl,5,4,"div",10)(9,ol,2,6,"ng-container",11),p(),b()),i&2){let e=o.$implicit,t=u(),n=t.level,r=t.idPrefix,c=u();a(),E("id",c.getGroupId(r,e.id)),s("ngClass",c.getGroupLevelStyleClasses(n,e.subGroups)),a(2),S(" ",Y(4,6,"configurator.a11y.group",B(9,$n,e.groupDescription))," "),a(4),ne(e.groupDescription),a(),s("ngForOf",e.attributes),a(),s("ngIf",(e.subGroups==null?null:e.subGroups.length)>0)}}function cl(i,o){if(i&1&&(l(0,"span",6),h(1),d(2,"cxTranslate"),p(),_(3,al,10,11,"ng-container",7)),i&2){let e=o.overviewGroups;a(),S(" ",f(2,2,"configurator.a11y.listOfAttributesAndValues")," "),a(2),s("ngForOf",e)}}function sl(i,o){i&1&&(x(0),l(1,"div",20),I(2,"div",21),p(),l(3,"div",22),I(4,"div",23),p(),I(5,"div",24),b())}function ul(i,o){i&1&&(x(0),l(1,"div",17),I(2,"div",18),l(3,"div",19),_(4,sl,6,0,"ng-container",7),p()(),b()),i&2&&(a(4),s("ngForOf",Ae(1,Yu)))}function ll(i,o){i&1&&_(0,ul,5,2,"ng-container",7),i&2&&s("ngForOf",Ae(1,Ft))}function pl(i,o){i&1&&Bt(0)}function dl(i,o){if(i&1&&(x(0),_(1,pl,1,0,"ng-container",2),b()),i&2){let e=u(),t=oe(2);a(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",B(2,Ro,e.config.overview.groups))}}function gl(i,o){i&1&&Bt(0)}function fl(i,o){if(i&1&&(x(0),_(1,gl,1,0,"ng-container",2),b()),i&2){let e=u().$implicit,t=u(),n=t.level,r=t.idPrefix,c=u(),g=oe(2);a(),s("ngTemplateOutlet",g)("ngTemplateOutletContext",Et(2,No,e.subGroups,n+1,c.getPrefixId(r,e.id)))}}function ml(i,o){if(i&1){let e=k();x(0),l(1,"li",4)(2,"button",5),d(3,"cxTranslate"),V("click",function(){let n=F(e).$implicit,r=u().idPrefix,c=u();return D(c.navigateToGroup(r,n.id))}),l(4,"span",6),h(5),p(),I(6,"cx-icon",7),p(),_(7,fl,2,6,"ng-container",1),p(),b()}if(i&2){let e=o.$implicit,t=u(),n=t.level,r=t.idPrefix,c=u();a(),s("ngClass",c.getGroupLevelStyleClasses(n)),a(),E("id",c.getMenuItemId(r,e.id)),N("aria-label",Y(3,6,"configurator.a11y.groupName",B(9,$n,e.groupDescription))),a(3),S(" ",e.groupDescription,""),a(),s("type",c.iconTypes.ARROW_LEFT),a(),s("ngIf",(e.subGroups==null?null:e.subGroups.length)>0)}}function _l(i,o){if(i&1&&(l(0,"ul"),_(1,ml,8,11,"ng-container",3),p()),i&2){let e=o.overviewGroups;a(),s("ngForOf",e)}}var Mo=(i,o)=>({entityKey:i,ownerType:o}),Po=(i,o)=>({cxRoute:i,params:o}),vl=(i,o)=>({resolveIssues:!0,skipConflicts:i,productCode:o}),Cl=i=>({resolveIssues:!0,productCode:i});function hl(i,o){if(i&1&&(l(0,"div",3),I(1,"cx-icon",4),l(2,"div",5),h(3),d(4,"cxTranslate"),l(5,"button",6),d(6,"cxUrl"),d(7,"async"),h(8),d(9,"cxTranslate"),p()()()),i&2){let e=o.ngIf,t=u(2).ngIf,n=u();a(),s("type",n.iconTypes.ERROR),a(2),S(" ",Y(4,5,"configurator.notificationBanner.numberOfIssues",B(14,tn,e))," "),a(2),s("routerLink",f(6,8,Ue(19,Po,"configure"+t.owner.configuratorType,Ue(16,Mo,t.owner.id,t.owner.type))))("queryParams",Ue(22,vl,f(7,10,n.skipConflictsOnIssueNavigation$),t.productCode)),a(3),S(" ",f(9,12,"configurator.header.resolveIssues")," ")}}function yl(i,o){if(i&1&&(l(0,"div",7),I(1,"cx-icon",4),l(2,"div",8),h(3),d(4,"cxTranslate"),l(5,"button",9),d(6,"cxUrl"),h(7),d(8,"cxTranslate"),p()()()),i&2){let e=o.ngIf,t=u(2).ngIf,n=u();a(),s("type",n.iconTypes.WARNING),a(2),S(" ",Y(4,5,"configurator.notificationBanner.numberOfConflicts",B(12,tn,e))," "),a(2),s("routerLink",f(6,8,Ue(17,Po,"configure"+t.owner.configuratorType,Ue(14,Mo,t.owner.id,t.owner.type))))("queryParams",B(20,Cl,t.productCode)),a(2),S(" ",f(8,10,"configurator.header.resolveConflicts")," ")}}function xl(i,o){if(i&1&&(x(0),_(1,hl,10,25,"div",1),d(2,"async"),_(3,yl,9,22,"div",2),d(4,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,2,e.numberOfIssues$)),a(2),s("ngIf",f(4,4,e.numberOfConflicts$))}}function bl(i,o){if(i&1&&(x(0),_(1,xl,5,6,"ng-container",0),d(2,"async"),b()),i&2){let e=u();a(),s("ngIf",f(2,1,e.configurationOverview$))}}var Il=["menuTab"],Tl=["filterTab"],Vo=()=>[0,1],Sl=()=>[0,1,2,3];function El(i,o){if(i&1&&I(0,"cx-configurator-overview-filter",7),i&2){let e=u().ngIf;s("config",e)}}function wl(i,o){if(i&1&&I(0,"cx-configurator-overview-menu",7),i&2){let e=u().ngIf;s("config",e)}}function Ol(i,o){if(i&1){let e=k();x(0),l(1,"div",4)(2,"button",5,1),V("keydown",function(n){F(e);let r=u();return D(r.switchTabOnArrowPress(n,"#menuTab"))})("keydown.enter",function(){F(e);let n=u();return D(n.onMenu())})("keydown.space",function(){F(e);let n=u();return D(n.onMenu())})("click",function(){F(e);let n=u();return D(n.onMenu())}),h(4),d(5,"cxTranslate"),p(),l(6,"button",5,2),V("keydown",function(n){F(e);let r=u();return D(r.switchTabOnArrowPress(n,"#filterTab"))})("keydown.enter",function(){F(e);let n=u();return D(n.onFilter())})("keydown.space",function(){F(e);let n=u();return D(n.onFilter())})("click",function(){F(e);let n=u();return D(n.onFilter())}),h(8),d(9,"cxTranslate"),p()(),_(10,El,1,1,"cx-configurator-overview-filter",6)(11,wl,1,1,"cx-configurator-overview-menu",6),b()}if(i&2){let e=u();a(2),se("active",!e.showFilter),s("tabindex",e.getTabIndexForMenuTab()),N("aria-selected",!e.showFilter),a(2),S(" ",f(5,12,"configurator.overviewSidebar.menu")," "),a(2),se("active",e.showFilter),s("tabindex",e.getTabIndexForFilterTab()),N("aria-selected",e.showFilter),a(2),S(" ",f(9,14,"configurator.overviewSidebar.filter")," "),a(2),s("ngIf",e.showFilter),a(),s("ngIf",!e.showFilter)}}function Al(i,o){i&1&&(l(0,"div",12),I(1,"div",13),p())}function Fl(i,o){i&1&&(x(0),l(1,"div",15),_(2,Al,2,0,"div",16),p(),b()),i&2&&(a(2),s("ngForOf",Ae(1,Sl)))}function Dl(i,o){i&1&&(l(0,"div",12),I(1,"div",13),p())}function Rl(i,o){i&1&&(l(0,"div",12),I(1,"div",13),p())}function Nl(i,o){i&1&&(x(0),l(1,"div",15),_(2,Dl,2,0,"div",16),l(3,"div",17),_(4,Rl,2,0,"div",16),p()(),b()),i&2&&(a(2),s("ngForOf",Ae(2,Ft)),a(2),s("ngForOf",Ae(3,Ft)))}function Ml(i,o){i&1&&(l(0,"div",12),I(1,"div",13),p())}function Pl(i,o){i&1&&(x(0),l(1,"div",11),_(2,Ml,2,0,"div",16),p(),b()),i&2&&(a(2),s("ngForOf",Ae(1,Vo)))}function Vl(i,o){if(i&1&&(x(0),l(1,"div",11)(2,"div",12),I(3,"div",13),p(),_(4,Fl,3,2,"ng-container",14)(5,Nl,5,4,"ng-container",14)(6,Pl,3,2,"ng-container",14),p(),b()),i&2){let e=o.index;a(4),s("ngIf",e===0),a(),s("ngIf",e===1),a(),s("ngIf",e===2)}}function Gl(i,o){i&1&&(x(0),_(1,Vl,7,3,"ng-container",10),b()),i&2&&(a(),s("ngForOf",Ae(1,Ft)))}function Ul(i,o){i&1&&(l(0,"div",8),I(1,"div",9),_(2,Gl,2,2,"ng-container",10),p()),i&2&&(a(2),s("ngForOf",Ae(1,Vo)))}function Bl(i,o){if(i&1){let e=k();x(0),l(1,"button",1),d(2,"async"),d(3,"cxTranslate"),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.onPrevious(n))}),h(4),d(5,"cxTranslate"),p(),l(6,"button",2),d(7,"async"),d(8,"cxTranslate"),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.onNext(n))}),h(9),d(10,"cxTranslate"),p(),b()}if(i&2){let e=u().ngIf,t=u();a(),s("disabled",f(2,6,t.isFirstGroup(e.owner))),N("aria-label",f(3,8,"configurator.a11y.previous")),a(3),S(" ",f(5,10,"configurator.button.previous")," "),a(2),s("disabled",f(7,12,t.isLastGroup(e.owner))),N("aria-label",f(8,14,"configurator.a11y.next")),a(3),S(" ",f(10,16,"configurator.button.next")," ")}}function Ll(i,o){if(i&1&&(x(0),_(1,Bl,11,18,"ng-container",0),b()),i&2){let e=o.ngIf;a(),s("ngIf",e.groups.length>1)}}function kl(i,o){if(i&1&&(x(0),l(1,"div",6)(2,"div",4),h(3),d(4,"cxTranslate"),p(),l(5,"div",5),h(6),p()(),l(7,"div",7)(8,"div",4),h(9),d(10,"cxTranslate"),p(),l(11,"div",5),h(12),p()(),b()),i&2){let e=u(2).ngIf;a(3),S(" ",f(4,4,"configurator.priceSummary.basePrice"),": "),a(3),S(" ",e==null||e.priceSummary==null||e.priceSummary.basePrice==null?null:e.priceSummary.basePrice.formattedValue," "),a(3),S(" ",f(10,6,"configurator.priceSummary.selectedOptions"),": "),a(3),S(" ",e==null||e.priceSummary==null||e.priceSummary.selectedOptions==null?null:e.priceSummary.selectedOptions.formattedValue," ")}}function $l(i,o){if(i&1&&(x(0),l(1,"div",1)(2,"div",2),_(3,kl,13,8,"ng-container",0),l(4,"div",3)(5,"div",4),h(6),d(7,"cxTranslate"),p(),l(8,"div",5),h(9),p()()()(),b()),i&2){let e=u().ngIf;a(3),s("ngIf",!e.hideBasePriceAndSelectedOptions),a(3),S(" ",f(7,3,"configurator.priceSummary.totalPricePerItem"),": "),a(3),S(" ",e==null||e.priceSummary==null||e.priceSummary.currentTotal==null?null:e.priceSummary.currentTotal.formattedValue," ")}}function jl(i,o){if(i&1&&(x(0),_(1,$l,10,5,"ng-container",0),b()),i&2){let e=o.ngIf;a(),s("ngIf",e.pricingEnabled)}}var Go=i=>({product:i}),ql=i=>({name:i}),Kl=i=>({logsys:i}),Ql=i=>({version:i});function Hl(i,o){if(i&1&&(x(0),l(1,"div",13)(2,"span",14),h(3),d(4,"cxTranslate"),p()(),I(5,"cx-icon",15),d(6,"cxTranslate"),b()),i&2){let e=u().ngIf,t=u();a(3),ne(f(4,3,"configurator.header.showMore")),a(2),s("type",t.iconTypes.CARET_DOWN),N("aria-label",Y(6,5,"configurator.a11y.showMoreProductInfo",B(8,Go,e.name)))}}function Wl(i,o){if(i&1&&(x(0),l(1,"div",16),h(2),d(3,"cxTranslate"),p(),I(4,"cx-icon",15),d(5,"cxTranslate"),b()),i&2){let e=u().ngIf,t=u();a(2),S(" ",f(3,3,"configurator.header.showLess")," "),a(2),s("type",t.iconTypes.CARET_UP),N("aria-label",Y(5,5,"configurator.a11y.showLessProductInfo",B(8,Go,e.name)))}}function Yl(i,o){if(i&1&&(l(0,"span"),d(1,"cxTranslate"),h(2),p()),i&2){let e=u().ngIf;N("aria-label",f(1,2,"configurator.a11y.productName")),a(2),S(" ",e.name," ")}}function zl(i,o){if(i&1&&(l(0,"span"),d(1,"cxTranslate"),h(2),p()),i&2){let e=u().ngIf;N("aria-label",f(1,2,"configurator.a11y.productCode")),a(2),S(" ",e.code," ")}}function Xl(i,o){if(i&1&&(l(0,"span"),d(1,"cxTranslate"),h(2),p()),i&2){let e=u().ngIf;N("aria-label",f(1,2,"configurator.a11y.productDescription")),a(2),S(" ",e.description," ")}}function Zl(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),h(4),d(5,"cxTranslate"),p(),l(6,"span",20),h(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),N("aria-label",Y(3,3,"configurator.a11y.kbKeyName",B(8,ql,e.kbKey.kbName))),a(2),S(" ",f(5,6,"configurator.header.kbKeyName")," "),a(3),S(" ",e.kbKey.kbName," ")}}function Jl(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),h(4),d(5,"cxTranslate"),p(),l(6,"span",20),h(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),N("aria-label",Y(3,3,"configurator.a11y.kbKeyLogsys",B(8,Kl,e.kbKey.kbLogsys))),a(2),S(" ",f(5,6,"configurator.header.kbKeyLogsys")," "),a(3),S(" ",e.kbKey.kbLogsys," ")}}function ep(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),h(4),d(5,"cxTranslate"),p(),l(6,"span",20),h(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),N("aria-label",Y(3,3,"configurator.a11y.kbKeyVersion",B(8,Ql,e.kbKey.kbVersion))),a(2),S(" ",f(5,6,"configurator.header.kbKeyVersion")," "),a(3),S(" ",e.kbKey.kbVersion," ")}}function tp(i,o){if(i&1&&(x(0),l(1,"div",18)(2,"span",19),d(3,"cxTranslate"),h(4),d(5,"cxTranslate"),p(),l(6,"span",20),h(7),p()(),b()),i&2){let e=u(2).ngIf;a(2),N("aria-label",Y(3,3,"configurator.a11y.kbKeyBuildNr",B(8,Bn,e.kbKey.kbBuildNumber))),a(2),S(" ",f(5,6,"configurator.header.kbKeyBuildNr")," "),a(3),S(" ",e.kbKey.kbBuildNumber," ")}}function ip(i,o){if(i&1&&(x(0),l(1,"div",17),_(2,Zl,8,10,"ng-container",5)(3,Jl,8,10,"ng-container",5)(4,ep,8,10,"ng-container",5)(5,tp,8,10,"ng-container",5),p(),b()),i&2){let e=u().ngIf;a(2),s("ngIf",e.kbKey.kbName),a(),s("ngIf",e.kbKey.kbLogsys),a(),s("ngIf",e.kbKey.kbVersion),a(),s("ngIf",e.kbKey.kbBuildNumber)}}function np(i,o){if(i&1&&(x(0),_(1,ip,6,4,"ng-container",5),b()),i&2){let e=o.ngIf;a(),s("ngIf",e.kbKey)}}function rp(i,o){if(i&1&&(x(0),_(1,np,2,1,"ng-container",5),d(2,"async"),b()),i&2){let e=u(2);a(),s("ngIf",f(2,1,e.configuration$))}}function op(i,o){if(i&1){let e=k();x(0),l(1,"div",2)(2,"div",3)(3,"span"),h(4),p()(),l(5,"button",4),V("click",function(){F(e);let n=u();return D(n.triggerDetails())}),_(6,Hl,7,10,"ng-container",5)(7,Wl,6,10,"ng-container",5),p(),l(8,"div",6)(9,"div",7),I(10,"cx-media",8),p(),l(11,"div",9)(12,"div",10),_(13,Yl,3,4,"span",5),p(),l(14,"div",11),_(15,zl,3,4,"span",5),p(),l(16,"div",12),_(17,Xl,3,4,"span",5),p(),_(18,rp,3,3,"ng-container",5),d(19,"async"),p()()(),b()}if(i&2){let e=o.ngIf,t=u();a(4),S(" ",e.name," "),a(),N("aria-expanded",t.showMore),a(),s("ngIf",!t.showMore),a(),s("ngIf",t.showMore),a(),se("open",t.showMore),a(2),s("container",e==null||e.images==null?null:e.images.PRIMARY),a(),N("aria-hidden",!t.showMore),a(2),s("ngIf",e.name),a(2),s("ngIf",e.code),a(2),s("ngIf",e.description),a(),s("ngIf",f(19,12,t.expMode))}}function ap(i,o){i&1&&I(0,"div",21)}function cp(i,o){i&1&&(l(0,"h3",12),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.restartDialog.title")," "))}function sp(i,o){i&1&&(l(0,"div",12),h(1),d(2,"cxTranslate"),p()),i&2&&(a(),S(" ",f(2,1,"configurator.restartDialog.title")," "))}function up(i,o){if(i&1){let e=k();x(0),l(1,"div",2),V("esc",function(){let n=F(e).ngIf,r=u(2);return D(r.backToPDP(n))}),l(2,"div",3),_(3,cp,3,3,"h3",4)(4,sp,3,3,"div",4),l(5,"button",5),d(6,"cxTranslate"),V("click",function(){let n=F(e).ngIf,r=u(2);return D(r.backToPDP(n))}),l(7,"span",6),I(8,"cx-icon",7),p()()(),l(9,"div",8)(10,"div",9),h(11),d(12,"cxTranslate"),p(),l(13,"button",10),V("click",function(){let n=F(e).ngIf,r=u(2);return D(r.resume(n))}),h(14),d(15,"cxTranslate"),p(),l(16,"button",11),V("click",function(){F(e);let n=u().ngIf,r=u();return D(r.restart(n.owner))}),h(17),d(18,"cxTranslate"),p()()(),b()}if(i&2){let e=u(2);a(),s("cxFocus",e.focusConfig),a(2),s("cxFeature","a11yDialogsHeading"),a(),s("cxFeature","!a11yDialogsHeading"),a(),E("title",f(6,8,"configurator.a11y.closeRestartDialog")),a(3),s("type",e.iconTypes.CLOSE),a(3),S(" ",f(12,10,"configurator.restartDialog.description")," "),a(3),S(" ",f(15,12,"configurator.restartDialog.resumeButton")," "),a(3),S(" ",f(18,14,"configurator.restartDialog.restartButton")," ")}}function lp(i,o){if(i&1&&(x(0),_(1,up,19,16,"ng-container",1),d(2,"async"),b()),i&2){let e=u();a(),s("ngIf",f(2,1,e.product$))}}var pp=["configTab"],dp=["overviewTab"];function gp(i,o){if(i&1){let e=k();l(0,"div",6)(1,"a",7,1),d(3,"cxTranslate"),d(4,"cxTranslate"),V("keydown",function(n){F(e);let r=u(4);return D(r.switchTabOnArrowPress(n,"#configTab"))})("keydown.enter",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToConfiguration(n))})("keydown.space",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToConfiguration(n))})("click",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToConfiguration(n))}),h(5),d(6,"cxTranslate"),p(),l(7,"a",7,2),d(9,"cxTranslate"),d(10,"cxTranslate"),V("keydown",function(n){F(e);let r=u(4);return D(r.switchTabOnArrowPress(n,"#overviewTab"))})("keydown.enter",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToOverview(n))})("keydown.space",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToOverview(n))})("click",function(){F(e);let n=u(3).ngIf,r=u();return D(r.navigateToOverview(n))}),h(11),d(12,"cxTranslate"),p()()}if(i&2){let e=o.ngIf,t=u(4);a(),se("active",!t.isOverviewPage(e)),s("tabindex",t.getTabIndexForConfigTab(e)),N("aria-selected",!t.isOverviewPage(e))("aria-label",t.isOverviewPage(e)?f(4,14,"configurator.a11y.configurationPageLink"):f(3,12,"configurator.a11y.configurationPage")),a(4),ne(f(6,16,"configurator.tabBar.configuration")),a(2),se("active",t.isOverviewPage(e)),s("tabindex",t.getTabIndexForOverviewTab(e)),N("aria-selected",t.isOverviewPage(e))("aria-label",t.isOverviewPage(e)?f(9,18,"configurator.a11y.overviewPage"):f(10,20,"configurator.a11y.overviewPageLink")),a(4),ne(f(12,22,"configurator.tabBar.overview"))}}function fp(i,o){if(i&1&&(x(0),_(1,gp,13,24,"div",5),d(2,"async"),b()),i&2){let e=u(3);a(),s("ngIf",f(2,1,e.pageType$))}}function mp(i,o){if(i&1&&(x(0),_(1,fp,3,3,"ng-container",3),b()),i&2){let e=u().ngIf;a(),s("ngIf",!e.displayOnly)}}function _p(i,o){i&1&&I(0,"div",8)}function vp(i,o){if(i&1&&(x(0),_(1,mp,2,1,"ng-container",4),d(2,"async"),_(3,_p,1,0,"ng-template",null,0,de),b()),i&2){let e=oe(4),t=u();a(),s("ngIf",f(2,2,t.configuration$))("ngIfElse",e)}}var Cp=i=>({title:i});function hp(i,o){if(i&1&&I(0,"cx-product-carousel-item",4),i&2){let e=o.item;s("item",e)}}function yp(i,o){if(i&1&&(x(0),l(1,"div",2),I(2,"cx-carousel",3),d(3,"async"),d(4,"async"),d(5,"cxTranslate"),_(6,hp,1,1,"ng-template",null,0,de),p(),b()),i&2){let e=o.ngIf,t=oe(7),n=u();a(2),s("items",e)("title",f(3,4,n.title$))("template",t),N("aria-label",Y(5,8,"productCarousel.carouselLabel",B(11,Cp,f(4,6,n.title$))))}}var m;(function(i){let o;(function(C){C.ATTRIBUTE_GROUP="AttributeGroup",C.SUB_ITEM_GROUP="SubItemGroup",C.CONFLICT_HEADER_GROUP="ConflictHeaderGroup",C.CONFLICT_GROUP="ConflictGroup"})(o=i.GroupType||(i.GroupType={}));let e;(function(C){C.NOT_IMPLEMENTED="not_implemented",C.RADIOBUTTON="radioGroup",C.RADIOBUTTON_ADDITIONAL_INPUT="radioGroup_add",C.CHECKBOX="checkBox",C.CHECKBOXLIST="checkBoxList",C.DROPDOWN="dropdown",C.DROPDOWN_ADDITIONAL_INPUT="dropdown_add",C.LISTBOX="listbox",C.LISTBOX_MULTI="listboxmulti",C.READ_ONLY="readonly",C.READ_ONLY_SINGLE_SELECTION_IMAGE="read_only_single_selection_image",C.READ_ONLY_MULTI_SELECTION_IMAGE="read_only_multi_selection_image",C.STRING="string",C.NUMERIC="numeric",C.SAP_DATE="sap_date",C.AUTO_COMPLETE_CUSTOM="input_autocomplete",C.MULTI_SELECTION_IMAGE="multi_selection_image",C.SINGLE_SELECTION_IMAGE="single_selection_image",C.CHECKBOXLIST_PRODUCT="checkBoxListProduct",C.DROPDOWN_PRODUCT="dropdownProduct",C.RADIOBUTTON_PRODUCT="radioGroupProduct"})(e=i.UiType||(i.UiType={}));let t;(function(C){C.VALUE_IMAGE="VALUE_IMAGE",C.ATTRIBUTE_IMAGE="ATTRIBUTE_IMAGE"})(t=i.ImageFormatType||(i.ImageFormatType={}));let n;(function(C){C.PRIMARY="PRIMARY",C.GALLERY="GALLERY"})(n=i.ImageType||(i.ImageType={}));let r;(function(C){C.INPUT_STRING="String",C.INPUT_NUMBER="Number",C.USER_SELECTION_QTY_ATTRIBUTE_LEVEL="UserSelectionWithAttributeQuantity",C.USER_SELECTION_QTY_VALUE_LEVEL="UserSelectionWithValueQuantity",C.USER_SELECTION_NO_QTY="UserSelectionWithoutQuantity",C.NOT_IMPLEMENTED="not_implemented"})(r=i.DataType||(i.DataType={}));let c;(function(C){C.ATTRIBUTE="Attribute",C.ATTRIBUTE_QUANTITY="AttributeQuantity",C.VALUE_QUANTITY="ValueQuantity"})(c=i.UpdateType||(i.UpdateType={}));let g;(function(C){C.GENERAL="general",C.BUNDLE="bundle"})(g=i.AttributeOverviewType||(i.AttributeOverviewType={}));let T;(function(C){C.NONE="NONE",C.NUMERIC="NUMERIC",C.SAP_DATE="SAP_DATE"})(T=i.ValidationType||(i.ValidationType={}));let y;(function(C){C.VISIBLE="PRIMARY",C.USER_INPUT="USER_INPUT",C.PRICE_RELEVANT="PRICE_RELEVANT"})(y=i.OverviewFilter||(i.OverviewFilter={})),i.ConflictIdPrefix="CONFLICT",i.ConflictHeaderId="CONFLICT_HEADER",i.CustomUiTypeIndicator="___",i.RetractValueCode="###RETRACT_VALUE_CODE###"})(m||(m={}));var Uo="productConfigurator",z="[Configurator] Configuration Data",jn="[Configurator] Read Cart Entry Configuration",qn="[Configurator] Read Cart Entry Configuration Success",Bo="[Configurator] Read Cart Entry Configuration Fail",Kn="[Configurator] Read Order Entry Configuration",Qn="[Configurator] Read Order Entry Configuration Success",Lo="[Configurator] Read Order Entry Configuration Fail",Hn="[Configurator] Add to cart",nn="[Configurator] Update cart entry",xp="[Configurator] Update cart entry success",Wn="[Configurator] Add next owner",Yn="[Configurator] Set next owner cart entry",zn="[Configurator] Remove cart bound configurations",hi=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=jn}},yi=class extends K.EntitySuccessAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=qn}},xi=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=Bo}},bi=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=Kn}},Ii=class extends K.EntitySuccessAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=Qn}},Ti=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=Lo}},Si=class extends K.EntityProcessesIncrementAction{constructor(o){super(Gn,o.cartId),this.payload=o,this.type=Hn}},Ei=class extends K.EntityProcessesIncrementAction{constructor(o){super(Gn,o.cartId),this.payload=o,this.type=nn}},wi=class{constructor(o){this.payload=o,this.type=Wn}},Oi=class{constructor(){this.type=zn}},Ai=class extends K.EntitySuccessAction{constructor(o){super(z,o.configuration.owner.key),this.payload=o,this.type=Yn}},Fi="[Configurator] Search Variants",ko="[Configurator]  Search Variants fail",Xn="[Configurator] Search Variants success",Dt=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=Fi}},Di=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=ko}},zt=class extends K.EntitySuccessAction{constructor(o){super(z,o.ownerKey),this.payload=o,this.type=Xn}},Zn="[Configurator] Create Configuration",$o="[Configurator] Create Configuration Fail",Jn="[Configurator] Create Configuration Sucess",er="[Configurator] Read Configuration",jo="[Configurator] Read Configuration Fail",tr="[Configurator] Read Configuration Sucess",ir="[Configurator] Update Configuration",nr="[Configurator] Update Configuration Fail",rr="[Configurator] Update Configuration Success",or="[Configurator] Update Configuration finalize success",ar="[Configurator] Update Configuration finalize fail",rn="[Configurator] Change group",qo="[Configurator] Change group finalize",Ko="[Configurator] Remove configuration",cr="[Configurator] Update Configuration Summary Price",Qo="[Configurator] Update Configuration Price Summary fail",sr="[Configurator] Update Configuration Price Summary success",ur="[Configurator] Get Configuration Overview",Ho="[Configurator] Get Configuration Overview fail",lr="[Configurator] Get Configuration Overview success",pr="[Configurator] Update Configuration Overview",Wo="[Configurator] Update Configuration Overview fail",dr="[Configurator] Update Configuration Overview success",gr="[Configurator] Set interaction state",fr="[Configurator] Set current group to State",mr="[Configurator] Set current parent group for menu to State",_r="[Configurator] Set groups to visited",vr="[Configurator] Remove product bound configurations",on="[Configurator] Dismiss conflict dialog",Cr="[Configurator] Check conflict dialog",Xt=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=Zn}},Ri=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=$o}},Ni=class extends K.EntitySuccessAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=Jn}},Mi=class extends K.EntityLoadAction{constructor(o){super(z,o.configuration.owner.key),this.payload=o,this.type=er}},Zt=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=jo}},Jt=class extends K.EntitySuccessAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=tr}},Pi=class extends K.EntityProcessesIncrementAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=ir,this.meta.loader={load:!0}}},Vi=class extends K.EntityProcessesDecrementAction{constructor(o){super(z,o.configuration.owner.key),this.payload=o,this.type=nr,this.meta.loader={error:o.error},this.error=o.error}},Gi=class extends K.EntityProcessesDecrementAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=rr}},Ui=class extends K.EntitySuccessAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=or}},Bi=class extends K.EntityFailAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=ar}},gt=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=cr}},Li=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=Qo}},ki=class extends K.EntitySuccessAction{constructor(o,e){super(z,o.owner.key),this.payload=o,this.type=sr,this.isDeltaRendering=e?.isDeltaRendering??!1}},ei=class extends K.EntityLoadAction{constructor(o){super(z,o.configuration.owner.key),this.payload=o,this.type=rn}},Ln=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=qo}},_t=class extends K.EntityLoaderResetAction{constructor(o){super(z,o.ownerKey),this.payload=o,this.type=Ko}},$i=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=ur}},ji=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=Ho}},qi=class extends K.EntitySuccessAction{constructor(o){super(z,o.ownerKey),this.payload=o,this.type=lr}},Ki=class extends K.EntityLoadAction{constructor(o){super(z,o.owner.key),this.payload=o,this.type=pr}},Qi=class extends K.EntityFailAction{constructor(o){super(z,o.ownerKey,o.error),this.payload=o,this.type=Wo}},Hi=class extends K.EntitySuccessAction{constructor(o){super(z,o.ownerKey),this.payload=o,this.type=dr}},Wi=class extends K.EntitySuccessAction{constructor(o){super(z,o.entityKey,o.interactionState),this.payload=o,this.type=gr}},Yi=class extends K.EntitySuccessAction{constructor(o){super(z,o.entityKey,o.currentGroup),this.payload=o,this.type=fr}},ti=class extends K.EntitySuccessAction{constructor(o){super(z,o.entityKey,o.menuParentGroup),this.payload=o,this.type=mr}},zi=class extends K.EntitySuccessAction{constructor(o){super(z,o.entityKey,o.visitedGroups),this.payload=o,this.type=_r}},Xi=class{constructor(){this.type=vr}},Zi=class extends K.EntitySuccessAction{constructor(o){super(z,o),this.ownerKey=o,this.type=on}},Ji=class extends K.EntitySuccessAction{constructor(o){super(z,o),this.ownerKey=o,this.type=Cr}},Ef=Object.freeze({__proto__:null,ADD_NEXT_OWNER:Wn,ADD_TO_CART:Hn,AddNextOwner:wi,AddToCart:Si,CHANGE_GROUP:rn,CHANGE_GROUP_FINALIZE:qo,CHECK_CONFLICT_DIALOG:Cr,CREATE_CONFIGURATION:Zn,CREATE_CONFIGURATION_FAIL:$o,CREATE_CONFIGURATION_SUCCESS:Jn,ChangeGroup:ei,ChangeGroupFinalize:Ln,CheckConflictDialoge:Ji,CreateConfiguration:Xt,CreateConfigurationFail:Ri,CreateConfigurationSuccess:Ni,DISMISS_CONFLICT_DIALOG:on,DissmissConflictDialoge:Zi,GET_CONFIGURATION_OVERVIEW:ur,GET_CONFIGURATION_OVERVIEW_FAIL:Ho,GET_CONFIGURATION_OVERVIEW_SUCCESS:lr,GetConfigurationOverview:$i,GetConfigurationOverviewFail:ji,GetConfigurationOverviewSuccess:qi,READ_CART_ENTRY_CONFIGURATION:jn,READ_CART_ENTRY_CONFIGURATION_FAIL:Bo,READ_CART_ENTRY_CONFIGURATION_SUCCESS:qn,READ_CONFIGURATION:er,READ_CONFIGURATION_FAIL:jo,READ_CONFIGURATION_SUCCESS:tr,READ_ORDER_ENTRY_CONFIGURATION:Kn,READ_ORDER_ENTRY_CONFIGURATION_FAIL:Lo,READ_ORDER_ENTRY_CONFIGURATION_SUCCESS:Qn,REMOVE_CART_BOUND_CONFIGURATIONS:zn,REMOVE_CONFIGURATION:Ko,REMOVE_PRODUCT_BOUND_CONFIGURATIONS:vr,ReadCartEntryConfiguration:hi,ReadCartEntryConfigurationFail:xi,ReadCartEntryConfigurationSuccess:yi,ReadConfiguration:Mi,ReadConfigurationFail:Zt,ReadConfigurationSuccess:Jt,ReadOrderEntryConfiguration:bi,ReadOrderEntryConfigurationFail:Ti,ReadOrderEntryConfigurationSuccess:Ii,RemoveCartBoundConfigurations:Oi,RemoveConfiguration:_t,RemoveProductBoundConfigurations:Xi,SEARCH_VARIANTS:Fi,SEARCH_VARIANTS_FAIL:ko,SEARCH_VARIANTS_SUCCESS:Xn,SET_CURRENT_GROUP:fr,SET_GROUPS_VISITED:_r,SET_INTERACTION_STATE:gr,SET_MENU_PARENT_GROUP:mr,SET_NEXT_OWNER_CART_ENTRY:Yn,SearchVariants:Dt,SearchVariantsFail:Di,SearchVariantsSuccess:zt,SetCurrentGroup:Yi,SetGroupsVisited:zi,SetInteractionState:Wi,SetMenuParentGroup:ti,SetNextOwnerCartEntry:Ai,UPDATE_CART_ENTRY:nn,UPDATE_CART_ENTRY_SUCCESS:xp,UPDATE_CONFIGURATION:ir,UPDATE_CONFIGURATION_FAIL:nr,UPDATE_CONFIGURATION_FINALIZE_FAIL:ar,UPDATE_CONFIGURATION_FINALIZE_SUCCESS:or,UPDATE_CONFIGURATION_OVERVIEW:pr,UPDATE_CONFIGURATION_OVERVIEW_FAIL:Wo,UPDATE_CONFIGURATION_OVERVIEW_SUCCESS:dr,UPDATE_CONFIGURATION_SUCCESS:rr,UPDATE_PRICE_SUMMARY:cr,UPDATE_PRICE_SUMMARY_FAIL:Qo,UPDATE_PRICE_SUMMARY_SUCCESS:sr,UpdateCartEntry:Ei,UpdateConfiguration:Pi,UpdateConfigurationFail:Vi,UpdateConfigurationFinalizeFail:Bi,UpdateConfigurationFinalizeSuccess:Ui,UpdateConfigurationOverview:Ki,UpdateConfigurationOverviewFail:Qi,UpdateConfigurationOverviewSuccess:Hi,UpdateConfigurationSuccess:Gi,UpdatePriceSummary:gt,UpdatePriceSummaryFail:Li,UpdatePriceSummarySuccess:ki}),an=Yr(Uo),hr=ze(an,i=>i.configurations),ft=i=>ze(hr,o=>K.entityProcessesLoaderStateSelector(o,i)),Wt=i=>ze(hr,o=>K.entityHasPendingProcessesSelector(o,i)),vt=i=>ze(ft(i),o=>K.loaderValueSelector(o)),Yo=i=>ze(vt(i),o=>o?.interactionState?.currentGroup),zo=(i,o)=>ze(vt(i),e=>{let t=e?.interactionState?.groupsVisited;return t?t[o]:!1}),Xo=(i,o)=>ze(vt(i),e=>o.map(t=>{let n=e?.interactionState?.groupsVisited;return n?n[t]:!1}).filter(t=>!t).length===0),wf=Object.freeze({__proto__:null,areGroupsVisited:Xo,getConfigurationFactory:vt,getConfigurationProcessLoaderStateFactory:ft,getConfigurationState:hr,getConfigurationsState:an,getCurrentGroup:Yo,hasPendingChanges:Wt,isGroupVisited:zo}),Rt=(()=>{class i{getParentGroup(e,t,n){return e.includes(t)?n:e.map(r=>r.subGroups?this.getParentGroup(r.subGroups,t,r):void 0).filter(r=>r).pop()}getGroupById(e,t){let n=e.find(c=>c.id===t);if(n)return n;let r=this.getGroupFromSubGroups(e,t);return r||e[0]}getOptionalGroupById(e,t){let n=e.find(r=>r.id===t);return n||this.getGroupFromSubGroups(e,t)}getGroupByIdIfPresent(e,t){let n=e.find(r=>r.id===t);return n||this.getGroupFromSubGroups(e,t)}getGroupFromSubGroups(e,t){return e.map(r=>r.subGroups?this.getGroupByIdIfPresent(r.subGroups,t):void 0).filter(r=>r).pop()}hasSubGroups(e){return e.subGroups?e.subGroups.length>0:!1}isConfigurationCreated(e){let t=e?.configId;return t!==void 0&&t.length!==0&&e!==void 0&&(e.flatGroups.length>0||e.overview!==void 0)}createConfigurationExtract(e,t,n){n||(n=m.UpdateType.ATTRIBUTE);let r={configId:t.configId,groups:[],flatGroups:[],interactionState:{isConflictResolutionMode:t.interactionState.isConflictResolutionMode},owner:t.owner,productCode:t.productCode,updateType:n},c=[];if(e.groupId)this.buildGroupPath(e.groupId,t.groups,c);else throw Error("GroupId must be available at attribute level during update");let g=c.length;if(g===0)throw new Error("At this point we expect that group is available in the configuration: "+e.groupId+", "+JSON.stringify(t.groups.map(C=>C.id)));let T=this.buildGroupForExtract(c[g-1]),y=T;r.groups.push(T);for(let C=c.length-1;C>0;C--)y=this.buildGroupForExtract(c[C-1]),T.subGroups=[y],T=y;return y.attributes=[e],r}buildGroupPath(e,t,n){let r=!1,c=t.find(g=>g.id===e);return c?(n.push(c),r=!0):t.filter(g=>g.subGroups).forEach(g=>{g.subGroups&&this.buildGroupPath(e,g.subGroups,n)&&(n.push(g),r=!0)}),r}getConfigurationFromState(e){let t=e.value;if(t)return t;throw new Error("Configuration must be defined at this point")}buildGroupForExtract(e){return{groupType:e.groupType,id:e.id,subGroups:[]}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),yr=(()=>{class i{constructor(e,t,n,r,c,g){this.store=e,this.activeCartService=t,this.commonConfigUtilsService=n,this.checkoutQueryFacade=r,this.userIdService=c,this.configuratorUtilsService=g}readConfigurationForCartEntry(e){return this.store.pipe(Se(ft(e.key)),pn(()=>this.activeCartService.isStable().pipe(W(t=>t))),pn(()=>this.checkoutQueryFacade.getCheckoutDetailsState().pipe(O(t=>t.loading),W(t=>!t))),Ce(t=>{this.configurationNeedsReading(t)&&this.activeCartService.requireLoadedCart().pipe(w(1)).subscribe(n=>{this.userIdService.getUserId().pipe(w(1)).subscribe(r=>{let c={userId:r,cartId:this.commonConfigUtilsService.getCartId(n),cartEntryNumber:e.id,owner:e};this.store.dispatch(new hi(c))})})}),W(t=>t.value!==void 0&&this.isConfigurationCreated(t.value)),O(t=>this.configuratorUtilsService.getConfigurationFromState(t)))}readConfigurationForOrderEntry(e){return this.store.pipe(Se(ft(e.key)),Ce(t=>{if(this.configurationNeedsReading(t)){let n=this.commonConfigUtilsService.decomposeOwnerId(e.id);this.userIdService.getUserId().pipe(w(1)).subscribe(r=>{let c={userId:r,orderId:n.documentId,orderEntryNumber:n.entryNumber,owner:e};this.store.dispatch(new bi(c))})}}),W(t=>t.value!==void 0&&this.isConfigurationCreated(t.value)),O(t=>this.configuratorUtilsService.getConfigurationFromState(t)))}addToCart(e,t,n,r){this.activeCartService.requireLoadedCart().pipe(w(1)).subscribe(c=>{this.userIdService.getUserId().pipe(w(1)).subscribe(g=>{let T={userId:g,cartId:this.commonConfigUtilsService.getCartId(c),productCode:e,quantity:r??1,configId:t,owner:n};this.store.dispatch(new Si(T))})})}updateCartEntry(e){this.activeCartService.requireLoadedCart().pipe(w(1)).subscribe(t=>{this.userIdService.getUserId().pipe(w(1)).subscribe(n=>{let r={userId:n,cartId:this.commonConfigUtilsService.getCartId(t),cartEntryNumber:e.owner.id,configuration:e};this.store.dispatch(new Ei(r))})})}activeCartHasIssues(){return this.activeCartService.requireLoadedCart().pipe(O(e=>e?e.entries:[]),O(e=>e?e.filter(t=>this.commonConfigUtilsService.getNumberOfIssues(t)):[]),O(e=>e.length>0))}getEntry(e){return this.activeCartService.requireLoadedCart().pipe(O(t=>t.entries?t.entries:[]),O(t=>{let n=t.filter(r=>r.entryNumber?.toString()===e);return n?n[n.length-1]:void 0}))}removeCartBoundConfigurations(){this.store.dispatch(new Oi)}isConfigurationCreated(e){return e.configId.length!==0}configurationNeedsReading(e){let t=e.value;return t===void 0||!this.isConfigurationCreated(t)&&!e.loading&&!e.error}static{this.\u0275fac=function(t){return new(t||i)(P(at),P(Kt),P(tt),P(xo),P(Jr),P(Rt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),te=(()=>{class i{constructor(e,t,n,r,c){this.store=e,this.commonConfigUtilsService=t,this.configuratorCartService=n,this.activeCartService=r,this.configuratorUtils=c,this.logger=Z($e)}hasPendingChanges(e){return this.store.pipe(Se(Wt(e.key)))}isConfigurationLoading(e){return this.store.pipe(Se(ft(e.key)),O(t=>t.loading??!1))}getConfiguration(e){return this.store.pipe(Se(vt(e.key)),W(t=>this.configuratorUtils.isConfigurationCreated(t)))}getOrCreateConfiguration(e,t){switch(e.type){case ae.OwnerType.CART_ENTRY:return this.configuratorCartService.readConfigurationForCartEntry(e);case ae.OwnerType.ORDER_ENTRY:case ae.OwnerType.QUOTE_ENTRY:case ae.OwnerType.SAVED_CART_ENTRY:return this.configuratorCartService.readConfigurationForOrderEntry(e);default:return this.getOrCreateConfigurationForProduct(e,t)}}updateConfiguration(e,t,n){n||(n=m.UpdateType.ATTRIBUTE),this.activeCartService.getActive().pipe(w(1),R(r=>this.activeCartService.isStable().pipe(w(1),Ce(c=>{Ye()&&r.code&&!c&&this.logger.warn("Cart is busy, no configuration updates possible")}),W(c=>!r.code||c),R(()=>this.store.pipe(Se(vt(e)),w(1)))))).subscribe(r=>{this.store.dispatch(new Pi(this.configuratorUtils.createConfigurationExtract(t,r,n)))})}getConfigurationWithOverview(e){return this.filterNotLoadingAndCreatedConfiguration(this.store.pipe(Se(ft(e.owner.key)))).pipe(Ce(t=>{this.hasConfigurationOverview(t)||this.store.dispatch(new $i(e))}),W(t=>this.hasConfigurationOverview(t)))}filterNotLoadingAndCreatedConfiguration(e){return e.pipe(W(t=>t.loading===!1),W(t=>this.configuratorUtils.isConfigurationCreated(t.value)),O(t=>t.value))}updateConfigurationOverview(e){this.store.dispatch(new Ki(e))}removeConfiguration(e){this.store.dispatch(new _t({ownerKey:e.key}))}dismissConflictSolverDialog(e){this.store.dispatch(new Zi(e.key))}checkConflictSolverDialog(e){this.store.dispatch(new Ji(e.key))}hasConflicts(e){return this.getConfiguration(e).pipe(O(t=>t.immediateConflictResolution===!1&&t.groups[0]?.groupType===m.GroupType.CONFLICT_HEADER_GROUP))}forceNewConfiguration(e){this.store.dispatch(new _t({ownerKey:e.key})),this.store.dispatch(new Xt({owner:e,configIdTemplate:void 0,forceReset:!0}))}getOrCreateConfigurationForProduct(e,t){return this.store.pipe(Se(ft(e.key)),Ce(n=>{(n.value===void 0||!this.configuratorUtils.isConfigurationCreated(n.value))&&n.loading!==!0&&n.error!==!0&&this.store.dispatch(new Xt({owner:e,configIdTemplate:t}))}),W(n=>n.value!==void 0&&this.configuratorUtils.isConfigurationCreated(n.value)),O(n=>this.configuratorUtils.getConfigurationFromState(n)))}hasConfigurationOverview(e){return e.overview!==void 0}removeProductBoundConfigurations(){this.store.dispatch(new Xi)}static{this.\u0275fac=function(t){return new(t||i)(P(at),P(tt),P(yr),P(Kt),P(Rt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Zo=(()=>{class i{constructor(e,t){this.store=e,this.configuratorUtilsService=t}isGroupVisited(e,t){return this.store.select(zo(e.key,t))}getFirstIncompleteGroup(e){return e.flatGroups?e.flatGroups.filter(t=>t.groupType!==m.GroupType.CONFLICT_GROUP).find(t=>!t.complete):void 0}setGroupStatusVisited(e,t){let n=this.configuratorUtilsService.getGroupById(e.groups,t),r=this.configuratorUtilsService.getParentGroup(e.groups,this.configuratorUtilsService.getGroupById(e.groups,t)),c=[];c.push(n.id),r&&this.getParentGroupStatusVisited(e,n.id,r,c),this.store.dispatch(new zi({entityKey:e.owner.key,visitedGroups:c}))}areGroupsVisited(e,t){return this.store.select(Xo(e.key,t))}getParentGroupStatusVisited(e,t,n,r){let c=[];n.subGroups.forEach(g=>{g.id!==t&&c.push(g.id)}),this.areGroupsVisited(e.owner,c).pipe(w(1)).subscribe(g=>{if(g){r.push(n.id);let T=this.configuratorUtilsService.getParentGroup(e.groups,this.configuratorUtilsService.getGroupById(e.groups,n.id));T&&this.getParentGroupStatusVisited(e,n.id,T,r)}})}static{this.\u0275fac=function(t){return new(t||i)(P(at),P(Rt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),He=(()=>{class i{constructor(e,t,n,r){this.store=e,this.configuratorCommonsService=t,this.configuratorUtilsService=n,this.configuratorGroupStatusService=r}getCurrentGroupId(e){return this.configuratorCommonsService.getConfiguration(e).pipe(O(t=>t.interactionState.currentGroup?t.interactionState.currentGroup:t.groups[0]?.id))}getFirstConflictGroup(e){return e.flatGroups.find(t=>t.groupType===m.GroupType.CONFLICT_GROUP)}navigateToFirstIncompleteGroup(e){this.configuratorCommonsService.getConfiguration(e).pipe(w(1)).subscribe(t=>{let n=this.configuratorGroupStatusService.getFirstIncompleteGroup(t)?.id;n&&this.navigateToGroup(t,n,!0)})}navigateToConflictSolver(e){this.configuratorCommonsService.getConfiguration(e).pipe(w(1)).subscribe(t=>{let n=this.getFirstConflictGroup(t)?.id;n&&this.navigateToGroup(t,n,!0,!0)})}getMenuParentGroup(e){return this.configuratorCommonsService.getConfiguration(e).pipe(O(t=>{let n=t.interactionState.menuParentGroup;return n?this.configuratorUtilsService.getOptionalGroupById(t.groups,n):void 0}))}setMenuParentGroup(e,t){this.store.dispatch(new ti({entityKey:e.key,menuParentGroup:t}))}getCurrentGroup(e){return this.getCurrentGroupId(e).pipe(R(t=>this.configuratorCommonsService.getConfiguration(e).pipe(O(n=>this.configuratorUtilsService.getGroupById(n.groups,t)))))}getConflictGroupForImmediateConflictResolution(e){return this.configuratorCommonsService.getConfiguration(e).pipe(Ve(0),O(t=>{if(t.interactionState.showConflictSolverDialog)return t.flatGroups.find(n=>n.groupType===m.GroupType.CONFLICT_GROUP)}))}setGroupStatusVisited(e,t){this.configuratorCommonsService.getConfiguration(e).pipe(O(n=>this.configuratorGroupStatusService.setGroupStatusVisited(n,t)),w(1)).subscribe()}navigateToGroup(e,t,n=!0,r=!1){n&&this.getCurrentGroup(e.owner).pipe(w(1)).subscribe(g=>{this.configuratorGroupStatusService.setGroupStatusVisited(e,g.id)});let c=this.configuratorUtilsService.getParentGroup(e.groups,this.configuratorUtilsService.getGroupById(e.groups,t));this.store.dispatch(new ei({configuration:e,groupId:t,parentGroupId:c?c.id:void 0,conflictResolutionMode:r}))}getNextGroupId(e){return this.getNeighboringGroupId(e,1)}getPreviousGroupId(e){return this.getNeighboringGroupId(e,-1)}isGroupVisited(e,t){return this.configuratorGroupStatusService.isGroupVisited(e,t)}getParentGroup(e,t){return this.configuratorUtilsService.getParentGroup(e,t)}hasSubGroups(e){return this.configuratorUtilsService.hasSubGroups(e)}isConflictGroupInImmediateConflictResolutionMode(e,t=!1){return e?e===m.GroupType.CONFLICT_GROUP&&t:!1}getNeighboringGroupId(e,t){return this.getCurrentGroupId(e).pipe(R(n=>this.configuratorCommonsService.getConfiguration(e).pipe(O(r=>{let c;return r.flatGroups.forEach((g,T)=>{g.id===n&&r.flatGroups&&r.flatGroups[T+t]&&!this.isConflictGroupInImmediateConflictResolutionMode(r.flatGroups[T+t]?.groupType,r.immediateConflictResolution)&&(c=r.flatGroups[T+t].id)}),c}),w(1))))}isConflictGroupType(e){return e===m.GroupType.CONFLICT_HEADER_GROUP||e===m.GroupType.CONFLICT_GROUP}static{this.\u0275fac=function(t){return new(t||i)(P(at),P(te),P(Rt),P(Zo))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ce=(()=>{class i{constructor(e,t,n){this.configuratorGroupsService=e,this.windowRef=t,this.keyboardFocusService=n,this.productService=Z(Qe),this.routingService=Z(Xe),this.CX_PREFIX="cx",this.SEPARATOR="--",this.ADD_TO_CART_BUTTON_HEIGHT=82,this.logger=Z($e)}isCartEntryOrGroupVisited(e,t){return this.configuratorGroupsService.isGroupVisited(e,t).pipe(w(1),O(n=>n?!0:e.type===ae.OwnerType.CART_ENTRY))}assembleValuesForMultiSelectAttributes(e,t){let n=[];for(let r=0;r<e.length;r++){let c=t.values?t.values[r]:void 0;if(c){let g={valueCode:c.valueCode};g.name=c.name,g.quantity=c.quantity,g.selected=e[r].value,n.push(g)}else Ye()&&this.logger.warn("ControlArray does not match values, at least one value could not been found")}return n}scroll(e){let t=0;e instanceof HTMLElement&&(t=e.offsetTop),this.windowRef.nativeWindow?.scroll(0,t)}scrollToConfigurationElement(e){if(this.windowRef.isBrowser()){let t=this.getElement(e);t&&this.scroll(t)}}focusFirstAttribute(){this.focusFirstActiveElement("cx-configurator-form")}focusFirstActiveElement(e){if(!this.windowRef.isBrowser())return;let t=this.getElement(e);if(t){let n=this.keyboardFocusService.findFocusable(t);n&&n.length>0&&n[0].focus()}}getFocusableElementById(e,t){return e.find(n=>{if(t&&(n.nodeName.toLocaleLowerCase().indexOf(t)!==-1||n.id.indexOf(t)!==-1))return n})}getFocusableConflictDescription(e){return this.getFocusableElementById(e,"cx-configurator-conflict-description")}getFocusableElementByValueUiKey(e,t){return this.getFocusableElementById(e,t)}getFocusableElementByAttributeId(e,t){return this.getFocusableElementById(e,t)}createAttributeValueUiKey(e,t){return e+this.SEPARATOR+t}focusValue(e){if(!this.windowRef.isBrowser())return;let t=this.getElement("cx-configurator-form");if(t){let n=this.keyboardFocusService.findFocusable(t);n.length>0&&this.focusOnElements(n,e)}}focusOnElements(e,t){let n=this.getFocusableConflictDescription(e);n||(n=this.focusOnElementForConflicting(t,n,e)),n&&n.focus()}focusOnElementForConflicting(e,t,n){let r=e.values?.find(c=>c.selected);if(r){let c=this.createAttributeValueUiKey(e.name,r.valueCode);t=this.getFocusableElementByValueUiKey(n,c)}return t||(t=this.getFocusableElementByAttributeId(n,e.name)),t}getPrefixId(e,t){return e?e+this.SEPARATOR+t:this.CX_PREFIX+this.SEPARATOR+t}createGroupId(e){if(e)return e+"-group"}createOvGroupId(e,t){return this.getPrefixId(e,t)+"-ovGroup"}createOvMenuItemId(e,t){return this.getPrefixId(e,t)+"-ovMenuItem"}setFocus(e,t){e&&this.keyboardFocusService.set(e,t)}changeStyling(e,t,n){let r=this.getElement(e);r&&r.style.setProperty(t,n)}removeStyling(e,t){let n=this.getElement(e);n&&n.style.removeProperty(t)}getElement(e){if(this.windowRef.isBrowser())return this.windowRef.document.querySelector(e)}getElements(e){if(this.windowRef.isBrowser())return Array.from(this.windowRef.document.querySelectorAll(e))}getVerticallyScrolledPixels(){if(this.windowRef.isBrowser())return this.windowRef.nativeWindow?.scrollY}hasScrollbar(e){let t=this.getElement(e);return t?t.scrollHeight>t.clientHeight:!1}isInViewport(e){if(e){let t=e.getBoundingClientRect(),n=e.offsetHeight,r=e.offsetWidth;return t.top>=-n&&t.left>=-r&&t.right<=(this.windowRef.nativeWindow?.innerWidth||e.clientWidth)+r&&t.bottom<=(this.windowRef.nativeWindow?.innerHeight||e.clientHeight)+n}return!1}getHeight(e){let t=this.getElement(e);return this.isInViewport(t)&&t?.offsetHeight?t?.offsetHeight:0}getSpareViewportHeight(){if(this.windowRef.isBrowser()){let e=this.getHeight("header"),t=this.getHeight(".VariantConfigOverviewHeader"),n=this.getHeight("cx-configurator-add-to-cart-button")!==0?this.getHeight("cx-configurator-add-to-cart-button"):this.ADD_TO_CART_BUTTON_HEIGHT,r=e+t+n*2;return this.windowRef.nativeWindow?this.windowRef.nativeWindow.innerHeight-r:0}return 0}ensureElementVisible(e,t){let n=this.getElement(e);if(t&&n)if(t.offsetTop>n.scrollTop){let r=t.offsetTop+t.offsetHeight;r>n.scrollTop&&(n.scrollTop=r-n.offsetHeight)}else n.scrollTop=t.getBoundingClientRect()?.top-10}isDisplayOnlyVariant(){return this.routingService.getRouterState().pipe(R(e=>e.state.params.displayOnly&&e.state.queryParams.productCode?this.productService.get(e.state.queryParams.productCode,"list"):Te(void 0)),O(e=>(e&&!!e.baseProduct)??!1))}setLastSelected(e,t){this.lastSelected={attributeName:e,valueCode:t}}isLastSelected(e,t){return!!this.lastSelected&&this.lastSelected.attributeName===e&&this.lastSelected.valueCode===t}static{this.\u0275fac=function(t){return new(t||i)(P(He),P(wt),P(lt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Jo=(()=>{class i{constructor(){this._quantity=new oi(1)}setQuantity(e){this._quantity.next(e)}getQuantity(){return this._quantity}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),To="cx-configurator-add-to-cart-button",bp=(()=>{class i{constructor(e,t,n,r,c,g,T,y,C,q,re){this.routingService=e,this.configuratorCommonsService=t,this.configuratorCartService=n,this.configuratorGroupsService=r,this.configRouterExtractorService=c,this.globalMessageService=g,this.orderHistoryFacade=T,this.commonConfiguratorUtilsService=y,this.configUtils=C,this.intersectionService=q,this.configuratorQuantityService=re,this.subscription=new ke,this.multiCartFacade=Z(ho),this.focusService=Z(lt),this.activeCartFacade=Z(Kt),this.quantityControl=new Ie(1),this.iconType=pe,this.container$=this.configRouterExtractorService.extractRouterData().pipe(R(Tt=>this.configuratorCommonsService.getConfiguration(Tt.owner).pipe(O(Pt=>({routerData:Tt,configuration:Pt}))).pipe(R(Pt=>this.configuratorCommonsService.hasPendingChanges(Pt.configuration.owner).pipe(O(_a=>({routerData:Pt.routerData,configuration:Pt.configuration,hasPendingChanges:_a})))))))}ngOnInit(){this.makeAddToCartButtonSticky(),this.configuratorQuantityService.getQuantity().pipe(w(1)).subscribe(e=>{this.quantityControl.setValue(e)}),this.subscription.add(this.quantityControl.valueChanges.pipe(Gt()).subscribe(()=>this.configuratorQuantityService.setQuantity(this.quantityControl.value)))}navigateToCart(){this.routingService.go("cart")}navigateToOverview(e,t,n){this.routingService.go({cxRoute:"configureOverview"+e,params:{ownerType:"cartEntry",entityKey:t.id}},{queryParams:{productCode:n}}).then(()=>{this.focusOverviewInTabBar()})}focusOverviewInTabBar(){this.configRouterExtractorService.extractRouterData().pipe(R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),W(e=>e.overview!=null),w(1),Ve(0)).subscribe(()=>{this.focusService.clear(),this.configUtils.focusFirstActiveElement("cx-configurator-tab-bar")})}displayConfirmationMessage(e){this.globalMessageService.add({key:e},In.MSG_TYPE_CONFIRMATION)}isQuoteCartActive(){return this.activeCartFacade.getActive().pipe(O(e=>e.quoteCode!==void 0))}getTranslationKeyForAddToCart(e){return this.isQuoteCartActive().pipe(O(t=>t?"configurator.addToCart.confirmationQuoteUpdate":e?"configurator.addToCart.confirmation":"configurator.addToCart.confirmationUpdate"))}performNavigation(e,t,n,r,c,g){r?this.navigateToCart():this.navigateToOverview(e,t,g),c&&this.getTranslationKeyForAddToCart(n).pipe(w(1)).subscribe(T=>{this.displayConfirmationMessage(T)})}getButtonResourceKey(e,t,n=!1){return(e.isOwnerCartEntry||n)&&t.isCartEntryUpdateRequired?"configurator.addToCart.buttonUpdateCart":e.isOwnerCartEntry&&!t.isCartEntryUpdateRequired?n?"configurator.addToCart.buttonForQuote":"configurator.addToCart.buttonAfterAddToCart":"configurator.addToCart.button"}isCartEntry(e){return e.isOwnerCartEntry?e.isOwnerCartEntry:!1}onAddToCart(e,t){let n=t.pageType,r=e.owner.configuratorType,c=n===dt.PageType.OVERVIEW,g=t.owner.type===ae.OwnerType.CART_ENTRY,T=e.owner,y=t.productCode?t.productCode:e.productCode,C=e.interactionState.currentGroup;C&&this.configuratorGroupsService.setGroupStatusVisited(e.owner,C),this.container$.pipe(W(q=>!q.hasPendingChanges),w(1)).subscribe(()=>{g?this.onUpdateCart(e,r,T,c,y):this.onAddToCartForProduct(T,e,r,c,y)})}onAddToCartForProduct(e,t,n,r,c){let g=this.quantityControl.value;this.configuratorCartService.addToCart(e.id,t.configId,e,g),this.configuratorCommonsService.getConfiguration(e).pipe(W(T=>T.nextOwner!==void 0),w(1)).subscribe(T=>{this.navigateForProductBound(T,n,r,c)})}navigateForProductBound(e,t,n,r){let c=e.nextOwner??et.createInitialOwner();this.performNavigation(t,c,!0,n,!0,r),n||this.configuratorCommonsService.removeConfiguration(c)}onUpdateCart(e,t,n,r,c){e.isCartEntryUpdateRequired&&this.configuratorCartService.updateCartEntry(e),this.performNavigation(t,n,!1,r,e.isCartEntryUpdateRequired??!1,c),e.isCartEntryUpdateRequired&&!r&&this.configuratorCommonsService.removeConfiguration(n)}leaveConfigurationOverview(){this.container$.pipe(w(1)).subscribe(e=>{e.routerData.owner.type===ae.OwnerType.ORDER_ENTRY?this.goToOrderDetails(e.routerData.owner):e.routerData.owner.type===ae.OwnerType.QUOTE_ENTRY?this.goToQuoteDetails(e.routerData.owner):e.routerData.owner.type===ae.OwnerType.SAVED_CART_ENTRY?this.goToSavedCartDetails(e.routerData.owner):e.routerData.owner.type===ae.OwnerType.CART_ENTRY&&!e.routerData.navigateToCheckout?this.routingService.go({cxRoute:"cart"}):e.routerData.owner.type===ae.OwnerType.PRODUCT?this.routingService.go({cxRoute:"product",params:{code:e.routerData.owner.id}}):this.routingService.go({cxRoute:"checkoutReviewOrder"})})}goToOrderDetails(e){this.orderHistoryFacade.loadOrderDetails(this.commonConfiguratorUtilsService.decomposeOwnerId(e.id).documentId),this.orderHistoryFacade.getOrderDetails().pipe(W(t=>t!==void 0),w(1)).subscribe(t=>this.routingService.go({cxRoute:"orderDetails",params:t}))}goToQuoteDetails(e){let t=this.commonConfiguratorUtilsService.decomposeOwnerId(e.id);this.routingService.go({cxRoute:"quoteDetails",params:{quoteId:t.documentId}})}goToSavedCartDetails(e){let t=this.commonConfiguratorUtilsService.decomposeOwnerId(e.id);this.multiCartFacade.getCart(t.documentId).pipe(w(1)).subscribe(n=>{this.routingService.go({cxRoute:"quoteDetails",params:{quoteId:n.quoteCode}})})}extractConfigPrices(e){let t=e.priceSummary,n=t?.basePrice?.formattedValue,r=t?.selectedOptions?.formattedValue,c=t?.currentTotal?.formattedValue,g={basePrice:n,selectedOptions:r,totalPrice:c};return(!n||n==="-")&&(g.basePrice="0"),(!r||r==="-")&&(g.selectedOptions="0"),(!c||c==="-")&&(g.totalPrice="0"),g}makeAddToCartButtonSticky(){let e={rootMargin:"9999px 0px -100px 0px"};this.subscription.add(this.container$.pipe(w(1),Ve(0),O(()=>this.configUtils.getElement("cx-configurator-price-summary")),R(t=>t?this.intersectionService.isIntersecting(t,e):Te(void 0)),W(t=>t!==void 0)).subscribe(t=>{t?this.configUtils.changeStyling(To,"position","sticky"):this.configUtils.changeStyling(To,"position","fixed")}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(v(Xe),v(te),v(yr),v(He),v(ve),v(Tn),v(yo),v(tt),v(ce),v(uo),v(Jo))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-add-to-cart-button"]],decls:2,vars:3,consts:[["displayOnly",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"cx-add-to-cart-btn-container"],[1,"cx-quantity-add-to-cart-container"],[1,"cx-quantity-add-to-cart-row"],[1,"cx-quantity"],[3,"control"],[1,"cx-btn","btn","btn-block","btn-primary","cx-add-to-cart-btn",3,"click","title"],[3,"type"],[1,"cx-btn","btn","btn-block","btn-primary","cx-add-to-cart-btn",3,"click"],[1,"cx-display-only-btn-container"],[1,"cx-btn","btn","btn-block","btn-secondary","cx-display-only-btn",3,"click"]],template:function(t,n){t&1&&(_(0,xa,4,2,"ng-container",1),d(1,"async")),t&2&&s("ngIf",f(1,1,n.container$))},dependencies:[H,Nn,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Ip=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorAddToCartButton:{component:bp}}})],imports:[L,Q,vi,be]})}}return i})(),Tp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:function(t){let n=null;return t?n=new(t||i):n=P(Ke),n},providedIn:"root"})}}return i})(),Oe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),Sp=(()=>{class i{constructor(e,t){this.vcr=e,this.configuratorAttributeCompositionConfig=t,this.logger=Z($e),this.featureConfigService=Z(st),this.attrComponentAssignment=this.configuratorAttributeCompositionConfig.productConfigurator?.assignment??[]}ngOnInit(){if(!this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")){let e=this.context.componentKey;this.renderComponent(this.attrComponentAssignment[e],e)}}ngOnChanges(){if(this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")){let e=!bn.deepEqualObjects(this.lastRenderedAttribute,this.context.attribute),t=this.lastRenderedGroupId!==this.context.group.id;if(e||t){let n=this.context.componentKey;this.renderComponent(this.attrComponentAssignment[n],n)}}}renderComponent(e,t){e?(this.lastRenderedAttribute=this.context.attribute,this.lastRenderedGroupId=this.context.group.id,this.vcr.clear(),this.vcr.createComponent(e,{injector:this.getComponentInjector()})):Ye()&&this.logger.warn("No attribute type component available for: "+t)}getComponentInjector(){return Gr.create({providers:[{provide:Oe,useValue:this.context}],parent:this.vcr.injector})}static{this.\u0275fac=function(t){return new(t||i)(v(Br),v(Tp))}}static{this.\u0275dir=si({type:i,selectors:[["","cxConfiguratorAttributeComponent",""]],inputs:{context:[Vr.None,"cxConfiguratorAttributeComponent","context"]},features:[dn]})}}return i})(),ea=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L]})}}return i})(),Nt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:function(t){let n=null;return t?n=new(t||i):n=P(Ke),n},providedIn:"root"})}}return i})(),it=(()=>{class i{constructor(){this.configuratorRouterExtractorService=Z(ve),this.configuratorCommonsService=Z(te)}getChangedPrices(e){let t=!0;return this.configuratorRouterExtractorService.extractRouterData().pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner).pipe(W(r=>t||!!r.priceSupplements),R(r=>{if(!r.priceSupplements)return Te({});let c=this.checkForValuePriceChanges(r,e);return c?Te(c):ln}),Ce(()=>t=!1))),Mr({bufferSize:1,refCount:!0}))}checkForValuePriceChanges(e,t){let n=e.priceSupplements?.find(c=>c.attributeUiKey===t);if(!bn.deepEqualObjects(this.lastAttributeSupplement??{},n??{})){let c={};return this.lastAttributeSupplement=n,n?.valueSupplements.forEach(g=>c[g.attributeValueKey]=g.priceValue),c}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),je=(()=>{class i{constructor(){this.configuratorUISettingsConfig=Z(Nt),this.translation=Z(Ee),this.configuratorAttributePriceChangeService=Z(it,{optional:!0}),this.configuratorStorefrontUtilsService=Z(ce),this._featureConfigService=Z(st),this.changedPrices$=Te({})}static{this.SEPERATOR="--"}static{this.PREFIX="cx-configurator"}static{this.PREFIX_LABEL="label"}static{this.PREFIX_OPTION_PRICE_VALUE="price--optionsPriceValue"}static{this.PREFIX_DDLB_OPTION_PRICE_VALUE="option--price"}static{this.MAX_IMAGE_LABEL_CHARACTERS=16}initPriceChangedEvent(e=!1,t){e&&this.configuratorAttributePriceChangeService&&this._featureConfigService.isEnabled("productConfiguratorDeltaRendering")&&(this.listenForPriceChanges=!0,this.changedPrices$=this.configuratorAttributePriceChangeService.getChangedPrices(t))}createValueUiKey(e,t,n){return this.createAttributeUiKey(e,t)+i.SEPERATOR+n}createAttributeValueIdForConfigurator(e,t){return this.createValueUiKey(this.getUiType(e),e.name,t)}getUiType(e){return e.uiType?e.uiType:m.UiType.NOT_IMPLEMENTED}createAttributeUiKey(e,t){return i.PREFIX+i.SEPERATOR+e+i.SEPERATOR+t}createAttributeIdForConfigurator(e){return this.createAttributeUiKey(this.getUiType(e),e.name)}createAriaLabelledBy(e,t,n,r){let c=this.createAttributeUiKey(i.PREFIX_LABEL,t);return n&&(c+=" "+this.createAttributeUiKey(e,t)+i.SEPERATOR+n+" ",typeof r=="boolean"&&!r?c+=this.createAttributeUiKey(i.PREFIX_DDLB_OPTION_PRICE_VALUE,t)+i.SEPERATOR+n:c+=this.createAttributeUiKey(i.PREFIX_OPTION_PRICE_VALUE,t)+i.SEPERATOR+n),c}createFocusId(e,t){return`${e}--${t}--focus`}getLabel(e,t,n,r){let c=t||"";return e&&n&&(c+=` / [${n}]`),c+=this.getValuePrice(r),c}getImageLabel(e,t,n,r){let c=this.getLabel(e,t,n,r);return c?.trim().length>=i.MAX_IMAGE_LABEL_CHARACTERS?c.substring(0,i.MAX_IMAGE_LABEL_CHARACTERS).concat("..."):c}getImage(e){let t=e.images;return t?t[0]:void 0}getAriaLabelForValueWithPrice(e){return e?"configurator.a11y.readOnlyValueOfAttributeFullWithPrice":"configurator.a11y.valueOfAttributeFullWithPrice"}getAriaLabelForValue(e){return e?"configurator.a11y.readOnlyValueOfAttributeFull":"configurator.a11y.valueOfAttributeFull"}getImgStyleClasses(e,t,n){return this.isReadOnly(e)||(n+=" cx-img-hover",t.selected&&(n+=" cx-img-selected")),n}getValuePrice(e){if(e?.valuePrice?.value&&!e.selected){if(e.valuePrice.value<0)return` [${e.valuePrice?.formattedValue}]`;if(e.valuePrice.value>0)return` [+${e.valuePrice?.formattedValue}]`}return""}getAttributeCode(e){let t=e.attrCode;if(t)return t;throw new Error("No attribute code for: "+e.name)}isWithAdditionalValues(e){let t=e.uiType;return t===m.UiType.RADIOBUTTON_ADDITIONAL_INPUT||t===m.UiType.DROPDOWN_ADDITIONAL_INPUT}isRequiredErrorMsg(e){return e.required&&e.incomplete||!1}isUserInput(e){return e.uiType===m.UiType.STRING||e.uiType===m.UiType.NUMERIC}isDropDown(e){return e.uiType===m.UiType.DROPDOWN||e.uiType===m.UiType.DROPDOWN_PRODUCT}getSelectedValue(e){return e.values?.find(t=>t.selected)}isNoValueSelected(e){let t=this.getSelectedValue(e);return t?t.valueCode===m.RetractValueCode:!0}getValueDescriptionLength(){return this.configuratorUISettingsConfig.productConfigurator?.descriptions?.valueDescriptionLength??70}isReadOnly(e){return e.uiType?e.uiType===m.UiType.READ_ONLY||e.uiType===m.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE||e.uiType===m.UiType.READ_ONLY_MULTI_SELECTION_IMAGE:!1}isValueDisplayed(e,t){return this.isReadOnly(e)&&t.selected||!this.isReadOnly(e)}getAriaLabelGeneric(e,t,n=!1){let r="";if(t){let c={value:t.valueDisplay,attribute:e.label},g=n&&t.selected,T=g?"configurator.a11y.selectedValueOfAttributeFullWithPrice":this.getAriaLabelForValueWithPrice(this.isReadOnly(e));t.valuePriceTotal&&t.valuePriceTotal?.value!==0?c.price=t.valuePriceTotal.formattedValue:t.valuePrice&&t.valuePrice?.value!==0?c.price=t.valuePrice.formattedValue:T=g?"configurator.a11y.selectedValueOfAttributeFull":this.getAriaLabelForValue(this.isReadOnly(e)),this.translation.translate(T,c).pipe(w(1)).subscribe(y=>r=y)}return r}extractValuePriceFormulaParameters(e){return{quantity:e?.quantity,price:e?.valuePrice,priceTotal:e?.valuePriceTotal,isLightedUp:e?.selected}}enrichValueWithPrice(e,t){if(e&&t&&e.valueCode in t){let n=t[e.valueCode];n&&(e=M(A({},e),{valuePrice:n}))}return e}isLastSelected(e,t){return this.configuratorStorefrontUtilsService.isLastSelected(e,t)}}return i})(),Ep=(()=>{class i extends je{constructor(e,t){super(),this.configUtils=e,this.attributeComponentContext=t,this.iconType=pe,this.attribute=t.attribute,this.owner=t.owner,this.groupId=t.group.id}ngOnInit(){this.showRequiredMessageForUserInput$=this.configUtils.isCartEntryOrGroupVisited(this.owner,this.groupId).pipe(O(e=>e?this.needsRequiredAttributeErrorMsg():!1))}needsRequiredAttributeErrorMsg(){return this.needsUserInputMsg()||this.needsDropDownMsg()}needsDropDownMsg(){return this.isRequiredErrorMsg(this.attribute)&&this.isDropDown(this.attribute)&&this.isNoValueSelected(this.attribute)}isUserInputEmpty(e){return e!==void 0&&(!e.trim()||e.length===0)}needsUserInputMsg(){return this.isRequiredErrorMsg(this.attribute)&&this.isUserInput(this.attribute)&&this.isUserInputEmpty(this.attribute.userInput)}static{this.\u0275fac=function(t){return new(t||i)(v(ce),v(Oe))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-footer"]],features:[ye],decls:2,vars:3,consts:[["class","cx-required-error-msg","aria-live","assertive","aria-atomic","true","role","alert",3,"id",4,"ngIf"],["aria-live","assertive","aria-atomic","true","role","alert",1,"cx-required-error-msg",3,"id"],[3,"type"],[4,"ngIf"]],template:function(t,n){t&1&&(_(0,Ta,6,9,"div",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.showRequiredMessageForUserInput$))},dependencies:[H,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),wp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{Footer:Ep}}})],imports:[ue,le,L,Q,be]})}}return i})(),ht=(()=>{class i{constructor(e){this.cdRef=e,this.showMore=!1,this.showHiddenText=!1,this.config=Z(Ke),this.textSize=60,this.tabIndex=-1,Ze("productConfiguratorAttributeTypesV2")}ngAfterViewInit(){this.textNormalized=this.normalize(this.text),this.textNormalized.length>this.textSize?(this.showMore=!0,this.textToShow=this.textNormalized.substring(0,this.textSize)):this.textToShow=this.textNormalized,this.cdRef.detectChanges()}toggleShowMore(){this.showHiddenText=!this.showHiddenText,this.showHiddenText?this.textToShow=this.textNormalized:this.textToShow=this.textNormalized.substring(0,this.textSize),this.cdRef.detectChanges()}normalize(e=""){return e.replace(/<[^>]*>/g,"")}static{this.\u0275fac=function(t){return new(t||i)(v(kr))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-show-more"]],inputs:{text:"text",textSize:"textSize",productName:"productName",tabIndex:"tabIndex"},decls:1,vars:1,consts:[["less",""],[4,"ngIf"],[3,"innerHTML"],[3,"tabindex","click",4,"ngIf"],[3,"click","tabindex"],[4,"ngIf","ngIfElse"]],template:function(t,n){t&1&&_(0,Aa,4,8,"ng-container",1),t&2&&s("ngIf",n.text&&(n.config.features==null?null:n.config.features.productConfiguratorAttributeTypesV2))},dependencies:[H,ee],encapsulation:2,changeDetection:0})}}return i})(),Op=(()=>{class i extends je{constructor(e,t,n,r,c){super(),this.configUtils=e,this.configuratorCommonsService=t,this.configuratorGroupsService=n,this.configuratorUiSettings=r,this.attributeComponentContext=c,this.iconTypes=pe,this.logger=Z($e),this.attribute=c.attribute,this.owner=c.owner,this.groupId=c.group.id,this.groupType=c.group.groupType??m.GroupType.ATTRIBUTE_GROUP,this.expMode=c.expMode,this.isNavigationToGroupEnabled=c.isNavigationToGroupEnabled??!1}ngOnInit(){this.showRequiredMessageForDomainAttribute$=this.configUtils.isCartEntryOrGroupVisited(this.owner,this.groupId).pipe(O(e=>e&&this.needsRequiredAttributeErrorMsg()))}getRequiredMessageKey(){return this.isSingleSelection()?this.isWithAdditionalValues(this.attribute)?"configurator.attribute.singleSelectAdditionalRequiredMessage":"configurator.attribute.singleSelectRequiredMessage":this.isMultiSelection?"configurator.attribute.multiSelectRequiredMessage":"configurator.attribute.singleSelectRequiredMessage"}get isMultiSelection(){switch(this.attribute.uiType){case m.UiType.CHECKBOXLIST:case m.UiType.CHECKBOXLIST_PRODUCT:case m.UiType.MULTI_SELECTION_IMAGE:return!0}return!1}isSingleSelection(){switch(this.attribute.uiType){case m.UiType.RADIOBUTTON:case m.UiType.RADIOBUTTON_ADDITIONAL_INPUT:case m.UiType.RADIOBUTTON_PRODUCT:case m.UiType.CHECKBOX:case m.UiType.DROPDOWN_ADDITIONAL_INPUT:case m.UiType.SINGLE_SELECTION_IMAGE:return!0}return!1}isAttributeWithoutErrorMsg(e){switch(e){case m.UiType.NOT_IMPLEMENTED:case m.UiType.STRING:case m.UiType.NUMERIC:case m.UiType.CHECKBOX:case m.UiType.DROPDOWN:case m.UiType.DROPDOWN_PRODUCT:return!1}return!0}needsRequiredAttributeErrorMsg(){return this.isRequiredAttributeWithoutErrorMsg()}isRequiredAttributeWithoutErrorMsg(){return this.isRequiredErrorMsg(this.attribute)&&this.isAttributeWithoutErrorMsg(this.attribute.uiType)}isAttributeGroup(){return m.GroupType.ATTRIBUTE_GROUP===this.groupType}isConflictResolutionActive(){return this.isAttributeGroup()&&this.isNavigationToGroupEnabled}getConflictMessageKey(){return this.groupType===m.GroupType.CONFLICT_GROUP?"configurator.conflict.viewConfigurationDetails":this.isNavigationToConflictEnabled()?"configurator.conflict.viewConflictDetails":"configurator.conflict.conflictDetected"}get hasImage(){let e=this.attribute.images;return e?e.length>0:!1}get image(){let e=this.attribute.images;return e&&this.hasImage?e[0]:void 0}navigateToGroup(){this.configuratorCommonsService.getConfiguration(this.owner).pipe(w(1)).subscribe(e=>{let t;this.groupType===m.GroupType.CONFLICT_GROUP?t=this.attribute.groupId:t=this.findConflictGroupId(e,this.attribute),t?(this.configuratorGroupsService.navigateToGroup(e,t),this.focusValue(this.attribute),this.scrollToAttribute(this.attribute.name)):this.logError('Attribute was not found in any conflict group. Note that for this navigation, commerce 22.05 or later is required. Consider to disable setting "enableNavigationToConflict"')})}scrollToAttribute(e){this.onNavigationCompleted(()=>this.configUtils.scrollToConfigurationElement("#"+this.createAttributeUiKey("label",e)))}findConflictGroupId(e,t){return e.flatGroups.filter(n=>n.groupType===m.GroupType.CONFLICT_GROUP).find(n=>n.attributes?.find(r=>r.key===t.key))?.id}logError(e){Ye()&&this.logger.error(e)}focusValue(e){this.onNavigationCompleted(()=>this.configUtils.focusValue(e))}onNavigationCompleted(e){this.configuratorCommonsService.isConfigurationLoading(this.owner).pipe(W(t=>t),w(1),R(()=>this.configuratorCommonsService.isConfigurationLoading(this.owner).pipe(W(t=>!t),w(1),Ve(0)))).subscribe(e)}isNavigationToConflictEnabled(){return(this.isNavigationToGroupEnabled&&this.configuratorUISettingsConfig.productConfigurator?.enableNavigationToConflict)??!1}getAttributeDescriptionLength(){return this.configuratorUISettingsConfig.productConfigurator?.descriptions?.attributeDescriptionLength??100}static{this.\u0275fac=function(t){return new(t||i)(v(ce),v(te),v(He),v(Nt),v(Oe))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-header"]],features:[ye],decls:16,vars:27,consts:[["conflictGroup",""],["withoutLink",""],["class","cx-hidden-msg",4,"ngIf"],[3,"id"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],["class","cx-conflict-msg",3,"id",4,"ngIf"],["class","cx-required-error-msg",3,"id",4,"ngIf"],["class","cx-attribute-img",3,"src","alt",4,"ngIf"],[1,"cx-hidden-msg"],["aria-hidden","true",3,"type"],[3,"text","textSize","productName","tabIndex"],[1,"cx-conflict-msg",3,"id"],["aria-hidden","true",3,"type",4,"ngIf"],[4,"ngIf","ngIfElse"],["tabindex","0","role","link",1,"link","cx-action-link",3,"click","keydown.enter"],[1,"cx-required-error-msg",3,"id"],[3,"type"],[1,"cx-attribute-img",3,"src","alt"],["class","link cx-action-link","tabindex","0","role","link",3,"click","keydown.enter",4,"ngIf"],[1,"cx-conflict-msg"]],template:function(t,n){t&1&&(_(0,Da,4,4,"div",2),l(1,"label",3),d(2,"async"),d(3,"cxTranslate"),d(4,"cxTranslate"),l(5,"span"),h(6),p()(),_(7,Ra,1,4,"cx-configurator-show-more",4)(8,Va,4,10,"div",5)(9,Ga,5,8,"div",6),d(10,"async"),_(11,Ua,1,2,"img",7)(12,La,1,1,"ng-template",null,0,de)(14,ka,3,3,"ng-template",null,1,de)),t&2&&(s("ngIf",!n.attribute.visible),a(),se("cx-required-error",f(2,13,n.showRequiredMessageForDomainAttribute$)),E("id",n.createAttributeUiKey("label",n.attribute.name)),N("aria-label",n.attribute.required?Y(4,18,"configurator.a11y.requiredAttribute",B(25,Fa,n.attribute.label)):Y(3,15,"configurator.a11y.attribute",B(23,mt,n.attribute.label))),a(4),se("cx-required-icon",n.attribute.required),N("aria-describedby",n.createAttributeUiKey("label",n.attribute.name)),a(),ne(n.getLabel(n.expMode,n.attribute.label,n.attribute.name)),a(),s("ngIf",n.attribute.description),a(),s("ngIf",n.attribute.hasConflicts),a(),s("ngIf",f(10,21,n.showRequiredMessageForDomainAttribute$)),a(2),s("ngIf",n.hasImage))},dependencies:[H,xe,ht,J,ee],encapsulation:2,changeDetection:0})}}return i})(),yt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,Q]})}}return i})(),Ap=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{Header:Op}}})],imports:[ue,le,L,Q,be,Je,yt]})}}return i})(),xt=(()=>{class i{constructor(e){this.config=e,this.quantity=new Ie(1),this.optionsChangeSub=new ke,this.quantityChangeSub=new ke,this.changeQuantity=new Ut}ngOnInit(){this.quantity.setValue(this.quantityOptions?.initialQuantity),this.optionsChangeSub.add(this.quantityOptions.disableQuantityActions$?.pipe(Dr()).subscribe(e=>{e?(this.quantity.disable(),this.quantityChangeSub.unsubscribe()):(this.quantity.enable(),this.quantityChangeSub.add(this.subscribeToQuantityChange()))}))}subscribeToQuantityChange(){return this.quantity.valueChanges.pipe(ci(()=>ai(this.config.productConfigurator?.updateDebounceTime?.quantity??0)),w(1)).subscribe(()=>this.onChangeQuantity())}ngOnDestroy(){this.optionsChangeSub.unsubscribe(),this.quantityChangeSub.unsubscribe()}onChangeQuantity(){this.changeQuantity.emit(this.quantity?.value)}static{this.\u0275fac=function(t){return new(t||i)(v(Nt))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-quantity"]],inputs:{quantityOptions:"quantityOptions"},outputs:{changeQuantity:"changeQuantity"},decls:5,vars:6,consts:[[1,"cx-quantity"],[3,"allowZero","control","min"]],template:function(t,n){if(t&1&&(l(0,"div",0)(1,"label"),h(2),d(3,"cxTranslate"),p(),I(4,"cx-item-counter",1),p()),t&2){let r;a(2),ne(f(3,4,"configurator.attribute.quantity")),a(2),s("allowZero",(r=n.quantityOptions.allowZero)!==null&&r!==void 0?r:!1)("control",n.quantity)("min",n.quantityOptions.allowZero?0:1)}},dependencies:[Nn,ee],encapsulation:2,changeDetection:0})}}return i})(),Ne=(()=>{class i{constructor(e){this.directionService=e,Ze("productConfiguratorAttributeTypesV2")}isRTLDirection(){return this.directionService.getDirection()===fi.RTL}removeSign(e,t){return e?e.replace(t,""):""}addSign(e,t,n){return e?n?t+e:e+t:""}compileFormattedValue(e,t,n){if(e>0)return this.addSign(t,"+",!n);if(n){let r=this.removeSign(t,"-");return this.addSign(r,"-",!1)}return t??""}get price(){return this.formula.priceTotal?this.priceTotal:this.compileFormattedValue(this.formula.price?.value??0,this.formula.price?.formattedValue,this.isRTLDirection())}get priceTotal(){return this.compileFormattedValue(this.formula.priceTotal?.value??0,this.formula.priceTotal?.formattedValue,this.isRTLDirection())}displayQuantityAndPrice(){let e=this.formula.quantity;return e?this.formula.price?.value!==0&&e>=1:!1}displayPriceOnly(){let e=this.formula.price?.value??0,t=this.formula.priceTotal?.value??0;return(e!==0||t!==0)&&!this.displayQuantityAndPrice()}displayFormula(){return(this.formula.quantity&&this.formula.quantity!==0||this.formula.price&&this.formula.price?.value!==0||this.formula.priceTotal&&this.formula.priceTotal?.value!==0)??!1}quantityWithPrice(e){return e+"x("+this.formula.price?.formattedValue+")"}isPriceLightedUp(){return this.formula.isLightedUp??!1}get styleClass(){let e="cx-price";return this.isPriceLightedUp()||(e+=" cx-greyed-out"),e}static{this.\u0275fac=function(t){return new(t||i)(v(Mn))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-price"]],inputs:{formula:"formula"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngClass"],[1,"cx-quantity-price"],[1,"cx-price-total"]],template:function(t,n){t&1&&_(0,qa,3,2,"ng-container",0),t&2&&s("ngIf",n.displayFormula())},dependencies:[Pe,H,ee,Sn],encapsulation:2,changeDetection:0})}}return i})(),xr=(()=>{class i extends je{constructor(e,t,n){super(),this.productService=e,this.keyBoardFocus=t,this.translation=n,this.loading$=new Vt(!0),this.showDeselectionNotPossible=!1,this.handleDeselect=new Ut,this.handleQuantity=new Ut,this.handleSelect=new Ut,this.iconType=pe}ngOnInit(){this.loading$.next(!0);let e=this.productCardOptions.productBoundValue.productSystemId;this.product$=this.productService.get(e||"",bo.CONFIGURATOR_PRODUCT_CARD).pipe(O(t=>t||this.transformToProductType(this.productCardOptions.productBoundValue)),Ce(()=>this.loading$.next(!1)))}get showQuantity(){return(this.productCardOptions.withQuantity&&this.productCardOptions.productBoundValue.selected&&this.productCardOptions.multiSelect)??!1}get focusConfig(){return{key:this.createFocusId(this.productCardOptions.attributeId.toString(),this.productCardOptions.productBoundValue.valueCode)}}onHandleSelect(){this.loading$.next(!0),this.productCardOptions.hideRemoveButton&&this.productCardOptions.fallbackFocusId&&this.keyBoardFocus.set(this.productCardOptions.fallbackFocusId),this.handleSelect.emit(this.productCardOptions.productBoundValue.valueCode)}onHandleDeselect(){{if(this.productCardOptions.productBoundValue.selected&&this.productCardOptions.hideRemoveButton){this.showDeselectionNotPossibleMessage();return}this.loading$.next(!0),this.handleDeselect.emit(this.productCardOptions.productBoundValue.valueCode)}}onChangeQuantity(e){e?this.onHandleQuantity(e):this.onHandleDeselect()}isProductCardSelected(){return(this.productCardOptions.productBoundValue&&this.productCardOptions.productBoundValue.selected&&!this.productCardOptions.singleDropdown)??!1}hasPriceDisplay(){return!!(this.productCardOptions.productBoundValue.valuePrice||this.productCardOptions.productBoundValue.quantity||this.productCardOptions.productBoundValue.valuePriceTotal)}extractPriceFormulaParameters(){return this.productCardOptions.multiSelect?{quantity:this.productCardOptions.productBoundValue.quantity,price:this.productCardOptions.productBoundValue.valuePrice,priceTotal:this.productCardOptions.productBoundValue.valuePriceTotal,isLightedUp:this.productCardOptions.productBoundValue.selected}:{price:this.productCardOptions.productBoundValue.valuePrice,isLightedUp:this.productCardOptions.productBoundValue.selected}}extractQuantityParameters(){let e=this.productCardOptions.productBoundValue.quantity,t=this.productCardOptions.loading$?Ar([this.loading$,this.productCardOptions.loading$]).pipe(O(n=>n[0]||n[1])):this.loading$;return{allowZero:!this.productCardOptions.hideRemoveButton,initialQuantity:e||0,disableQuantityActions$:t}}isValueCodeDefined(e){return!!(e&&e!==m.RetractValueCode)}transformToProductType(e){return{code:e?.productSystemId,description:e?.description,images:{},name:e?.valueDisplay}}onHandleQuantity(e){this.loading$.next(!0),this.handleQuantity.emit({quantity:e,valueCode:this.productCardOptions.productBoundValue.valueCode})}showDeselectionNotPossibleMessage(){this.showDeselectionNotPossible=!0}getAriaLabelSingleUnselected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.isValueCodeDefined(this.productCardOptions?.productBoundValue?.valueCode)?this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeUnselectedWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(w(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeUnselected",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(w(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.selectNoItemOfAttribute",{attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(w(1)).subscribe(r=>t=r),t}getAriaLabelSingleSelected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselectWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(w(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselect",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(w(1)).subscribe(r=>t=r),t}getAriaLabelSingleSelectedNoButton(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeSelectedWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(w(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeSelected",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(w(1)).subscribe(r=>t=r),t}getAriaLabelMultiSelected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselectWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(w(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeSelectedPressToUnselect",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(w(1)).subscribe(r=>t=r),t}getAriaLabelMultiUnselected(e){let t="",n=this.productCardOptions.itemIndex+1;return this.hasPriceDisplay()&&this.productCardOptions.productBoundValue.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeUnselectedWithPrice",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount,price:this.productCardOptions.productBoundValue.valuePriceTotal?.formattedValue}).pipe(w(1)).subscribe(r=>t=r):this.translation.translate("configurator.a11y.itemOfAttributeUnselected",{item:e.code,attribute:this.productCardOptions?.attributeLabel,itemIndex:n,itemCount:this.productCardOptions.itemCount}).pipe(w(1)).subscribe(r=>t=r),t}static{this.\u0275fac=function(t){return new(t||i)(v(Qe),v(lt),v(Ee))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-product-card"]],inputs:{productCardOptions:"productCardOptions"},outputs:{handleDeselect:"handleDeselect",handleQuantity:"handleQuantity",handleSelect:"handleSelect"},features:[ye],decls:2,vars:3,consts:[["single",""],["select",""],["deselect",""],[4,"ngIf"],[1,"cx-product-card",3,"ngClass"],[1,"cx-product-card-rows"],[1,"cx-product-card-imgs"],["format","product","aria-hidden","true",3,"container"],[1,"cx-product-card-info"],[1,"cx-product-card-name"],["class","cx-product-card-code",4,"ngIf"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],["class","cx-product-card-rows column",4,"ngIf"],[1,"cx-product-card-code"],[3,"text","textSize","productName","tabIndex"],[1,"cx-product-card-rows","column"],[1,"cx-product-card-quantity-price"],[1,"cx-product-card-quantity"],[3,"quantityOptions","changeQuantity",4,"ngIf"],[1,"cx-product-card-price"],[3,"formula"],[1,"cx-product-card-action"],["class","cx-product-card-action-btn",4,"ngIf"],[3,"changeQuantity","quantityOptions"],[1,"cx-product-card-action-btn"],[4,"ngIf","ngIfElse"],["class","btn btn-secondary",3,"cxFocus","click",4,"ngIf","ngIfElse"],[1,"btn","btn-secondary",3,"click","cxFocus"],[1,"btn","btn-primary",3,"click","disabled","cxFocus"],["class","btn btn-primary",3,"disabled","cxFocus","click",4,"ngIf","ngIfElse"],["class","btn btn-secondary",3,"disabled","cxFocus","click",4,"ngIf"],["class","cx-visually-hidden","tabindex","0",4,"ngIf"],[1,"btn","btn-secondary",3,"click","disabled","cxFocus"],["tabindex","0",1,"cx-visually-hidden"],["aria-live","assertive","aria-atomic","true","role","alert",1,"cx-product-card-rows","deselection-error-message",3,"id"],["type","ERROR",1,"deselection-error-symbol"]],template:function(t,n){t&1&&(_(0,cc,14,15,"ng-container",3),d(1,"async")),t&2&&s("ngIf",f(1,1,n.product$))},dependencies:[Pe,H,ht,xt,mi,Ne,we,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Me=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,Q]})}}return i})(),Fp={productConfigurator:{updateDebounceTime:{quantity:750,input:500,date:1500},addRetractOption:!1,enableNavigationToConflict:!0,descriptions:{attributeDescriptionLength:100,valueDescriptionLength:70}}},bt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X(Fp)],imports:[L,Q,vi,fe]})}}return i})(),br=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,yt,bt,Q,ct,ut,ue,le,_i,Me,fe,be]})}}return i})(),Mt=(()=>{class i{disableQuantityActions(e){return!e||e==="0"||e===m.RetractValueCode}disableQuantityActionsMultiSelection(e){return e.dataType===m.DataType.USER_SELECTION_QTY_ATTRIBUTE_LEVEL&&(!e.values||!e.values.find(t=>t.selected)||e.quantity===0)}withQuantityOnAttributeLevel(e){return e.dataType===m.DataType.USER_SELECTION_QTY_ATTRIBUTE_LEVEL}withQuantity(e,t){switch(t){case m.UiType.DROPDOWN_PRODUCT:case m.UiType.DROPDOWN:case m.UiType.RADIOBUTTON_PRODUCT:case m.UiType.RADIOBUTTON:return e===m.DataType.USER_SELECTION_QTY_ATTRIBUTE_LEVEL;case m.UiType.CHECKBOXLIST:case m.UiType.CHECKBOXLIST_PRODUCT:return e===m.DataType.USER_SELECTION_QTY_VALUE_LEVEL;default:return!1}}allowZeroValueQuantity(e){let t=e.values?e.values.filter(n=>n.selected).length:0;return!(e.required&&t<2)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),cn=(()=>{class i extends je{constructor(e,t,n,r,c){super(),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.loading$=new Vt(!1),this.showRequiredErrorMessage$=Te(!1),this.attribute=n.attribute,this.ownerKey=n.owner.key,this.ownerType=n.owner.type,this.language=n.language,this.expMode=n.expMode,this.showRequiredErrorMessage$=this.configuratorStorefrontUtilsService.isCartEntryOrGroupVisited(n.owner,n.group.id).pipe(O(g=>g&&this.isRequiredErrorMsg(this.attribute)&&this.isDropDown(this.attribute)&&this.isNoValueSelected(this.attribute)||!1)),this.initPriceChangedEvent(n.isPricingAsync,n.attribute.key)}get withQuantity(){return this.quantityService.withQuantity(this.attribute.dataType??m.DataType.NOT_IMPLEMENTED,this.attribute.uiType??m.UiType.NOT_IMPLEMENTED)}get disableQuantityActions(){return this.quantityService.disableQuantityActions(this.attribute.selectedSingleValue)}onSelect(e){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{selectedSingleValue:e}),m.UpdateType.ATTRIBUTE)}onSelectAdditionalValue(e){let t=e.changedAttribute.userInput;t&&(this.loading$.next(!0),e.changedAttribute.selectedSingleValue=t,this.configuratorCommonsService.updateConfiguration(e.ownerKey,e.changedAttribute,m.UpdateType.ATTRIBUTE))}onHandleQuantity(e){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{quantity:e}),m.UpdateType.ATTRIBUTE_QUANTITY)}onChangeQuantity(e,t){e?this.onHandleQuantity(e):(t&&t.setValue("0"),this.onSelect(""))}getInitialQuantity(e){let t=this.attribute.quantity??0;return e?e.value!=="0"?t:0:this.attribute.selectedSingleValue?t:0}extractQuantityParameters(e){let t=this.getInitialQuantity(e),n=this.loading$.pipe(O(r=>r||this.disableQuantityActions));return{allowZero:!this.attribute.required,initialQuantity:t,disableQuantityActions$:n}}extractPriceFormulaParameters(){return{quantity:this.attribute.quantity,price:this.getSelectedValuePrice(),priceTotal:this.attribute.attributePriceTotal,isLightedUp:!0}}extractValuePriceFormulaParameters(e){return{price:e?.valuePrice,isLightedUp:e?e.selected:!1}}getSelectedValuePrice(){return this.attribute.values?.find(e=>e.selected)?.valuePrice}get isAdditionalValueNumeric(){return this.isWithAdditionalValues(this.attribute)&&this.attribute.validationType===m.ValidationType.NUMERIC}get isAdditionalValueAlphaNumeric(){return this.isWithAdditionalValues(this.attribute)&&this.attribute.validationType===m.ValidationType.NONE}getAriaLabel(e,t){let n=this.getAriaLabelWithoutAdditionalValue(e,t);if(this.isWithAdditionalValues(this.attribute)){let r=this.getAdditionalValueAriaLabel();return n+" "+r}else return n}getAdditionalValueAriaLabel(){let e="";return this.translation.translate("configurator.a11y.additionalValue").pipe(w(1)).subscribe(t=>e=t),e}getAriaLabelWithoutAdditionalValue(e,t){return this.getAriaLabelGeneric(t,e,!0)}static{this.\u0275fac=function(t){return new(t||i)(v(Mt),v(Ee),v(Oe),v(te),v(ce))}}static{this.\u0275dir=si({type:i,features:[ye]})}}return i})(),ta=(()=>{class i extends je{constructor(e,t,n){super(),this.quantityService=e,this.attributeComponentContext=t,this.configuratorCommonsService=n,this.loading$=new Vt(!1),this.attribute=t.attribute,this.ownerKey=t.owner.key,this.expMode=t.expMode,this.initPriceChangedEvent(t.isPricingAsync,t.attribute.key)}get withQuantityOnAttributeLevel(){return this.quantityService.withQuantityOnAttributeLevel(this.attribute)}get withQuantity(){return this.quantityService.withQuantity(this.attribute.dataType??m.DataType.NOT_IMPLEMENTED,this.attribute.uiType??m.UiType.NOT_IMPLEMENTED)}get disableQuantityActions(){return this.quantityService.disableQuantityActionsMultiSelection(this.attribute)}extractQuantityParameters(e,t){let n=this.loading$.pipe(O(r=>r||this.disableQuantityActions));return{allowZero:t??!this.attribute.required,initialQuantity:e,disableQuantityActions$:n}}onHandleAttributeQuantity(e){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{quantity:e}),m.UpdateType.ATTRIBUTE_QUANTITY)}extractPriceFormulaParameters(){return{quantity:0,price:{value:0,currencyIso:""},priceTotal:this.attribute.attributePriceTotal,isLightedUp:!0}}static{this.\u0275fac=function(t){return new(t||i)(v(Mt),v(Oe),v(te))}}static{this.\u0275dir=si({type:i,features:[ye]})}}return i})(),Dp=(()=>{class i extends ta{constructor(e,t,n,r){super(t,n,r),this.configUtilsService=e,this.quantityService=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.attributeCheckBoxForms=new Array,this.logger=Z($e),this.group=n.group.id}ngOnInit(){for(let e of this.attribute.values??[]){let t;e.selected?t=new Ie(!0):t=new Ie(!1),this.attributeCheckBoxForms.push(t)}}get allowZeroValueQuantity(){return this.quantityService.allowZeroValueQuantity(this.attribute)}onSelect(e){let t=this.configUtilsService.assembleValuesForMultiSelectAttributes(this.attributeCheckBoxForms,this.attribute);e&&this.listenForPriceChanges&&this.configUtilsService.setLastSelected(this.attribute.name,e),this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{values:t}),m.UpdateType.ATTRIBUTE)}onChangeValueQuantity(e,t,n){if(e===0){this.attributeCheckBoxForms[n].setValue(!1),this.onSelect(t);return}let r=this.configUtilsService.assembleValuesForMultiSelectAttributes(this.attributeCheckBoxForms,this.attribute).find(c=>c.valueCode===t);if(!r){Ye()&&this.logger.warn("no value for event:",e);return}r.quantity=e,this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{values:[r]}),m.UpdateType.VALUE_QUANTITY)}onChangeQuantity(e){e?this.onHandleAttributeQuantity(e):(this.attributeCheckBoxForms.forEach((t,n)=>this.attributeCheckBoxForms[n].setValue(!1)),this.onSelect())}static{this.\u0275fac=function(t){return new(t||i)(v(ce),v(Mt),v(Oe),v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-checkbox-list"]],features:[We([it]),ye],decls:5,vars:4,consts:[[2,"display","none"],[3,"id",4,"ngIf"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"],[1,"form-check"],[1,"cx-value-label-pair"],["type","checkbox",1,"form-check-input",3,"change","id","cxFocus","value","formControl","name"],["aria-hidden","true",1,"cx-configurator-attribute-value-label","form-check-label",3,"id","for"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"quantityOptions","changeQuantity",4,"ngIf"],[3,"text","textSize","productName","tabIndex"]],template:function(t,n){t&1&&(l(0,"fieldset")(1,"legend",0),h(2),p(),_(3,dc,3,3,"div",1),d(4,"async"),p()),t&2&&(a(2),ne(n.attribute.label),a(),s("ngIf",f(4,2,n.changedPrices$)))},dependencies:[we,jt,Be,Le,he,H,xt,Ne,ht,J],encapsulation:2,changeDetection:0})}}return i})(),Rp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_checkBoxList:Dp}}})],imports:[fe,ue,le,L,Q,bt,Me,yt]})}}return i})(),Np=(()=>{class i extends je{constructor(e,t){super(),this.attributeComponentContext=e,this.configuratorCommonsService=t,this.attributeCheckBoxForm=new Ie(""),this.attribute=e.attribute,this.group=e.group.id,this.ownerKey=e.owner.key,this.expMode=e.expMode,this.initPriceChangedEvent(e.isPricingAsync,e.attribute.key)}ngOnInit(){this.attributeCheckBoxForm.setValue(this.attribute.selectedSingleValue),this.attributeValue=this.getValueFromAttribute()}onSelect(e){let t=this.assembleSingleValue();e&&this.listenForPriceChanges&&this.configuratorStorefrontUtilsService.setLastSelected(this.attribute.name,e),this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{values:t}),m.UpdateType.ATTRIBUTE)}getValueFromAttribute(){return this.attribute.values?this.attribute.values[0]:{valueCode:""}}assembleSingleValue(){let e=[],t=this.getValueFromAttribute(),n={valueCode:t.valueCode};return n.name=t.name,n.selected=this.attributeCheckBoxForm.value,e.push(n),e}static{this.\u0275fac=function(t){return new(t||i)(v(Oe),v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-checkbox"]],features:[We([it]),ye],decls:7,vars:5,consts:[[2,"display","none"],[3,"id"],["class","form-check",4,"ngIf"],[1,"form-check"],[1,"cx-value-label-pair"],["type","checkbox",1,"form-check-input",3,"change","id","value","cxFocus","formControl","name"],["aria-hidden","true",1,"form-check-label",3,"id","for"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"formula"],[3,"text","textSize","productName","tabIndex"]],template:function(t,n){t&1&&(x(0),l(1,"fieldset")(2,"legend",0),h(3),p(),l(4,"div",1),_(5,fc,8,15,"div",2),d(6,"async"),p()(),b()),t&2&&(a(3),ne(n.attribute.label),a(),E("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",f(6,3,n.changedPrices$)))},dependencies:[we,jt,Be,Le,H,Ne,ht,J],encapsulation:2,changeDetection:0})}}return i})(),Mp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_checkBox:Np}}})],imports:[fe,ue,le,L,Q,Me,yt]})}}return i})(),ii=(()=>{class i extends je{constructor(e,t,n,r){super(),this.config=e,this.attributeComponentContext=t,this.configuratorCommonsService=n,this.configuratorStorefrontUtilsService=r,this.attributeInputForm=new Ie(""),this.showRequiredErrorMessage$=Te(!1),this.debounceForDateActive=!1,this.FALLBACK_DEBOUNCE_TIME=500,this.FALLBACK_DEBOUNCE_TIME_DATE=1500,this.attribute=t.attribute,this.group=t.group.id,this.owner=t.owner,this.ownerKey=t.owner.key,this.ownerType=t.owner.type,this.compileShowRequiredErrorMessage()}ngOnInit(){this.attributeInputForm.setValue(this.attribute.userInput),this.ownerType===ae.OwnerType.CART_ENTRY&&this.attribute.required&&this.attribute.incomplete&&!this.attributeInputForm.value&&this.attributeInputForm.markAsTouched(),this.sub=this.attributeInputForm.valueChanges.pipe(ci(()=>ai(this.calculateDebounceTime()))).subscribe(()=>{this.onChange()})}onChange(){this.attributeInputForm.invalid||this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{userInput:this.attributeInputForm.value,selectedSingleValue:this.attributeInputForm.value}),m.UpdateType.ATTRIBUTE)}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}get isUserInputEmpty(){return!this.attribute.userInput||this.attribute.userInput.trim().length===0}get isRequired(){return this.isUserInput(this.attribute)?this.attribute.required??!1:!1}get inputType(){return this.isDateBased(this.attribute)?"date":"text"}activateDebounceDate(){this.debounceForDateActive=!0}isDateBased(e){return e.uiType===m.UiType.SAP_DATE||this.isWithAdditionalValues(e)&&e.validationType===m.ValidationType.SAP_DATE}compileShowRequiredErrorMessage(){this.showRequiredErrorMessage$=this.configuratorStorefrontUtilsService.isCartEntryOrGroupVisited(this.owner,this.group).pipe(O(e=>e?this.isRequiredErrorMsg(this.attribute)&&this.isUserInput(this.attribute):!1))}calculateDebounceTime(){return this.isDateBased(this.attribute)?this.debounceForDateActive?this.config.productConfigurator?.updateDebounceTime?.date??this.FALLBACK_DEBOUNCE_TIME_DATE:0:this.config.productConfigurator?.updateDebounceTime?.input??this.FALLBACK_DEBOUNCE_TIME}static{this.\u0275fac=function(t){return new(t||i)(v(Nt),v(Oe),v(te),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-input-field"]],features:[ye],decls:6,vars:28,consts:[[1,"form-group",3,"id"],["class","cx-visually-hidden",3,"id",4,"ngIf"],[1,"form-control",3,"keydown","formControl","type","ngClass","maxlength","cxFocus"],[1,"cx-visually-hidden",3,"id"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,mc,3,13,"label",1),l(2,"input",2),d(3,"async"),d(4,"cxTranslate"),d(5,"cxTranslate"),V("keydown",function(){return n.activateDebounceDate()}),p()()),t&2&&(E("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",n.inputType==="date"),a(),se("ng-invalid",n.isRequired&&n.isUserInputEmpty),E("type",n.inputType),E("maxlength",n.attribute.maxlength),s("formControl",n.attributeInputForm)("ngClass",B(19,ni,f(3,11,n.showRequiredErrorMessage$)))("cxFocus",B(21,Re,n.createAttributeIdForConfigurator(n.attribute))),N("aria-label",n.isUserInputEmpty?Y(4,13,"configurator.a11y.valueOfAttributeBlank",B(23,mt,n.attribute.label)):Y(5,16,"configurator.a11y.valueOfAttributeFull",Ue(25,Yt,n.attribute.userInput,n.attribute.label)))("aria-describedby",n.inputType==="date"?n.createAttributeUiKey("labelForDate",n.attribute.name):n.createAttributeUiKey("label",n.attribute.name)))},dependencies:[we,qt,Be,Fn,Le,Pe,H,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Pp=(()=>{class i{performValidationAccordingToMetaData(e,t,n,r,c){let g="\\",T=new RegExp(g+t,"g"),y=e.replace(T,""),C=y.split(n);return C.length>2?!0:C.length===1?y.length>r-c:C[0].length>r-c||C[1].length>c}formatIntervalValue(e,t,n){return t===void 0&&(t=0),hn(e,n,"1."+t+"-"+t)}getIntervals(e){let t=[];return e&&e.length>0&&e.forEach(n=>{let r=this.getInterval(n);r&&Object.keys(r).length!==0&&t.push(r)}),t}getInterval(e){let t={minValue:void 0,maxValue:void 0,minValueIncluded:!1,maxValueIncluded:!1};if(!e||!e.name||e.selected)return;let n,r;return e.name.includes(" - ")?{minVal:n,maxVal:r}=this.handleStandardInterval(e.name,t):{minVal:n,maxVal:r}=this.handleSingleOrInfinite(e.name,t),n&&n.length>0&&(t.minValue=+n),r&&r.length>0&&(t.maxValue=+r),t}handleSingleOrInfinite(e,t){let n="",r="";return e.includes(">")&&(n=e,t.minValueIncluded=!1,n=n.replace(/>/g,"")),e.includes("<")&&(r=e,t.maxValueIncluded=!1,r=r.replace(/</g,"")),e.includes("\u2265")&&(n=e,t.minValueIncluded=!0,n=n.replace(/≥/g,"")),e.includes("\u2264")&&(r=e,t.maxValueIncluded=!0,r=r.replace(/≤/g,"")),!e.includes(">")&&!e.includes("<")&&!e.includes("\u2264")&&!e.includes("\u2265")&&(n=e,r=e,t.maxValueIncluded=!0,t.minValueIncluded=!0),{minVal:n,maxVal:r}}handleStandardInterval(e,t){let n=e.indexOf(" - "),r=e.substring(0,n),c=e.substring(n+3,e.length);return t.minValueIncluded=!0,t.maxValueIncluded=!0,r.includes(">")&&(t.minValueIncluded=!1,r=r.replace(">","")),c.includes("<")&&(t.maxValueIncluded=!1,c=c.replace("<","")),{minVal:r,maxVal:c}}getPatternForValidationMessage(e,t,n,r){let c=(10**t-1).toString();e>0&&(c=c.substring(0,t-e)+"."+c.substring(t-e,t));let g=Number(c),T=hn(g,r,"1."+e+"-"+e).replace(/9/g,"#");return n&&(T="-"+T),T}getNumberFormatValidator(e,t,n,r){return c=>{let g=c.value?.trim();return g?this.getValidationErrorsNumericFormat(g,e,t,n,r):null}}getValidationErrorsNumericFormat(e,t,n,r,c){let g=kt(t,Lt.Group),T=kt(t,Lt.Decimal),y=c?"^-?":"^";return new RegExp(y+"[0123456789"+g+T+"]*$").test(e)?this.createValidationError(this.performValidationAccordingToMetaData(e,g,T,r+(e.includes("-")?1:0),n)):this.createValidationError(!0)}getIntervalValidator(e,t,n,r,c,g){return T=>{let y=T.value?.trim();return y&&y!==g&&c.length!==0&&this.getValidationErrorsNumericFormat(y,e,t,n,r)==null?this.createIntervalValidationError(!this.checkIfPartOfIntervals(y,e,c)):null}}checkIfPartOfIntervals(e,t,n){return n.find(r=>this.inputMatchesInterval(e,t,r))!==void 0}inputMatchesInterval(e,t,n){let r=this.parseInput(e,t),c=!0;n.minValue&&(c=n.minValueIncluded?n.minValue<=r:n.minValue<r);let g=!0;return n.maxValue&&(g=n.maxValueIncluded?n.maxValue>=r:n.maxValue>r),c&&g}parseInput(e,t){let n=kt(t,Lt.Group),r=kt(t,Lt.Decimal);return this.parseInputForSeparators(e,n,r)}parseInputForSeparators(e,t,n){let r="\\",c=new RegExp(r+t,"g"),g=e.replace(c,"").replace(n,".");return parseFloat(g)}createValidationError(e){return e?{wrongFormat:{}}:null}createIntervalValidationError(e){return e?{intervalNotMet:{}}:null}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ir=(()=>{class i extends ii{constructor(e,t,n,r,c,g){super(t,r,c,g),this.configAttributeNumericInputFieldService=e,this.config=t,this.translation=n,this.attributeComponentContext=r,this.configuratorCommonsService=c,this.configuratorStorefrontUtilsService=g,this.iconType=pe,this.intervals=[],this.logger=Z($e),this.language=r.language}mustDisplayValidationMessage(){return(this.attributeInputForm.dirty||this.attributeInputForm.touched)&&this.attributeInputForm.errors?.wrongFormat}mustDisplayIntervalMessage(){return(this.attributeInputForm.dirty||this.attributeInputForm.touched)&&this.attributeInputForm.errors?.intervalNotMet}ngOnInit(){this.initializeValidation(),this.attribute.userInput&&this.attributeInputForm.setValue(this.attribute.userInput),this.ownerType===ae.OwnerType.CART_ENTRY&&this.attribute.required&&this.attribute.incomplete&&!this.attributeInputForm.value&&this.attributeInputForm.markAsTouched(),this.sub=this.attributeInputForm.valueChanges.pipe(ci(()=>ai(this.config.productConfigurator?.updateDebounceTime?.input??this.FALLBACK_DEBOUNCE_TIME))).subscribe(()=>this.onChange())}initializeValidation(){this.locale=this.getInstalledLocale(this.language);let e=this.attribute.numDecimalPlaces,t=this.attribute.numTotalLength,n=this.attribute.negativeAllowed;if(e===void 0||t===void 0||n===void 0){let g=this.getDefaultSettings();e=g.numDecimalPlaces,t=g.numTotalLength,n=g.negativeAllowed,Ye()&&this.logger.warn("Meta data for numeric attribute not present, falling back to defaults")}this.attribute.intervalInDomain&&(this.intervals=this.configAttributeNumericInputFieldService.getIntervals(this.attribute.values));let c=[this.configAttributeNumericInputFieldService.getNumberFormatValidator(this.locale,e,t,n),this.configAttributeNumericInputFieldService.getIntervalValidator(this.locale,e,t,n,this.intervals,this.attribute.userInput)];this.attributeInputForm=new Ie("",c),this.numericFormatPattern=this.configAttributeNumericInputFieldService.getPatternForValidationMessage(e,t,n,this.locale)}ngOnDestroy(){super.ngOnDestroy()}getHelpTextForInterval(){let e="",t="";return this.intervals.forEach((n,r)=>{e=this.getIntervalText(n),r>0?(e=e.charAt(0).toLowerCase()+e.slice(1),this.translation.translate("configurator.a11y.combinedIntervalsText",{combinedInterval:t,newInterval:e}).pipe(w(1)).subscribe(c=>t=c)):t=e}),t.trim()}getAriaLabelComplete(){let e="";return this.attribute.userInput?.length===0?this.translation.translate("configurator.a11y.valueOfAttributeBlank",{attribute:this.attribute.label}).pipe(w(1)).subscribe(t=>e=t):this.translation.translate("configurator.a11y.valueOfAttributeFull",{value:this.attribute.userInput,attribute:this.attribute.label}).pipe(w(1)).subscribe(t=>e=t),e+=" ",e+=this.getHelpTextForInterval(),e}getIntervalText(e){let t="",n="",r="";if(e.minValue&&(n=this.configAttributeNumericInputFieldService.formatIntervalValue(e.minValue,this.attribute.numDecimalPlaces,this.locale)),e.maxValue&&(r=this.configAttributeNumericInputFieldService.formatIntervalValue(e.maxValue,this.attribute.numDecimalPlaces,this.locale)),e.minValue&&e.maxValue){if(e.minValue===e.maxValue)return this.translation.translate("configurator.a11y.numericIntervalSingleValue",{value:n}).pipe(w(1)).subscribe(c=>t=c),t;t=this.getTextForRealInterval(n,r,t,e)}else t=this.getTextForPartialInterval(e,t,n,r);return t}getTextForPartialInterval(e,t,n,r){return e.minValue?e.minValueIncluded?t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMinValueIncluded",n):t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMinValue",n):e.maxValue&&(e.maxValueIncluded?t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMaxValueIncluded",r):t=this.getInfiniteIntervalText("configurator.a11y.numericInfiniteIntervalMaxValue",r)),t}getTextForRealInterval(e,t,n,r){let c=n;return this.translation.translate("configurator.a11y.numericIntervalStandard",{minValue:e,maxValue:t}).pipe(w(1)).subscribe(g=>c=g),(!r.minValueIncluded||!r.maxValueIncluded)&&(!r.minValueIncluded&&!r.maxValueIncluded?(c+=" ",c+=this.getAdditionalIntervalText("configurator.a11y.numericIntervalStandardOpen")):(r.minValueIncluded||(c+=" ",c+=this.getAdditionalIntervalText("configurator.a11y.numericIntervalStandardLowerEndpointNotIncluded")),r.maxValueIncluded||(c+=" ",c+=this.getAdditionalIntervalText("configurator.a11y.numericIntervalStandardUpperEndpointNotIncluded")))),c}getAdditionalIntervalText(e){let t="";return this.translation.translate(e).pipe(w(1)).subscribe(n=>t=n),t}getInfiniteIntervalText(e,t){let n="";return this.translation.translate(e,{value:t}).pipe(w(1)).subscribe(r=>n=r),n}getDefaultSettings(){return{numDecimalPlaces:2,numTotalLength:6,negativeAllowed:!1}}getInstalledLocale(e){try{return jr(e),e}catch{return this.reportMissingLocaleData(e),"en"}}reportMissingLocaleData(e){Ye()&&this.logger.warn(`ConfigAttributeNumericInputFieldComponent: No locale data registered for '${e}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(t){return new(t||i)(v(Pp),v(Nt),v(Ee),v(Oe),v(te),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-numeric-input-field"]],features:[ye],decls:6,vars:20,consts:[["class","cx-intervalHelpText",4,"ngIf"],[1,"form-group",3,"id"],[1,"form-control",3,"change","formControl","ngClass","maxlength","cxFocus"],["class","cx-validation-msg","aria-live","assertive","aria-atomic","true","role","alert",3,"id",4,"ngIf"],[1,"cx-intervalHelpText"],["aria-live","assertive","aria-atomic","true","role","alert",1,"cx-validation-msg",3,"id"],[3,"type"]],template:function(t,n){t&1&&(_(0,vc,2,1,"label",0),l(1,"div",1)(2,"input",2),d(3,"async"),V("change",function(){return n.onChange()}),p()(),_(4,Cc,4,8,"div",3)(5,hc,4,5,"div",3)),t&2&&(s("ngIf",n.attribute.intervalInDomain),a(),E("id",n.createAttributeIdForConfigurator(n.attribute)),a(),se("ng-invalid",n.isRequired&&n.isUserInputEmpty),E("maxlength",n.attribute.maxlength),s("formControl",n.attributeInputForm)("ngClass",B(16,ni,f(3,14,n.showRequiredErrorMessage$)))("cxFocus",B(18,Re,n.createAttributeIdForConfigurator(n.attribute))),N("aria-describedby",n.mustDisplayValidationMessage()?n.createAttributeUiKey("label",n.attribute.name)+" "+n.createAttributeUiKey("attribute-msg",n.attribute.name):n.createAttributeUiKey("label",n.attribute.name))("role",n.attribute.dataType)("required",n.attribute.required===!0?"required":null)("aria-label",n.getAriaLabelComplete()),a(2),s("ngIf",n.mustDisplayValidationMessage()),a(),s("ngIf",n.mustDisplayIntervalMessage()))},dependencies:[we,qt,Be,Fn,Le,Pe,H,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),So=(()=>{class i extends cn{constructor(e,t,n,r,c){super(e,t,n,r,c),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.attributeDropDownForm=new Ie(""),this.config=Z(Ke),this.group=n.group.id,Ze("productConfiguratorAttributeTypesV2")}ngOnInit(){this.attributeDropDownForm.setValue(this.attribute.selectedSingleValue)}getSelectedValue(){return this.attribute.values?.find(e=>e?.selected)}getSelectedValueDescription(){return this.getSelectedValue()?.description??""}static{this.\u0275fac=function(t){return new(t||i)(v(Mt),v(Ee),v(Oe),v(te),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-drop-down"]],features:[We([it]),ye],decls:4,vars:5,consts:[[4,"ngIf"],["class","cx-configurator-attribute-additional-value",4,"ngIf"],["class","form-group",4,"ngIf"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[1,"form-group"],[1,"cx-visually-hidden",3,"for"],["class","cx-value-price",4,"ngIf"],[1,"form-control",3,"change","id","ngClass","formControl","cxFocus"],[3,"selected","label","value",4,"ngFor","ngForOf"],[3,"selected","label","value"],[1,"cx-value-label-pair"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[3,"text","textSize","productName","tabIndex"],[1,"cx-value-price"],[3,"formula"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula",4,"ngIf"],[1,"cx-configurator-attribute-additional-value"]],template:function(t,n){t&1&&(_(0,Ac,3,2,"ng-container",0),d(1,"async"),_(2,Fc,2,3,"cx-configurator-attribute-numeric-input-field",1)(3,Dc,2,3,"cx-configurator-attribute-input-field",1)),t&2&&(s("ngIf",f(1,3,n.changedPrices$)),a(2),s("ngIf",n.isAdditionalValueNumeric),a(),s("ngIf",n.isAdditionalValueAlphaNumeric))},dependencies:[Pe,he,H,xt,On,An,wn,Be,we,Le,Ne,Ir,ii,ht,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Tr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_string:ii,AttributeType_sap_date:ii}}})],imports:[fe,ue,le,L,Q]})}}return i})(),Sr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_numeric:Ir}}})],imports:[fe,ue,le,L,Q,be]})}}return i})(),Vp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_dropdown:So,AttributeType_dropdown_add:So}}})],imports:[L,bt,ue,Q,fe,Je,le,Me,Sr,Tr,yt,$t]})}}return i})(),Gp=(()=>{class i extends ta{constructor(){super(...arguments),this.preventAction$=new Vt(!1),this.multipleSelectionValues=[]}ngOnInit(){this.initialize()}initialize(){this.attribute.values&&this.attribute.values.length>0&&(this.multipleSelectionValues=this.attribute.values.map(({name:e,quantity:t,selected:n,valueCode:r})=>({name:e,quantity:t,selected:n,valueCode:r}))),this.attribute.required&&this.multipleSelectionValues.filter(e=>e.selected).length<2&&this.preventAction$.next(!0)}updateMultipleSelectionValues(e,t){let n=this.multipleSelectionValues.findIndex(c=>c.valueCode===e);return this.multipleSelectionValues[n]=M(A({},this.multipleSelectionValues[n]),{selected:t}),{changedAttribute:M(A({},this.attribute),{values:this.multipleSelectionValues}),ownerKey:this.ownerKey,updateType:m.UpdateType.ATTRIBUTE}}updateMultipleSelectionValuesQuantity(e){let t=this.multipleSelectionValues.find(r=>r.valueCode===e.valueCode);return t?(t.quantity=e.quantity,{changedAttribute:M(A({},this.attribute),{values:[t]}),ownerKey:this.ownerKey,updateType:m.UpdateType.VALUE_QUANTITY}):void 0}onSelect(e){this.loading$.next(!0);let t=this.updateMultipleSelectionValues(e,!0);this.configuratorCommonsService.updateConfiguration(t.ownerKey,t.changedAttribute,t.updateType)}onDeselect(e){this.loading$.next(!0);let t=this.updateMultipleSelectionValues(e,!1);this.configuratorCommonsService.updateConfiguration(t.ownerKey,t.changedAttribute,t.updateType)}onDeselectAll(){this.loading$.next(!0),this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{values:[]}),m.UpdateType.ATTRIBUTE)}onChangeValueQuantity(e){this.loading$.next(!0);let t=this.updateMultipleSelectionValuesQuantity(e);t&&this.configuratorCommonsService.updateConfiguration(t.ownerKey,t.changedAttribute,t.updateType)}onChangeAttributeQuantity(e){this.loading$.next(!0),e?this.onHandleAttributeQuantity(e):this.onDeselectAll()}extractPriceFormulaParameters(){return{quantity:0,price:{value:0,currencyIso:""},priceTotal:this.attribute.attributePriceTotal,isLightedUp:!0}}extractProductCardParameters(e,t,n,r){return{disableAllButtons:e??!1,hideRemoveButton:t??!1,productBoundValue:n,multiSelect:!0,withQuantity:this.withQuantity,loading$:this.loading$,attributeId:this.getAttributeCode(this.attribute),attributeLabel:this.attribute.label,attributeName:this.attribute.name,itemCount:this.attribute.values?.length?this.attribute.values.length:0,itemIndex:r}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=gn(i)))(n||i)}})()}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-multi-selection-bundle"]],features:[ye],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[3,"id","productCardOptions","handleDeselect","handleQuantity","handleSelect",4,"ngFor","ngForOf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"],[3,"handleDeselect","handleQuantity","handleSelect","id","productCardOptions"]],template:function(t,n){t&1&&_(0,Mc,3,3,"div",0),t&2&&s("ngIf",n.attribute==null||n.attribute.values==null?null:n.attribute.values.length)},dependencies:[he,H,xr,xt,Ne,J],encapsulation:2,changeDetection:0})}}return i})(),Up=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_checkBoxListProduct:Gp}}})],imports:[L,br,ue,Q,fe,le,ct,ut,bt,Me]})}}return i})(),Eo=(()=>{class i extends je{constructor(e,t,n){super(),this.configUtilsService=e,this.attributeComponentContext=t,this.configuratorCommonsService=n,this.iconTypes=pe,this.config=Z(Ke),this.attributeCheckBoxForms=new Array,this.attribute=t.attribute,this.ownerKey=t.owner.key,this.expMode=t.expMode,this.initPriceChangedEvent(t.isPricingAsync,t.attribute.key),Ze("productConfiguratorAttributeTypesV2")}ngOnInit(){let e=this.attribute.values;if(e)for(let t of e){let n;t.selected?n=new Ie(!0):n=new Ie(!1),this.attributeCheckBoxForms.push(n)}}onSelect(e){this.attributeCheckBoxForms[e].setValue(!this.attributeCheckBoxForms[e].value);let t=this.configUtilsService.assembleValuesForMultiSelectAttributes(this.attributeCheckBoxForms,this.attribute);this.listenForPriceChanges&&this.configUtilsService.setLastSelected(this.attribute.name,t[e].valueCode),this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{values:t}),m.UpdateType.ATTRIBUTE)}static{this.\u0275fac=function(t){return new(t||i)(v(ce),v(Oe),v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-multi-selection-image"]],features:[We([it]),ye],decls:5,vars:7,consts:[[1,"cx-row",3,"id"],[4,"ngIf"],["class","cx-configurator-select",3,"id",4,"ngFor","ngForOf"],[1,"cx-configurator-select",3,"id"],["type","checkbox",1,"form-input",3,"click","id","value","formControl","name","cxFocus"],[1,"cx-label-container"],[1,"form-check-label",3,"id","for"],["class","cx-img",3,"src","alt",4,"ngIf"],["class","cx-img-dummy",4,"ngIf"],[3,"formula"],[1,"cx-img",3,"src","alt"],[1,"cx-img-dummy"],[4,"ngFor","ngForOf"],["class","cx-configurator-select",3,"id",4,"ngIf"],[1,"form-check-label",3,"id","for","title"],[3,"ngClass","src","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"cxPopover","cxPopoverOptions",4,"ngIf"],[3,"ngClass","src","alt"],[3,"ngClass"],[3,"cxPopover","cxPopoverOptions"],[3,"type"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,Bc,2,1,"ng-container",1),d(2,"async"),_(3,Kc,2,1,"ng-container",1),d(4,"async"),p()),t&2&&(E("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",!(n.config.features!=null&&n.config.features.productConfiguratorAttributeTypesV2)&&f(2,3,n.changedPrices$)),a(2),s("ngIf",(n.config.features==null?null:n.config.features.productConfiguratorAttributeTypesV2)&&f(4,5,n.changedPrices$)))},dependencies:[we,jt,Be,Le,Pe,he,H,xe,Ne,Dn,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Bp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_multi_selection_image:Eo,AttributeType_read_only_multi_selection_image:Eo}}})],imports:[fe,ue,le,L,Q,be,Me,Rn]})}}return i})(),Lp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-not-supported"]],decls:3,vars:3,template:function(t,n){t&1&&(l(0,"em"),h(1),d(2,"cxTranslate"),p()),t&2&&(a(),ne(f(2,1,"configurator.attribute.notSupported")))},dependencies:[ee],encapsulation:2,changeDetection:0})}}return i})(),kp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_not_implemented:Lp}}})],imports:[L,Q]})}}return i})(),wo=(()=>{class i extends cn{constructor(e,t,n,r,c){super(e,t,n,r,c),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.attributeRadioButtonForm=new Ie("")}ngOnInit(){this.attributeRadioButtonForm.setValue(this.attribute.selectedSingleValue)}static{this.\u0275fac=function(t){return new(t||i)(v(Mt),v(Ee),v(Oe),v(te),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-radio-button"]],features:[We([it]),ye],decls:9,vars:8,consts:[[2,"display","none"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[4,"ngIf"],["class","cx-configurator-attribute-additional-value",4,"ngIf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula",4,"ngIf"],[3,"formula"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],[1,"cx-value-label-pair"],["type","radio","formcontrolname","attributeRadioButtonForm",1,"form-check-input",3,"change","id","formControl","value","name","cxFocus"],["aria-hidden","true",1,"form-check-label","form-radio-label",3,"id","for"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"text","textSize","productName","tabIndex"],[1,"cx-configurator-attribute-additional-value"]],template:function(t,n){t&1&&(l(0,"fieldset")(1,"legend",0),h(2),p(),l(3,"div",1),_(4,Hc,3,2,"div",2)(5,zc,2,1,"ng-container",3),d(6,"async"),_(7,Xc,1,0,"cx-configurator-attribute-numeric-input-field",4)(8,Zc,1,0,"cx-configurator-attribute-input-field",4),p()()),t&2&&(a(2),ne(n.attribute.label),a(),E("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",n.withQuantity),a(),s("ngIf",f(6,6,n.changedPrices$)),a(2),s("ngIf",n.isAdditionalValueNumeric),a(),s("ngIf",n.isAdditionalValueAlphaNumeric))},dependencies:[he,H,xt,qt,En,Be,we,Le,Ne,Ir,ii,ht,J],encapsulation:2,changeDetection:0})}}return i})(),$p=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_radioGroup:wo,AttributeType_radioGroup_add:wo}}})],imports:[L,bt,ue,Q,fe,le,Me,Sr,Tr,yt]})}}return i})(),jp=(()=>{class i extends je{constructor(e,t){super(),this.translationService=e,this.attributeComponentContext=t,this.attribute=t.attribute,this.group=t.group.id,this.expMode=t.expMode,this.initPriceChangedEvent(t.isPricingAsync,t.attribute.key)}getCurrentValueName(e,t){let n="";return e.selectedSingleValue&&!t?n=e.selectedSingleValue:e.userInput&&!t?n=e.userInput:t&&t.valueDisplay&&(n=t?.valueDisplay),n}getAriaLabel(e,t){let n="";if(t){let r=this.getCurrentValueName(e,t);t.valuePrice&&t.valuePrice?.value!==0?t.valuePriceTotal&&t.valuePriceTotal?.value!==0?n=this.translate("configurator.a11y.readOnlyValueOfAttributeFullWithPrice",r,e,t.valuePriceTotal?.formattedValue):n=this.translate("configurator.a11y.readOnlyValueOfAttributeFullWithPrice",r,e,t.valuePrice?.formattedValue):n=this.translate("configurator.a11y.readOnlyValueOfAttributeFull",r,e)}else{let r=this.getCurrentValueName(e);n=this.translate("configurator.a11y.readOnlyValueOfAttributeFull",r,e)}return n}translate(e,t,n,r){let c="",g=r?{value:t,attribute:n.label,price:r}:{value:t,attribute:n.label};return this.translationService.translate(e,g).pipe(w(1)).subscribe(T=>c=T),c}static{this.\u0275fac=function(t){return new(t||i)(v(Ee),v(Oe))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-read-only"]],features:[We([it]),ye],decls:5,vars:3,consts:[["noStaticDomain",""],[3,"id"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],["class","form-check",4,"ngIf"],[1,"form-check"],["role","note","tabindex","0",1,"cx-visually-hidden",3,"id"],[1,"cx-value-label-pair"],["aria-hidden","true",1,"cx-read-only-attribute-label",3,"id"],[3,"text","textSize","productName","tabIndex",4,"ngIf"],[1,"cx-value-price"],[3,"formula"],[3,"text","textSize","productName","tabIndex"],[4,"ngIf"],["aria-hidden","true",1,"cx-read-only-attribute-label"],["aria-hidden","true"]],template:function(t,n){if(t&1&&(l(0,"fieldset")(1,"div",1),_(2,is,2,1,"ng-container",2)(3,os,2,2,"ng-template",null,0,de),p()()),t&2){let r=oe(4);a(),E("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",n.attribute.values&&n.attribute.values.length>0)("ngIfElse",r)}},dependencies:[Ne,ht,he,H,J],encapsulation:2,changeDetection:0})}}return i})(),qp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_readonly:jp}}})],imports:[fe,ue,le,Me,yt,L,Q]})}}return i})(),Kp=(()=>{class i extends cn{constructor(e,t,n,r,c){super(e,t,n,r,c),this.quantityService=e,this.translation=t,this.attributeComponentContext=n,this.configuratorCommonsService=r,this.configuratorStorefrontUtilsService=c,this.RETRACT_VALUE_CODE=m.RetractValueCode,this.attributeDropDownForm=new Ie(""),this.group=n.group.id,Ze("productConfiguratorAttributeTypesV2")}ngOnInit(){this.attributeDropDownForm.setValue(this.attribute.selectedSingleValue);let e=this.attribute.values;if(e&&e.length>0){let t=e.find(n=>n.selected);t&&(this.selectionValue=t)}}get selectedValue(){let e;if(this.selectionValue)e=this.selectionValue;else throw new Error("selectedValue called without a defined selectionValue");return e}extractProductCardParameters(){return{hideRemoveButton:!0,productBoundValue:this.selectedValue,singleDropdown:!0,withQuantity:!1,loading$:this.loading$,attributeId:this.getAttributeCode(this.attribute),attributeName:this.attribute.name,itemCount:0,itemIndex:0}}isNotRetractValue(){return(this.selectionValue&&this.selectionValue?.valueCode!==m.RetractValueCode)??!1}isRetractValue(e){return e===m.RetractValueCode}static{this.\u0275fac=function(t){return new(t||i)(v(Mt),v(Ee),v(Oe),v(te),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-single-selection-bundle-dropdown"]],features:[ye],decls:3,vars:3,consts:[["class","form-group",4,"ngIf"],[3,"id","productCardOptions","handleDeselect",4,"ngIf"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[1,"form-group"],[1,"cx-visually-hidden",3,"for"],[1,"form-control",3,"change","id","ngClass","formControl","cxFocus"],[3,"label","selected","value",4,"ngFor","ngForOf"],[3,"label","selected","value"],[3,"handleDeselect","id","productCardOptions"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"]],template:function(t,n){t&1&&_(0,cs,7,19,"div",0)(1,ss,1,2,"cx-configurator-attribute-product-card",1)(2,us,3,2,"div",2),t&2&&(s("ngIf",n.attribute==null||n.attribute.values==null?null:n.attribute.values.length),a(),s("ngIf",n.isNotRetractValue()),a(),s("ngIf",n.withQuantity))},dependencies:[Pe,he,H,xr,On,An,wn,Be,we,Le,xt,Ne,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Qp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_dropdownProduct:Kp}}})],imports:[L,br,ue,Q,fe,Je,le,bt,Me]})}}return i})(),Hp=(()=>{class i extends cn{extractProductCardParameters(e,t){return{hideRemoveButton:this.attribute.required,fallbackFocusId:this.getFocusIdOfNearestValue(e),productBoundValue:e,loading$:this.loading$,attributeId:this.getAttributeCode(this.attribute),attributeLabel:this.attribute.label,attributeName:this.attribute.name,itemCount:this.attribute.values?.length?this.attribute.values.length:0,itemIndex:t}}getFocusIdOfNearestValue(e){if(!this.attribute.values)return"n/a";let t=this.attribute.values.findIndex(n=>n.valueCode===e.valueCode);return t--,t<0&&(t=this.attribute.values.length>1?1:0),this.createFocusId(this.getAttributeCode(this.attribute).toString(),this.attribute.values[t].valueCode)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=gn(i)))(n||i)}})()}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-single-selection-bundle"]],features:[ye],decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],["class","cx-attribute-level-quantity-price",4,"ngIf"],[3,"id","productCardOptions","handleDeselect","handleSelect",4,"ngFor","ngForOf"],[1,"cx-attribute-level-quantity-price"],[3,"changeQuantity","quantityOptions"],[3,"formula"],[3,"handleDeselect","handleSelect","id","productCardOptions"]],template:function(t,n){t&1&&_(0,ds,3,3,"div",0),t&2&&s("ngIf",n.attribute==null||n.attribute.values==null?null:n.attribute.values.length)},dependencies:[he,H,xr,xt,Ne],encapsulation:2,changeDetection:0})}}return i})(),Wp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_radioGroupProduct:Hp}}})],imports:[L,br,bt,ue,Q,vi,fe,le,ct,ut,Me]})}}return i})(),Oo=(()=>{class i extends je{constructor(e,t){super(),this.attributeComponentContext=e,this.configuratorCommonsService=t,this.attributeRadioButtonForm=new Ie(""),this.iconTypes=pe,this.config=Z(Ke),this.featureConfigService=Z(st),this.attribute=e.attribute,this.ownerKey=e.owner.key,this.expMode=e.expMode,Ze("productConfiguratorAttributeTypesV2"),this.initPriceChangedEvent(e.isPricingAsync,e.attribute.key)}ngOnInit(){this.attributeRadioButtonForm.setValue(this.attribute.selectedSingleValue)}onClick(e){this.configuratorCommonsService.updateConfiguration(this.ownerKey,M(A({},this.attribute),{selectedSingleValue:e}),m.UpdateType.ATTRIBUTE)}extractValuePriceFormulaParameters(e){return{price:e?.valuePrice,isLightedUp:e?e.selected:!1}}getValueDescriptionStyleClasses(){return this.featureConfigService?.isEnabled("a11yImproveContrast")?"cx-value-description santorini-updated":"cx-value-description"}static{this.\u0275fac=function(t){return new(t||i)(v(Oe),v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-attribute-single-selection-image"]],features:[We([it]),ye],decls:5,vars:7,consts:[["role","radiogroup",1,"cx-row",3,"id"],[4,"ngIf"],["class","cx-configurator-select",3,"id",4,"ngFor","ngForOf"],[1,"cx-configurator-select",3,"id"],["type","radio","formcontrolname","attributeRadioButtonForm","role","radio",1,"form-input",3,"click","id","value","formControl","name","cxFocus"],[1,"cx-label-container"],[1,"form-check-label","form-radio-label",3,"id","for"],["class","cx-img",3,"src","alt",4,"ngIf"],["class","cx-img-dummy",4,"ngIf"],[3,"formula"],[1,"cx-img",3,"src","alt"],[1,"cx-img-dummy"],[4,"ngFor","ngForOf"],["class","cx-configurator-select",3,"id",4,"ngIf"],[1,"form-check-label","form-radio-label",3,"id","for","title"],[3,"ngClass","src","alt",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"cxPopover","cxPopoverOptions",4,"ngIf"],[3,"ngClass","src","alt"],[3,"ngClass"],[3,"cxPopover","cxPopoverOptions"],[3,"type"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,vs,2,1,"ng-container",1),d(2,"async"),_(3,Is,2,1,"ng-container",1),d(4,"async"),p()),t&2&&(E("id",n.createAttributeIdForConfigurator(n.attribute)),a(),s("ngIf",!(n.config.features!=null&&n.config.features.productConfiguratorAttributeTypesV2)&&f(2,3,n.changedPrices$)),a(2),s("ngIf",(n.config.features==null?null:n.config.features.productConfiguratorAttributeTypesV2)&&f(4,5,n.changedPrices$)))},dependencies:[we,qt,En,Be,Le,Pe,he,H,xe,Ne,Dn,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Yp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({productConfigurator:{assignment:{AttributeType_single_selection_image:Oo,AttributeType_read_only_single_selection_image:Oo}}})],imports:[fe,ue,le,L,Q,be,Me,Rn]})}}return i})(),en=class{},zp=(()=>{class i{toggleWarnings(){this.showWarnings=!this.showWarnings}toggleErrors(){this.showErrors=!this.showErrors}constructor(e,t){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.iconTypes=pe,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner))),this.showWarnings=!1,this.showErrors=!1}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(ve))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configuration-conflict-and-error-messages"]],decls:2,vars:3,consts:[[4,"ngIf"],["aria-live","assertive","aria-atomic","true",1,"alert-message","alert-message-invalid-warning"],[1,"alert-icon"],["type","WARNING"],["class","cx-warning-text",4,"ngIf"],["class","cx-warning-toggle",3,"click",4,"ngIf"],[1,"cx-warning-messages"],["class","cx-warning-message",3,"open",4,"ngFor","ngForOf"],[1,"cx-warning-text"],[1,"cx-warning-toggle",3,"click"],["type","CARET_DOWN"],["type","CARET_UP"],[1,"cx-warning-message"],["aria-live","assertive","aria-atomic","true","role","alert",1,"alert-message","alert-message-error"],["type","ERROR"],["class","cx-error-text",4,"ngIf"],["class","cx-error-toggle",3,"click",4,"ngIf"],[1,"cx-error-messages"],["class","cx-error-message",3,"open",4,"ngFor","ngForOf"],[1,"cx-error-text"],[1,"cx-error-toggle",3,"click"],[1,"cx-error-message"]],template:function(t,n){t&1&&(_(0,Vs,3,2,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.configuration$))},dependencies:[he,H,xe,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Xp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{CpqConfiguratorConflictAndErrorMessagesComponent:{component:zp}}})],imports:[L,ct,ut,Q,be]})}}return i})(),Zp=(()=>{class i{constructor(){this.groupType=m.GroupType,this.iconTypes=pe,this.tabindex="0",this.role="note"}displayConflictDescription(e){return e.groupType===m.GroupType.CONFLICT_GROUP}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-conflict-description"]],hostVars:2,hostBindings:function(t,n){t&2&&mn("tabindex",n.tabindex)("role",n.role)},inputs:{currentGroup:"currentGroup"},decls:1,vars:1,consts:[[4,"ngIf"],["aria-hidden","true",3,"type"]],template:function(t,n){t&1&&_(0,Gs,3,2,"ng-container",0),t&2&&s("ngIf",n.displayConflictDescription(n.currentGroup))},dependencies:[H,xe],encapsulation:2,changeDetection:0})}}return i})(),Jp=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,be]})}}return i})(),ed=(()=>{class i{constructor(){this.groupType=m.GroupType,this.tabindex="0",this.role="note"}displayConflictSuggestion(e){return e.groupType===m.GroupType.CONFLICT_GROUP&&e.attributes?e.attributes.length>0:!1}createSuggestionUiKey(){return"suggestion--"+this.suggestionNumber}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-conflict-suggestion"]],hostVars:2,hostBindings:function(t,n){t&2&&mn("tabindex",n.tabindex)("role",n.role)},inputs:{currentGroup:"currentGroup",attribute:"attribute",suggestionNumber:"suggestionNumber"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"cx-title"],["aria-hidden","true"]],template:function(t,n){t&1&&_(0,Us,10,23,"ng-container",0),t&2&&s("ngIf",n.displayConflictSuggestion(n.currentGroup))},dependencies:[H,ee],encapsulation:2,changeDetection:0})}}return i})(),td=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,Q]})}}return i})(),id=(()=>{class i{constructor(e,t,n,r,c,g,T){this.productService=e,this.routingService=t,this.configRouterExtractorService=n,this.configuratorCommonsService=r,this.breakpointService=c,this.windowRef=g,this.location=T,this.container$=this.configRouterExtractorService.extractRouterData().pipe(R(y=>this.configuratorCommonsService.getConfiguration(y.owner).pipe(O(C=>({routerData:y,configuration:C}))).pipe(R(C=>this.productService.get(C.configuration.productCode).pipe(O(q=>({routerData:C.routerData,configuration:C.configuration,product:q})))))))}navigateToCart(){this.routingService.go("cart")}exitConfiguration(){this.container$.pipe(w(1)).subscribe(e=>{e.routerData.owner.type===ae.OwnerType.CART_ENTRY?this.navigateToCart():this.routingService.go({cxRoute:"product",params:e.product})})}isDesktop(){return this.breakpointService.isUp(Ot.md)}isMobile(){return this.breakpointService.isDown(Ot.sm)}static{this.\u0275fac=function(t){return new(t||i)(v(Qe),v(Xe),v(ve),v(te),v(At),v(wt),v($r))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-exit-button"]],decls:2,vars:3,consts:[[4,"ngIf"],["tabindex","0",1,"btn","btn-tertiary",3,"click"]],template:function(t,n){t&1&&(_(0,Ks,6,7,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.container$))},dependencies:[H,J,ee],encapsulation:2})}}return i})(),nd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorExitButton:{component:id}}}),wt],imports:[L,Q]})}}return i})(),It=(()=>{class i{constructor(){this._expModeRequested=new oi(1),this._expModeActive=new oi(1)}setExpModeRequested(e){this._expModeRequested.next(e)}getExpModeRequested(){return this._expModeRequested}setExpModeActive(e){this._expModeActive.next(e)}getExpModeActive(){return this._expModeActive}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Er=(()=>{class i{constructor(e,t,n,r,c){this.configuratorCommonsService=e,this.configuratorGroupsService=t,this.languageService=n,this.configUtils=r,this.configExpertModeService=c,this.typePrefix="AttributeType_",this.activeLanguage$=this.languageService.getActive(),this.uiType=m.UiType,this.featureConfigService=Z(st),this.trackByFn=(g,T)=>this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")?T.key:T}updateConfiguration(e){this.configuratorCommonsService.updateConfiguration(e.ownerKey,e.changedAttribute,e.updateType)}isConflictGroupType(e){return e?this.configuratorGroupsService.isConflictGroupType(e):!1}displayConflictDescription(e){return e.groupType!==void 0&&this.configuratorGroupsService.isConflictGroupType(e.groupType)&&e.name!==""}createGroupId(e){return this.configUtils.createGroupId(e)}get expMode(){return this.configExpertModeService.getExpModeActive()}getComponentKey(e){return e.uiTypeVariation?.includes(m.CustomUiTypeIndicator)?this.typePrefix+e.uiTypeVariation:this.typePrefix+e.uiType}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(He),v(co),v(ce),v(It))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-group"]],inputs:{group:"group",owner:"owner",isNavigationToGroupEnabled:"isNavigationToGroupEnabled",isPricingAsync:"isPricingAsync"},decls:3,vars:4,consts:[["role","tabpanel",3,"id"],[4,"ngIf"],["class","cx-group-attribute",3,"cx-hidden",4,"ngFor","ngForOf","ngForTrackBy"],[3,"currentGroup"],[1,"cx-group-attribute"],[3,"currentGroup","attribute","suggestionNumber"],[3,"cxConfiguratorAttributeComponent"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,Ys,2,1,"ng-container",1)(2,Zs,4,6,"div",2),p()),t&2&&(E("id",n.createGroupId(n.group.id)),a(),s("ngIf",n.displayConflictDescription(n.group)),a(),s("ngForOf",n.group.attributes)("ngForTrackBy",n.trackByFn))},dependencies:[he,H,Zp,ed,Sp,J],encapsulation:2,changeDetection:0})}}return i})(),rd=(()=>{class i{constructor(e,t,n,r){this.configuratorStorefrontUtilsService=e,this.configuratorCommonsService=t,this.launchDialogService=n,this.focusService=r,this.iconTypes=pe,this.uiType=m.UiType,this.focusConfig={trap:!0,block:!0,autofocus:!0,focusOnEscape:!0},this.subscription=new ke}init(e,t){this.focusService.clear(),this.conflictGroup$=e,this.routerData$=t}ngOnInit(){this.subscription.add(this.launchDialogService.data$.subscribe(e=>{this.init(e.conflictGroup,e.routerData)}))}ngOnDestroy(){this.subscription?.unsubscribe()}dismissModal(e){this.routerData$.pipe(w(1)).subscribe(t=>this.configuratorCommonsService.dismissConflictSolverDialog(t.owner)),this.launchDialogService.closeDialog(e),this.configuratorStorefrontUtilsService.scrollToConfigurationElement(".VariantConfigurationTemplate"),this.configuratorStorefrontUtilsService.focusFirstAttribute()}static{this.\u0275fac=function(t){return new(t||i)(v(ce),v(te),v(pt),v(lt))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-conflict-solver-dialog"]],decls:20,vars:20,consts:[["role","dialog","aria-modal","true","aria-labelledby","dialogTitle",1,"cx-modal-container"],["aria-atomic","true","aria-live","assertive","role","alert","aria-relevant","additions",1,"cx-visually-hidden"],[1,"cx-modal-content",3,"cxFocus"],[1,"cx-dialog-header","modal-header"],["id","dialogTitle","class","cx-dialog-title modal-title","tabindex","0",4,"cxFeature"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],[1,"cx-dialog-body","modal-body"],[1,"cx-msg-warning"],[4,"ngIf"],["id","dialogTitle","tabindex","0",1,"cx-dialog-title","modal-title"],[3,"group","owner","isNavigationToGroupEnabled"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),h(2),d(3,"cxTranslate"),p(),l(4,"div",2)(5,"div",3),_(6,Js,3,3,"h3",4)(7,eu,3,3,"div",4),l(8,"button",5),d(9,"cxTranslate"),d(10,"cxTranslate"),V("click",function(){return n.dismissModal("Close conflict solver dialog")}),l(11,"span",6),I(12,"cx-icon",7),p()()(),l(13,"div",8)(14,"div",9),I(15,"cx-icon",7),h(16),d(17,"cxTranslate"),p(),_(18,iu,3,3,"ng-container",10),d(19,"async"),p()()()),t&2&&(a(2),S(" ",f(3,10,"configurator.header.conflictWarning")," "),a(2),s("cxFocus",n.focusConfig),a(2),s("cxFeature","a11yDialogsHeading"),a(),s("cxFeature","!a11yDialogsHeading"),a(),E("title",f(9,12,"configurator.a11y.closeConflictSolverModal")),N("aria-label",f(10,14,"configurator.a11y.closeConflictSolverModal")),a(4),s("type",n.iconTypes.CLOSE),a(3),s("type",n.iconTypes.ERROR),a(),S(" ",f(17,16,"configurator.header.conflictWarning")," "),a(2),s("ngIf",f(19,18,n.routerData$)))},dependencies:[H,xe,Er,we,di,J,ee],encapsulation:2,changeDetection:0})}}return i})(),od=(()=>{class i{constructor(e,t,n){this.launchDialogService=e,this.configRouterExtractorService=t,this.configuratorGroupsService=n,this.subscription=new ke,this.routerData$=this.configRouterExtractorService.extractRouterData(),this.conflictGroupAndRouterData$=this.routerData$.pipe(R(r=>this.configuratorGroupsService.getConflictGroupForImmediateConflictResolution(r.owner).pipe(O(c=>({conflictGroup:c,routerData:r})))),Ve(0)),this.controlDialog()}controlDialog(){this.subscription.add(this.conflictGroupAndRouterData$.pipe(W(e=>!!e.conflictGroup),Gt((e,t)=>e.conflictGroup===t.conflictGroup&&e.routerData.navigationId===t.routerData.navigationId)).subscribe(()=>{this.openModal(),this.subscribeToCloseDialog()}))}subscribeToCloseDialog(){this.subscription.add(this.conflictGroupAndRouterData$.pipe(Nr(e=>!e.conflictGroup)).subscribe(()=>this.closeModal("CLOSE_NO_CONFLICTS_EXIST")))}openModal(){this.launchDialogService.openDialogAndSubscribe("CONFLICT_SOLVER",void 0,{conflictGroup:this.conflictGroupAndRouterData$.pipe(O(e=>e.conflictGroup)),routerData:this.routerData$})}closeModal(e){this.launchDialogService.closeDialog(e)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(P(pt),P(ve),P(He))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),wr=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorForm:{component:Er}}})],imports:[ue,le,L,Q,Je,kp,Tr,wp,Sr,Ap,$p,Wp,Up,qp,Yp,Qp,Mp,Rp,Vp,Bp,Jp,td,ea]})}}return i})(),ad={launch:{CONFLICT_SOLVER:{inlineRoot:!0,component:rd,dialogType:gi.DIALOG}}},cd=(()=>{class i{constructor(e){}static{this.\u0275fac=function(t){return new(t||i)(P(od))}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X(ad)],imports:[L,be,Q,wr,fe,$t]})}}return i})(),sd=(()=>{class i{constructor(e,t,n,r,c,g){this.configuratorCommonsService=e,this.configuratorGroupsService=t,this.configRouterExtractorService=n,this.configExpertModeService=r,this.launchDialogService=c,this.globalMessageService=g,this.subscription=new ke,this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(W(T=>T.pageType===dt.PageType.CONFIGURATION),R(T=>this.configuratorCommonsService.getOrCreateConfiguration(T.owner,T.configIdTemplate))),this.currentGroup$=this.routerData$.pipe(R(T=>this.configuratorGroupsService.getCurrentGroup(T.owner)))}ngOnDestroy(){this.subscription.unsubscribe()}listenForConflictResolution(){this.subscription.add(this.routerData$.pipe(R(e=>this.configuratorCommonsService.hasConflicts(e.owner)),Gt(),Pr(1),W(e=>!e)).subscribe(()=>this.displayConflictResolvedMessage()))}displayConflictResolvedMessage(){this.globalMessageService.add({key:"configurator.header.conflictsResolved"},In.MSG_TYPE_CONFIRMATION)}ngOnInit(){this.listenForConflictResolution(),this.routerData$.pipe(R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),w(1)).subscribe(e=>{this.configuratorCommonsService.checkConflictSolverDialog(e.owner)}),this.routerData$.pipe(W(e=>e.displayRestartDialog===!0),R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),w(1),W(e=>e.interactionState.newConfiguration===!1),Ve(0)).subscribe(e=>{this.launchDialogService.openDialogAndSubscribe("CONFIGURATOR_RESTART_DIALOG",void 0,{owner:e.owner})}),this.routerData$.pipe(w(1)).subscribe(e=>{e.resolveIssues&&this.configuratorCommonsService.hasConflicts(e.owner).pipe(w(1)).subscribe(t=>{t&&!e.skipConflicts?this.configuratorGroupsService.navigateToConflictSolver(e.owner):this.configuratorGroupsService.navigateToFirstIncompleteGroup(e.owner)}),e.expMode&&this.configExpertModeService?.setExpModeRequested(e.expMode)})}isNavigationToGroupEnabled(e){return!e.immediateConflictResolution}isDialogActive(e){return e.interactionState.showConflictSolverDialog??!1}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(He),v(ve),v(It),v(pt),v(Tn))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-form"]],decls:4,vars:4,consts:[["ghostForm",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"group","owner","isNavigationToGroupEnabled","isPricingAsync"],[4,"ngFor","ngForOf"],[1,"cx-ghost-attribute"],[1,"cx-ghost-header"],[1,"cx-ghost-title","ghost"],[1,"cx-ghost-icon","ghost"],[1,"cx-ghost-body"],[1,"cx-ghost-text","ghost"],[1,"cx-ghost-price","ghost"],[1,"cx-ghost-description-box"],[1,"cx-ghost-description","ghost"],["class","cx-ghost-radiobutton-value",4,"ngFor","ngForOf"],[1,"cx-ghost-radiobutton-value"],[1,"cx-ghost-value-label-pair"],[1,"cx-ghost-value-icon","ghost"],[1,"cx-ghost-label","ghost"],[1,"cx-ghost-value-price","ghost"],[1,"cx-ghost-price"]],template:function(t,n){if(t&1&&(_(0,ou,2,2,"ng-container",1),d(1,"async"),_(2,uu,1,2,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configuration$))("ngIfElse",r)}},dependencies:[he,H,Er,J],encapsulation:2,changeDetection:0})}}return i})(),Ao=class{},ud=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorForm:{component:sd}}})],imports:[L,Q,Je,wr]})}}return i})(),ld=(()=>{class i{constructor(e){this.windowRef=e}getFocusedGroupIndex(e){if(e){let t=e.find(n=>n.nativeElement?.id===this.windowRef?.document?.activeElement?.id);if(t)return e.toArray().indexOf(t)}}updateCurrentGroupIndex(e,t){return t&&t!==e?t:e}focusNextGroup(e,t){let n=this.getFocusedGroupIndex(t);e=this.updateCurrentGroupIndex(e,n),t&&(e===t.length-1?t.first?.nativeElement?.focus():t.toArray()[e+1]?.nativeElement.focus())}focusPreviousGroup(e,t){let n=this.getFocusedGroupIndex(t);e=this.updateCurrentGroupIndex(e,n),t&&(e===0?t.last?.nativeElement?.focus():t.toArray()[e-1]?.nativeElement?.focus())}switchGroupOnArrowPress(e,t,n){e.preventDefault(),e.code==="ArrowUp"?this.focusPreviousGroup(t,n):e.code==="ArrowDown"&&this.focusNextGroup(t,n)}isBackBtnFocused(e){if(e)return e.first?.nativeElement?.classList?.value?.indexOf("cx-menu-back")!==-1&&this.windowRef?.document?.activeElement===e.first?.nativeElement}isActiveGroupInGroupList(e){let t;return e&&(t=e.find(n=>n.nativeElement?.classList?.value?.indexOf("active")!==-1)),t!==void 0}static{this.\u0275fac=function(t){return new(t||i)(P(wt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),pd=(()=>{class i{constructor(e,t,n,r,c,g,T,y,C){this.configCommonsService=e,this.configuratorGroupsService=t,this.hamburgerMenuService=n,this.configRouterExtractorService=r,this.configUtils=c,this.configGroupMenuService=g,this.directionService=T,this.translation=y,this.configExpertModeService=C,this.breakpointService=Z(At),this.featureConfigService=Z(st),this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(R(q=>this.configCommonsService.getConfiguration(q.owner).pipe(O(re=>({routerData:q,configuration:re})),W(re=>re.configuration.complete&&re.configuration.consistent||re.configuration.interactionState.issueNavigationDone||!re.routerData.resolveIssues)).pipe(O(re=>re.configuration)))),this.currentGroup$=this.routerData$.pipe(R(q=>this.configuratorGroupsService.getCurrentGroup(q.owner))),this.displayedParentGroup$=this.configuration$.pipe(R(q=>this.configuratorGroupsService.getMenuParentGroup(q.owner)),R(q=>q?this.getCondensedParentGroup(q):Te(q))),this.displayedGroups$=this.displayedParentGroup$.pipe(R(q=>this.configuration$.pipe(O(re=>q?this.condenseGroups(q.subGroups):this.condenseGroups(re.groups))))),this.iconTypes=pe,this.ERROR=" ERROR",this.COMPLETE=" COMPLETE",this.WARNING=" WARNING",this.ICON="ICON",this.trackByFn=(q,re)=>this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")?re.id:re}click(e,t){this.configuration$.pipe(w(1)).subscribe(n=>{n.interactionState.currentGroup!==e.id&&(this.configuratorGroupsService.hasSubGroups(e)?(this.configuratorGroupsService.setMenuParentGroup(n.owner,e.id),t&&this.setFocusForSubGroup(e,t.id)):(this.configuratorGroupsService.navigateToGroup(n,e.id),this.hamburgerMenuService.toggle(!0),this.configUtils.scrollToConfigurationElement(".VariantConfigurationTemplate, .CpqConfigurationTemplate")))})}navigateUp(e){this.displayedParentGroup$.pipe(w(1)).subscribe(t=>{if(t){let n=this.getParentGroup(t);this.configuration$.pipe(w(1)).subscribe(r=>{n.pipe(w(1)).subscribe(c=>{this.configuratorGroupsService.setMenuParentGroup(r.owner,c?c.id:void 0)})})}}),e&&this.setFocusForMainMenu(e.id)}getConflictNumber(e){return e&&e.groupType===m.GroupType.CONFLICT_HEADER_GROUP?"("+e.subGroups.length+")":""}hasSubGroups(e){return this.configuratorGroupsService.hasSubGroups(e)}getParentGroup(e){return this.configuration$.pipe(O(t=>this.configuratorGroupsService.getParentGroup(t.groups,e)))}getCondensedParentGroup(e){return e&&e.subGroups&&e.subGroups.length===1&&e.groupType!==m.GroupType.CONFLICT_HEADER_GROUP?this.getParentGroup(e).pipe(R(t=>t?this.getCondensedParentGroup(t):Te(t))):Te(e)}condenseGroups(e){return e.flatMap(t=>t.subGroups.length===1&&t.groupType!==m.GroupType.CONFLICT_HEADER_GROUP?this.condenseGroups(t.subGroups):t)}isGroupVisited(e,t){return this.configuratorGroupsService.isGroupVisited(t.owner,e.id).pipe(O(n=>n&&!this.isConflictGroupType(e.groupType??m.GroupType.ATTRIBUTE_GROUP)),w(1))}isConflictGroupType(e){return e?this.configuratorGroupsService.isConflictGroupType(e):!1}isConflictHeader(e){return e&&e.groupType===m.GroupType.CONFLICT_HEADER_GROUP}isConflictGroup(e){return e&&e.groupType===m.GroupType.CONFLICT_GROUP}getGroupStatusStyles(e,t){return this.isGroupVisited(e,t).pipe(O(n=>{let r="CLOUDCPQCONFIGURATOR",c="cx-menu-item";return t.owner.configuratorType!==r&&!e.consistent&&(c=c+this.WARNING),t.owner.configuratorType!==r&&e.complete&&e.consistent&&n&&(c=c+this.COMPLETE),!e.complete&&n&&(c=c+this.ERROR),c}))}isLTRDirection(){return this.directionService.getDirection()===fi.LTR}isRTLDirection(){return this.directionService.getDirection()===fi.RTL}isForwardsNavigation(e){return e.code==="ArrowRight"&&this.isLTRDirection()||e.code==="ArrowLeft"&&this.isRTLDirection()}isBackNavigation(e){return e.code==="ArrowLeft"&&this.isLTRDirection()||e.code==="ArrowRight"&&this.isRTLDirection()}switchGroupOnArrowPress(e,t,n,r){this.handleFocusLoopInMobileMode(e),e.code==="ArrowUp"||e.code==="ArrowDown"?this.configGroupMenuService.switchGroupOnArrowPress(e,t,this.groups):this.isForwardsNavigation(e)?n&&this.hasSubGroups(n)&&this.click(n,r):this.isBackNavigation(e)&&this.configGroupMenuService.isBackBtnFocused(this.groups)&&this.navigateUp(r)}handleFocusLoopInMobileMode(e){this.breakpointService.isDown(Ot.md).pipe(w(1)).subscribe(t=>{t&&e.code==="Tab"&&!e.shiftKey&&(this.configGroupMenuService.isBackBtnFocused(this.groups)?this.configGroupMenuService.isActiveGroupInGroupList(this.groups)||(e.preventDefault(),this.configUtils.focusFirstActiveElement("cx-hamburger-menu")):(e.preventDefault(),this.configUtils.focusFirstActiveElement("cx-hamburger-menu")))})}setFocusForMainMenu(e){let t=e;this.configuration$.pipe(w(1)).subscribe(n=>{n.groups?.forEach(r=>{r.subGroups?.length!==1&&(this.isGroupSelected(r.id,e)||this.containsSelectedGroup(r,e))&&(t=r.id)})}),this.configUtils.setFocus(t)}setFocusForSubGroup(e,t){let n="cx-menu-back";this.containsSelectedGroup(e,t)&&(n=t),this.configUtils.setFocus(n)}containsSelectedGroup(e,t){return!!e.subGroups?.find(n=>this.isGroupSelected(n.id,t)||this.containsSelectedGroup(n,t))}getTabIndex(e,t){return this.isGroupSelected(e.id,t)||this.containsSelectedGroup(e,t)?0:-1}isGroupSelected(e,t){return e===t}createAriaControls(e){return this.configUtils.createGroupId(e)}getAriaLabel(e){let t="";return e&&e.groupType&&this.isConflictGroupType(e.groupType)?this.isConflictHeader(e)?this.translation.translate("configurator.a11y.conflictsInConfiguration",{numberOfConflicts:this.getConflictNumber(e)}).pipe(w(1)).subscribe(n=>t=n):t=e.description?e.description:"":this.translation.translate("configurator.a11y.groupName",{group:e.description}).pipe(w(1)).subscribe(n=>t=n),t}createIconId(e,t){return this.ICON+e+t}getAriaDescribedby(e,t){return this.isGroupVisited(e,t).pipe(O(n=>{let r="CLOUDCPQCONFIGURATOR",c="";return t.owner.configuratorType!==r&&!e.consistent&&e.groupType&&!this.isConflictGroupType(e.groupType)&&(c=c+this.createIconId(pe.WARNING,e.id)),t.owner.configuratorType!==r&&e.complete&&e.consistent&&n&&(c=c+" "+this.createIconId(pe.SUCCESS,e.id)),!e.complete&&n&&(c=c+" "+this.createIconId(pe.ERROR,e.id)),this.hasSubGroups(e)&&(c=c+" "+this.createIconId(pe.CARET_RIGHT,e.id)),c=c+" inListOfGroups",c}))}getGroupMenuTitle(e){let t=e.description;return!this.isConflictHeader(e)&&!this.isConflictGroup(e)&&this.configExpertModeService.getExpModeActive().pipe(w(1)).subscribe(n=>{n&&(t+=` / [${e.name}]`)}),t}displayMenuItem(e){return this.configuration$.pipe(O(t=>{let n=!0;return t.immediateConflictResolution&&e.groupType===m.GroupType.CONFLICT_HEADER_GROUP&&(n=!1),n}))}isDialogActive(e){return e.interactionState.showConflictSolverDialog??!1}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(He),v(Pn),v(ve),v(ce),v(ld),v(Mn),v(Ee),v(It))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-group-menu"]],viewQuery:function(t,n){if(t&1&&nt(lu,5),t&2){let r;rt(r=ot())&&(n.groups=r)}},decls:4,vars:4,consts:[["ghostGroups",""],["groupItem",""],[4,"ngIf","ngIfElse"],["role","tablist",1,"cx-group-menu"],["id","listOfGroups",1,"cx-visually-hidden"],["id","inListOfGroups","aria-hidden","true",1,"cx-visually-hidden"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","cx-menu-back","role","tab","aria-describedby","listOfGroups",3,"cxFocus","click","keydown",4,"ngIf"],["role","tab","aria-describedby","listOfGroups",1,"cx-menu-back",3,"click","keydown","cxFocus"],[3,"type"],["role","tab",3,"click","keydown","id","ngClass","cxFocus","tabindex"],[3,"title"],[1,"groupIndicators"],[1,"conflictNumberIndicator"],[1,"groupStatusIndicator"],[1,"WARNING",3,"type","id","title"],[1,"ERROR",3,"type","id","title"],[1,"COMPLETE",3,"type","id","title"],[1,"subGroupIndicator"],[3,"type","id","title",4,"ngIf"],[3,"type","id","title"],[1,"cx-ghost-group-menu"],["class","cx-ghost-menu-item",4,"ngFor","ngForOf"],[1,"cx-ghost-menu-item"],[1,"cx-ghost-item-title","ghost"]],template:function(t,n){if(t&1&&(_(0,xu,2,2,"ng-container",2),d(1,"async"),_(2,Iu,2,2,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configuration$))("ngIfElse",r)}},dependencies:[Pe,he,H,xe,we,J,ee],encapsulation:2,changeDetection:0})}}return i})(),dd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorMenu:{component:pd}}})],imports:[L,Q,be,fe]})}}return i})(),gd=(()=>{class i{constructor(e,t,n,r,c,g,T){this.configuratorCommonsService=e,this.configuratorGroupsService=t,this.configRouterExtractorService=n,this.configExpertModeService=r,this.breakpointService=c,this.configuratorStorefrontUtilsService=g,this.hamburgerMenuService=T,this.ghostStyle=!0,this.subscription=new ke,this.PRE_HEADER=".PreHeader",this.ADD_TO_CART_BUTTON="cx-configurator-add-to-cart-button",this.focusFirstElementInMobileGroupList=!1,this.displayedGroup$=this.configRouterExtractorService.extractRouterData().pipe(R(y=>this.configuratorGroupsService.getCurrentGroup(y.owner).pipe(Ce(()=>{this.ghostStyle=!1})))),this.iconTypes=pe}ngOnInit(){this.subscription.add(this.hamburgerMenuService.isExpanded.subscribe(e=>{e?(this.configuratorStorefrontUtilsService.changeStyling(this.PRE_HEADER,"display","block"),this.configuratorStorefrontUtilsService.changeStyling(this.ADD_TO_CART_BUTTON,"z-index","0"),this.focusFirstElementInMobileGroupList=!0):(this.configuratorStorefrontUtilsService.changeStyling(this.PRE_HEADER,"display","none"),this.configuratorStorefrontUtilsService.changeStyling(this.ADD_TO_CART_BUTTON,"z-index","calc(var(--cx-popover-z-index) + 10)"),this.configuratorStorefrontUtilsService.focusFirstActiveElement(".cx-group-title"))}))}ngAfterContentChecked(){this.focusFirstElementInMobileGroupList&&(this.configuratorStorefrontUtilsService.focusFirstActiveElement("cx-configurator-group-menu"),this.focusFirstElementInMobileGroupList=!1)}ngOnDestroy(){this.subscription.unsubscribe(),this.configuratorStorefrontUtilsService.removeStyling(this.PRE_HEADER,"display")}getGroupTitle(e){let t=e.description;return e.groupType!==m.GroupType.CONFLICT_GROUP&&this.configExpertModeService.getExpModeActive().pipe(w(1)).subscribe(n=>{n&&(t+=` / [${e.name}]`)}),t}isMobile(){return this.breakpointService.isDown(Ot.md)}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(He),v(ve),v(It),v(At),v(ce),v(Pn))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-group-title"]],hostVars:2,hostBindings:function(t,n){t&2&&se("ghost",n.ghostStyle)},decls:4,vars:4,consts:[["ghostGroup",""],[4,"ngIf","ngIfElse"],[1,"cx-group-title"],[4,"ngIf"],[1,"cx-ghost-group-title"]],template:function(t,n){if(t&1&&(_(0,Su,5,4,"ng-container",1),d(1,"async"),_(2,Eu,1,0,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.displayedGroup$))("ngIfElse",r)}},dependencies:[H,mo,J],encapsulation:2,changeDetection:0})}}return i})(),fd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorGroupTitle:{component:gd}}})],imports:[L,_o]})}}return i})(),md=(()=>{class i{constructor(e){this.breakpointService=e}extractPriceFormulaParameters(){return{quantity:this.attributeOverview.quantity,price:this.attributeOverview.valuePrice,priceTotal:this.attributeOverview.valuePriceTotal,isLightedUp:!0}}isDesktop(){return this.breakpointService.isUp(Ot.md)}static{this.\u0275fac=function(t){return new(t||i)(v(At))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-attribute"]],inputs:{attributeOverview:"attributeOverview"},decls:11,vars:26,consts:[["mobile",""],[1,"cx-visually-hidden"],["aria-hidden","true",1,"cx-attribute-value"],[4,"ngIf","ngIfElse"],["aria-hidden","true",1,"cx-attribute-label"],["aria-hidden","true",1,"cx-attribute-price"],[3,"formula"]],template:function(t,n){if(t&1&&(l(0,"span",1),h(1),d(2,"cxTranslate"),d(3,"cxTranslate"),d(4,"cxTranslate"),p(),l(5,"div",2),h(6),p(),_(7,wu,5,2,"ng-container",3),d(8,"async"),_(9,Ou,4,2,"ng-template",null,0,de)),t&2){let r=oe(10);a(),S(" ",n.attributeOverview.valuePrice&&(n.attributeOverview.valuePrice==null?null:n.attributeOverview.valuePrice.value)!==0?n.attributeOverview.valuePriceTotal&&(n.attributeOverview.valuePriceTotal==null?null:n.attributeOverview.valuePriceTotal.value)!==0?Y(2,4,"configurator.a11y.valueOfAttributeFullWithPrice",Et(15,Un,n.attributeOverview.value,n.attributeOverview.attribute,n.attributeOverview.valuePriceTotal.formattedValue)):Y(3,7,"configurator.a11y.valueOfAttributeFullWithPrice",Et(19,Un,n.attributeOverview.value,n.attributeOverview.attribute,n.attributeOverview.valuePrice.formattedValue)):Y(4,10,"configurator.a11y.valueOfAttributeFull",Ue(23,Yt,n.attributeOverview.value,n.attributeOverview.attribute)),`
`),a(5),S(" ",n.attributeOverview.value,`
`),a(),s("ngIf",f(8,13,n.isDesktop()))("ngIfElse",r)}},dependencies:[H,Ne,J,ee],encapsulation:2,changeDetection:0})}}return i})(),ia=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,Q,Me]})}}return i})(),_d=(()=>{class i{constructor(e,t){this.productService=e,this.translation=t}ngOnInit(){let e={images:{}};this.attributeOverview.productCode?this.product$=this.productService.get(this.attributeOverview.productCode,"list").pipe(O(t=>t||e)):this.product$=Te(e)}getProductPrimaryImage(e){return e?.images?.PRIMARY}extractPriceFormulaParameters(){return{quantity:this.attributeOverview.quantity,price:this.attributeOverview.valuePrice,priceTotal:this.attributeOverview.valuePriceTotal,isLightedUp:!0}}displayQuantity(){let e=this.attributeOverview.quantity;return e!==void 0&&e>0}displayPrice(){return this.attributeOverview.valuePrice?.value!==void 0&&this.attributeOverview.valuePrice?.value>0}getAriaLabel(){let e="";return this.displayQuantity()?this.attributeOverview.valuePrice?.value!==void 0&&this.attributeOverview.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeFullWithPriceAndQuantity",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute,price:this.attributeOverview.valuePriceTotal?.formattedValue,quantity:this.attributeOverview.quantity}).pipe(w(1)).subscribe(t=>e=t):this.translation.translate("configurator.a11y.itemOfAttributeFullWithQuantity",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute,quantity:this.attributeOverview.quantity}).pipe(w(1)).subscribe(t=>e=t):this.attributeOverview.valuePrice?.value!==void 0&&this.attributeOverview.valuePrice?.value!==0?this.translation.translate("configurator.a11y.itemOfAttributeFullWithPrice",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute,price:this.attributeOverview.valuePriceTotal?.formattedValue}).pipe(w(1)).subscribe(t=>e=t):this.translation.translate("configurator.a11y.itemOfAttributeFull",{item:this.attributeOverview.value,attribute:this.attributeOverview.attribute}).pipe(w(1)).subscribe(t=>e=t),e}static{this.\u0275fac=function(t){return new(t||i)(v(Qe),v(Ee))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-cpq-overview-attribute"]],inputs:{attributeOverview:"attributeOverview"},decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-value-container"],[1,"cx-thumbnail"],["format","product","aria-hidden","true",3,"container"],[1,"cx-visually-hidden"],["aria-hidden","true",1,"cx-value-info"],["class","cx-code",4,"ngIf"],["class","cx-quantity",4,"ngIf"],["class","cx-price",4,"ngIf"],["aria-hidden","true",1,"cx-attribute-price-container"],[1,"cx-attribute-label"],[3,"formula"],[1,"cx-code"],[1,"cx-quantity"],[1,"cx-identifier"],[1,"cx-item"],[1,"cx-price"]],template:function(t,n){t&1&&(_(0,Ru,16,8,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.product$))},dependencies:[H,mi,Ne,J,ee,Sn],encapsulation:2,changeDetection:0})}}return i})(),vd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,_i,Q,Me]})}}return i})(),na=(()=>{class i{constructor(e){this.configuratorCommonsService=e,this.PREFIX_ID="cx-overview-filter-applied-",this.FIRST_FILTER_CHECKBOX_ID="cx-configurator-overview-filter-option-price",this.configuratorStorefrontUtilsService=Z(ce),this.iconTypes=pe,this.attributeFilterTypes=m.OverviewFilter}getGroupFilterDescription(e,t){return e.possibleGroups?.find(n=>n.id===t)?.groupDescription??""}onAttrFilterRemove(e,t){let[n,r]=this.getInputFilters(e.overview),c=n.indexOf(t);n=n.filter(T=>t!==T);let g=this.getNextElementIdToFocusForAttributeFilter(c,n);g===null&&(g=this.getNextElementIdToFocusForGroupFilter(0,n,r)),this.focusElementById(g),this.configuratorCommonsService.updateConfigurationOverview(this.createInputConfig(e,n,r))}onGroupFilterRemove(e,t){let[n,r]=this.getInputFilters(e.overview),c=r.indexOf(t);r=r.filter(T=>t!==T);let g=this.getNextElementIdToFocusForGroupFilter(c,n,r);this.focusElementById(g),this.configuratorCommonsService.updateConfigurationOverview(this.createInputConfig(e,n,r))}getNextElementIdToFocusForAttributeFilter(e,t){let n;return e<t.length?n=this.PREFIX_ID+t[e]:n=null,n}getNextElementIdToFocusForGroupFilter(e,t,n){let r;return e<n.length?r=this.PREFIX_ID+n[e]:t.length+n.length>1?r=this.PREFIX_ID+"REMOVE_ALL":r=this.FIRST_FILTER_CHECKBOX_ID,r}focusElementById(e){let t=this.configuratorStorefrontUtilsService.getElement("#"+e);t&&t.focus()}isShowRemoveAll(e){return(e.attributeFilters?.length??0)+(e.groupFilters?.length??0)>1}onRemoveAll(e){this.focusElementById(this.FIRST_FILTER_CHECKBOX_ID),this.configuratorCommonsService.updateConfigurationOverview(this.createInputConfig(e,[],[]))}getInputFilters(e){return[e.attributeFilters??[],e.groupFilters??[]]}createInputConfig(e,t,n){return M(A({},e),{overview:{configId:e.configId,productCode:e.productCode,attributeFilters:t,groupFilters:n,possibleGroups:e.overview?.possibleGroups}})}static{this.\u0275fac=function(t){return new(t||i)(v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-filter-bar"]],inputs:{config:"config"},decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["aria-keyshortcuts","Delete",1,"cx-overview-filter-applied",3,"keydown.delete","click","id","title"],["aria-hidden","true"],[3,"type"],["id","cx-overview-filter-applied-REMOVE_ALL","aria-keyshortcuts","Delete",1,"cx-overview-filter-applied",3,"keydown.delete","click","title"]],template:function(t,n){t&1&&_(0,Nu,7,9,"ng-container",0)(1,Mu,6,10,"ng-container",0)(2,Pu,7,7,"ng-container",1),t&2&&(s("ngForOf",n.config.overview.attributeFilters),a(),s("ngForOf",n.config.overview.groupFilters),a(),s("ngIf",n.isShowRemoveAll(n.config.overview)))},dependencies:[he,H,xe,ee],encapsulation:2})}}return i})(),ra=(()=>{class i{constructor(e){this.configuratorCommonsService=e,this.configuratorStorefrontUtilsService=Z(ce),this.showFilterBar=!0,this.priceFilter=new Ie(""),this.mySelectionsFilter=new Ie(""),this.groupFilters=new Array}ngOnChanges(){this.extractAttrFilterState(this.config),this.extractGroupFilterState(this.config)}onFilter(e){let t=this.createInputConfig(e,this.collectAttrFilters(),this.collectGroupFilters(e.overview));this.configuratorCommonsService.updateConfigurationOverview(t)}isDisplayOnlyVariant(){return this.configuratorStorefrontUtilsService.isDisplayOnlyVariant()}extractGroupFilterState(e){this.groupFilters=[],e.overview.possibleGroups?.forEach(t=>{let n=!1;e.overview.groupFilters&&(n=e.overview.groupFilters.indexOf(t.id)>=0),this.groupFilters.push(new Ie(n))})}extractAttrFilterState(e){if(e.overview.attributeFilters){let t=e.overview.attributeFilters.indexOf(m.OverviewFilter.PRICE_RELEVANT)>=0;this.priceFilter.setValue(t);let n=e.overview.attributeFilters.indexOf(m.OverviewFilter.USER_INPUT)>=0;this.mySelectionsFilter.setValue(n)}}collectGroupFilters(e){let t=[],n=0;return this.groupFilters.forEach(r=>{r.value&&e?.possibleGroups&&t.push(e.possibleGroups[n].id),n++}),t}collectAttrFilters(){let e=[];return this.priceFilter.value&&e.push(m.OverviewFilter.PRICE_RELEVANT),this.mySelectionsFilter.value&&e.push(m.OverviewFilter.USER_INPUT),e}createInputConfig(e,t,n){return M(A({},e),{overview:{configId:e.configId,productCode:e.productCode,attributeFilters:t,groupFilters:n,possibleGroups:e.overview?.possibleGroups}})}static{this.\u0275fac=function(t){return new(t||i)(v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-filter"]],inputs:{showFilterBar:"showFilterBar",config:"config"},features:[dn],decls:6,vars:8,consts:[[4,"ngIf"],["class","cx-no-overview-filters-available",4,"ngIf"],[3,"config"],[1,"cx-overview-filter-header"],[1,"cx-overview-filter-option"],[1,"form-check"],["id","cx-configurator-overview-filter-option-price","type","checkbox","name","config-overview-price-filter",1,"form-check-input",3,"change","formControl"],["for","cx-configurator-overview-filter-option-price",1,"form-check-label"],["id","cx-configurator-overview-filter-option-mySelections","type","checkbox","name","config-overview-my-selection-filter",1,"form-check-input",3,"change","formControl"],["for","cx-configurator-overview-filter-option-mySelections",1,"form-check-label"],[4,"ngFor","ngForOf"],["type","checkbox",1,"form-check-input",3,"change","id","formControl","name"],[1,"form-check-label",3,"for"],[1,"cx-no-overview-filters-available"]],template:function(t,n){t&1&&(_(0,Gu,2,1,"ng-container",0)(1,Uu,18,17,"ng-container",0),d(2,"async"),_(3,Lu,5,4,"ng-container",0)(4,ku,3,3,"div",1),d(5,"async")),t&2&&(s("ngIf",n.showFilterBar),a(),s("ngIf",!f(2,4,n.isDisplayOnlyVariant())),a(2),s("ngIf",n.config.overview.possibleGroups&&n.config.overview.possibleGroups.length>1),a(),s("ngIf",f(5,6,n.isDisplayOnlyVariant())&&(n.config.overview.possibleGroups==null?null:n.config.overview.possibleGroups.length)===1))},dependencies:[he,H,jt,Be,Le,na,J,ee],encapsulation:2})}}return i})(),oa=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,Q,be,ue,le]})}}return i})(),Or=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,Q,ue,le,oa]})}}return i})(),Cd=(()=>{class i{constructor(e,t,n){this.launchDialogService=e,this.configuratorCommonsService=t,this.configRouterExtractorService=n,this.configuratorStorefrontUtilsService=Z(ce),this.ghostStyle=!0,this.configurationWithOv$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.getConfiguration(r.owner)),W(r=>r.overview!=null),Ce(()=>{this.ghostStyle=!1}))}getNumFilters(e){return(e.attributeFilters?.length??0)+(e.groupFilters?.length??0)}openFilterModal(e){this.launchDialogService.openDialogAndSubscribe("CONFIGURATOR_OV_FILTER",this.filterButton,e)}isDisplayOnlyVariant(){return this.configuratorStorefrontUtilsService.isDisplayOnlyVariant()}static{this.\u0275fac=function(t){return new(t||i)(v(pt),v(te),v(ve))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-filter-button"]],viewQuery:function(t,n){if(t&1&&nt($u,5),t&2){let r;rt(r=ot())&&(n.filterButton=r.first)}},hostVars:2,hostBindings:function(t,n){t&2&&se("ghost",n.ghostStyle)},decls:4,vars:4,consts:[["ghostFilterButton",""],["filterButton",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[3,"config"],["tabindex","0",1,"btn","btn-secondary","cx-config-filter-button",3,"click","title"],[1,"cx-ghost-filter-button","ghost"]],template:function(t,n){if(t&1&&(_(0,qu,4,4,"ng-container",2),d(1,"async"),_(2,Ku,1,0,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configurationWithOv$))("ngIfElse",r)}},dependencies:[H,na,J,ee],encapsulation:2})}}return i})(),hd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorOverviewFilterButton:{component:Cd}}})],imports:[L,Q,oa]})}}return i})(),yd=(()=>{class i{constructor(e){this.launchDialogService=e,this.config$=this.launchDialogService.data$,this.iconTypes=pe,this.focusConfig={trap:!0,block:!0,autofocus:"button",focusOnEscape:!0}}closeFilterModal(){this.launchDialogService.closeDialog("Close Filtering")}static{this.\u0275fac=function(t){return new(t||i)(v(pt))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-filter-dialog"]],decls:11,vars:10,consts:[["role","dialog","aria-labelledby","dialogTitle",1,"cx-configurator-overview-filter-dialog","cx-modal-container",3,"click"],[1,"cx-modal-content",3,"click","esc","cxFocus"],[1,"cx-dialog-header","modal-header"],["id","dialogTitle","class","cx-dialog-title modal-title",4,"cxFeature"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],[4,"ngIf"],["id","dialogTitle",1,"cx-dialog-title","modal-title"],[1,"cx-dialog-body","modal-body"],[3,"config","showFilterBar"]],template:function(t,n){t&1&&(l(0,"div",0),V("click",function(){return n.closeFilterModal()}),l(1,"div",1),V("click",function(c){return c.stopPropagation()})("esc",function(){return n.closeFilterModal()}),l(2,"div",2),_(3,Qu,3,3,"h3",3)(4,Hu,3,3,"div",3),l(5,"button",4),d(6,"cxTranslate"),V("click",function(){return n.closeFilterModal()}),l(7,"span",5),I(8,"cx-icon",6),p()()(),_(9,Wu,3,2,"ng-container",7),d(10,"async"),p()()),t&2&&(a(),s("cxFocus",n.focusConfig),a(2),s("cxFeature","a11yDialogsHeading"),a(),s("cxFeature","!a11yDialogsHeading"),a(),E("title",f(6,6,"configurator.a11y.closeFilterMenu")),a(3),s("type",n.iconTypes.CLOSE),a(),s("ngIf",f(10,8,n.config$)))},dependencies:[H,xe,ra,we,di,J,ee],encapsulation:2})}}return i})(),xd={launch:{CONFIGURATOR_OV_FILTER:{inlineRoot:!0,component:yd,dialogType:gi.DIALOG}}},bd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X(xd)],imports:[L,Q,be,Or,fe,$t]})}}return i})(),Id=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.configuratorStorefrontUtilsService=n,this.ghostStyle=!0,this.attributeOverviewType=m.AttributeOverviewType,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.getOrCreateConfiguration(r.owner)),Rr("configId"),R(r=>this.configuratorCommonsService.getConfigurationWithOverview(r)),W(r=>r.overview!=null),Ce(()=>{this.ghostStyle=!1}))}hasAttributes(e){return this.hasGroupWithAttributes(e.overview?.groups)}hasGroupWithAttributes(e){if(e){let t=e.find(n=>(n.attributes?n.attributes.length:0)>0)!==void 0;return t||(t=e.find(n=>this.hasGroupWithAttributes(n.subGroups))!==void 0),t}else return!1}isSameAttribute(e,t){return e.length>1?t===0?e[t]?.attribute===e[t+1]?.attribute:e[t]?.attribute===e[t-1]?.attribute:!1}getStyleClasses(e,t){let n="";switch(e[t]?.type){case this.attributeOverviewType.BUNDLE:n+="bundle";break;case this.attributeOverviewType.GENERAL:n+="general";break}return(t===0||!this.isSameAttribute(e,t))&&(n+=" margin"),!this.isSameAttribute(e,t+1)&&!n.includes("bundle")&&(n+=" last-value-pair"),n}getGroupLevelStyleClasses(e,t){let n="cx-group";return e===1?(n+=" topLevel",t&&t.length>0&&(n+=" subgroupTopLevel")):(n+=" subgroup",n+=" subgroupLevel"+e),n}getPrefixId(e,t){return this.configuratorStorefrontUtilsService.getPrefixId(e,t)}getGroupId(e,t){return this.configuratorStorefrontUtilsService.createOvGroupId(e,t)}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(ve),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-form"]],hostVars:2,hostBindings:function(t,n){t&2&&se("ghost",n.ghostStyle)},decls:8,vars:4,consts:[["noAttributes",""],["groups",""],["ghostForm",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cx-no-attribute-value-pairs"],[1,"cx-visually-hidden"],[4,"ngFor","ngForOf"],[3,"id","ngClass"],["aria-hidden","true"],["class","cx-attribute-value-pair",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"cx-attribute-value-pair",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"attributeOverview"],[1,"cx-ghost-group"],[1,"cx-ghost-header","ghost"],[1,"cx-ghost-body"],[1,"cx-ghost-attribute-value"],[1,"cx-ghost-value","ghost"],[1,"cx-ghost-attribute-label"],[1,"cx-ghost-label","ghost"],[1,"cx-ghost-attribute-price","ghost"]],template:function(t,n){if(t&1&&(_(0,Zu,2,2,"ng-container",3),d(1,"async"),_(2,Ju,7,6,"ng-template",null,0,de)(4,cl,4,4,"ng-template",null,1,de)(6,ll,1,2,"ng-template",null,2,de)),t&2){let r=oe(7);s("ngIf",f(1,2,n.configuration$))("ngIfElse",r)}},dependencies:[Pe,he,H,yn,qr,Kr,Qr,md,_d,J,ee],encapsulation:2})}}return i})(),Td=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorOverviewForm:{component:Id}}})],imports:[L,ia,vd,Q]})}}return i})(),Sd=(()=>{class i{constructor(e){this.configuratorStorefrontUtilsService=e,this.height=this.getHeight(),this.VARIANT_CONFIG_OVERVIEW_NAVIGATION_SLOT="cx-page-slot.VariantConfigOverviewNavigation",this.CX_CONFIGURATOR_OVERVIEW_MENU="cx-configurator-overview-menu",this.CX_MENU_ITEM_BUTTONS="button.cx-menu-item",this.CX_GROUPS="div.cx-group",this.CX_MENU_GROUP="cx-menu-group",this.OV_MENU_ITEM="-ovMenuItem",this.OV_GROUP="-ovGroup",this.ACTIVE_CLASS="active",this.MENU_ITEM_HEIGHT=39.5,this.iconTypes=pe,this.styles=[["margin-block-end","268px"],["position","-webkit-sticky"],["position","sticky"],["top","0"]]}ngAfterViewInit(){this.amount=this.getAmount(this.config),this.menuItemsHeight=this.getMenuItemsHeight(),this.adjustStyling(),this.onScroll()}onScroll(){this.menuItem=this.getMenuItemToHighlight(),this.highlight(this.menuItem),this.height=this.getHeight(),this.ensureElementVisible(this.menuItem)}onResize(){this.height=this.getHeight(),this.ensureElementVisible(this.menuItem)}getAmount(e){return e.overview?.groups?this.getAmountOfGroups(0,e.overview.groups):0}getAmountOfGroups(e,t){return t&&(e=e+t.length,t.forEach(n=>{n.subGroups&&(e=this.getAmountOfGroups(e,n.subGroups))})),e}getMenuItemsHeight(){return this.amount*this.MENU_ITEM_HEIGHT}adjustStyling(){this.amount>=1?this.changeStyling():this.removeStyling()}getHeight(){let e=this.configuratorStorefrontUtilsService.getSpareViewportHeight();return this.menuItemsHeight>e?e+"px":""}changeStyling(){this.styles.forEach(e=>{this.configuratorStorefrontUtilsService.changeStyling(this.VARIANT_CONFIG_OVERVIEW_NAVIGATION_SLOT,e[0],e[1])})}removeStyling(){this.styles.forEach(e=>{this.configuratorStorefrontUtilsService.removeStyling(this.VARIANT_CONFIG_OVERVIEW_NAVIGATION_SLOT,e[0])})}getMenuItemToHighlight(){let e,t=this.configuratorStorefrontUtilsService.getElements(this.CX_GROUPS),n=this.configuratorStorefrontUtilsService.getVerticallyScrolledPixels();return t?.forEach(r=>{if(n&&n>=r.offsetTop){let c=r.id.replace(this.OV_GROUP,this.OV_MENU_ITEM);if(c){let g="#"+c;e=this.configuratorStorefrontUtilsService.getElement(g)}}}),e}highlight(e){e&&this.configuratorStorefrontUtilsService.getElements(this.CX_MENU_ITEM_BUTTONS)?.forEach(n=>{n.classList.remove(this.ACTIVE_CLASS),n.id===e.id&&e.classList.add(this.ACTIVE_CLASS)})}ensureElementVisible(e){e&&this.configuratorStorefrontUtilsService.hasScrollbar(this.CX_CONFIGURATOR_OVERVIEW_MENU)&&this.configuratorStorefrontUtilsService.ensureElementVisible(this.CX_CONFIGURATOR_OVERVIEW_MENU,e)}getGroupLevelStyleClasses(e){return this.CX_MENU_GROUP+" groupLevel"+e}navigateToGroup(e,t){let n=this.configuratorStorefrontUtilsService.createOvGroupId(e,t);this.configuratorStorefrontUtilsService.scrollToConfigurationElement("#"+n+" h2")}getPrefixId(e,t){return this.configuratorStorefrontUtilsService.getPrefixId(e,t)}getGroupId(e,t){return this.configuratorStorefrontUtilsService.createOvGroupId(e,t)}getMenuItemId(e,t){return this.configuratorStorefrontUtilsService.createOvMenuItemId(e,t)}static{this.\u0275fac=function(t){return new(t||i)(v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-menu"]],hostVars:2,hostBindings:function(t,n){t&1&&V("scroll",function(c){return n.onScroll(c)},!1,fn)("resize",function(c){return n.onResize(c)},!1,fn),t&2&&ui("height",n.height)},inputs:{config:"config"},decls:3,vars:1,consts:[["groups",""],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],[3,"ngClass"],[1,"cx-menu-item",3,"click","id"],["aria-hidden","true"],["aria-hidden","true",3,"type"]],template:function(t,n){t&1&&_(0,dl,2,4,"ng-container",1)(1,_l,2,1,"ng-template",null,0,de),t&2&&s("ngIf",n.config)},dependencies:[Pe,he,H,yn,xe,ee],encapsulation:2,changeDetection:0})}}return i})(),aa=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[L,Q,be]})}}return i})(),Ed=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.commonConfigUtilsService=n,this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(W(r=>r.owner.type===ae.OwnerType.PRODUCT||r.owner.type===ae.OwnerType.CART_ENTRY),R(r=>this.configuratorCommonsService.getConfiguration(r.owner))),this.configurationOverview$=this.configuration$.pipe(O(r=>r.overview)),this.numberOfIssues$=this.configuration$.pipe(O(r=>{let c=r.overview;return c?.totalNumberOfIssues?c.numberOfIncompleteCharacteristics!==void 0?c.numberOfIncompleteCharacteristics:c.totalNumberOfIssues:r.totalNumberOfIssues?r.totalNumberOfIssues:0})),this.numberOfConflicts$=this.configuration$.pipe(O(r=>r.overview?.numberOfConflicts??0)),this.skipConflictsOnIssueNavigation$=this.configuration$.pipe(O(r=>(r.overview?.numberOfConflicts??0)>0)),this.iconTypes=pe}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(ve),v(tt))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-notification-banner"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","cx-error-notification-banner",4,"ngIf"],["class","cx-conflict-notification-banner",4,"ngIf"],[1,"cx-error-notification-banner"],[3,"type"],["id","cx-configurator-overview-error-msg",1,"cx-error-msg"],["aria-describedby","cx-configurator-overview-error-msg","cxAutoFocus","",1,"link","cx-action-link",3,"routerLink","queryParams"],[1,"cx-conflict-notification-banner"],["id","cx-configurator-overview-conflict-msg",1,"cx-conflict-msg"],["aria-describedby","cx-configurator-overview-conflict-msg","cxAutoFocus","",1,"link","cx-action-link",3,"routerLink","queryParams"]],template:function(t,n){t&1&&(_(0,bl,3,3,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.routerData$))},dependencies:[H,xe,Zr,J,ee,so],encapsulation:2,changeDetection:0})}}return i})(),wd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorOverviewBanner:{component:Ed}}})],imports:[L,Q,ut,be,ct]})}}return i})(),Od=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.configuratorStorefrontUtilsService=n,this.ghostStyle=!0,this.showFilter=!1,this.configurationWithOv$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.getConfiguration(r.owner)),W(r=>r.overview!=null),Ce(r=>{r&&(this.ghostStyle=!1)}))}onFilter(){this.showFilter=!0}onMenu(){this.showFilter=!1}getTabIndexForMenuTab(){return this.showFilter?-1:0}getTabIndexForFilterTab(){return this.showFilter?0:-1}switchTabOnArrowPress(e,t){(e.code==="ArrowLeft"||e.code==="ArrowRight")&&(e.preventDefault(),t==="#menuTab"?this.filterTab.nativeElement?.focus():this.menuTab.nativeElement?.focus())}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(ve),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-overview-sidebar"]],viewQuery:function(t,n){if(t&1&&(nt(Il,5),nt(Tl,5)),t&2){let r;rt(r=ot())&&(n.menuTab=r.first),rt(r=ot())&&(n.filterTab=r.first)}},hostVars:2,hostBindings:function(t,n){t&2&&se("ghost",n.ghostStyle)},decls:4,vars:4,consts:[["ghostSidebar",""],["menuTab",""],["filterTab",""],[4,"ngIf","ngIfElse"],["role","tablist",1,"cx-menu-bar"],["role","tab",3,"keydown","keydown.enter","keydown.space","click","tabindex"],[3,"config",4,"ngIf"],[3,"config"],[1,"cx-ghost-menu"],[1,"cx-ghost-menu-bar","ghost"],[4,"ngFor","ngForOf"],[1,"cx-ghost-menu-level1"],[1,"cx-ghost-menu-item"],[1,"cx-ghost-menu-item-title","ghost"],[4,"ngIf"],[1,"cx-ghost-menu-level2"],["class","cx-ghost-menu-item",4,"ngFor","ngForOf"],[1,"cx-ghost-menu-level3"]],template:function(t,n){if(t&1&&(_(0,Ol,12,16,"ng-container",3),d(1,"async"),_(2,Ul,3,2,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.configurationWithOv$))("ngIfElse",r)}},dependencies:[he,H,ra,Sd,J,ee],encapsulation:2})}}return i})(),Ad=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorOverviewSidebar:{component:Od}}})],imports:[L,Q,Or,aa]})}}return i})(),Fd=(()=>{class i{constructor(e,t,n,r){this.configuratorGroupsService=e,this.configuratorCommonsService=t,this.configRouterExtractorService=n,this.configUtils=r,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(c=>this.configuratorCommonsService.getConfiguration(c.owner)))}onPrevious(e){this.configuratorGroupsService.getPreviousGroupId(e.owner).pipe(w(1)).subscribe(t=>{t&&(this.configuratorGroupsService.navigateToGroup(e,t),this.focusFirstAttribute())}),this.configUtils.scrollToConfigurationElement(".VariantConfigurationTemplate, .CpqConfigurationTemplate")}onNext(e){this.configuratorGroupsService.getNextGroupId(e.owner).pipe(w(1)).subscribe(t=>{t&&(this.configuratorGroupsService.navigateToGroup(e,t),this.focusFirstAttribute())}),this.configUtils.scrollToConfigurationElement(".VariantConfigurationTemplate, .CpqConfigurationTemplate")}isFirstGroup(e){return this.configuratorGroupsService.getPreviousGroupId(e).pipe(O(t=>!t))}isLastGroup(e){return this.configuratorGroupsService.getNextGroupId(e).pipe(O(t=>!t))}focusFirstAttribute(){this.configRouterExtractorService.extractRouterData().pipe(R(e=>this.configuratorCommonsService.isConfigurationLoading(e.owner).pipe(W(t=>t),w(1),R(()=>this.configuratorCommonsService.isConfigurationLoading(e.owner).pipe(W(t=>!t),w(1),Ve(0)))))).subscribe(()=>this.configUtils.focusFirstAttribute())}static{this.\u0275fac=function(t){return new(t||i)(v(He),v(te),v(ve),v(ce))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-previous-next-buttons"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"btn","btn-block","btn-secondary","cx-previous",3,"click","disabled"],[1,"btn","btn-block","btn-secondary","cx-next",3,"click","disabled"]],template:function(t,n){t&1&&(_(0,Ll,2,1,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.configuration$))},dependencies:[H,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Dd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorPrevNext:{component:Fd}}})],imports:[L,Q,fe]})}}return i})(),Rd=(()=>{class i{constructor(e,t){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.configuration$=this.configRouterExtractorService.extractRouterData().pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner)))}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(ve))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-price-summary"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-price-summary-container"],[1,"cx-total-summary"],[1,"cx-summary-row","cx-total-price"],[1,"cx-label"],[1,"cx-amount"],[1,"cx-summary-row","cx-base-price"],[1,"cx-summary-row","cx-selected-options"]],template:function(t,n){t&1&&(_(0,jl,2,1,"ng-container",0),d(1,"async")),t&2&&s("ngIf",f(1,1,n.configuration$))},dependencies:[H,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Nd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorPriceSummary:{component:Rd}}})],imports:[ue,le,L,Q]})}}return i})(),Md=(()=>{class i{getProductCode(e){return e.routerData.productCode?e.routerData.productCode:e.configuration.productCode?e.configuration.productCode:e.configuration.overview?.productCode}constructor(e,t,n,r){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.productService=n,this.configExpertModeService=r,this.ghostStyle=!0,this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(R(c=>this.configuratorCommonsService.getConfiguration(c.owner))),this.product$=this.routerData$.pipe(R(c=>this.configuration$.pipe(O(g=>({routerData:c,configuration:g}))).pipe(O(g=>this.getProductCode(g)),R(g=>g?this.productService.get(g,"list"):ln)).pipe(Ce(()=>{this.ghostStyle=!1})))),this.showMore=!1,this.iconTypes=pe}triggerDetails(){this.showMore=!this.showMore}get expMode(){return this.configExpertModeService.getExpModeActive()}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(ve),v(Qe),v(It))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-product-title"]],hostVars:2,hostBindings:function(t,n){t&2&&se("ghost",n.ghostStyle)},decls:4,vars:4,consts:[["ghostProductTitle",""],[4,"ngIf","ngIfElse"],[1,"cx-general-product-info"],[1,"cx-title"],[3,"click"],[4,"ngIf"],[1,"cx-details"],["aria-hidden","true",1,"cx-details-image"],["format","product",3,"container"],[1,"cx-details-content"],[1,"cx-detail-title"],[1,"cx-code"],[1,"cx-description"],[1,"cx-toggle-details-link-text"],["aria-hidden","true"],[3,"type"],["aria-hidden","true",1,"cx-toggle-details-link-text"],[1,"cx-kb-key-details"],[1,"cx-kb-pair"],[1,"cx-label"],[1,"cx-value"],[1,"cx-ghost-general-product-info"]],template:function(t,n){if(t&1&&(_(0,op,20,14,"ng-container",1),d(1,"async"),_(2,ap,1,0,"ng-template",null,0,de)),t&2){let r=oe(3);s("ngIf",f(1,2,n.product$))("ngIfElse",r)}},dependencies:[H,xe,mi,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Pd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorProductTitle:{component:Md}}})],imports:[ue,le,Je,L,Q,be,_i]})}}return i})(),Vd=(()=>{class i{constructor(e,t,n,r){this.launchDialogService=e,this.configuratorCommonsService=t,this.routingService=n,this.productService=r,this.dialogData$=this.launchDialogService.data$.pipe(W(c=>c&&c.owner)),this.product$=this.dialogData$.pipe(R(c=>this.productService.get(c.owner.id))),this.iconTypes=pe,this.focusConfig={trap:!0,block:!0,autofocus:".btn-primary",focusOnEscape:!0}}close(){this.launchDialogService.closeDialog("Close restart configuration dialog")}resume(e){this.close(),this.routingService.go({cxRoute:"configure"+e.configuratorType,params:{ownerType:ae.OwnerType.PRODUCT,entityKey:e.code}},{queryParams:{productCode:e.code}})}restart(e){this.configuratorCommonsService.forceNewConfiguration(e),this.close()}backToPDP(e){this.close(),this.routingService.go({cxRoute:"product",params:e})}static{this.\u0275fac=function(t){return new(t||i)(v(pt),v(te),v(Xe),v(Qe))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-restart-dialog"]],decls:3,vars:3,consts:[["role","dialog","aria-modal","true","aria-labelledby","dialogTitle",1,"cx-modal-container"],[4,"ngIf"],[1,"cx-modal-content",3,"esc","cxFocus"],[1,"cx-dialog-header","modal-header"],["id","dialogTitle","class","cx-dialog-title modal-title",4,"cxFeature"],["type","button",1,"close",3,"click","title"],["aria-hidden","true"],[3,"type"],[1,"cx-dialog-body","modal-body"],["id","cx-configurator-restart-dialog-description"],["aria-describedby","cx-configurator-restart-dialog-description",1,"btn","btn-primary","btn-block",3,"click"],["type","button","aria-describedby","cx-configurator-restart-dialog-description",1,"btn","btn-secondary","btn-block",3,"click"],["id","dialogTitle",1,"cx-dialog-title","modal-title"]],template:function(t,n){t&1&&(l(0,"div",0),_(1,lp,3,3,"ng-container",1),d(2,"async"),p()),t&2&&(a(),s("ngIf",f(2,1,n.dialogData$)))},dependencies:[H,xe,we,di,J,ee],encapsulation:2})}}return i})(),Gd={launch:{CONFIGURATOR_RESTART_DIALOG:{inlineRoot:!0,component:Vd,dialogType:gi.DIALOG}}},Ud=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X(Gd)],imports:[L,Q,be,fe,$t]})}}return i})(),Bd=(()=>{class i{static{this.TAB_BAR_QUERY_SELECTOR="cx-configurator-tab-bar"}determinePageFromRouterData(e){return e.pageType??dt.PageType.CONFIGURATION}isOverviewPage(e){return e===dt.PageType.OVERVIEW}navigateToOverview(e){this.routingService.go({cxRoute:"configureOverview"+e.owner.configuratorType,params:{entityKey:e.owner.id,ownerType:e.owner.type}},{queryParams:{productCode:e.productCode}}).then(()=>{this.focusOverviewInTabBar()})}navigateToConfiguration(e){this.routingService.go({cxRoute:"configure"+e.owner.configuratorType,params:{entityKey:e.owner.id,ownerType:e.owner.type}},{queryParams:{productCode:e.productCode}}).then(()=>{this.focusConfigurationInTabBar()})}focusOverviewInTabBar(){this.configRouterExtractorService.extractRouterData().pipe(R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),W(e=>e.overview!=null),w(1),Ve(0)).subscribe(()=>{this.focusService.clear(),this.configUtils.focusFirstActiveElement(i.TAB_BAR_QUERY_SELECTOR)})}focusConfigurationInTabBar(){this.configRouterExtractorService.extractRouterData().pipe(W(e=>e.pageType===dt.PageType.CONFIGURATION),R(e=>this.configuratorCommonsService.getConfiguration(e.owner)),w(1),Ve(0)).subscribe(()=>{this.focusService.clear(),this.configUtils.focusFirstActiveElement(i.TAB_BAR_QUERY_SELECTOR)})}getTabIndexConfigTab(){let e=0;return this.isOverviewPage$.pipe(w(1)).subscribe(t=>{t&&(e=-1)}),e}getTabIndexForConfigTab(e){return this.isOverviewPage(e)?-1:0}getTabIndexOverviewTab(){let e=0;return this.isOverviewPage$.pipe(w(1)).subscribe(t=>{t||(e=-1)}),e}getTabIndexForOverviewTab(e){return this.isOverviewPage(e)?0:-1}switchTabOnArrowPress(e,t){(e.code==="ArrowLeft"||e.code==="ArrowRight")&&(e.preventDefault(),t==="#configTab"?this.overviewTab.nativeElement?.focus():this.configTab.nativeElement?.focus())}constructor(e,t){this.configRouterExtractorService=e,this.configuratorCommonsService=t,this.ghostStyle=!0,this.routingService=Z(Xe),this.configUtils=Z(ce),this.focusService=Z(lt),this.routerData$=this.configRouterExtractorService.extractRouterData(),this.configuration$=this.routerData$.pipe(R(n=>this.configuratorCommonsService.getConfiguration(n.owner).pipe(Ce(()=>{this.ghostStyle=!1})))),this.isOverviewPage$=this.routerData$.pipe(O(n=>n.pageType===dt.PageType.OVERVIEW)),this.pageType$=this.routerData$.pipe(O(n=>this.determinePageFromRouterData(n))),Ze("a11yMobileVisibleFocus")}static{this.\u0275fac=function(t){return new(t||i)(v(ve),v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-tab-bar"]],viewQuery:function(t,n){if(t&1&&(nt(pp,5),nt(dp,5)),t&2){let r;rt(r=ot())&&(n.configTab=r.first),rt(r=ot())&&(n.overviewTab=r.first)}},hostVars:2,hostBindings:function(t,n){t&2&&se("ghost",n.ghostStyle)},decls:2,vars:3,consts:[["ghostTabBar",""],["configTab",""],["overviewTab",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","cx-tab-bar","role","tablist",4,"ngIf"],["role","tablist",1,"cx-tab-bar"],["role","tab",3,"keydown","keydown.enter","keydown.space","click","tabindex"],[1,"cx-ghost-tab-bar"]],template:function(t,n){t&1&&(_(0,vp,5,4,"ng-container",3),d(1,"async")),t&2&&s("ngIf",f(1,1,n.routerData$))},dependencies:[H,J,ee],encapsulation:2})}}return i})(),Ld=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorTabBar:{component:Bd}}})],imports:[ue,le,fe,Je,L,Q,ut,ct]})}}return i})(),kd={productConfigurator:{updateConfigurationMessage:{waitingTime:1e3}}},$d=(()=>{class i{constructor(e,t,n){this.configuratorCommonsService=e,this.configRouterExtractorService=t,this.config=n,this.hasPendingChanges$=this.configRouterExtractorService.extractRouterData().pipe(R(r=>this.configuratorCommonsService.hasPendingChanges(r.owner)),Gt(),R(r=>r?Te(r).pipe(Ve(this.config.productConfigurator?.updateConfigurationMessage?.waitingTime||1e3)):Te(r)))}static{this.\u0275fac=function(t){return new(t||i)(v(te),v(ve),v(en))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-update-message"]],decls:7,vars:7,consts:[["aria-live","polite","aria-atomic","false"],[1,"cx-update-msg"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"div",1),d(2,"async"),I(3,"cx-spinner"),l(4,"strong"),h(5),d(6,"cxTranslate"),p()()()),t&2&&(a(),se("visible",f(2,3,n.hasPendingChanges$)),a(4),ne(f(6,5,"configurator.header.updateMessage")))},dependencies:[lo,J,ee],encapsulation:2,changeDetection:0})}}return i})(),jd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorUpdateMessage:{component:$d}}}),X(kd),{provide:en,useExisting:Ke}],imports:[L,go,Q]})}}return i})(),qd=(()=>{class i{constructor(e,t,n,r){this.productService=e,this.translationService=t,this.configuratorRouterExtractorService=n,this.configuratorCommonsService=r,this.configuration$=this.configuratorRouterExtractorService.extractRouterData().pipe(R(c=>this.configuratorCommonsService.getConfiguration(c.owner))),this.title$=this.translationService.translate("configurator.variantCarousel.title"),this.items$=this.configuration$.pipe(O(c=>c.variants?c.variants:[]),O(c=>c.map(g=>this.productService.get(g.productCode))))}static{this.\u0275fac=function(t){return new(t||i)(v(Qe),v(Ee),v(ve),v(te))}}static{this.\u0275cmp=j({type:i,selectors:[["cx-configurator-variant-carousel"]],decls:3,vars:5,consts:[["carouselItem",""],[4,"ngIf"],[1,"cx-variant-carousel-container"],["role","region","itemWidth","285px",3,"items","title","template"],[3,"item"]],template:function(t,n){if(t&1&&(_(0,yp,8,13,"ng-container",1),d(1,"async"),d(2,"async")),t&2){let r;s("ngIf",((r=(r=f(1,1,n.items$))==null?null:r.length)!==null&&r!==void 0?r:0)>0&&f(2,3,n.items$))}},dependencies:[H,po,vo,J,ee],encapsulation:2,changeDetection:0})}}return i})(),Kd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[X({cmsComponents:{ConfiguratorVariantCarousel:{component:qd}}})],imports:[ue,le,L,Q,fo,Co]})}}return i})(),Qd=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[Nd,Ip,dd,Pd,Ld,wr,ud,fd,jd,Dd,ia,Td,aa,wd,Xp,nd,ea,Kd,Or,hd,bd,Ad,cd,Ud]})}}return i})(),ca=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:function(t){let n=null;return t?n=new(t||i):n=P(Ke),n},providedIn:"root"})}}return i})(),Fo=class{},Ct=class i{static{this.CONFIGURATOR_ADAPTER_LIST=new Ge("ConfiguratorAdapterList")}constructor(o,e,t){this.adapters=o,this.configUtilsService=e,this.config=t}createConfiguration(o,e,t=!1){return this.getAdapter(o.configuratorType).createConfiguration(o,e,t)}readConfiguration(o,e,t){return this.getAdapter(t.configuratorType).readConfiguration(o,e,t)}updateConfiguration(o){return this.getAdapter(o.owner.configuratorType).updateConfiguration(o)}addToCart(o){return this.getAdapter(o.owner.configuratorType).addToCart(o)}readConfigurationForCartEntry(o){return this.getAdapter(o.owner.configuratorType).readConfigurationForCartEntry(o)}updateConfigurationForCartEntry(o){return this.getAdapter(o.configuration.owner.configuratorType).updateConfigurationForCartEntry(o)}readConfigurationForOrderEntry(o){return this.getAdapter(o.owner.configuratorType).readConfigurationForOrderEntry(o)}readPriceSummary(o){return this.getAdapter(o.owner.configuratorType).readPriceSummary(o)}getConfigurationOverview(o){return this.getAdapter(o.owner.configuratorType).getConfigurationOverview(o.configId)}updateConfigurationOverview(o){let e=o.overview;return e?this.getAdapter(o.owner.configuratorType).updateConfigurationOverview(e):this.getAdapter(o.owner.configuratorType).getConfigurationOverview(o.configId)}searchVariants(o){return this.getAdapter(o.owner.configuratorType).searchVariants(o.configId)}getAdapter(o){let e=this.adapters.find(t=>this.isAdapterMatching(t,o));if(e)return e;throw new Error("No adapter found for configurator type: "+o)}isAdapterMatching(o,e){let t=o.getConfiguratorType()===e;if(t&&e==="CLOUDCPQCONFIGURATOR"){let n=this.config.productConfigurator?.cpqOverOcc??!1,r=!!o.supportsCpqOverOcc&&o.supportsCpqOverOcc();t=n===r}return t}static{this.\u0275fac=function(e){return new(e||i)(P(i.CONFIGURATOR_ADAPTER_LIST),P(tt),P(ca))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}},Hd=(()=>{class i{constructor(e,t,n){this.configuratorCartService=e,this.routingService=t,this.configuratorQuantityService=n,this.subscription=new ke,this.observeRouterChanges()}observeRouterChanges(){this.subscription.add(this.routingService.getRouterState().subscribe(e=>{this.isConfiguratorRelatedRoute(e.state.semanticRoute)||(this.configuratorCartService.removeCartBoundConfigurations(),this.configuratorQuantityService.setQuantity(1))}))}isConfiguratorRelatedRoute(e){return e?e.includes("configure"):!1}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(P(yr),P(Xe),P(Jo))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Wd=(()=>{class i{constructor(e){}static{this.\u0275fac=function(t){return new(t||i)(P(Hd))}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({})}}return i})(),Yd={productConfigurator:{enableVariantSearch:!1,cpqOverOcc:!0}},sa=(()=>{class i{getFirstGroupWithAttributes(e,t=!1){let n=this.getFirstGroupWithAttributesForList(e.groups,t);if(n)return n;throw new Error("Configuration does not have any attributes")}getFirstGroupWithAttributesForList(e,t){let n;t&&e.length>0&&e[0].groupType===m.GroupType.CONFLICT_HEADER_GROUP&&(n=e[0].subGroups.filter(c=>c.attributes&&c.attributes.length>0).shift()),n===void 0&&(n=e.filter(c=>c.attributes&&c.attributes.length>0&&c.groupType!==m.GroupType.CONFLICT_GROUP).shift());let r;return n?r=n.id:r=e.filter(c=>c.subGroups&&c.subGroups.length>0).flatMap(c=>this.getFirstGroupWithAttributesForList(c.subGroups,t)).filter(c=>c).shift(),r}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),zd=(()=>{class i{constructor(e,t,n,r,c,g,T){this.actions$=e,this.configuratorCommonsConnector=t,this.commonConfigUtilsService=n,this.configuratorGroupUtilsService=r,this.configuratorGroupStatusService=c,this.store=g,this.configuratorBasicEffectService=T,this.logger=Z($e),this.featureConfigService=Z(st),this.createConfiguration$=me(()=>this.actions$.pipe(_e(Zn),qe(y=>this.configuratorCommonsConnector.createConfiguration(y.payload.owner,y.payload.configIdTemplate,y.payload.forceReset).pipe(R(C=>{let q=this.configuratorBasicEffectService.getFirstGroupWithAttributes(C);return this.store.dispatch(new gt(M(A({},C),{interactionState:{currentGroup:q}}))),[new Ni(C),new Dt(C)]}),Fe(C=>[new Ri({ownerKey:y.payload.owner.key,error:De(C,this.logger)})]))))),this.readConfiguration$=me(()=>this.actions$.pipe(_e(er),qe(y=>this.configuratorCommonsConnector.readConfiguration(y.payload.configuration.configId,y.payload.groupId,y.payload.configuration.owner).pipe(R(C=>[new Jt(C)]),Fe(C=>[new Zt({ownerKey:y.payload.configuration.owner.key,error:De(C,this.logger)})]))))),this.updateConfiguration$=me(()=>this.actions$.pipe(_e(ir),O(y=>y.payload),qe(y=>this.configuratorCommonsConnector.updateConfiguration(y).pipe(O(C=>new Gi(M(A({},C),{interactionState:{isConflictResolutionMode:y.interactionState.isConflictResolutionMode}}))),Fe(C=>{let q=De(C,this.logger);return[new Vi({configuration:y,error:q})]}))))),this.updatePriceSummary$=me(()=>this.actions$.pipe(_e(cr),O(y=>y.payload),W(y=>y.pricingEnabled===!0),qe(y=>this.configuratorCommonsConnector.readPriceSummary(y).pipe(O(C=>new ki(C,{isDeltaRendering:this.featureConfigService.isEnabled("productConfiguratorDeltaRendering")})),Fe(C=>{let q=De(C,this.logger);return[new Li({ownerKey:y.owner.key,error:q})]}))))),this.getOverview$=me(()=>this.actions$.pipe(_e(ur),O(y=>y.payload),qe(y=>this.configuratorCommonsConnector.getConfigurationOverview(y).pipe(O(C=>new qi({ownerKey:y.owner.key,overview:C})),Fe(C=>{let q=De(C,this.logger);return[new ji({ownerKey:y.owner.key,error:q})]}))))),this.updateOverview$=me(()=>this.actions$.pipe(_e(pr),O(y=>y.payload),qe(y=>this.configuratorCommonsConnector.updateConfigurationOverview(y).pipe(O(C=>new Hi({ownerKey:y.owner.key,overview:C})),Fe(C=>{let q=De(C,this.logger);return[new Qi({ownerKey:y.owner.key,error:q})]}))))),this.updateConfigurationSuccess$=me(()=>this.actions$.pipe(_e(rr),O(y=>y.payload),qe(y=>this.store.pipe(Se(Wt(y.owner.key)),w(1),W(C=>C===!1),R(()=>this.store.pipe(Se(Yo(y.owner.key)),w(1),O(C=>{let q=this.configuratorBasicEffectService.getFirstGroupWithAttributes(y,y.interactionState.isConflictResolutionMode),re=this.configuratorGroupUtilsService.getParentGroup(y.groups,this.configuratorGroupUtilsService.getGroupById(y.groups,q),void 0);return{currentGroupId:C,groupIdFromPayload:q,parentGroupFromPayload:re}}),R(C=>{let q=new Ui(y),re=new gt(M(A({},y),{interactionState:{currentGroup:C.groupIdFromPayload}})),Tt=new Dt(y);return C.currentGroupId===C.groupIdFromPayload?[q,re,Tt]:[q,re,Tt,new ei({configuration:y,groupId:C.groupIdFromPayload,parentGroupId:C.parentGroupFromPayload?.id})]}))))))),this.updateConfigurationFail$=me(()=>this.actions$.pipe(_e(nr),O(y=>y.payload),qe(y=>this.store.pipe(Se(Wt(y.configuration.owner.key)),w(1),W(C=>C===!1),O(()=>new Bi(y.configuration)))))),this.handleErrorOnUpdate$=me(()=>this.actions$.pipe(_e(ar),O(y=>y.payload),O(y=>new Mi({configuration:y,groupId:this.configuratorBasicEffectService.getFirstGroupWithAttributes(y)})))),this.groupChange$=me(()=>this.actions$.pipe(_e(rn),R(y=>this.store.pipe(Se(Wt(y.payload.configuration.owner.key)),w(1),W(C=>C===!1),R(()=>this.configuratorCommonsConnector.readConfiguration(y.payload.configuration.configId,y.payload.groupId,y.payload.configuration.owner).pipe(R(C=>[new Yi({entityKey:y.payload.configuration.owner.key,currentGroup:y.payload.groupId}),new ti({entityKey:y.payload.configuration.owner.key,menuParentGroup:y.payload.parentGroupId}),new Jt(C),new gt(M(A({},C),{interactionState:{currentGroup:y.payload.groupId}}))]),Fe(C=>[new Zt({ownerKey:y.payload.configuration.owner.key,error:De(C,this.logger)})]))))))),this.removeProductBoundConfigurations$=me(()=>this.actions$.pipe(_e(vr),R(()=>this.store.pipe(Se(an),w(1),O(y=>{let C=y.configurations.entities,q=[];for(let re in C)re.includes(ae.OwnerType.PRODUCT)&&q.push(re);return new _t({ownerKey:q})})))))}static{this.\u0275fac=function(t){return new(t||i)(P(li),P(Ct),P(tt),P(Rt),P(Zo),P(at),P(sa))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),Xd="Entry number is required in addToCart response",Zd=(()=>{class i{constructor(e,t,n,r,c,g){this.actions$=e,this.configuratorCommonsConnector=t,this.commonConfigUtilsService=n,this.configuratorGroupUtilsService=r,this.store=c,this.configuratorBasicEffectService=g,this.logger=Z($e),this.addToCart$=me(()=>this.actions$.pipe(_e(Hn),O(T=>T.payload),R(T=>this.configuratorCommonsConnector.addToCart(T).pipe(R(y=>{let C=y.entry?.entryNumber;if(C===void 0)throw Error(Xd);return[new wi({ownerKey:T.owner.key,cartEntryNo:C.toString()}),new Qt.CartAddEntrySuccess(M(A({},y),{userId:T.userId,cartId:T.cartId,productCode:T.productCode,quantity:T.quantity,deliveryModeChanged:y.deliveryModeChanged,entry:y.entry,quantityAdded:y.quantityAdded,statusCode:y.statusCode,statusMessage:y.statusMessage}))]}),Fe(y=>Te(new Qt.CartAddEntryFail({userId:T.userId,cartId:T.cartId,productCode:T.productCode,quantity:T.quantity,error:De(y,this.logger)}))))))),this.updateCartEntry$=me(()=>this.actions$.pipe(_e(nn),O(T=>T.payload),R(T=>this.configuratorCommonsConnector.updateConfigurationForCartEntry(T).pipe(R(y=>[new Qt.CartUpdateEntrySuccess({userId:T.userId,cartId:T.cartId,entryNumber:T.cartEntryNumber,quantity:y.quantity})]),Fe(y=>Te(new Qt.CartUpdateEntryFail({userId:T.userId,cartId:T.cartId,entryNumber:T.cartEntryNumber,error:De(y,this.logger)}))))))),this.readConfigurationForCartEntry$=me(()=>this.actions$.pipe(_e(jn),R(T=>{let y=T.payload;return this.configuratorCommonsConnector.readConfigurationForCartEntry(y).pipe(R(C=>{let q=new gt(M(A({},C),{interactionState:{currentGroup:this.configuratorBasicEffectService.getFirstGroupWithAttributes(C,!C.immediateConflictResolution)}}));return[new yi(C),q,new Dt(C)]}),Fe(C=>[new xi({ownerKey:T.payload.owner.key,error:De(C,this.logger)})]))}))),this.readConfigurationForOrderEntry$=me(()=>this.actions$.pipe(_e(Kn),R(T=>{let y=T.payload;return this.configuratorCommonsConnector.readConfigurationForOrderEntry(y).pipe(R(C=>[new Ii(C)]),Fe(C=>[new Ti({ownerKey:T.payload.owner.key,error:De(C,this.logger)})]))}))),this.removeCartBoundConfigurations$=me(()=>this.actions$.pipe(_e(zn),R(()=>this.store.pipe(Se(an),w(1),O(T=>{let y=T.configurations.entities,C=[],q=[];for(let re in y)re.includes(ae.OwnerType.CART_ENTRY)?C.push(re):re.includes(ae.OwnerType.PRODUCT)&&q.push(re);return q.forEach(re=>{y[re].value?.nextOwner!==void 0&&C.push(re)}),new _t({ownerKey:C})}))))),this.addOwner$=me(()=>this.actions$.pipe(_e(Wn),R(T=>this.store.pipe(Se(vt(T.payload.ownerKey)),w(1),R(y=>{let C=et.createOwner(ae.OwnerType.CART_ENTRY,T.payload.cartEntryNo);return this.commonConfigUtilsService.setOwnerKey(C),[new Ai({configuration:y,cartEntryNo:T.payload.cartEntryNo}),new Wi({entityKey:C.key,interactionState:y.interactionState})]})))))}static{this.\u0275fac=function(t){return new(t||i)(P(li),P(Ct),P(tt),P(Rt),P(at),P(sa))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),Jd=(()=>{class i{constructor(e,t,n){this.actions$=e,this.configuratorCommonsConnector=t,this.configuratorCoreConfig=n,this.logger=Z($e),this.searchVariants$=me(()=>this.actions$.pipe(_e(Fi),W(()=>this.configuratorCoreConfig.productConfigurator?.enableVariantSearch===!0),W(r=>r.payload.owner.configuratorType==="CPQCONFIGURATOR"),R(r=>this.configuratorCommonsConnector.searchVariants(r.payload).pipe(R(c=>[new zt({ownerKey:r.payload.owner.key,variants:c})]),Fe(c=>[new Di({ownerKey:r.payload.owner.key,error:De(c,this.logger)})]))))),this.searchVariantsInCaseNotActive$=me(()=>this.actions$.pipe(_e(Fi),W(r=>this.configuratorCoreConfig.productConfigurator?.enableVariantSearch===!1||r.payload.owner.configuratorType!=="CPQCONFIGURATOR"),O(r=>new zt({ownerKey:r.payload.owner.key,variants:[]}))))}static{this.\u0275fac=function(t){return new(t||i)(P(li),P(Ct),P(ca))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),eg=[zd,Zd,Jd],kn=class i{static mergeGroupsWithSupplements(o,e){let t=[];return o.forEach(n=>t.push(this.mergeGroupWithSupplements(n,e))),t}static mergeGroupWithSupplements(o,e){return this.isTargetGroup(o,e)?this.mergeTargetGroupWithSupplements(o,e):M(A({},o),{subGroups:this.mergeGroupsWithSupplements(o.subGroups,e)})}static mergeTargetGroupWithSupplements(o,e){let t=o.attributes;return e.forEach(n=>{let r=i.getAttributeName(n.attributeUiKey);t=this.updateArrayElement(t,c=>c.name===r,c=>M(A({},c),{values:this.mergeValuesWithSupplement(c.values,n)}))}),M(A({},o),{attributes:t})}static mergeValuesWithSupplement(o,e){let t=o;return e.valueSupplements.forEach(n=>{t=this.updateArrayElement(t,r=>r.valueCode===n.attributeValueKey,r=>M(A({},r),{valuePrice:n.priceValue}))}),t}static isTargetGroup(o,e){let t=e[0];if(t){let n=i.getAttributeName(t.attributeUiKey),r=i.getKey(t.attributeUiKey,n);return o.id.indexOf(r)>=0}else throw new Error("We expect at least one attribute supplement")}static updateArrayElement(o,e,t){if(o){let n=o.findIndex(e);if(n===-1)return o;let r=o[n],c=t(r,n),g=[...o];return g[n]=c,g}}static getAttributeName(o){let e=o.lastIndexOf("@");return o.slice(e+1)}static getKey(o,e){return o.replace("@"+e,"")}},tg={configId:"",productCode:"",groups:[],flatGroups:[],interactionState:{currentGroup:void 0,groupsVisited:{},menuParentGroup:void 0},owner:et.createInitialOwner()};var ge;function ig(i=tg,o){return ng(),ge.has(o.type)?ge.get(o.type)(i,o):i}function ng(){ge===void 0&&(ge=new Map,ge.set(or,rg),ge.set(nn,cg),ge.set(Jn,sg),ge.set(tr,ug),ge.set(qn,lg),ge.set(sr,pg),ge.set(lr,dg),ge.set(dr,gg),ge.set(Xn,fg),ge.set(Qn,mg),ge.set(Yn,_g),ge.set(gr,vg),ge.set(fr,Cg),ge.set(mr,hg),ge.set(_r,yg),ge.set(on,og),ge.set(Cr,ag),ge.set(rn,xg))}function rg(i,o){let e=un(o,i);return ri(e),e.isCartEntryUpdateRequired=!0,e.overview=void 0,i.interactionState.newConfiguration!==void 0&&(e.interactionState.newConfiguration=!1),e}function ri(i){i.interactionState.showConflictSolverDialog=i.immediateConflictResolution&&!i.consistent,i.interactionState.showConflictSolverDialog&&(i.interactionState.issueNavigationDone=!0)}function og(i,o){if(o.type===on)return M(A({},i),{interactionState:M(A({},i.interactionState),{showConflictSolverDialog:!1})})}function ag(i){let o=M(A({},i),{interactionState:A({},i.interactionState)});return ri(o),o}function cg(i){let o=A({},i);return o.isCartEntryUpdateRequired=!1,o}function sg(i,o){let e=sn(un(o,i));return ri(e),e.interactionState.newConfiguration=e.newConfiguration,e}function ug(i,o){let e=sn(un(o,i));return ri(e),e}function lg(i,o){return sn(un(o,i))}function pg(i,o){return sn(bg(o,i))}function dg(i,o){let e=M(A({},o.payload.overview),{possibleGroups:o.payload.overview.groups});return M(A({},i),{overview:e,priceSummary:e.priceSummary,interactionState:M(A({},i.interactionState),{issueNavigationDone:!1})})}function gg(i,o){let e=A({},o.payload.overview);return M(A({},i),{overview:e,priceSummary:e.priceSummary,interactionState:M(A({},i.interactionState),{issueNavigationDone:!1})})}function fg(i,o){return M(A({},i),{variants:o.payload.variants})}function mg(i,o){let e=o.payload.overview,t=e?M(A({},o.payload),{overview:M(A({},e),{possibleGroups:e.groups})}):o.payload;return M(A(A({},i),t),{priceSummary:t.overview?.priceSummary})}function _g(i,o){let e=A({},o.payload.configuration);return e.nextOwner=et.createOwner(ae.OwnerType.CART_ENTRY,o.payload.cartEntryNo),A(A({},i),e)}function vg(i,o){let e=o.payload.interactionState;return M(A({},i),{interactionState:e})}function Cg(i,o){let e=o.payload.currentGroup,t=M(A({},i),{interactionState:M(A({},i.interactionState),{currentGroup:e})});return ri(t),t}function hg(i,o){let e=o.payload.menuParentGroup;return M(A({},i),{interactionState:M(A({},i.interactionState),{menuParentGroup:e})})}function yg(i,o){let e=o.payload.visitedGroups,t={groupsVisited:{}};return i.interactionState.groupsVisited&&Object.keys(i.interactionState.groupsVisited).forEach(n=>Do(t,n)),e.forEach(n=>Do(t,n)),M(A({},i),{interactionState:M(A({},i.interactionState),{groupsVisited:t.groupsVisited})})}function xg(i,o){let e=o.payload.conflictResolutionMode;return M(A({},i),{interactionState:M(A({},i.interactionState),{isConflictResolutionMode:e})})}function Do(i,o){let e=i.groupsVisited;e&&(e[o]=!0)}function sn(i){if(i.interactionState.currentGroup)return i;let o,e=i.flatGroups;e&&e.length>0&&(o=i.immediateConflictResolution?e.find(n=>!n.id.startsWith(m.ConflictIdPrefix))?.id:e[0].id);let t=o?.startsWith(m.ConflictIdPrefix)?m.ConflictHeaderId:void 0;return M(A({},i),{interactionState:M(A({},i.interactionState),{currentGroup:o,menuParentGroup:t})})}function un(i,o){let e=A({},i.payload),t=e.groups.length>0?e.groups:o.groups,n=M(A(A({},o),e),{groups:t,interactionState:M(A(A({},o.interactionState),e.interactionState),{showConflictSolverDialog:o.interactionState.showConflictSolverDialog,issueNavigationDone:!0})});return n.priceSupplements&&(n.priceSupplements=void 0),n}function bg(i,o){let e=A({},i.payload),t=e.priceSupplements,n=!i.isDeltaRendering&&t&&t.length>0?kn.mergeGroupsWithSupplements(o.groups,t):o.groups;return M(A(A({},o),e),{groups:n,interactionState:M(A(A({},o.interactionState),e.interactionState),{issueNavigationDone:!0})})}function Ig(){return{configurations:K.entityProcessesLoaderReducer(z,ig)}}var ua=new Ge("ConfiguratorReducers"),Tg={provide:ua,useFactory:Ig},Sg=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[Tg],imports:[L,no,zr.forFeature(Uo,ua),Xr.forFeature(eg)]})}}return i})(),Eg=(()=>{class i{constructor(e,t,n){this.eventService=e,this.configExpertModeService=t,this.configuratorCommonsService=n,this.subscription=new ke,this.onLogout()}onLogout(){this.subscription.add(Fr(this.eventService.get(ro)).subscribe(()=>{this.configExpertModeService.setExpModeActive(!1),this.configExpertModeService.setExpModeRequested(!1),this.configuratorCommonsService.removeProductBoundConfigurations()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||i)(P(io),P(It),P(te))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),wg=(()=>{class i{constructor(e){}static{this.\u0275fac=function(t){return new(t||i)(P(Eg))}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[Ct,X(Yd)],imports:[Sg,Wd]})}}return i})(),Og=(()=>{class i{constructor(){}convert(e,t){return M(A({},t),{userId:e.userId,cartId:e.cartId,product:{code:e.productCode},quantity:e.quantity,configId:e.configId})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),$;(function(i){let o;(function(g){g.CSTIC_GROUP="CSTIC_GROUP",g.INSTANCE="INSTANCE",g.CONFLICT_HEADER="CONFLICT_HEADER",g.CONFLICT="CONFLICT"})(o=i.GroupType||(i.GroupType={}));let e;(function(g){g.STRING="STRING",g.NUMERIC="NUMERIC",g.SAP_DATE="SAP_DATE",g.CHECK_BOX="CHECK_BOX",g.CHECK_BOX_LIST="CHECK_BOX_LIST",g.RADIO_BUTTON="RADIO_BUTTON",g.RADIO_BUTTON_ADDITIONAL_INPUT="RADIO_BUTTON_ADDITIONAL_INPUT",g.DROPDOWN="DROPDOWN",g.DROPDOWN_ADDITIONAL_INPUT="DROPDOWN_ADDITIONAL_INPUT",g.READ_ONLY="READ_ONLY",g.READ_ONLY_SINGLE_SELECTION_IMAGE="READ_ONLY_SINGLE_SELECTION_IMAGE",g.READ_ONLY_MULTI_SELECTION_IMAGE="READ_ONLY_MULTI_SELECTION_IMAGE",g.NOT_IMPLEMENTED="NOT_IMPLEMENTED",g.SINGLE_SELECTION_IMAGE="SINGLE_SELECTION_IMAGE",g.MULTI_SELECTION_IMAGE="MULTI_SELECTION_IMAGE"})(e=i.UiType||(i.UiType={}));let t;(function(g){g.BUY="BUY"})(t=i.PriceType||(i.PriceType={}));let n;(function(g){g.VALUE_IMAGE="VALUE_IMAGE",g.CSTIC_IMAGE="CSTIC_IMAGE"})(n=i.ImageFormatType||(i.ImageFormatType={}));let r;(function(g){g.PRIMARY="PRIMARY",g.GALLERY="GALLERY"})(r=i.ImageType||(i.ImageType={}));let c;(function(g){g.VISIBLE="PRIMARY",g.USER_INPUT="USER_INPUT",g.PRICE_RELEVANT="PRICE_RELEVANT"})(c=i.OverviewFilterEnum||(i.OverviewFilterEnum={}))})($||($={}));var Ag=(()=>{class i{static{this.RETRACT_VALUE_CODE="###RETRACT_VALUE_CODE###"}constructor(e,t,n){this.config=e,this.translation=t,this.uiSettingsConfig=n}convert(e,t){let n=M(A({},t),{owner:t?.owner??et.createInitialOwner(),interactionState:t?.interactionState??{},configId:e.configId,complete:e.complete,consistent:e.consistent,totalNumberOfIssues:e.totalNumberOfIssues,productCode:e.rootProduct,groups:[],flatGroups:[],kbKey:e.kbKey??void 0,pricingEnabled:e.pricingEnabled??!0,hideBasePriceAndSelectedOptions:e.hideBasePriceAndSelectedOptions,immediateConflictResolution:e.immediateConflictResolution??!1,newConfiguration:e.newConfiguration,isPricingAsync:!0}),r=[];return e.groups?.forEach(c=>this.convertGroup(c,n.groups,r)),n.flatGroups=r,n}convertGroup(e,t,n){let r=[];e.attributes&&e.attributes.forEach(g=>this.convertAttribute(g,r));let c={description:e.description,configurable:e.configurable,complete:e.complete,consistent:e.consistent,groupType:this.convertGroupType(e.groupType),name:e.name,id:e.id,attributes:r,subGroups:[]};this.setGroupDescription(c),e.subGroups&&e.subGroups.forEach(g=>this.convertGroup(g,c.subGroups,n)),(c.groupType===m.GroupType.ATTRIBUTE_GROUP||c.groupType===m.GroupType.CONFLICT_GROUP)&&n.push(c),t.push(c)}getGroupId(e,t){return e.replace("@"+t,"")}convertAttribute(e,t){let n=e.conflicts?e.conflicts.length:0,r=[],c=[];e.images&&e.images.forEach(y=>this.convertImage(y,r)),this.addRetractValue(e,c),e.domainValues&&e.domainValues.forEach(y=>this.convertValue(y,c));let g=this.convertAttributeType(e),T={name:e.name,label:e.langDepName,required:e.required,uiType:g,uiTypeVariation:e.type,groupId:this.getGroupId(e.key,e.name),userInput:this.compileUserInput(e),maxlength:(e.maxlength??0)+(e.negativeAllowed?1:0),numDecimalPlaces:e.numberScale,negativeAllowed:e.negativeAllowed,numTotalLength:e.typeLength,selectedSingleValue:void 0,hasConflicts:n>0,images:r,values:c,intervalInDomain:e.intervalInDomain,key:e.key,validationType:e.validationType,visible:e.visible,description:e.longText};this.setSelectedSingleValue(T),this.compileAttributeIncomplete(T),t.push(T)}compileUserInput(e){let t;return(e.type===$.UiType.NUMERIC||e.type===$.UiType.STRING||e.type===$.UiType.READ_ONLY)&&(t=e.formattedValue?e.formattedValue:""),e.type===$.UiType.SAP_DATE&&(t=e.value?e.value:""),t}setSelectedSingleValue(e){if(e.values){let t=e.values.map(n=>n).filter(n=>n.selected);t&&t.length===1&&(e.selectedSingleValue=t[0].valueCode)}}isRetractValueSelected(e){return!(e.domainValues&&e.domainValues.filter(t=>t.selected).length)}setRetractValueDisplay(e,t){(e===m.UiType.DROPDOWN||e===m.UiType.RADIOBUTTON||e===m.UiType.SINGLE_SELECTION_IMAGE)&&(e===m.UiType.DROPDOWN&&t.selected?this.translation.translate("configurator.attribute.dropDownSelectMsg").pipe(w(1)).subscribe(n=>t.valueDisplay=n):this.translation.translate("configurator.attribute.noOptionSelectedMsg").pipe(w(1)).subscribe(n=>t.valueDisplay=n))}hasSourceAttributeConflicts(e){return e.conflicts?e.conflicts.length>0:!1}isSourceAttributeTypeReadOnly(e){return e.type===$.UiType.READ_ONLY||e.type===$.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE||e.type===$.UiType.READ_ONLY_MULTI_SELECTION_IMAGE}isRetractBlocked(e){return e.retractBlocked?e.retractBlocked:!1}addRetractValue(e,t){let n=this.isRetractBlocked(e),r=this.hasSourceAttributeConflicts(e);if(!n&&(this.uiSettingsConfig?.productConfigurator?.addRetractOption||this.isSourceAttributeTypeReadOnly(e)&&r)){let c=this.convertAttributeType(e);if(c===m.UiType.RADIOBUTTON||c===m.UiType.DROPDOWN||c===m.UiType.SINGLE_SELECTION_IMAGE){let g={valueCode:m.RetractValueCode,selected:this.isRetractValueSelected(e)};this.setRetractValueDisplay(c,g),t.push(g)}}}convertValue(e,t){let n=[];e.images&&e.images.forEach(c=>this.convertImage(c,n));let r={valueCode:e.key,valueDisplay:e.langDepName,name:e.name,selected:e.selected,images:n,description:e.longText};t.push(r)}convertImage(e,t){let n={url:(this.config?.backend?.media?.baseUrl||this.config?.backend?.occ?.baseUrl||"")+e.url,altText:e.altText,galleryIndex:e.galleryIndex,type:this.convertImageType(e.imageType),format:this.convertImageFormatType(e.format)};t.push(n)}getSingleSelectionUiType(e,t){switch(e){case $.UiType.RADIO_BUTTON:{t=m.UiType.RADIOBUTTON;break}case $.UiType.RADIO_BUTTON_ADDITIONAL_INPUT:{t=m.UiType.RADIOBUTTON_ADDITIONAL_INPUT;break}case $.UiType.DROPDOWN:{t=m.UiType.DROPDOWN;break}case $.UiType.DROPDOWN_ADDITIONAL_INPUT:{t=m.UiType.DROPDOWN_ADDITIONAL_INPUT;break}case $.UiType.CHECK_BOX:{t=m.UiType.CHECKBOX;break}case $.UiType.SINGLE_SELECTION_IMAGE:{t=m.UiType.SINGLE_SELECTION_IMAGE;break}}return t}getMultiSelectionUiType(e,t){switch(e){case $.UiType.CHECK_BOX_LIST:{t=m.UiType.CHECKBOXLIST;break}case $.UiType.MULTI_SELECTION_IMAGE:{t=m.UiType.MULTI_SELECTION_IMAGE;break}}return t}getReadOnlyUiType(e,t,n){switch(t){case $.UiType.READ_ONLY:{n=!e.retractBlocked&&this.hasSourceAttributeConflicts(e)?m.UiType.RADIOBUTTON:m.UiType.READ_ONLY;break}case $.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE:{n=!e.retractBlocked&&this.hasSourceAttributeConflicts(e)?m.UiType.SINGLE_SELECTION_IMAGE:m.UiType.READ_ONLY_SINGLE_SELECTION_IMAGE;break}case $.UiType.READ_ONLY_MULTI_SELECTION_IMAGE:{n=!e.retractBlocked&&this.hasSourceAttributeConflicts(e)?m.UiType.MULTI_SELECTION_IMAGE:m.UiType.READ_ONLY_MULTI_SELECTION_IMAGE;break}}return n}getInputUiType(e,t){switch(e){case $.UiType.STRING:{t=m.UiType.STRING;break}case $.UiType.NUMERIC:{t=m.UiType.NUMERIC;break}case $.UiType.SAP_DATE:{t=m.UiType.SAP_DATE;break}}return t}convertAttributeType(e){let t=m.UiType.NOT_IMPLEMENTED,n=e.type?.toString()??"",r=this.determineCoreUiType(n);return t=this.getSingleSelectionUiType(r,t),t=this.getMultiSelectionUiType(r,t),t=this.getInputUiType(r,t),t=this.getReadOnlyUiType(e,r,t),t}determineCoreUiType(e){let t=e.indexOf(m.CustomUiTypeIndicator);return t>0?e.substring(0,t):e}convertGroupType(e){switch(e){case $.GroupType.CSTIC_GROUP:return m.GroupType.ATTRIBUTE_GROUP;case $.GroupType.INSTANCE:return m.GroupType.SUB_ITEM_GROUP;case $.GroupType.CONFLICT_HEADER:return m.GroupType.CONFLICT_HEADER_GROUP;case $.GroupType.CONFLICT:return m.GroupType.CONFLICT_GROUP}}setGroupDescription(e){switch(e.groupType){case m.GroupType.CONFLICT_HEADER_GROUP:this.translation.translate("configurator.group.conflictHeader").pipe(w(1)).subscribe(n=>e.description=n);break;case m.GroupType.CONFLICT_GROUP:let t=e.description;this.translation.translate("configurator.group.conflictGroup",{attribute:e.name}).pipe(w(1)).subscribe(n=>e.description=n),e.name=t;break;default:if(e.name!=="_GEN")return;this.translation.translate("configurator.group.general").pipe(w(1)).subscribe(n=>e.description=n)}}convertImageType(e){switch(e){case $.ImageType.GALLERY:return m.ImageType.GALLERY;case $.ImageType.PRIMARY:return m.ImageType.PRIMARY}}convertImageFormatType(e){switch(e){case $.ImageFormatType.VALUE_IMAGE:return m.ImageFormatType.VALUE_IMAGE;case $.ImageFormatType.CSTIC_IMAGE:return m.ImageFormatType.ATTRIBUTE_IMAGE}}compileAttributeIncomplete(e){e.incomplete=!1;let t=[m.UiType.RADIOBUTTON,m.UiType.RADIOBUTTON_ADDITIONAL_INPUT,m.UiType.DROPDOWN_ADDITIONAL_INPUT,m.UiType.DROPDOWN],n=[m.UiType.NUMERIC,m.UiType.SAP_DATE,m.UiType.STRING],r=[m.UiType.CHECKBOXLIST,m.UiType.CHECKBOX,m.UiType.MULTI_SELECTION_IMAGE],c=e.uiType??m.UiType.NOT_IMPLEMENTED;t.includes(c)?this.compileAttributeIncompleteSingleLevel(e):c===m.UiType.SINGLE_SELECTION_IMAGE?this.compileAttributeIncompleteSingleSelectionImage(e):n.includes(c)?this.compileAttributeIncompleteInputTypes(e):r.includes(c)&&this.compileAttributeIncompleteMultiSelect(e)}compileAttributeIncompleteSingleLevel(e){(!e.selectedSingleValue||e.selectedSingleValue===m.RetractValueCode)&&(e.incomplete=!0)}compileAttributeIncompleteSingleSelectionImage(e){e.selectedSingleValue||(e.incomplete=!0)}compileAttributeIncompleteInputTypes(e){e.userInput||(e.incomplete=!0)}compileAttributeIncompleteMultiSelect(e){let t=e.values?.find(n=>n.selected)!==void 0;e.incomplete=!t}static{this.\u0275fac=function(t){return new(t||i)(P(eo),P(Ee),P(Nt))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ht=new Ge("VariantConfiguratorNormalizer"),la=new Ge("VariantConfiguratorSerializer"),pa=new Ge("VariantConfiguratorPriceSummaryNormalizer"),da=new Ge("VariantConfiguratorPriceNormalizer"),ga=new Ge("VariantConfiguratorAddToCartSerializer"),fa=new Ge("VariantConfiguratorUpdateCartEntrySerializer"),Ci=new Ge("VariantConfiguratorOverviewNormalizer"),ma=new Ge("VariantConfiguratorOverviewSerializer"),Fg=(()=>{class i{constructor(e,t){this.translation=e,this.converterService=t}convert(e,t){let n={priceSummary:e.pricing,configId:e.id},r=M(A({},t),{configId:e.id,groups:e.groups?.flatMap(c=>this.convertGroup(c)),priceSummary:this.converterService.convert(n,pa),productCode:e.productCode});return this.setIssueCounters(r,e),r}convertGroup(e){let t=[],n=e.characteristicValues,r=e.subGroups,c={id:e.id,groupDescription:e.groupDescription,attributes:n?n.map(g=>({attribute:g.characteristic,attributeId:g.characteristicId,value:g.value,valueId:g.valueId,valuePrice:g.price})):[]};if(this.setGeneralDescription(c),r){let g=[];r.forEach(T=>this.convertGroup(T).forEach(y=>g.push(y))),c.subGroups=g}return t.push(c),t}setGeneralDescription(e){e.id==="_GEN"&&this.translation.translate("configurator.group.general").pipe(w(1)).subscribe(t=>e.groupDescription=t)}setIssueCounters(e,t){e.totalNumberOfIssues=t.totalNumberOfIssues,e.numberOfConflicts=t.numberOfConflicts,e.numberOfIncompleteCharacteristics=t.numberOfIncompleteCharacteristics}static{this.\u0275fac=function(t){return new(t||i)(P(Ee),P(pi))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Dg=(()=>{class i{constructor(e){this.converterService=e}convert(e,t){return M(A({},t),{id:e.configId,productCode:e.productCode,appliedCsticFilter:this.convertAttributeFilters(e.attributeFilters),groupFilterList:this.convertGroupFilters(e.groupFilters)})}convertAttributeFilters(e){let t=[];return e?.forEach(n=>{t.push({key:n,selected:!0})}),t}convertGroupFilters(e){let t=[];return e?.forEach(n=>{t.push({key:n,selected:!0})}),t}static{this.\u0275fac=function(t){return new(t||i)(P(pi))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Rg=(()=>{class i{convert(e,t){return A(A({},t),e.priceSummary)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ng=(()=>{class i{static{this.RETRACT_VALUE_CODE="###RETRACT_VALUE_CODE###"}convert(e,t){let n=[];return e.groups.forEach(c=>this.convertGroup(c,n)),M(A({},t),{configId:e.configId,rootProduct:e.productCode,complete:e.complete,groups:n})}convertGroup(e,t){let n=[],r=[];e.attributes&&e.attributes.forEach(g=>this.convertAttribute(g,r)),e.subGroups&&e.subGroups.forEach(g=>this.convertGroup(g,n));let c={name:e.name,id:e.id,configurable:e.configurable,groupType:this.convertGroupType(e.groupType??m.GroupType.ATTRIBUTE_GROUP),description:e.description,attributes:r,subGroups:n};t.push(c)}isRetractValue(e){return e.selectedSingleValue===m.RetractValueCode}getRetractedValue(e){return e.values?.find(t=>t.selected)?.valueCode}retractValue(e,t){this.isRetractValue(e)?(t.value=this.getRetractedValue(e),t.retractTriggered=!0):t.value=e.selectedSingleValue}convertAttribute(e,t){let n=e.uiType??m.UiType.NOT_IMPLEMENTED,r={key:e.name,name:e.name,langDepName:e.label,required:e.required,retractTriggered:e.retractTriggered,type:this.convertCharacteristicType(n)},c=[m.UiType.RADIOBUTTON,m.UiType.RADIOBUTTON_ADDITIONAL_INPUT,m.UiType.DROPDOWN_ADDITIONAL_INPUT,m.UiType.DROPDOWN,m.UiType.SINGLE_SELECTION_IMAGE],g=[m.UiType.CHECKBOXLIST,m.UiType.CHECKBOX,m.UiType.MULTI_SELECTION_IMAGE],T=[m.UiType.STRING,m.UiType.SAP_DATE],y=[m.UiType.NUMERIC];if(c.includes(n))this.retractValue(e,r);else if(T.includes(n))r.value=e.userInput;else if(y.includes(n))r.formattedValue=e.userInput;else if(g.includes(n)){let C=[];e.values&&e.values.forEach(q=>{this.convertValue(q,C)}),r.domainValues=C}t.push(r)}convertValue(e,t){t.push({key:e.valueCode,langDepName:e.valueDisplay,name:e.name,selected:e.selected})}convertCharacteristicType(e){return[m.UiType.RADIOBUTTON,m.UiType.RADIOBUTTON_ADDITIONAL_INPUT,m.UiType.DROPDOWN_ADDITIONAL_INPUT,m.UiType.DROPDOWN,m.UiType.SINGLE_SELECTION_IMAGE].includes(e)?this.convertCharacteristicTypeSingleValue(e):this.convertCharacteristicTypeMultiValueAndInput(e)}convertCharacteristicTypeSingleValue(e){let t;switch(e){case m.UiType.RADIOBUTTON:{t=$.UiType.RADIO_BUTTON;break}case m.UiType.RADIOBUTTON_ADDITIONAL_INPUT:{t=$.UiType.RADIO_BUTTON_ADDITIONAL_INPUT;break}case m.UiType.DROPDOWN:{t=$.UiType.DROPDOWN;break}case m.UiType.DROPDOWN_ADDITIONAL_INPUT:{t=$.UiType.DROPDOWN_ADDITIONAL_INPUT;break}case m.UiType.SINGLE_SELECTION_IMAGE:{t=$.UiType.SINGLE_SELECTION_IMAGE;break}default:t=$.UiType.NOT_IMPLEMENTED}return t}convertCharacteristicTypeMultiValueAndInput(e){let t;switch(e){case m.UiType.STRING:{t=$.UiType.STRING;break}case m.UiType.NUMERIC:{t=$.UiType.NUMERIC;break}case m.UiType.SAP_DATE:{t=$.UiType.SAP_DATE;break}case m.UiType.CHECKBOX:{t=$.UiType.CHECK_BOX;break}case m.UiType.CHECKBOXLIST:{t=$.UiType.CHECK_BOX_LIST;break}case m.UiType.MULTI_SELECTION_IMAGE:{t=$.UiType.MULTI_SELECTION_IMAGE;break}default:t=$.UiType.NOT_IMPLEMENTED}return t}convertGroupType(e){switch(e){case m.GroupType.ATTRIBUTE_GROUP:return $.GroupType.CSTIC_GROUP;case m.GroupType.SUB_ITEM_GROUP:return $.GroupType.INSTANCE;case m.GroupType.CONFLICT_GROUP:return $.GroupType.CONFLICT;case m.GroupType.CONFLICT_HEADER_GROUP:return $.GroupType.CONFLICT_HEADER}}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Mg=(()=>{class i{convert(e,t){return M(A({},t),{userId:e.userId,cartId:e.cartId,product:{code:e.configuration.productCode},entryNumber:e.cartEntryNumber,configId:e.configuration.configId,configurationInfos:[{configuratorType:"CPQCONFIGURATOR"}]})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Pg=(()=>{class i{constructor(e,t,n,r){this.http=e,this.occEndpointsService=t,this.converterService=n,this.configExpertModeService=r}getConfiguratorType(){return"CPQCONFIGURATOR"}getExpModeRequested(){let e=!1;return this.configExpertModeService.getExpModeRequested().pipe(w(1)).subscribe(t=>e=t),e}setExpModeActive(e){this.configExpertModeService.setExpModeActive(e)}createConfiguration(e,t,n=!1){let r=e.id,c=this.getExpModeRequested();return this.http.get(this.occEndpointsService.buildUrl("createVariantConfiguration",{urlParams:{productCode:r},queryParams:t?{configIdTemplate:t,expMode:c,forceReset:n}:{expMode:c,forceReset:n}}),{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Ht),Ce(g=>{this.setExpModeActive(g.kbKey!==void 0)}),O(g=>M(A({},g),{owner:e})))}readConfiguration(e,t,n){let r=this.getExpModeRequested();return this.http.get(this.occEndpointsService.buildUrl("readVariantConfiguration",{urlParams:{configId:e},queryParams:{groupId:t,expMode:r}}),{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Ht),Ce(c=>{this.setExpModeActive(c.kbKey!==void 0)}),O(c=>M(A({},c),{owner:n,newConfiguration:!1})))}updateConfiguration(e){let t=e.configId,n=this.getExpModeRequested(),r=this.occEndpointsService.buildUrl("updateVariantConfiguration",{urlParams:{configId:t},queryParams:{expMode:n}}),c=this.converterService.convert(e,la);return this.http.patch(r,c,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Ht),Ce(g=>{this.setExpModeActive(g.kbKey!==void 0)}),O(g=>M(A({},g),{owner:e.owner})))}addToCart(e){let t=this.occEndpointsService.buildUrl("addVariantConfigurationToCart",{urlParams:{userId:e.userId,cartId:e.cartId}}),n=this.converterService.convert(e,ga),r=new xn({"Content-Type":"application/json"});return this.http.post(t,n,{headers:r}).pipe(this.converterService.pipeable(Vn))}readConfigurationForCartEntry(e){let t=this.getExpModeRequested(),n=this.occEndpointsService.buildUrl("readVariantConfigurationForCartEntry",{urlParams:{userId:e.userId,cartId:e.cartId,cartEntryNumber:e.cartEntryNumber},queryParams:{expMode:t}});return this.http.get(n).pipe(this.converterService.pipeable(Ht),Ce(r=>{this.setExpModeActive(r.kbKey!==void 0)}),O(r=>M(A({},r),{owner:e.owner})))}updateConfigurationForCartEntry(e){let t=this.occEndpointsService.buildUrl("updateVariantConfigurationForCartEntry",{urlParams:{userId:e.userId,cartId:e.cartId,cartEntryNumber:e.cartEntryNumber}}),n=new xn({"Content-Type":"application/json"}),r=this.converterService.convert(e,fa);return this.http.put(t,r,{headers:n}).pipe(this.converterService.pipeable(Vn))}readConfigurationForOrderEntry(e){let t=e.owner.type,n;return t===ae.OwnerType.QUOTE_ENTRY?n=this.occEndpointsService.buildUrl("readVariantConfigurationOverviewForQuoteEntry",{urlParams:{userId:e.userId,quoteId:e.orderId,quoteEntryNumber:e.orderEntryNumber}}):t===ae.OwnerType.SAVED_CART_ENTRY?n=this.occEndpointsService.buildUrl("readVariantConfigurationOverviewForSavedCartEntry",{urlParams:{userId:e.userId,cartId:e.orderId,cartEntryNumber:e.orderEntryNumber}}):n=this.occEndpointsService.buildUrl("readVariantConfigurationOverviewForOrderEntry",{urlParams:{userId:e.userId,orderId:e.orderId,orderEntryNumber:e.orderEntryNumber}}),this.http.get(n).pipe(this.converterService.pipeable(Ci),O(r=>({configId:r.configId,productCode:r.productCode,groups:[],flatGroups:[],interactionState:{},overview:r,owner:et.createInitialOwner()})),O(r=>M(A({},r),{owner:e.owner})))}readPriceSummary(e){let t=this.occEndpointsService.buildUrl("readVariantConfigurationPriceSummary",{urlParams:{configId:e.configId},queryParams:{groupId:e.interactionState.currentGroup}});return this.http.get(t,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(da),O(n=>M(A({},e),{priceSummary:n.priceSummary,priceSupplements:n.priceSupplements})))}getConfigurationOverview(e){let t=this.occEndpointsService.buildUrl("getVariantConfigurationOverview",{urlParams:{configId:e}});return this.http.get(t,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Ci))}updateConfigurationOverview(e){let t=this.occEndpointsService.buildUrl("getVariantConfigurationOverview",{urlParams:{configId:e.configId}}),n=this.converterService.convert(e,ma);return this.http.patch(t,n,{context:this.indicateSendUserForAsm()}).pipe(this.converterService.pipeable(Ci),O(r=>M(A({},r),{attributeFilters:e.attributeFilters,groupFilters:e.groupFilters,possibleGroups:e.possibleGroups})))}searchVariants(e){let t=this.occEndpointsService.buildUrl("searchConfiguratorVariants",{urlParams:{configId:e}});return this.http.get(t,{context:this.indicateSendUserForAsm()})}indicateSendUserForAsm(){return new Hr().set(ao,{sendUserIdAsHeader:!0})}static{this.\u0275fac=function(t){return new(t||i)(P(Wr),P(to),P(pi),P(It))}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac})}}return i})(),Vg=(()=>{class i{convert(e,t){let n=[];return e.attributes?.forEach(c=>{this.convertAttributeSupplements(c,n)}),M(A({},t),{configId:e.configId,productCode:"",groups:[],flatGroups:[],owner:et.createInitialOwner(),interactionState:{},priceSummary:e?.priceSummary,priceSupplements:n})}convertAttributeSupplements(e,t){let n={attributeUiKey:e?.csticUiKey,valueSupplements:[]};e?.priceSupplements?.forEach(r=>{this.convertValueSupplement(r,n?.valueSupplements)}),t.push(n)}convertValueSupplement(e,t){let n={attributeValueKey:e?.attributeValueKey,priceValue:e?.priceValue,obsoletePriceValue:e?.obsoletePriceValue};t.push(n)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Gg(){return{backend:{occ:{endpoints:{createVariantConfiguration:"products/${productCode}/configurators/ccpconfigurator",readVariantConfiguration:"ccpconfigurator/${configId}",updateVariantConfiguration:"ccpconfigurator/${configId}",addVariantConfigurationToCart:"users/${userId}/carts/${cartId}/entries/ccpconfigurator",readVariantConfigurationForCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/ccpconfigurator",updateVariantConfigurationForCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/ccpconfigurator",readVariantConfigurationOverviewForOrderEntry:"users/${userId}/orders/${orderId}/entries/${orderEntryNumber}/ccpconfigurator/configurationOverview",readVariantConfigurationOverviewForSavedCartEntry:"users/${userId}/carts/${cartId}/entries/${cartEntryNumber}/ccpconfigurator/configurationOverview",readVariantConfigurationOverviewForQuoteEntry:"users/${userId}/quotes/${quoteId}/entries/${quoteEntryNumber}/ccpconfigurator/configurationOverview",readVariantConfigurationPriceSummary:"ccpconfigurator/${configId}/pricing",getVariantConfigurationOverview:"ccpconfigurator/${configId}/configurationOverview",searchConfiguratorVariants:"ccpconfigurator/${configId}/variants"}}}}}var Ug=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({providers:[{provide:Ct.CONFIGURATOR_ADAPTER_LIST,useClass:Pg,multi:!0},{provide:Ht,useExisting:Ag,multi:!0},{provide:la,useExisting:Ng,multi:!0},{provide:pa,useExisting:Rg,multi:!0},{provide:da,useExisting:Vg,multi:!0},{provide:ga,useExisting:Og,multi:!0},{provide:fa,useExisting:Mg,multi:!0},{provide:Ci,useExisting:Fg,multi:!0},{provide:ma,useExisting:Dg,multi:!0}],imports:[L,oo.withConfigFactory(Gg)]})}}return i})(),Of=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=U({type:i})}static{this.\u0275inj=G({imports:[Ug,wg,Qd]})}}return i})();export{z as CONFIGURATOR_DATA,Uo as CONFIGURATOR_FEATURE,Ao as ConfigFormUpdateEvent,m as Configurator,Ef as ConfiguratorActions,bp as ConfiguratorAddToCartButtonComponent,Ip as ConfiguratorAddToCartButtonModule,je as ConfiguratorAttributeBaseComponent,Np as ConfiguratorAttributeCheckBoxComponent,Dp as ConfiguratorAttributeCheckBoxListComponent,Rp as ConfiguratorAttributeCheckboxListModule,Mp as ConfiguratorAttributeCheckboxModule,Tp as ConfiguratorAttributeCompositionConfig,Oe as ConfiguratorAttributeCompositionContext,Sp as ConfiguratorAttributeCompositionDirective,ea as ConfiguratorAttributeCompositionModule,So as ConfiguratorAttributeDropDownComponent,Vp as ConfiguratorAttributeDropDownModule,Ep as ConfiguratorAttributeFooterComponent,wp as ConfiguratorAttributeFooterModule,Op as ConfiguratorAttributeHeaderComponent,Ap as ConfiguratorAttributeHeaderModule,ii as ConfiguratorAttributeInputFieldComponent,Tr as ConfiguratorAttributeInputFieldModule,ta as ConfiguratorAttributeMultiSelectionBaseComponent,Gp as ConfiguratorAttributeMultiSelectionBundleComponent,Up as ConfiguratorAttributeMultiSelectionBundleModule,Eo as ConfiguratorAttributeMultiSelectionImageComponent,Bp as ConfiguratorAttributeMultiSelectionImageModule,Lp as ConfiguratorAttributeNotSupportedComponent,kp as ConfiguratorAttributeNotSupportedModule,Ir as ConfiguratorAttributeNumericInputFieldComponent,Sr as ConfiguratorAttributeNumericInputFieldModule,Pp as ConfiguratorAttributeNumericInputFieldService,it as ConfiguratorAttributePriceChangeService,xr as ConfiguratorAttributeProductCardComponent,br as ConfiguratorAttributeProductCardModule,xt as ConfiguratorAttributeQuantityComponent,bt as ConfiguratorAttributeQuantityModule,Mt as ConfiguratorAttributeQuantityService,wo as ConfiguratorAttributeRadioButtonComponent,$p as ConfiguratorAttributeRadioButtonModule,jp as ConfiguratorAttributeReadOnlyComponent,qp as ConfiguratorAttributeReadOnlyModule,cn as ConfiguratorAttributeSingleSelectionBaseComponent,Hp as ConfiguratorAttributeSingleSelectionBundleComponent,Kp as ConfiguratorAttributeSingleSelectionBundleDropdownComponent,Qp as ConfiguratorAttributeSingleSelectionBundleDropdownModule,Wp as ConfiguratorAttributeSingleSelectionBundleModule,Oo as ConfiguratorAttributeSingleSelectionImageComponent,Yp as ConfiguratorAttributeSingleSelectionImageModule,sa as ConfiguratorBasicEffectService,yr as ConfiguratorCartService,te as ConfiguratorCommonsService,zp as ConfiguratorConflictAndErrorMessagesComponent,Xp as ConfiguratorConflictAndErrorMessagesModule,Zp as ConfiguratorConflictDescriptionComponent,Jp as ConfiguratorConflictDescriptionModule,rd as ConfiguratorConflictSolverDialogComponent,od as ConfiguratorConflictSolverDialogLauncherService,cd as ConfiguratorConflictSolverDialogModule,ed as ConfiguratorConflictSuggestionComponent,td as ConfiguratorConflictSuggestionModule,ca as ConfiguratorCoreConfig,id as ConfiguratorExitButtonComponent,nd as ConfiguratorExitButtonModule,It as ConfiguratorExpertModeService,sd as ConfiguratorFormComponent,ud as ConfiguratorFormModule,Er as ConfiguratorGroupComponent,pd as ConfiguratorGroupMenuComponent,dd as ConfiguratorGroupMenuModule,wr as ConfiguratorGroupModule,Zo as ConfiguratorGroupStatusService,gd as ConfiguratorGroupTitleComponent,fd as ConfiguratorGroupTitleModule,He as ConfiguratorGroupsService,Eg as ConfiguratorLogoutEventListener,en as ConfiguratorMessageConfig,md as ConfiguratorOverviewAttributeComponent,ia as ConfiguratorOverviewAttributeModule,_d as ConfiguratorOverviewBundleAttributeComponent,vd as ConfiguratorOverviewBundleAttributeModule,na as ConfiguratorOverviewFilterBarComponent,oa as ConfiguratorOverviewFilterBarModule,Cd as ConfiguratorOverviewFilterButtonComponent,hd as ConfiguratorOverviewFilterButtonModule,ra as ConfiguratorOverviewFilterComponent,yd as ConfiguratorOverviewFilterDialogComponent,bd as ConfiguratorOverviewFilterDialogModule,Or as ConfiguratorOverviewFilterModule,Id as ConfiguratorOverviewFormComponent,Td as ConfiguratorOverviewFormModule,Sd as ConfiguratorOverviewMenuComponent,aa as ConfiguratorOverviewMenuModule,Ed as ConfiguratorOverviewNotificationBannerComponent,wd as ConfiguratorOverviewNotificationBannerModule,Od as ConfiguratorOverviewSidebarComponent,Ad as ConfiguratorOverviewSidebarModule,Fd as ConfiguratorPreviousNextButtonsComponent,Dd as ConfiguratorPreviousNextButtonsModule,Ne as ConfiguratorPriceComponent,Me as ConfiguratorPriceModule,Rd as ConfiguratorPriceSummaryComponent,Nd as ConfiguratorPriceSummaryModule,Md as ConfiguratorProductTitleComponent,Pd as ConfiguratorProductTitleModule,Jo as ConfiguratorQuantityService,Vd as ConfiguratorRestartDialogComponent,Ud as ConfiguratorRestartDialogModule,Hd as ConfiguratorRouterListener,Wd as ConfiguratorRouterModule,wf as ConfiguratorSelectors,ht as ConfiguratorShowMoreComponent,yt as ConfiguratorShowMoreModule,ce as ConfiguratorStorefrontUtilsService,Bd as ConfiguratorTabBarComponent,Ld as ConfiguratorTabBarModule,Nt as ConfiguratorUISettingsConfig,$d as ConfiguratorUpdateMessageComponent,jd as ConfiguratorUpdateMessageModule,Rt as ConfiguratorUtilsService,qd as ConfiguratorVariantCarouselComponent,Kd as ConfiguratorVariantCarouselModule,$ as OccConfigurator,Og as OccConfiguratorVariantAddToCartSerializer,Ag as OccConfiguratorVariantNormalizer,Fg as OccConfiguratorVariantOverviewNormalizer,Dg as OccConfiguratorVariantOverviewSerializer,Rg as OccConfiguratorVariantPriceSummaryNormalizer,Ng as OccConfiguratorVariantSerializer,Mg as OccConfiguratorVariantUpdateCartEntrySerializer,Fo as RulebasedConfiguratorAdapter,Qd as RulebasedConfiguratorComponentsModule,Ct as RulebasedConfiguratorConnector,wg as RulebasedConfiguratorCoreModule,Of as RulebasedConfiguratorModule,ga as VARIANT_CONFIGURATOR_ADD_TO_CART_SERIALIZER,Ht as VARIANT_CONFIGURATOR_NORMALIZER,Ci as VARIANT_CONFIGURATOR_OVERVIEW_NORMALIZER,ma as VARIANT_CONFIGURATOR_OVERVIEW_SERIALIZER,da as VARIANT_CONFIGURATOR_PRICE_NORMALIZER,pa as VARIANT_CONFIGURATOR_PRICE_SUMMARY_NORMALIZER,la as VARIANT_CONFIGURATOR_SERIALIZER,fa as VARIANT_CONFIGURATOR_UPDATE_CART_ENTRY_SERIALIZER,Pg as VariantConfiguratorOccAdapter,Ug as VariantConfiguratorOccModule};
