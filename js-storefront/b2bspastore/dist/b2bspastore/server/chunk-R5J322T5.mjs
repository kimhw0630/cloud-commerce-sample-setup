import './polyfills.server.mjs';
import{a as Dt}from"./chunk-LLFJVMPG.mjs";import{g as Le,i as wt,j as Mt}from"./chunk-SZSU6635.mjs";import"./chunk-LBGFRG7P.mjs";import{b as ee,c as Ht}from"./chunk-A3JWOM2Y.mjs";import{s as Ce,v as Bt}from"./chunk-UXBWB3PG.mjs";import{c as Ut}from"./chunk-LZ45RK54.mjs";import"./chunk-W6I6IL5E.mjs";import"./chunk-ZSZ2OSPO.mjs";import"./chunk-YZJYNVE5.mjs";import{R as Tt}from"./chunk-UHE32XUF.mjs";import{$ as bt,E as be,H as gt,Ta as St,Wa as Et,Y as Ot,Ya as Ft,Za as It,_ as xt,b as mt,d as vt,e as yt,f as xe,i as X,l as ft,p as _t,s as ht,ua as Ct,xa as Lt}from"./chunk-EKK5QDHO.mjs";import{$ as nt,A as fe,Ac as ce,Ha as at,J,Q as it,R as rt,Ta as st,V as E,f as Ye,fc as he,g as ae,h as G,i as We,ib as _e,j as Je,ka as ot,lc as pt,m as se,mc as ut,n as Ke,o as de,oa as Q,p as Xe,pb as dt,qb as ct,tb as K,wc as ge,xa as lt,y as et,z as tt,zc as Oe}from"./chunk-H5UHAHI5.mjs";import{$a as y,$b as D,$d as Ze,Aa as Y,Bc as Ge,Cc as V,Ed as ye,Fa as U,Fb as $e,Ga as F,Ia as Ae,Jc as o,Ka as b,Kc as l,L,La as Pe,Lc as Qe,Md as N,Oc as qe,Pb as S,Qb as x,Ra as oe,Rb as c,S as ve,Sa as I,Tb as W,Xb as a,Yb as d,Zb as _,_a as v,_b as M,bc as H,ca as Ne,dc as h,ec as O,fb as A,gb as je,hc as T,mc as P,nc as j,oc as $,pc as B,q as z,qc as u,rc as w,sc as f,ta as ke,wb as n,x as g,xa as Z,xb as R,y as k,yd as ze,zd as le}from"./chunk-TXWRNZDJ.mjs";import{a as Ve,b as Re}from"./chunk-GHFNAT2I.mjs";var te=class{},Nt=(()=>{class t{constructor(e){this.adapter=e}getUnitOrderHistory(e,i,r,s,m){return this.adapter.loadUnitOrderHistory(e,i,r,s,m)}getUnitOrderDetail(e,i){return this.adapter.loadUnitOrderDetail(e,i)}static{this.\u0275fac=function(i){return new(i||t)(b(te))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ie=(()=>{class t{constructor(e,i,r){this.userAccountFacade=e,this.routingService=i,this.globalMessageService=r}canActivate(){return this.userAccountFacade.get().pipe(L(e=>!!e&&Object.keys(e).length>0),g(e=>e.roles),g(e=>{let i=Array.isArray(e)&&(e.includes(rt.UNITORDERVIEWER)||e.includes(it.ADMIN));return i||(this.routingService.go({cxRoute:"home"}),this.globalMessageService.add({key:"organization.notification.noSufficientPermissions"},dt.MSG_TYPE_WARNING)),i}))}static{this.\u0275fac=function(i){return new(i||t)(b(Ut),b(Q),b(ct))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kt="unit order",re="[Unit Order] Unit Orders",ne="[Unit Order] Order Details",At="[Unit Order] Load Unit Orders",Pt="[Unit Order] Load Unit Orders Fail",jt="[Unit Order] Load Unit Orders Success",Wt="[Unit Order] Clear Unit Orders",De="[Unit Order] Load Unit Order Details",$t="[Unit Order] Load Unit Order Details Fail",Gt="[Unit Order] Load Unit Order Details Success",Jt="[Unit Order] Clear Unit Order Details",Ee=class extends E.LoaderLoadAction{constructor(p){super(re),this.payload=p,this.type=At}},Fe=class extends E.LoaderFailAction{constructor(p){super(re,p),this.payload=p,this.type=Pt}},Ie=class extends E.LoaderSuccessAction{constructor(p){super(re),this.payload=p,this.type=jt}},pe=class extends E.LoaderResetAction{constructor(){super(re),this.type=Wt}},Ue=class extends E.LoaderLoadAction{constructor(p){super(ne),this.payload=p,this.type=De}},Te=class extends E.LoaderFailAction{constructor(p){super(ne,p),this.payload=p,this.type=$t}},Be=class extends E.LoaderSuccessAction{constructor(p){super(ne),this.payload=p,this.type=Gt}},we=class extends E.LoaderResetAction{constructor(){super(ne),this.type=Jt}};var Kt=(()=>{class t{constructor(e,i){this.actions$=e,this.orderConnector=i,this.logger=Pe(ot),this.loadUnitOrders$=se(()=>this.actions$.pipe(de(At),g(r=>r.payload),Z(r=>this.orderConnector.getUnitOrderHistory(r.userId,r.pageSize,r.currentPage,r.filters,r.sort).pipe(g(s=>new Ie(s)),ve(s=>z(new Fe(_e(s,this.logger)))))))),this.resetUserOrders$=se(()=>this.actions$.pipe(de(lt.LANGUAGE_CHANGE),g(()=>new pe))),this.loadOrderDetails$=se(()=>this.actions$.pipe(de(De),g(r=>r.payload),Z(r=>this.orderConnector.getUnitOrderDetail(r.userId,r.orderCode).pipe(g(s=>new Be(s)),ve(s=>z(new Te(_e(s,this.logger))))))))}static{this.\u0275fac=function(i){return new(i||t)(b(Ke),b(Nt))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),Xt=[Kt],Se={orders:[],pagination:{},sorts:[]},Vt={};function ei(t=Se,p){switch(p.type){case jt:return p.payload?p.payload:Se;case Pt:return Se}return t}function ti(t=Vt,p){switch(p.type){case Gt:return p.payload;case $t:case De:return Vt}return t}function ii(){return{orders:E.loaderReducer(re,ei),orderDetail:E.loaderReducer(ne,ti)}}var Qt=new Ae("UnitOrderReducers"),ri={provide:Qt,useFactory:ii},qt=We(kt),He=G(qt,t=>t.orders),ni=G(He,t=>E.loaderSuccessSelector(t)),tr=G(He,t=>E.loaderValueSelector(t)),oi=G(qt,t=>t.orderDetail),li=G(oi,t=>E.loaderValueSelector(t));var ai=(()=>{class t{constructor(e,i,r){this.store=e,this.userIdService=i,this.routingService=r}getOrderHistoryList(e){return this.store.pipe(ae(He),Y(i=>{i.loading||i.success||i.error||this.loadOrderList(e)}),g(i=>i.value))}getOrderHistoryListLoaded(){return this.store.pipe(ae(ni))}loadOrderList(e,i,r,s){this.userIdService.takeUserId(!0).subscribe({next:m=>{this.store.dispatch(new Ee({userId:m,pageSize:e,currentPage:i,filters:r,sort:s}))},error:()=>{}})}clearOrderList(){this.store.dispatch(new pe)}getOrderDetails(){return this.store.pipe(ae(li))}loadOrderDetails(e){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Ue({userId:i,orderCode:e}))})}clearOrderDetails(){this.store.dispatch(new we)}static{this.\u0275fac=function(i){return new(i||t)(b(Ye),b(nt),b(Q))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),si=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({providers:[ri],imports:[Je.forFeature(kt,Qt),Xe.forFeature(Xt)]})}}return t})(),zt=(()=>{class t{static forRoot(){return{ngModule:t,providers:[{provide:ee,useExisting:ai},Nt]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({imports:[si]})}}return t})();var di=["filterNav"],ci=["filterNavUnit"],pi=["filterNavBuyer"],ui=["buyerFilterMobileId"],mi=["unitFilterMobileId"];function vi(t,p){if(t&1&&(a(0,"span"),u(1),d()),t&2){let e=O(2);n(),f('"',e.buyerFilterMobileValue,'"')}}function yi(t,p){t&1&&(a(0,"span"),u(1),o(2,"cxTranslate"),d()),t&2&&(n(),w(l(2,1,"unitLevelOrderHistory.and")))}function fi(t,p){if(t&1&&(a(0,"span"),u(1),d()),t&2){let e=O(2);n(),f('"',e.unitFilterMobileValue,'"')}}function _i(t,p){if(t&1){let e=H();a(0,"div",42)(1,"div",43),u(2),o(3,"cxTranslate"),S(4,vi,2,1,"span",44)(5,yi,3,3,"span",44)(6,fi,2,1,"span",44),d(),a(7,"div",45)(8,"button",46),h("click",function(){v(e);let r=O();return y(r.clearAll())}),u(9),o(10,"cxTranslate"),d()()()}if(t&2){let e=O();n(2),f(" ",l(3,5,"unitLevelOrderHistory.yourFilters")," "),n(2),c("ngIf",e.buyerFilterMobileValue),n(),c("ngIf",e.buyerFilterMobileValue&&e.unitFilterMobileValue),n(),c("ngIf",e.unitFilterMobileValue),n(3),f(" ",l(10,7,"unitLevelOrderHistory.removeAppliedFilters")," ")}}var hi=t=>({orderHistory:t}),q=t=>({cxRoute:"unitLevelOrderDetail",params:t}),gi=()=>({cxRoute:"home"});function Oi(t,p){if(t&1){let e=H();a(0,"div",16)(1,"cx-pagination",17),h("viewPageEvent",function(r){v(e);let s=O(4);return y(s.pageChange(r))}),d()()}if(t&2){let e=O(2).ngIf;n(),c("pagination",e==null?null:e.pagination)}}function xi(t,p){if(t&1){let e=H();a(0,"tr",18),h("click",function(){let r=v(e).$implicit,s=O(4);return y(s.goToOrderDetail(r))}),a(1,"td",19)(2,"div",20),u(3),o(4,"cxTranslate"),d(),a(5,"a",21),o(6,"cxUrl"),u(7),d()(),a(8,"td",22)(9,"div",20),u(10),o(11,"cxTranslate"),d(),a(12,"a",21),o(13,"cxUrl"),u(14),o(15,"cxDate"),d()(),a(16,"td",23)(17,"div",20),u(18),o(19,"cxTranslate"),d(),a(20,"a",21),o(21,"cxUrl"),u(22),o(23,"cxTranslate"),d()(),a(24,"td",24)(25,"div",20),u(26),o(27,"cxTranslate"),d(),a(28,"a",21),o(29,"cxUrl"),u(30),a(31,"span",25),u(32),d()()(),a(33,"td",26)(34,"div",20),u(35),o(36,"cxTranslate"),d(),a(37,"a",21),o(38,"cxUrl"),u(39),d()(),a(40,"td",27)(41,"div",20),u(42),o(43,"cxTranslate"),d(),a(44,"a",21),o(45,"cxUrl"),u(46),d()()()}if(t&2){let e=p.$implicit;n(3),f(" ",l(4,19,"unitLevelOrderHistory.orderId")," "),n(2),c("routerLink",l(6,21,V(48,q,e))),n(2),f(" ",e==null?null:e.code,""),n(3),f(" ",l(11,23,"unitLevelOrderHistory.date")," "),n(2),c("routerLink",l(13,25,V(50,q,e))),n(2),f(" ",Qe(15,27,e==null?null:e.placed,"longDate")," "),n(4),f(" ",l(19,30,"unitLevelOrderHistory.status")," "),n(2),c("routerLink",l(21,32,V(52,q,e))),n(2),f(" ",l(23,34,"orderDetails.statusDisplay_"+(e==null?null:e.statusDisplay)),""),n(4),f(" ",l(27,36,"unitLevelOrderHistory.buyer")," "),n(2),c("routerLink",l(29,38,V(54,q,e))),n(2),f(" ",e==null||e.orgCustomer==null?null:e.orgCustomer.name," "),n(2),w(e==null||e.orgCustomer==null?null:e.orgCustomer.email),n(3),f(" ",l(36,40,"unitLevelOrderHistory.unit")," "),n(2),c("routerLink",l(38,42,V(56,q,e))),n(2),f(" ",e==null||e.orgUnit==null?null:e.orgUnit.name,""),n(3),f(" ",l(43,44,"unitLevelOrderHistory.total")," "),n(2),c("routerLink",l(45,46,V(58,q,e))),n(2),f(" ",e==null||e.total==null?null:e.total.formattedValue,"")}}function bi(t,p){if(t&1){let e=H();a(0,"div",16)(1,"cx-pagination",17),h("viewPageEvent",function(r){v(e);let s=O(4);return y(s.pageChange(r))}),d()()}if(t&2){let e=O(2).ngIf;n(),c("pagination",e==null?null:e.pagination)}}function Ci(t,p){if(t&1){let e=H();M(0),a(1,"div",5)(2,"label",6)(3,"span"),u(4),o(5,"cxTranslate"),d(),a(6,"cx-sorting",7),o(7,"cxTranslate"),o(8,"async"),o(9,"cxTranslate"),h("sortListEvent",function(r){v(e);let s=O(3);return y(s.changeSortCode(r))}),d()(),a(10,"div",8),_(11,"cx-total",9),d(),S(12,Oi,2,1,"div",10),d(),a(13,"table",11)(14,"thead",12)(15,"th",13),u(16),o(17,"cxTranslate"),d(),a(18,"th",13),u(19),o(20,"cxTranslate"),d(),a(21,"th",13),u(22),o(23,"cxTranslate"),d(),a(24,"th",13),u(25),o(26,"cxTranslate"),d(),a(27,"th",13),u(28),o(29,"cxTranslate"),d(),a(30,"th",13),u(31),o(32,"cxTranslate"),d()(),a(33,"tbody"),S(34,xi,47,60,"tr",14),d()(),a(35,"div",15)(36,"label",6)(37,"span"),u(38),o(39,"cxTranslate"),d(),a(40,"cx-sorting",7),o(41,"cxTranslate"),o(42,"async"),o(43,"cxTranslate"),h("sortListEvent",function(r){v(e);let s=O(3);return y(s.changeSortCode(r))}),d()(),a(44,"div",8),_(45,"cx-total",9),d(),S(46,bi,2,1,"div",10),d(),D()}if(t&2){let e,i,r=O().ngIf,s=O(2);n(4),f(" ",l(5,23,"unitLevelOrderHistory.sortBy")," "),n(2),T("placeholder",l(7,25,"unitLevelOrderHistory.sortBy")),c("sortOptions",r==null?null:r.sorts)("sortLabels",l(8,27,s.getSortLabels()))("selectedOption",r==null||r.pagination==null?null:r.pagination.sort)("ariaLabel",l(9,29,"unitLevelOrderHistory.sortOrders")),n(5),c("pagination",r==null?null:r.pagination),n(),c("ngIf",(e=r==null||r.pagination==null?null:r.pagination.totalPages)!==null&&e!==void 0?e:!1),n(4),f(" ",l(17,31,"unitLevelOrderHistory.orderId")," "),n(3),f(" ",l(20,33,"unitLevelOrderHistory.date")," "),n(3),f(" ",l(23,35,"unitLevelOrderHistory.status")," "),n(3),f(" ",l(26,37,"unitLevelOrderHistory.buyer")," "),n(3),f(" ",l(29,39,"unitLevelOrderHistory.unit")," "),n(3),f(" ",l(32,41,"unitLevelOrderHistory.total")," "),n(3),c("ngForOf",r==null?null:r.orders),n(4),f(" ",l(39,43,"unitLevelOrderHistory.sortBy")," "),n(2),T("placeholder",l(41,45,"unitLevelOrderHistory.sortBy")),c("sortOptions",r==null?null:r.sorts)("sortLabels",l(42,47,s.getSortLabels()))("selectedOption",r==null||r.pagination==null?null:r.pagination.sort)("ariaLabel",l(43,49,"unitLevelOrderHistory.sortOrders")),n(5),c("pagination",r==null?null:r.pagination),n(),c("ngIf",(i=r==null||r.pagination==null?null:r.pagination.totalPages)!==null&&i!==void 0?i:!1)}}function Li(t,p){t&1&&(a(0,"div",29)(1,"div")(2,"div"),u(3),o(4,"cxTranslate"),d(),a(5,"a",30),o(6,"cxUrl"),u(7),o(8,"cxTranslate"),d()()()),t&2&&(n(3),w(l(4,3,"unitLevelOrderHistory.noOrders")),n(2),c("routerLink",l(6,5,Ge(9,gi))),n(2),w(l(8,7,"unitLevelOrderHistory.startShopping")))}function Si(t,p){if(t&1&&(S(0,Li,9,10,"div",28),o(1,"async")),t&2){let e=O(3);c("ngIf",l(1,1,e.isLoaded$))}}function Ei(t,p){if(t&1){let e=H();M(0),a(1,"div")(2,"cx-unit-level-order-history-filter",2),h("filterListEvent",function(r){v(e);let s=O(2);return y(s.filterChange(r))}),d(),a(3,"div",3),S(4,Ci,47,51,"ng-container",4)(5,Si,2,3,"ng-template",null,0,qe),d()(),D()}if(t&2){let e,i=p.ngIf,r=B(6);n(4),c("ngIf",(e=i.pagination==null?null:i.pagination.totalResults)!==null&&e!==void 0?e:!1)("ngIfElse",r)}}function Fi(t,p){if(t&1&&(M(0),S(1,Ei,7,2,"ng-container",1),D()),t&2){let e=p.ngIf;n(),c("ngIf",e.orderHistory)}}function Ii(t,p){if(t&1&&(M(0),_(1,"cx-card",4),o(2,"async"),D()),t&2){let e=O().ngIf,i=O();n(),c("content",l(2,1,i.getCostCenterCardContent(e.costCenter)))}}function Ui(t,p){if(t&1&&(M(0),_(1,"cx-card",4),o(2,"async"),D()),t&2){let e=O().ngIf,i=O();n(),c("content",l(2,1,i.getAddressCardContent(e.deliveryAddress)))}}function Ti(t,p){if(t&1&&(M(0),_(1,"cx-card",4),o(2,"async"),D()),t&2){let e=O().ngIf,i=O();n(),c("content",l(2,1,i.getDeliveryModeCardContent(e.deliveryMode)))}}function Bi(t,p){if(t&1&&(M(0),a(1,"div",3),_(2,"cx-card",4),o(3,"async"),_(4,"cx-card",4),o(5,"async"),d(),D()),t&2){let e=O().ngIf,i=O();n(2),c("content",l(3,2,i.getPaymentInfoCardContent(e.paymentInfo))),n(2),c("content",l(5,4,i.getBillingAddressCardContent(e.paymentInfo==null?null:e.paymentInfo.billingAddress)))}}function wi(t,p){if(t&1&&(a(0,"div",1)(1,"div",2)(2,"div",3),_(3,"cx-card",4),o(4,"async"),_(5,"cx-card",4),o(6,"cxDate"),o(7,"async"),_(8,"cx-card",4),o(9,"async"),_(10,"cx-card",5),o(11,"async"),d(),a(12,"div",3),_(13,"cx-card",4),o(14,"async"),_(15,"cx-card",4),o(16,"async"),_(17,"cx-card",4),o(18,"async"),S(19,Ii,3,3,"ng-container",6),d(),a(20,"div",3),S(21,Ui,3,3,"ng-container",6)(22,Ti,3,3,"ng-container",6),d(),S(23,Bi,6,6,"ng-container",6),d()()),t&2){let e=p.ngIf,i=O();n(3),c("content",l(4,11,i.getOrderCodeCardContent(e.code))),n(2),c("content",l(7,15,i.getOrderCurrentDateCardContent(l(6,13,e.created)))),n(3),c("content",l(9,17,i.getOrderStatusCardContent(e.statusDisplay))),n(2),c("content",l(11,19,i.getBuyerNameCardContent(e.orgCustomer))),n(3),c("content",l(14,21,i.getUnitNameCardContent(e.orgUnit==null?null:e.orgUnit.name))),n(2),c("content",l(16,23,i.getPurchaseOrderNumber(e.purchaseOrderNumber))),n(2),c("content",l(18,25,i.getMethodOfPaymentCardContent(e.paymentInfo))),n(2),c("ngIf",e.costCenter),n(2),c("ngIf",e.deliveryAddress),n(),c("ngIf",e.deliveryMode),n(),c("ngIf",e.paymentInfo)}}var Mi=(()=>{class t{constructor(e){this.renderer=e,this.iconTypes=Ot,this.filterForm=new xe({buyerFilter:new X,unitFilter:new X}),this.filterFormMobile=new xe({buyerFilterMobile:new X,unitFilterMobile:new X}),this.filterByBuyer="filterByBuyer",this.filterByUnit="filterByUnit",this.filterListEvent=new je}searchUnitLevelOrders(){let e=this.filterForm.get("buyerFilter")?.value,i=this.filterForm.get("unitFilter")?.value;this.filterFormMobile.setValue({buyerFilterMobile:e,unitFilterMobile:i}),this.emitFilterEvent(e,i),this.buyerFilterMobileValue=e,this.unitFilterMobileValue=i}emitFilterEvent(e,i){let r=[];e?.length&&r.push("user:"+e),i?.length&&r.push("unit:"+i),r.unshift(r.length?":":""),this.encodedFilter=r.join(":"),this.filterListEvent.emit({currentPage:0,filters:this.encodedFilter})}clearAll(){let e=this.filterForm.get("buyerFilter")?.value,i=this.filterForm.get("unitFilter")?.value,r=this.buyerFilterMobileId?.nativeElement.value,s=this.unitFilterMobileId?.nativeElement.value;(e||i||r||s)&&(this.filterForm.reset(),this.filterFormMobile.reset(),this.searchUnitLevelOrders()),this.unitFilterMobileValue=null,this.buyerFilterMobileValue=null}launchMobileFilters(){this.renderer.setStyle(this.filterNav.nativeElement,"display","flex"),this.renderer.setStyle(this.filterNav.nativeElement,"width","100%"),this.renderer.setStyle(document.body,"overflow","hidden")}searchUnitLevelOrdersForMobile(){this.getFormValuesForMobileAndEmitFilterEvent(),this.closeFilterNav()}getFormValuesForMobileAndEmitFilterEvent(){let e=this.filterFormMobile.get("buyerFilterMobile")?.value;this.buyerFilterMobileValue=e;let i=this.filterFormMobile.get("unitFilterMobile")?.value;this.unitFilterMobileValue=i,this.filterForm.setValue({buyerFilter:e,unitFilter:i}),this.emitFilterEvent(e,i)}closeFilterNav(){this.renderer.setStyle(this.filterNav.nativeElement,"display","none"),this.renderer.setStyle(document.body,"overflow",""),this.renderer.setStyle(this.filterNavUnit.nativeElement,"display","none"),this.renderer.setStyle(this.filterNavBuyer.nativeElement,"display","none"),this.renderer.setStyle(this.filterNav.nativeElement,"width","0"),this.filterFormMobile.patchValue({buyerFilterMobile:this.buyerFilterMobileValue,unitFilterMobile:this.unitFilterMobileValue})}backFilterSubNav(){this.renderer.setStyle(this.filterNavUnit.nativeElement,"display","none"),this.renderer.setStyle(this.filterNavBuyer.nativeElement,"display","none"),this.renderer.setStyle(this.filterNav.nativeElement,"display","flex"),this.filterFormMobile.patchValue({buyerFilterMobile:this.buyerFilterMobileValue,unitFilterMobile:this.unitFilterMobileValue})}launchSubNav(e){this.renderer.setStyle(this.filterNav.nativeElement,"display","none"),e===this.filterByUnit?this.renderer.setStyle(this.filterNavUnit.nativeElement,"display","block"):e===this.filterByBuyer&&this.renderer.setStyle(this.filterNavBuyer.nativeElement,"display","block")}clearUnit(){this.filterForm.get("unitFilter")?.reset(),this.searchUnitLevelOrders()}clearBuyer(){this.filterForm.get("buyerFilter")?.reset(),this.searchUnitLevelOrders()}clearUnitMobile(){this.filterFormMobile.get("unitFilterMobile")?.reset(),this.renderer.setStyle(document.body,"overflow",""),this.unitFilterMobileValue=null,this.getFormValuesForMobileAndEmitFilterEvent()}clearBuyerMobile(){this.filterFormMobile.get("buyerFilterMobile")?.reset(),this.renderer.setStyle(document.body,"overflow",""),this.buyerFilterMobileValue=null,this.getFormValuesForMobileAndEmitFilterEvent()}searchBuyer(e){let i=e.value;(!i||i==="")&&this.clearBuyer()}searchUnit(e){let i=e.value;(!i||i==="")&&this.clearUnit()}static{this.\u0275fac=function(i){return new(i||t)(R($e))}}static{this.\u0275cmp=oe({type:t,selectors:[["cx-unit-level-order-history-filter"]],viewQuery:function(i,r){if(i&1&&(P(di,5,A),P(ci,5,A),P(pi,5,A),P(ui,5,A),P(mi,5,A)),i&2){let s;j(s=$())&&(r.filterNav=s.first),j(s=$())&&(r.filterNavUnit=s.first),j(s=$())&&(r.filterNavBuyer=s.first),j(s=$())&&(r.buyerFilterMobileId=s.first),j(s=$())&&(r.unitFilterMobileId=s.first)}},outputs:{filterListEvent:"filterListEvent"},decls:132,vars:138,consts:[["filterNav",""],["filterNavBuyer",""],["buyerFilterMobileId",""],["filterNavUnit",""],["unitFilterMobileId",""],["buyerFilterId",""],["unitFilterId",""],[1,"cx-filter"],[1,"cx-filter-list"],["id","closeFilterNavBtn","type","button",3,"click","title"],["aria-hidden","true",3,"type"],[1,"cx-filter-list","cx-filter-list-border",3,"click"],["type","button"],[3,"formGroup"],["id","cx-unit-level-order-history-filter-nav-sub-buyer",1,"cx-filter-nav"],[1,"cx-filter-nav-div"],[1,"cx-filter-back-button",3,"click"],["type","button",3,"click","title"],["formControlName","buyerFilterMobile",1,"form-control","buyer-filter-mobile",3,"input","keydown.enter","placeholder"],["id","clearBuyerMobileBtn",1,"reset","cx-unit-level-order-history-filter-reset-button",3,"mousedown","keydown.enter"],[3,"type"],["role","presentation",1,"search-icon"],[1,"search-icon-filter",3,"type"],[1,"cx-clear-btn-container"],["type","button",1,"cx-action-link","cx-clear-btn",3,"click"],["id","cx-unit-level-order-history-filter-nav-sub-unit",1,"cx-filter-nav"],["formControlName","unitFilterMobile",1,"form-control","unit-filter-mobile",3,"input","keydown.enter","placeholder"],["id","clearUnitMobileBtn",1,"reset","cx-unit-level-order-history-filter-reset-button",3,"mousedown","keydown.enter"],[3,"keydown.enter","formGroup"],[1,"cx-unit-level-order-history-filter-div-wrapper"],["role","search",1,"cx-unit-level-order-history-filter-label-wrapper"],[1,"cx-unit-level-order-history-filter-label"],["formControlName","buyerFilter",1,"form-control","cx-unit-level-order-history-filter-input",3,"input","placeholder"],["id","clearBuyerBtn",1,"reset","cx-unit-level-order-history-filter-reset-button",3,"mousedown","keydown.enter"],["formControlName","unitFilter",1,"form-control","cx-unit-level-order-history-filter-input",3,"input","placeholder"],["id","clearUnitBtn","type","button",1,"reset","cx-unit-level-order-history-filter-reset-button",3,"mousedown","keydown.enter"],[1,"cx-unit-level-order-history-filter-form-button-block"],["id","clearAllBtn","type","button",1,"cx-action-link","cx-clear-btn",3,"click"],["id","searchUnitLevelOrdersBtn","type","button",1,"btn","btn-primary","unit-level-order-history-search",3,"click"],[1,"cx-unit-level-order-history-filter-form-mobile"],["id","filterByBtn",1,"btn","btn-action","btn-block","dialog-trigger",3,"click"],["class","cx-unit-level-order-history-filters-show-and-remove",4,"ngIf"],[1,"cx-unit-level-order-history-filters-show-and-remove"],[1,"cx-selected-filters"],[4,"ngIf"],[1,"cx-clear-filter"],["id","removeAppliedFiltersBtn","type","button",1,"cx-action-link","cx-clear-btn",3,"click"]],template:function(i,r){if(i&1){let s=H();a(0,"div",7,0),o(2,"cxTranslate"),a(3,"div",8)(4,"span"),u(5),o(6,"cxTranslate"),d(),a(7,"button",9),o(8,"cxTranslate"),o(9,"cxTranslate"),h("click",function(){return v(s),y(r.closeFilterNav())}),_(10,"cx-icon",10),d()(),a(11,"div",11),h("click",function(){return v(s),y(r.launchSubNav(r.filterByBuyer))}),a(12,"span"),u(13),o(14,"cxTranslate"),d(),a(15,"button",12),o(16,"cxTranslate"),_(17,"cx-icon",10),d()(),a(18,"div",11),h("click",function(){return v(s),y(r.launchSubNav(r.filterByUnit))}),a(19,"span"),u(20),o(21,"cxTranslate"),d(),a(22,"button",12),o(23,"cxTranslate"),_(24,"cx-icon",10),d()()(),a(25,"form",13)(26,"div",14,1),o(28,"cxTranslate"),a(29,"div",15)(30,"div",8)(31,"div",16),h("click",function(){return v(s),y(r.backFilterSubNav())}),a(32,"button",12),_(33,"cx-icon",10),d(),a(34,"span"),u(35),o(36,"cxTranslate"),d()(),a(37,"button",17),o(38,"cxTranslate"),o(39,"cxTranslate"),h("click",function(){return v(s),y(r.closeFilterNav())}),_(40,"cx-icon",10),d()(),a(41,"label")(42,"input",18,2),o(44,"cxTranslate"),o(45,"cxTranslate"),h("input",function(){v(s);let C=B(43);return y(r.searchBuyer(C))})("keydown.enter",function(){return v(s),y(r.searchUnitLevelOrdersForMobile())}),d(),a(46,"button",19),o(47,"cxTranslate"),h("mousedown",function(){return v(s),y(r.clearBuyerMobile())})("keydown.enter",function(){return v(s),y(r.clearBuyerMobile())}),_(48,"cx-icon",20),d(),a(49,"div",21),_(50,"cx-icon",22),d()(),a(51,"div",23)(52,"button",24),h("click",function(){return v(s),y(r.clearBuyerMobile())}),u(53),o(54,"cxTranslate"),d()()()(),a(55,"div",25,3),o(57,"cxTranslate"),a(58,"div",15)(59,"div",8)(60,"div",16),h("click",function(){return v(s),y(r.backFilterSubNav())}),a(61,"button",12),_(62,"cx-icon",10),d(),a(63,"span"),u(64),o(65,"cxTranslate"),d()(),a(66,"button",17),o(67,"cxTranslate"),o(68,"cxTranslate"),h("click",function(){return v(s),y(r.closeFilterNav())}),_(69,"cx-icon",10),d()(),a(70,"label")(71,"input",26,4),o(73,"cxTranslate"),o(74,"cxTranslate"),h("input",function(){v(s);let C=B(72);return y(r.searchUnit(C))})("keydown.enter",function(){return v(s),y(r.searchUnitLevelOrdersForMobile())}),d(),a(75,"button",27),o(76,"cxTranslate"),h("mousedown",function(){return v(s),y(r.clearUnitMobile())})("keydown.enter",function(){return v(s),y(r.clearUnitMobile())}),_(77,"cx-icon",20),d(),a(78,"div",21),_(79,"cx-icon",22),d()(),a(80,"div",23)(81,"button",24),h("click",function(){return v(s),y(r.clearUnitMobile())}),u(82),o(83,"cxTranslate"),d()()()()(),a(84,"form",28),h("keydown.enter",function(){return v(s),y(r.searchUnitLevelOrders())}),a(85,"div")(86,"div",29)(87,"div")(88,"span"),u(89),o(90,"cxTranslate"),d(),a(91,"div",30),o(92,"cxTranslate"),a(93,"label",31)(94,"input",32,5),o(96,"cxTranslate"),o(97,"cxTranslate"),h("input",function(){v(s);let C=B(95);return y(r.searchBuyer(C))}),d(),a(98,"button",33),o(99,"cxTranslate"),h("mousedown",function(){return v(s),y(r.clearBuyer())})("keydown.enter",function(){return v(s),y(r.clearBuyer())}),_(100,"cx-icon",20),d(),a(101,"div",21),_(102,"cx-icon",22),d()()()(),a(103,"div")(104,"span"),u(105),o(106,"cxTranslate"),d(),a(107,"div",30),o(108,"cxTranslate"),a(109,"label",31)(110,"input",34,6),o(112,"cxTranslate"),o(113,"cxTranslate"),h("input",function(){v(s);let C=B(111);return y(r.searchUnit(C))}),d(),a(114,"button",35),o(115,"cxTranslate"),h("mousedown",function(){return v(s),y(r.clearUnit())})("keydown.enter",function(){return v(s),y(r.clearUnit())}),_(116,"cx-icon",20),d(),a(117,"div",21),_(118,"cx-icon",22),d()()()()(),a(119,"div",36)(120,"button",37),h("click",function(){return v(s),y(r.clearAll())}),u(121),o(122,"cxTranslate"),d(),a(123,"button",38),h("click",function(){return v(s),y(r.searchUnitLevelOrders())}),u(124),o(125,"cxTranslate"),d()()()(),a(126,"div",39)(127,"button",40),h("click",function(){return v(s),y(r.launchMobileFilters())}),_(128,"cx-icon",20),u(129),o(130,"cxTranslate"),d(),S(131,_i,11,9,"div",41),d()}if(i&2){let s=B(43),m=B(72),C=B(95),me=B(111);x("aria-label",l(2,64,"unitLevelOrderHistory.filterBy")),n(5),w(l(6,66,"unitLevelOrderHistory.filterBy")),n(2),T("title",l(8,68,"common.close")),x("aria-label",l(9,70,"common.close")),n(3),c("type",r.iconTypes.CLOSE),n(3),w(l(14,72,"unitLevelOrderHistory.buyer")),n(2),x("aria-label",l(16,74,"unitLevelOrderHistory.filterByBuyerLabel")),n(2),c("type",r.iconTypes.CARET_RIGHT),n(3),w(l(21,76,"unitLevelOrderHistory.unit")),n(2),x("aria-label",l(23,78,"unitLevelOrderHistory.filterByUnitLabel")),n(2),c("type",r.iconTypes.CARET_RIGHT),n(),c("formGroup",r.filterFormMobile),n(),x("aria-label",l(28,80,"unitLevelOrderHistory.filterBy")),n(7),c("type",r.iconTypes.CARET_LEFT),n(2),w(l(36,82,"unitLevelOrderHistory.filterByBuyer")),n(2),T("title",l(38,84,"common.close")),x("aria-label",l(39,86,"common.close")),n(3),c("type",r.iconTypes.CLOSE),n(),W("dirty",!!s.value),n(),T("placeholder",l(44,88,"unitLevelOrderHistory.filterByBuyerPlaceholder")),x("aria-label",l(45,90,"unitLevelOrderHistory.filterByBuyerPlaceholder")),n(4),x("aria-label",l(47,92,"common.reset")),n(2),c("type",r.iconTypes.RESET),n(2),c("type",r.iconTypes.SEARCH),n(3),f(" ",l(54,94,"unitLevelOrderHistory.clearAll")," "),n(2),x("aria-label",l(57,96,"unitLevelOrderHistory.filterBy")),n(7),c("type",r.iconTypes.CARET_LEFT),n(2),w(l(65,98,"unitLevelOrderHistory.filterByUnit")),n(2),T("title",l(67,100,"common.close")),x("aria-label",l(68,102,"common.close")),n(3),c("type",r.iconTypes.CLOSE),n(),W("dirty",!!m.value),n(),T("placeholder",l(73,104,"unitLevelOrderHistory.filterByUnitPlaceholder")),x("aria-label",l(74,106,"unitLevelOrderHistory.filterByUnitPlaceholder")),n(4),x("aria-label",l(76,108,"common.reset")),n(2),c("type",r.iconTypes.RESET),n(2),c("type",r.iconTypes.SEARCH),n(3),f(" ",l(83,110,"unitLevelOrderHistory.clearAll")," "),n(2),c("formGroup",r.filterForm),n(5),f(" ",l(90,112,"unitLevelOrderHistory.buyer")," "),n(2),x("aria-label",l(92,114,"unitLevelOrderHistory.filterByBuyerAriaLabel")),n(2),W("dirty",!!C.value),n(),T("placeholder",l(96,116,"unitLevelOrderHistory.filterByBuyerPlaceholder")),x("aria-label",l(97,118,"unitLevelOrderHistory.filterByBuyerPlaceholder")),n(4),x("aria-label",l(99,120,"common.reset")),n(2),c("type",r.iconTypes.RESET),n(2),c("type",r.iconTypes.SEARCH),n(3),f(" ",l(106,122,"unitLevelOrderHistory.unit")," "),n(2),x("aria-label",l(108,124,"unitLevelOrderHistory.filterByUnitAriaLabel")),n(2),W("dirty",!!me.value),n(),T("placeholder",l(112,126,"unitLevelOrderHistory.filterByUnitPlaceholder")),x("aria-label",l(113,128,"unitLevelOrderHistory.filterByUnitPlaceholder")),n(4),x("aria-label",l(115,130,"common.reset")),n(2),c("type",r.iconTypes.RESET),n(2),c("type",r.iconTypes.SEARCH),n(3),f(" ",l(122,132,"unitLevelOrderHistory.clearAll")," "),n(3),f(" ",l(125,134,"unitLevelOrderHistory.search")," "),n(4),c("type",r.iconTypes.FILTER),n(),f(" ",l(130,136,"unitLevelOrderHistory.filterBy")," "),n(2),c("ngIf",r.buyerFilterMobileValue||r.unitFilterMobileValue)}},dependencies:[le,ft,mt,vt,yt,_t,ht,xt,Oe],encapsulation:2})}}return t})(),Di=(()=>{class t{constructor(e,i,r){this.routing=e,this.unitOrdersFacade=i,this.translation=r,this.PAGE_SIZE=5,this.queryParams={currentPage:0,sortCode:"",filters:""},this.orders$=this.unitOrdersFacade.getOrderHistoryList(this.PAGE_SIZE).pipe(Y(s=>{s?.pagination?.sort&&(this.sortType=s.pagination.sort,this.queryParams.sortCode=this.sortType)})),this.isLoaded$=this.unitOrdersFacade.getOrderHistoryListLoaded()}ngOnDestroy(){this.unitOrdersFacade.clearOrderList()}filterChange(e){this.updateQueryParams(Re(Ve({},e),{currentPage:0})),this.fetchOrders(this.queryParams)}updateQueryParams(e){Object.entries(e).forEach(i=>this.queryParams[i[0]]=i[1])}changeSortCode(e){this.updateQueryParams({sortCode:e,currentPage:0}),this.sortType=e,this.fetchOrders(this.queryParams)}pageChange(e){this.updateQueryParams({currentPage:e}),this.fetchOrders(this.queryParams)}goToOrderDetail(e){this.routing.go({cxRoute:"unitLevelOrderDetail",params:e})}getSortLabels(){return k([this.translation.translate("sorting.date"),this.translation.translate("sorting.orderNumber"),this.translation.translate("unitLevelOrderHistorySorting.orgUnit"),this.translation.translate("unitLevelOrderHistorySorting.buyer"),this.translation.translate("unitLevelOrderHistorySorting.orgUnitDesc"),this.translation.translate("unitLevelOrderHistorySorting.buyerDesc")]).pipe(g(([e,i,r,s,m,C])=>({byDate:e,byOrderNumber:i,byOrgUnit:r,byBuyer:s,byOrgUnitDesc:m,byBuyerDesc:C})))}fetchOrders(e){this.unitOrdersFacade.loadOrderList(this.PAGE_SIZE,e.currentPage,e.filters,e.sortCode)}static{this.\u0275fac=function(i){return new(i||t)(R(Q),R(ee),R(he))}}static{this.\u0275cmp=oe({type:t,selectors:[["cx-unit-level-order-history"]],decls:2,vars:5,consts:[["noOrder",""],[4,"ngIf"],[3,"filterListEvent"],[1,"cx-unit-level-order-history-body"],[4,"ngIf","ngIfElse"],[1,"cx-unit-level-order-history-sort","top"],[1,"cx-unit-level-order-history-form-group","form-group"],["ariaControls","order-history-table",3,"sortListEvent","sortOptions","sortLabels","selectedOption","placeholder","ariaLabel"],[1,"cx-unit-level-order-history-total-result"],[3,"pagination"],["class","cx-unit-level-order-history-pagination",4,"ngIf"],["id","order-history-table",1,"table","cx-unit-level-order-history-table"],[1,"cx-unit-level-order-history-thead-mobile"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[1,"cx-unit-level-order-history-sort","bottom"],[1,"cx-unit-level-order-history-pagination"],[3,"viewPageEvent","pagination"],[3,"click"],[1,"cx-unit-level-order-history-code"],[1,"cx-unit-level-order-history-label"],[1,"cx-unit-level-order-history-value",3,"routerLink"],[1,"cx-unit-level-order-history-placed"],[1,"cx-unit-level-order-history-status"],[1,"cx-unit-level-order-history-buyer"],[1,"text-ellipsis"],[1,"cx-unit-level-order-history-unit"],[1,"cx-unit-level-order-history-total"],["class","cx-unit-level-order-history-no-order",4,"ngIf"],[1,"cx-unit-level-order-history-no-order"],["routerLinkActive","active",1,"btn","btn-primary","btn-block",3,"routerLink"]],template:function(i,r){i&1&&(S(0,Fi,2,1,"ng-container",1),o(1,"async")),i&2&&c("ngIf",V(3,hi,l(1,1,r.orders$)))},dependencies:[ze,le,et,tt,St,Et,Ft,Mi,ye,pt,Oe,ge],encapsulation:2,changeDetection:0})}}return t})(),Hi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({imports:[N,be,ce,bt]})}}return t})(),Vi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({providers:[J({cmsComponents:{UnitLevelOrderHistoryComponent:{component:Di,guards:[K,ie]}}})],imports:[N,fe,be,gt,It,ut,ce,Hi]})}}return t})(),ue=(()=>{class t{constructor(e,i){this.unitOrderFacade=e,this.routingService=i,this.orderCode$=this.routingService.getRouterState().pipe(g(r=>r.state.params.orderCode),Ne()),this.orderLoad$=this.orderCode$.pipe(Y(r=>{r?this.unitOrderFacade.loadOrderDetails(r):this.unitOrderFacade.clearOrderDetails()}),ke({bufferSize:1,refCount:!0}))}getOrderDetails(){return this.orderLoad$.pipe(Z(()=>this.unitOrderFacade.getOrderDetails()))}static{this.\u0275fac=function(i){return new(i||t)(b(ee),b(Q))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ri=(()=>{class t{constructor(e,i){this.translation=e,this.unitLevelOrderDetailsService=i}ngOnInit(){this.order$=this.unitLevelOrderDetailsService.getOrderDetails()}getOrderCodeCardContent(e){return this.translation.translate("orderDetails.orderNumber").pipe(L(()=>!!e),g(i=>({title:i,text:[e]})))}getOrderCurrentDateCardContent(e){return this.translation.translate("orderDetails.placedOn").pipe(L(()=>!!e),g(i=>({title:i,text:[e]})))}getOrderStatusCardContent(e){return k([this.translation.translate("orderDetails.status"),e?this.translation.translate("orderDetails.statusDisplay_"+e):z("")]).pipe(L(()=>!!e),g(([i,r])=>({title:i,text:[r]})))}getPurchaseOrderNumber(e){return k([this.translation.translate("orderDetails.purchaseOrderNumber"),this.translation.translate("orderDetails.emptyPurchaseOrderId")]).pipe(L(()=>!!e),g(([i,r])=>({title:i,text:[e||r]})))}getMethodOfPaymentCardContent(e){return k([this.translation.translate("orderDetails.methodOfPayment"),this.translation.translate("paymentTypes.paymentType_ACCOUNT"),this.translation.translate("paymentTypes.paymentType_CARD")]).pipe(L(()=>!!e),g(([i,r,s])=>({title:i,text:[e?s:r]})))}getCostCenterCardContent(e){return this.translation.translate("orderDetails.costCenter").pipe(L(()=>!!e),g(i=>({title:i,textBold:e?.name,text:[`(${e?.unit?.name})`]})))}getAddressCardContent(e){return this.translation.translate("addressCard.shipTo").pipe(L(()=>!!e),g(i=>{let r=this.normalizeFormattedAddress(e?.formattedAddress??"");return{title:i,textBold:`${e?.firstName} ${e?.lastName}`,text:[r,e?.country?.name]}}))}getDeliveryModeCardContent(e){return this.translation.translate("orderDetails.shippingMethod").pipe(L(()=>!!e),g(i=>({title:i,textBold:e?.name,text:[e?.description,e?.deliveryCost?.formattedValue?e.deliveryCost?.formattedValue:""]})))}getPaymentInfoCardContent(e){return k([this.translation.translate("paymentForm.payment"),this.translation.translate("paymentCard.expires",{month:e?e.expiryMonth:"",year:e?e.expiryYear:""})]).pipe(L(()=>!!e),g(([i,r])=>({title:i,textBold:e?.accountHolderName,text:[e?.cardNumber,r]})))}getBillingAddressCardContent(e){return this.translation.translate("paymentForm.billingAddress").pipe(L(()=>!!e),g(i=>({title:i,textBold:`${e?.firstName} ${e?.lastName}`,text:[e?.formattedAddress,e?.country?.name]})))}getBuyerNameCardContent(e){return this.translation.translate("unitLevelOrderDetails.buyer").pipe(L(()=>!!e),g(i=>({title:i,text:[e?.name,`(${e?.email})`]})))}getUnitNameCardContent(e){return this.translation.translate("orderDetails.unit").pipe(L(()=>!!e),g(i=>({title:i,text:[e]})))}normalizeFormattedAddress(e){return e.split(",").map(r=>r.trim()).filter(Boolean).join(", ")}static{this.\u0275fac=function(i){return new(i||t)(R(he),R(ue))}}static{this.\u0275cmp=oe({type:t,selectors:[["cx-unit-level-order-overview"]],decls:2,vars:3,consts:[["class","cx-order-summary",4,"ngIf"],[1,"cx-order-summary"],[1,"container"],[1,"cx-summary-card"],[3,"content"],[1,"cx-display-inline",3,"content"],[4,"ngIf"]],template:function(i,r){i&1&&(S(0,wi,24,27,"div",0),o(1,"async")),i&2&&c("ngIf",l(1,1,r.order$))},dependencies:[le,Ct,ye,ge],encapsulation:2,changeDetection:0})}}return t})(),Ni=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({imports:[N,ce,Lt]})}}return t})(),ki=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({providers:[J({cmsComponents:{UnitLevelOrderDetailsOverviewComponent:{component:Ri,guards:[K,ie]},UnitLevelOrderDetailsItemsComponent:{component:wt,guards:[K,ie],providers:[{provide:Le,useExisting:ue}]},UnitLevelOrderDetailsTotalsComponent:{component:Mt,guards:[K,ie],providers:[{provide:Le,useExisting:ue}]}}})],imports:[N,Ni]})}}return t})(),Ai=(()=>{class t{constructor(e){this.unitLevelOrderDetailService=e,this.type=Tt.UNIT_ORDER_DETAILS}getEntries(){return this.unitLevelOrderDetailService.getOrderDetails().pipe(g(e=>e?.entries??[]))}static{this.\u0275fac=function(i){return new(i||t)(b(ue))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({providers:[{provide:Ht,useExisting:Ai}],imports:[fe,Vi,ki]})}}return t})();var Pi=(()=>{class t{constructor(e,i,r){this.http=e,this.occEndpoints=i,this.converter=r}loadUnitOrderHistory(e,i,r,s,m){let C={};i&&(C.pageSize=i.toString()),r&&(C.currentPage=r.toString()),s&&(C.filters=s.toString()),m&&(C.sort=m.toString());let me=this.occEndpoints.buildUrl("unitLevelOrderHistory",{urlParams:{userId:e},queryParams:C});return this.http.get(me).pipe(this.converter.pipeable(Bt))}loadUnitOrderDetail(e,i){let r=this.occEndpoints.buildUrl("unitLevelOrderDetail",{urlParams:{userId:e,orderId:i}});return this.http.get(r).pipe(this.converter.pipeable(Ce))}static{this.\u0275fac=function(i){return new(i||t)(b(Ze),b(at),b(st))}}static{this.\u0275prov=U({token:t,factory:t.\u0275fac})}}return t})(),ji={backend:{occ:{endpoints:{unitLevelOrderHistory:"/orgUsers/${userId}/orgUnits/orders",unitLevelOrderDetail:"orgUsers/${userId}/orgUnits/orders/${orderId}?fields=FULL"}}}},Yt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({providers:[J(ji),{provide:te,useClass:Pi},{provide:Ce,useExisting:Dt,multi:!0}],imports:[N]})}}return t})();var kr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=I({type:t})}static{this.\u0275inj=F({imports:[zt.forRoot(),Yt,Zt]})}}return t})();export{kr as UnitOrderModule};
