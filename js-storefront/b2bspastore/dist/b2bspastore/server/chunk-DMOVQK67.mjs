import './polyfills.server.mjs';
import{b as x}from"./chunk-Y7OBLV2W.mjs";import{$ as ct,Y as it,_ as rt}from"./chunk-EKK5QDHO.mjs";import{$ as J,Ac as nt,Ha as tt,J as C,Ta as et,Ua as E,X as G,ka as Q,oa as X,zc as ot}from"./chunk-H5UHAHI5.mjs";import{$a as U,$b as _,$d as W,Ca as w,Ed as H,Fa as d,Ga as i,Ia as y,Jc as l,Ka as r,Kc as m,La as N,Md as g,Oc as z,Pb as p,Qb as P,Ra as b,Rb as a,S as M,Sa as c,Xb as k,Yb as h,Zb as $,_a as A,_b as v,bc as K,dc as B,ec as f,pc as Y,q as O,qc as F,sc as I,uc as Z,wb as u,xa as R,xb as L,yd as V,zd as q}from"./chunk-TXWRNZDJ.mjs";import{a as j}from"./chunk-GHFNAT2I.mjs";function St(t,s){if(t&1&&(k(0,"div",6),F(1),l(2,"cxTranslate"),h()),t&2){let e=s.$implicit;u(),Z(" ",e.formattedDate," - ",m(2,3,"futureStockDropdown.quantity")," ",e.stock.stockLevel," ")}}function kt(t,s){if(t&1&&(v(0),p(1,St,3,5,"div",5),_()),t&2){let e=f(2).ngIf;u(),a("ngForOf",e.futureStocks)}}function ht(t,s){t&1&&(k(0,"div",6),F(1),l(2,"cxTranslate"),h()),t&2&&(u(),I(" ",m(2,1,"futureStockDropdown.noFutureStocks")," "))}function vt(t,s){if(t&1&&(v(0),p(1,kt,2,1,"ng-container",4)(2,ht,3,3,"ng-template",null,0,z),_()),t&2){let e=Y(3),o=f().ngIf;u(),a("ngIf",o==null||o.futureStocks==null?null:o.futureStocks.length)("ngIfElse",e)}}function _t(t,s){if(t&1){let e=K();v(0),k(1,"button",2),B("click",function(){A(e);let n=f();return U(n.toggle())}),F(2),l(3,"cxTranslate"),$(4,"cx-icon",3),h(),p(5,vt,4,2,"ng-container",1),_()}if(t&2){let e=f();u(),P("aria-expanded",e.expanded),u(),I(" ",m(3,4,"futureStockDropdown.header")," "),u(2),a("type",e.expanded?e.iconType.CARET_UP:e.iconType.CARET_DOWN),u(),a("ngIf",e.expanded)}}var Ft=(()=>{class t{constructor(e){this.futureStockService=e,this.futureStocks$=this.futureStockService.getFutureStock(),this.expanded=!1,this.iconType=it}toggle(){this.expanded=!this.expanded}static{this.\u0275fac=function(o){return new(o||t)(L(x))}}static{this.\u0275cmp=b({type:t,selectors:[["cx-future-stock-accordion"]],decls:2,vars:3,consts:[["noStocks",""],[4,"ngIf"],["id","cx-future-stock-accordion-header","aria-controls","cx-future-stock-accordion-content",1,"cx-future-stock-accordion-header",3,"click"],["aria-hidden","true",3,"type"],[4,"ngIf","ngIfElse"],["id","cx-future-stock-accordion-content","class","cx-future-stock-accordion-content","aria-labelledby","cx-future-stock-accordion-header",4,"ngFor","ngForOf"],["id","cx-future-stock-accordion-content","aria-labelledby","cx-future-stock-accordion-header",1,"cx-future-stock-accordion-content"]],template:function(o,n){o&1&&(p(0,_t,6,6,"ng-container",1),l(1,"async")),o&2&&a("ngIf",m(1,1,n.futureStocks$))},dependencies:[V,q,rt,H,ot],encapsulation:2})}}return t})(),Ct=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=i({providers:[C({cmsComponents:{FutureStockComponent:{component:Ft}}})],imports:[g,nt,ct]})}}return t})(),at=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=i({imports:[g,Ct]})}}return t})();var S=class{},dt=(()=>{class t{constructor(e){this.adapter=e}getFutureStock(e,o){return this.adapter.getFutureStock(e,o)}getFutureStocks(e,o){return this.adapter.getFutureStocks(e,o)}static{this.\u0275fac=function(o){return new(o||t)(r(S))}}static{this.\u0275prov=d({token:t,factory:t.\u0275fac})}}return t})(),pt=new y("FutureStockNormalizer"),ft=new y("FutureStockListNormalizer"),st=(()=>{class t{getFutureStock(){return this.futureStockState$}constructor(e,o,n){this.userIdService=e,this.futureStockConnector=o,this.routingService=n,this.PRODUCT_KEY="productCode",this.futureStockState$=this.routingService.getRouterState().pipe(w(this.userIdService.takeUserId()),R(([{state:gt},D])=>D!==G?this.futureStockConnector.getFutureStock(D,gt.params[this.PRODUCT_KEY]):O(void 0)))}static{this.\u0275fac=function(o){return new(o||t)(r(J),r(dt),r(X))}}static{this.\u0275prov=d({token:t,factory:t.\u0275fac})}}return t})(),xt=[st,{provide:x,useExisting:st}],lt=(()=>{class t{static forRoot(){return{ngModule:t}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=i({providers:[...xt,dt]})}}return t})();var Mt=(()=>{class t{constructor(e,o,n){this.http=e,this.occEndpoints=o,this.converter=n,this.logger=N(Q)}getFutureStock(e,o){return this.http.get(this.getFutureStockEndpoint(e,o)).pipe(M(n=>{throw E(n,this.logger)}),this.converter.pipeable(pt))}getFutureStocks(e,o){return this.http.get(this.getFutureStocksEndpoint(e,o)).pipe(M(n=>{throw E(n,this.logger)}),this.converter.pipeable(ft))}getFutureStockEndpoint(e,o){return this.occEndpoints.buildUrl("futureStock",{urlParams:{userId:e,productCode:o}})}getFutureStocksEndpoint(e,o){let n={};return n.productCodes=o,this.occEndpoints.buildUrl("futureStocks",{urlParams:{userId:e},queryParams:n})}static{this.\u0275fac=function(o){return new(o||t)(r(W),r(tt),r(et))}}static{this.\u0275prov=d({token:t,factory:t.\u0275fac})}}return t})(),yt={futureStock:"users/${userId}/futureStocks/${productCode}",futureStocks:"users/${userId}/futureStocks"},It={backend:{occ:{endpoints:j({},yt)}}},mt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=i({providers:[C(It),{provide:S,useClass:Mt}],imports:[g]})}}return t})();var ee=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=i({imports:[lt.forRoot(),mt,at]})}}return t})();export{ee as FutureStockModule};
