import './polyfills.server.mjs';
import{a as De}from"./chunk-2Q4BRH7L.mjs";import{c as Gr}from"./chunk-LZ45RK54.mjs";import{b as kr}from"./chunk-YZJYNVE5.mjs";import{$ as mi,A as jc,Ca as zc,D as Bn,Da as Ot,E as It,Ea as qc,F as $c,Fa as wt,G as Mt,Ga as Kc,H as Et,I as Vc,Ja as Hc,Ka as Zc,L as ze,M as $e,O as Lr,Pb as qe,S as di,Wa as Mr,Xa as Fr,Y as Wi,_ as ui,a as Br,ab as Yc,b as Pt,bb as Li,c as Q,cb as Or,d as dt,e as ut,g as Ue,h as Tr,j as $,k as Nc,l as Dn,m as Pr,nb as Mi,ob as wr,p as Ct,pb as Nr,q as Rn,qb as Te,r as Gc,s as Ut,ta as Ft,w as kc,wa as Tn,wc as Qc,x as Lt}from"./chunk-EKK5QDHO.mjs";import{$ as $t,A as se,Ac as Y,Bb as St,Cb as pt,Db as li,Gb as lt,Ha as ci,Hb as Ti,Ib as yn,J as Tt,Jb as Mc,K as si,Kb as yr,L as Bc,Lb as Fc,Q as je,R as Tc,Sb as Pi,Ta as et,Tb as bn,Ub as Oc,V as u,Vb as br,_ as Er,_c as Rr,e as ii,ec as Ar,f as ni,fc as xt,gc as zt,h as k,hb as Yi,i as Ac,ib as w,ic as wc,j as Dc,ka as ai,lc as he,m as M,ma as In,mc as Ce,n as ri,o as F,oa as fe,p as Rc,pb as Ve,qa as Vt,qb as En,ra as Pc,tb as pi,tc as Dr,uc as Qi,v as Ur,wc as An,x as Ir,xa as Lc,y as V,z as oi,zc as N}from"./chunk-H5UHAHI5.mjs";import{$a as le,$b as ue,$c as Cr,$d as ti,Aa as q,Bc as oe,C as vr,Ca as Cn,Cc as b,Db as _c,Dc as Qe,Dd as _t,Ed as ce,Fa as I,Ga as B,Ia as be,Ib as Sc,Jc as c,Ka as f,Kb as Ae,Kc as p,L as j,La as _e,Lc as Bt,Md as H,N as Xt,Oc as Se,Od as bc,Pb as v,Q as Jt,Qb as at,Ra as R,Rb as s,S as O,Sa as T,Sb as xc,Ta as Un,Tb as ve,Vb as Sr,X as Je,Xb as d,Yb as l,Zb as _,_a as pe,_b as de,a as Hi,ab as ee,ac as ct,bc as ge,ca as Nt,cb as hc,dc as W,ec as g,f as hr,fb as vc,fc as Ai,g as Zi,gc as vt,h as mc,hc as te,ia as st,j as Re,ja as Gt,jc as xr,kb as _r,kc as Cc,l as Wt,mc as Di,na as fc,nc as Ri,o as Be,oc as Bi,p as ae,pc as X,q as re,qc as m,rc as U,sc as x,ta as xn,tc as jt,uc as Uc,wa as kt,wb as o,wc as Ic,x as C,xa as E,xb as A,xc as Ec,y as gc,yc,yd as ei,z as Ie,zc as Z,zd as K}from"./chunk-TXWRNZDJ.mjs";import{a as L,b as ke,d as fr}from"./chunk-GHFNAT2I.mjs";var Xi=class{},ep=(()=>{class t{constructor(e){this.adapter=e}get(e,i){return this.adapter.load(e,i)}create(e,i){return this.adapter.create(e,i)}update(e,i,n){return this.adapter.update(e,i,n)}getList(e,i){return this.adapter.loadList(e,i)}getApprovers(e,i,n){return this.adapter.loadApprovers(e,i,n)}assignApprover(e,i,n){return this.adapter.assignApprover(e,i,n)}unassignApprover(e,i,n){return this.adapter.unassignApprover(e,i,n)}getPermissions(e,i,n){return this.adapter.loadPermissions(e,i,n)}assignPermission(e,i,n){return this.adapter.assignPermission(e,i,n)}unassignPermission(e,i,n){return this.adapter.unassignPermission(e,i,n)}getUserGroups(e,i,n){return this.adapter.loadUserGroups(e,i,n)}assignUserGroup(e,i,n){return this.adapter.assignUserGroup(e,i,n)}unassignUserGroup(e,i,n){return this.adapter.unassignUserGroup(e,i,n)}static{this.\u0275fac=function(i){return new(i||t)(f(Xi))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ji=class{},tp=(()=>{class t{constructor(e){this.adapter=e}get(e,i){return this.adapter.load(e,i)}getList(e,i){return this.adapter.loadList(e,i)}create(e,i){return this.adapter.create(e,i)}update(e,i,n){return this.adapter.update(e,i,n)}static{this.\u0275fac=function(i){return new(i||t)(f(Ji))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),en=class{},ip=(()=>{class t{constructor(e){this.adapter=e}get(e,i){return this.adapter.load(e,i)}getList(e,i){return this.adapter.loadList(e,i)}create(e,i){return this.adapter.create(e,i)}update(e,i,n){return this.adapter.update(e,i,n)}getBudgets(e,i,n){return this.adapter.loadBudgets(e,i,n)}assignBudget(e,i,n){return this.adapter.assignBudget(e,i,n)}unassignBudget(e,i,n){return this.adapter.unassignBudget(e,i,n)}static{this.\u0275fac=function(i){return new(i||t)(f(en))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tn=class{},np=(()=>{class t{constructor(e){this.adapter=e}get(e,i){return this.adapter.load(e,i)}create(e,i){return this.adapter.create(e,i)}update(e,i,n){return this.adapter.update(e,i,n)}getList(e){return this.adapter.loadList(e)}getApprovalProcesses(e){return this.adapter.loadApprovalProcesses(e)}getTree(e){return this.adapter.loadTree(e)}getUsers(e,i,n,a){return this.adapter.loadUsers(e,i,n,a)}assignRole(e,i,n){return this.adapter.assignRole(e,i,n)}unassignRole(e,i,n){return this.adapter.unassignRole(e,i,n)}assignApprover(e,i,n,a){return this.adapter.assignApprover(e,i,n,a)}unassignApprover(e,i,n,a){return this.adapter.unassignApprover(e,i,n,a)}getAddresses(e,i){return this.adapter.loadAddresses(e,i)}createAddress(e,i,n){return this.adapter.createAddress(e,i,n)}updateAddress(e,i,n,a){return this.adapter.updateAddress(e,i,n,a)}deleteAddress(e,i,n){return this.adapter.deleteAddress(e,i,n)}static{this.\u0275fac=function(i){return new(i||t)(f(tn))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nn=class{},rp=(()=>{class t{constructor(e){this.adapter=e}get(e,i){return this.adapter.load(e,i)}getList(e,i){return this.adapter.loadList(e,i)}create(e,i){return this.adapter.create(e,i)}update(e,i,n){return this.adapter.update(e,i,n)}getTypes(){return this.adapter.loadTypes()}static{this.\u0275fac=function(i){return new(i||t)(f(nn))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rn=class{},op=(()=>{class t{constructor(e){this.adapter=e}get(e,i){return this.adapter.load(e,i)}getList(e,i){return this.adapter.loadList(e,i)}getAvailableOrderApprovalPermissions(e,i,n){return this.adapter.loadAvailableOrderApprovalPermissions(e,i,n)}getAvailableOrgCustomers(e,i,n){return this.adapter.loadAvailableOrgCustomers(e,i,n)}create(e,i){return this.adapter.create(e,i)}delete(e,i){return this.adapter.delete(e,i)}update(e,i,n){return this.adapter.update(e,i,n)}assignMember(e,i,n){return this.adapter.assignMember(e,i,n)}assignOrderApprovalPermission(e,i,n){return this.adapter.assignOrderApprovalPermission(e,i,n)}unassignMember(e,i,n){return this.adapter.unassignMember(e,i,n)}unassignAllMembers(e,i){return this.adapter.unassignAllMembers(e,i)}unassignOrderApprovalPermission(e,i,n){return this.adapter.unassignOrderApprovalPermission(e,i,n)}static{this.\u0275fac=function(i){return new(i||t)(f(rn))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qt=(()=>{class t{constructor(e,i,n){this.userAccountFacade=e,this.routingService=i,this.globalMessageService=n}canActivate(){return this.userAccountFacade.get().pipe(j(e=>!!e&&Object.keys(e).length>0),C(e=>e?.roles),C(e=>{let i=Array.isArray(e)&&e.includes(je.ADMIN);return i||(this.routingService.go({cxRoute:"organization"}),this.globalMessageService.add({key:"organization.notification.noSufficientPermissions"},Ve.MSG_TYPE_WARNING)),i}))}static{this.\u0275fac=function(i){return new(i||t)(f(Gr),f(fe),f(En))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),sp="organization",ap="budget",Oe="budget-entities",On="budget-list",cp="costCenter",yt="costCenter-entities",wn="costCenter-list",Nn="costCenter-assigned-budgets",pp="permission",Ee="permission-entities",Gn="permission-list",kn="permission-types",jn="permission-types-list",lp="orgUnit";var $n="orgUnitNode-list",bt="orgUnit-entities",Vn="orgUnit-tree",zn="orgUnit-approval-processes",cn="orgUnit-assigned-users",qn="tree",Kn="approvalProcesses",Hn="availableOrgUnitNodes",dp="b2bUser",ie="b2bUser-entities",Zn="b2bUser-list",Yn="b2bUser-approvers",Qn="b2bUser-permissions",Wn="b2bUser-user-groups",wa="userGroup",ye="userGroup-entities",Xn="userGroup-list",Jn="userGroup-available-order-approval-permissions",er="userGroup-available-org-customers",gt="addresses-entities",tr="addresses-list",up="[Budget] Load Budget Data",ou="[Budget] Load Budget Data Fail",mp="[Budget] Load Budget Data Success",gp="[Budget] Load Budgets",su="[Budget] Load Budgets Fail",fp="[Budget] Load Budgets Success",hp="[Budget] Create Budget",au="[Budget] Create Budget Fail",vp="[Budget] Create Budget Success",_p="[Budget] Update Budget",cu="[Budget] Update Budget Fail",Sp="[Budget] Update Budget Success",jr=class extends u.EntityLoadAction{constructor(r){super(Oe,r.budgetCode),this.payload=r,this.type=up}},$r=class extends u.EntityFailAction{constructor(r){super(Oe,r.budgetCode,r.error),this.payload=r,this.type=ou}},on=class extends u.EntitySuccessAction{constructor(r){super(Oe,Array.isArray(r)?r.map(e=>e?.code??""):r?.code??""),this.payload=r,this.type=mp}},Vr=class extends u.EntityLoadAction{constructor(r){super(On,u.serializeSearchConfig(r.params)),this.payload=r,this.type=gp}},zr=class extends u.EntityFailAction{constructor(r){super(On,u.serializeSearchConfig(r.params),r.error),this.payload=r,this.type=su}},qr=class extends u.EntitySuccessAction{constructor(r){super(On,u.serializeSearchConfig(r.params)),this.payload=r,this.type=fp}},Kr=class extends u.EntityLoadAction{constructor(r){super(Oe,r.budget.code??null),this.payload=r,this.type=hp}},Hr=class extends u.EntityFailAction{constructor(r){super(Oe,r.budgetCode,r.error),this.payload=r,this.type=au}},Zr=class extends u.EntitySuccessAction{constructor(r){super(Oe,r.code??null,r),this.payload=r,this.type=vp}},Yr=class extends u.EntityLoadAction{constructor(r){super(Oe,r.budget.code??""),this.payload=r,this.type=_p}},Qr=class extends u.EntityFailAction{constructor(r){super(Oe,r.budgetCode,r.error),this.payload=r,this.type=cu}},Wr=class extends u.EntitySuccessAction{constructor(r){super(Oe,r.code??"",r),this.payload=r,this.type=Sp}};var xp="[B2BUnit] Load B2BUnit Data",pu="[B2BUnit] Load B2BUnit Data Fail",Cp="[B2BUnit] Load B2BUnit Data Success";var Up="[B2BUnitNode] Load B2BUnitNodes",lu="[B2BUnitNode] Load B2BUnitNodes Fail",du="[B2BUnitNode] Load B2BUnitNodes Success",Ip="[B2BUnit] Create B2BUnitNode",uu="[B2BUnit] Create B2BUnitNode Fail",Ep="[B2BUnit] Create B2BUnitNode Success",yp="[B2BUnit] Update B2BUnitNode",mu="[B2BUnit] Update B2BUnitNode Fail",bp="[B2BUnit] Update B2BUnitNode Success",Ap="[B2BUnitNode] Load Tree",gu="[B2BUnitNode] Load Tree Fail",fu="[B2BUnitNode] Load Tree Success",Dp="[B2BApprovalProcess] Load Approval Processes",hu="[B2BApprovalProcess] Load Approval Processes Fail",vu="[B2BApprovalProcess] Load Approval Processes Success",Rp="[B2BUnit] Load Users",Bp="[B2BUnit] Load Users success",_u="[B2BUnit] Load Users fail",Tp="[B2BUnit] Assign Role",Pp="[B2BUnit] Assign Role success",Su="[B2BUnit] Assign Role fail",Lp="[B2BUnit] Unassign Role",Mp="[B2BUnit] Unassign Role success",xu="[B2BUnit] Unassign Role fail",Fp="[B2BUnit] Assign Approver",Op="[B2BUnit] Assign Approver success",Cu="[B2BUnit] Assign Approver fail",wp="[B2BUnit] Unassign Approver",Np="[B2BUnit] Unassign Approver success",Uu="[B2BUnit] Unassign Approver fail",Gp="[B2BUnit] Create address",Iu="[B2BUnit] Create address success",Eu="[B2BUnit] Create address fail",kp="[B2BUnit] Update address",yu="[B2BUnit] Update address success",bu="[B2BUnit] Update address fail",jp="[B2BUnit] Delete address",Au="[B2BUnit] Delete address success",Du="[B2BUnit] Delete address fail",Ru="[B2BUnit] Load address success",Bu="[B2BUnit] Load addresses",$p="[B2BUnit] Load addresses success",Tu="[B2BUnit] Load addresses fail",Pu="[B2BUnit] Clear Assigned Users",Pn=class extends u.EntityLoadAction{constructor(r){super(bt,r.orgUnitId),this.payload=r,this.type=xp}},Xr=class extends u.EntityFailAction{constructor(r){super(bt,r.orgUnitId,r.error),this.payload=r,this.type=pu}},Jr=class extends u.EntitySuccessAction{constructor(r){super(bt,Array.isArray(r)?r.map(e=>e?.uid??""):r?.uid??""),this.payload=r,this.type=Cp}},eo=class extends u.EntityLoadAction{constructor(r){super($n,Hn),this.payload=r,this.type=Up}},to=class extends u.EntityFailAction{constructor(r){super($n,Hn,r.error),this.payload=r,this.type=lu}},io=class extends u.EntitySuccessAction{constructor(r){super($n,Hn),this.payload=r,this.type=du}},no=class extends u.EntityLoadAction{constructor(r){super(bt,r.unit.uid??null),this.payload=r,this.type=Ip}},ro=class extends u.EntityFailAction{constructor(r){super(bt,r.unitCode,r.error),this.payload=r,this.type=uu}},oo=class extends u.EntitySuccessAction{constructor(r){super(bt,r.uid??null,r),this.payload=r,this.type=Ep}},so=class extends u.EntityLoadAction{constructor(r){super(bt,r.unit.uid??""),this.payload=r,this.type=yp}},ao=class extends u.EntityFailAction{constructor(r){super(bt,r.unitCode,r.error),this.payload=r,this.type=mu}},co=class extends u.EntitySuccessAction{constructor(r){super(bt,r.uid??"",r),this.payload=r,this.type=bp}},po=class extends u.EntityLoadAction{constructor(r){super(Vn,qn),this.payload=r,this.type=Ap}},lo=class extends u.EntityFailAction{constructor(r){super(Vn,qn,r.error),this.payload=r,this.type=gu}},uo=class extends u.EntitySuccessAction{constructor(r){super(Vn,qn),this.payload=r,this.type=fu}},mo=class extends u.EntityLoadAction{constructor(r){super(zn,Kn),this.payload=r,this.type=Dp}},go=class extends u.EntityFailAction{constructor(r){super(zn,Kn,r.error),this.payload=r,this.type=hu}},fo=class extends u.EntitySuccessAction{constructor(r){super(zn,Kn),this.payload=r,this.type=vu}},ho=class extends u.EntityLoadAction{constructor(r){super(cn,u.serializeSearchConfig(r.params,`${r.orgUnitId},${r.roleId}`)),this.payload=r,this.type=Rp}},vo=class extends u.EntityRemoveAction{constructor(r){super(cn,u.serializeSearchConfig(r.params,`${r.orgUnitId},${r.roleId}`)),this.payload=r,this.type=Pu}},_o=class extends u.EntityFailAction{constructor(r){super(cn,u.serializeSearchConfig(r.params,`${r.orgUnitId},${r.roleId}`),r.error),this.payload=r,this.type=_u}},So=class extends u.EntitySuccessAction{constructor(r){super(cn,u.serializeSearchConfig(r.params,`${r.orgUnitId},${r.roleId}`)),this.payload=r,this.type=Bp}},xo=class extends u.EntityLoadAction{constructor(r){super(ie,r.orgCustomerId),this.payload=r,this.type=Tp}},Co=class extends u.EntityFailAction{constructor(r){super(ie,r.orgCustomerId,r.error),this.payload=r,this.type=Su}},Uo=class extends u.EntitySuccessAction{constructor(r){super(ie,r.uid,r),this.payload=r,this.type=Pp}},Io=class extends u.EntityLoadAction{constructor(r){super(ie,r.orgCustomerId),this.payload=r,this.type=Lp}},Eo=class extends u.EntityFailAction{constructor(r){super(ie,r.orgCustomerId,r.error),this.payload=r,this.type=xu}},yo=class extends u.EntitySuccessAction{constructor(r){super(ie,r.uid,r),this.payload=r,this.type=Mp}},sn=class extends u.EntityLoadAction{constructor(r){super(ie,r.orgCustomerId),this.payload=r,this.type=Fp}},bo=class extends u.EntityFailAction{constructor(r){super(ie,r.orgCustomerId,r.error),this.payload=r,this.type=Cu}},Ao=class extends u.EntitySuccessAction{constructor(r){super(ie,r.uid,r),this.payload=r,this.type=Op}},Do=class extends u.EntityLoadAction{constructor(r){super(ie,r.orgCustomerId),this.payload=r,this.type=wp}},Ro=class extends u.EntityFailAction{constructor(r){super(ie,r.orgCustomerId,r.error),this.payload=r,this.type=Uu}},Bo=class extends u.EntitySuccessAction{constructor(r){super(ie,r.uid,r),this.payload=r,this.type=Np}},To=class extends u.EntityLoadAction{constructor(r){super(gt,r.address.id??null),this.payload=r,this.type=Gp}},Po=class extends u.EntityFailAction{constructor(r){super(gt,r.addressId,r.error),this.payload=r,this.type=Eu}},Ln=class extends u.EntitySuccessAction{constructor(r){super(gt,r.id??null,r),this.payload=r,this.type=Iu}},Lo=class extends u.EntityLoadAction{constructor(r){super(gt,r.address.id??""),this.payload=r,this.type=kp}},Mo=class extends u.EntityFailAction{constructor(r){super(gt,r.addressId,r.error),this.payload=r,this.type=bu}},Fo=class extends u.EntitySuccessAction{constructor(r){super(gt,r.id??"",r),this.payload=r,this.type=yu}},Oo=class extends u.EntityLoadAction{constructor(r){super(gt,r.addressId),this.payload=r,this.type=jp}},wo=class extends u.EntityFailAction{constructor(r){super(gt,r.addressId,r.error),this.payload=r,this.type=Du}},No=class extends u.EntityRemoveAction{constructor(r){super(gt,r.id??""),this.payload=r,this.type=Au}},Go=class extends u.EntitySuccessAction{constructor(r){super(gt,Array.isArray(r)?r.map(e=>e?.id??""):r?.id??""),this.payload=r,this.type=Ru}},Wc=class extends u.EntityLoadAction{constructor(r){super(tr,r.orgUnitId),this.payload=r,this.type=Bu}},Xc=class extends u.EntityFailAction{constructor(r){super(tr,r.orgUnitId,r.error),this.payload=r,this.type=Tu}},ko=class extends u.EntitySuccessAction{constructor(r){super(tr,r.orgUnitId),this.payload=r,this.type=$p}};var Vp="[UserGroup] Load UserGroup Data",Lu="[UserGroup] Load UserGroup Data Fail",zp="[UserGroup] Load UserGroup Data Success",qp="[UserGroup] Load UserGroups",Mu="[UserGroup] Load UserGroups Fail",Kp="[UserGroup] Load UserGroups Success",Hp="[UserGroup] Load Permissions Data",Fu="[UserGroup] Load Permissions Data Fail",Zp="[UserGroup] Load Permissions Data Success",Yp="[UserGroup] Load Customers Data",Ou="[UserGroup] Load Customers Data Fail",Qp="[UserGroup] Load Customers Data Success",Wp="[UserGroup] Create UserGroup",wu="[UserGroup] Create UserGroup Fail",Xp="[UserGroup] Create UserGroup Success",Jp="[UserGroup] Assign Member",Nu="[UserGroup] Assign Member Fail",el="[UserGroup] Assign Member Success",tl="[UserGroup] Assign Permissions",Gu="[UserGroup] Assign Permissions Fail",il="[UserGroup] Assign Permissions Success",nl="[UserGroup] Update UserGroup",ku="[UserGroup] Update UserGroup Fail",rl="[UserGroup] Update UserGroup Success",ol="[UserGroup] Delete UserGroup",ju="[UserGroup] Delete UserGroup Fail",$u="[UserGroup] Delete UserGroup Success",sl="[UserGroup] Unassign Members",Vu="[UserGroup] Unassign Members Fail",al="[UserGroup] Unassign Members Success",cl="[UserGroup] Unassign Member",zu="[UserGroup] Unassign Member Fail",pl="[UserGroup] Unassign Member Success",ll="[UserGroup] Unassign Permission",qu="[UserGroup] Unassign Permission Fail",dl="[UserGroup] Unassign Permission Success",jo=class extends u.EntityLoadAction{constructor(r){super(ye,r.userGroupId),this.payload=r,this.type=Vp}},$o=class extends u.EntityFailAction{constructor(r){super(ye,r.userGroupId,r.error),this.payload=r,this.type=Lu}},an=class extends u.EntitySuccessAction{constructor(r){super(ye,Array.isArray(r)?r.map(e=>e?.uid??""):r?.uid??""),this.payload=r,this.type=zp}},Vo=class extends u.EntityLoadAction{constructor(r){super(Xn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=qp}},zo=class extends u.EntityFailAction{constructor(r){super(Xn,u.serializeSearchConfig(r.params),r.error),this.payload=r,this.type=Mu}},qo=class extends u.EntitySuccessAction{constructor(r){super(Xn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=Kp}},Ku=class extends u.EntityLoadAction{constructor(r){super(Jn,u.serializeSearchConfig(r.params,r.userGroupId)),this.payload=r,this.type=Hp}},Hu=class extends u.EntityFailAction{constructor(r){super(Jn,u.serializeSearchConfig(r.params,r.userGroupId),r.error),this.payload=r,this.type=Fu}},Zu=class extends u.EntitySuccessAction{constructor(r){super(Jn,u.serializeSearchConfig(r.params,r.userGroupId)),this.payload=r,this.type=Zp}},Ko=class extends u.EntityLoadAction{constructor(r){super(er,u.serializeSearchConfig(r.params,r.userGroupId)),this.payload=r,this.type=Yp}},Ho=class extends u.EntityFailAction{constructor(r){super(er,u.serializeSearchConfig(r.params,r.userGroupId),r.error),this.payload=r,this.type=Ou}},Zo=class extends u.EntitySuccessAction{constructor(r){super(er,u.serializeSearchConfig(r.params,r.userGroupId)),this.payload=r,this.type=Qp}},Yo=class extends u.EntityLoadAction{constructor(r){super(ye,r.userGroup.uid??null),this.payload=r,this.type=Wp}},Qo=class extends u.EntityFailAction{constructor(r){super(ye,r.userGroupId,r.error),this.payload=r,this.type=wu}},Wo=class extends u.EntitySuccessAction{constructor(r){super(ye,r.uid??null,r),this.payload=r,this.type=Xp}},Xo=class extends u.EntityLoadAction{constructor(r){super(ie,r.customerId),this.payload=r,this.type=Jp}},Jo=class extends u.EntityFailAction{constructor(r){super(ie,r.customerId,r.error),this.payload=r,this.type=Nu}},es=class extends u.EntitySuccessAction{constructor(r){super(ie,r.customerId,r),this.payload=r,this.type=el}},ts=class extends u.EntityLoadAction{constructor(r){super(Ee,r.permissionUid),this.payload=r,this.type=tl}},is=class extends u.EntityFailAction{constructor(r){super(Ee,r.permissionUid,r.error),this.payload=r,this.type=Gu}},ns=class extends u.EntitySuccessAction{constructor(r){super(Ee,r.permissionUid,r),this.payload=r,this.type=il}},rs=class extends u.EntityLoadAction{constructor(r){super(ye,r.userGroup.uid??""),this.payload=r,this.type=nl}},os=class extends u.EntityFailAction{constructor(r){super(ye,r.userGroupId,r.error),this.payload=r,this.type=ku}},ss=class extends u.EntitySuccessAction{constructor(r){super(ye,r.uid??"",r),this.payload=r,this.type=rl}},as=class extends u.EntityLoadAction{constructor(r){super(ye,r.userGroupId),this.payload=r,this.type=ol}},cs=class extends u.EntityFailAction{constructor(r){super(ye,r.userGroupId,r.error),this.payload=r,this.type=ju}},ps=class extends u.EntitySuccessAction{constructor(r){super(ye,r.uid??"",r),this.payload=r,this.type=$u}},ls=class extends u.EntityLoadAction{constructor(r){super(ie,r.customerId),this.payload=r,this.type=cl}},ds=class extends u.EntityFailAction{constructor(r){super(ie,r.customerId,r.error),this.payload=r,this.type=zu}},us=class extends u.EntitySuccessAction{constructor(r){super(ie,r.customerId,r),this.payload=r,this.type=pl}},ms=class extends u.EntityLoadAction{constructor(r){super(ye,r.userGroupId),this.payload=r,this.type=sl}},gs=class extends u.EntityFailAction{constructor(r){super(ye,r.userGroupId,r.error),this.payload=r,this.type=Vu}},fs=class extends u.EntitySuccessAction{constructor(r){super(ye,r.uid??"",r),this.payload=r,this.type=al}},hs=class extends u.EntityLoadAction{constructor(r){super(Ee,r.permissionUid),this.payload=r,this.type=ll}},vs=class extends u.EntityFailAction{constructor(r){super(Ee,r.permissionUid,r.error),this.payload=r,this.type=qu}},_s=class extends u.EntitySuccessAction{constructor(r){super(Ee,r.permissionUid,r),this.payload=r,this.type=dl}};var ul="[Permission] Load Permission Data",Yu="[Permission] Load Permission Data Fail",ml="[Permission] Load Permission Data Success",gl="[Permission] Load Permissions",Qu="[Permission] Load Permissions Fail",fl="[Permission] Load Permissions Success",hl="[Permission] Create Permission",Wu="[Permission] Create Permission Fail",vl="[Permission] Create Permission Success",_l="[Permission] Update Permission",Xu="[Permission] Update Permission Fail",Sl="[Permission] Update Permission Success",xl="[Permission Types] Load Permission Types",Ju="[Permission Types] Load Permission Types Fail",e0="[Permission Types] Load Permission Types Success",Ss=class extends u.EntityLoadAction{constructor(r){super(Ee,r.permissionCode),this.payload=r,this.type=ul}},xs=class extends u.EntityFailAction{constructor(r){super(Ee,r.permissionCode,r.error),this.payload=r,this.type=Yu}},Fi=class extends u.EntitySuccessAction{constructor(r){super(Ee,Array.isArray(r)?r.map(e=>e?.code??""):r?.code??""),this.payload=r,this.type=ml}},Cs=class extends u.EntityLoadAction{constructor(r){super(Gn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=gl}},Us=class extends u.EntityFailAction{constructor(r){super(Gn,u.serializeSearchConfig(r.params),r.error),this.payload=r,this.type=Qu}},Is=class extends u.EntitySuccessAction{constructor(r){super(Gn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=fl}},Es=class extends u.EntityLoadAction{constructor(r){super(Ee,r.permission.code??null),this.payload=r,this.type=hl}},ys=class extends u.EntityFailAction{constructor(r){super(Ee,r.permissionCode,r.error),this.payload=r,this.type=Wu}},bs=class extends u.EntitySuccessAction{constructor(r){super(Ee,r.code??null,r),this.payload=r,this.type=vl}},As=class extends u.EntityLoadAction{constructor(r){super(Ee,r.permission.code??""),this.payload=r,this.type=_l}},Ds=class extends u.EntityFailAction{constructor(r){super(Ee,r.permissionCode,r.error),this.payload=r,this.type=Xu}},Rs=class extends u.EntitySuccessAction{constructor(r){super(Ee,r.code??"",r),this.payload=r,this.type=Sl}},Bs=class extends u.EntityLoadAction{constructor(){super(jn,kn),this.type=xl}},Ts=class extends u.EntityFailAction{constructor(r){super(jn,kn,r.error),this.payload=r,this.type=Ju}},Ps=class extends u.EntitySuccessAction{constructor(r){super(jn,kn),this.payload=r,this.type=e0}};var Cl="[CostCenter] Load CostCenter Data",t0="[CostCenter] Load CostCenter Data Fail",Ul="[CostCenter] Load CostCenter Data Success",Il="[CostCenter] Load CostCenters",i0="[CostCenter] Load CostCenters Fail",El="[CostCenter] Load CostCenters Success",yl="[CostCenter] Create CostCenter",n0="[CostCenter] Create CostCenter Fail",bl="[CostCenter] Create CostCenter Success",Al="[CostCenter] Update CostCenter",r0="[CostCenter] Update CostCenter Fail",Dl="[CostCenter] Update CostCenter Success",Rl="[CostCenter] Load Budgets",Bl="[CostCenter] Load Budgets success",o0="[CostCenter] Load Budgets fail",Tl="[CostCenter] Assign Budget",Pl="[CostCenter] Assign Budget success",s0="[CostCenter] Assign Budget fail",Ll="[CostCenter] Unassign Budget",Ml="[CostCenter] Unassign Budget success",a0="[CostCenter] Unassign Budget fail",Ls=class extends u.EntityLoadAction{constructor(r){super(yt,r.costCenterCode),this.payload=r,this.type=Cl}},Ms=class extends u.EntityFailAction{constructor(r){super(yt,r.costCenterCode,r.error),this.payload=r,this.type=t0}},Mn=class extends u.EntitySuccessAction{constructor(r){super(yt,Array.isArray(r)?r.map(e=>e?.code??""):r?.code??""),this.payload=r,this.type=Ul}},Fs=class extends u.EntityLoadAction{constructor(r){super(wn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=Il}},Os=class extends u.EntityFailAction{constructor(r){super(wn,u.serializeSearchConfig(r.params),r.error),this.payload=r,this.type=i0}},ws=class extends u.EntitySuccessAction{constructor(r){super(wn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=El}},Ns=class extends u.EntityLoadAction{constructor(r){super(yt,r.costCenter.code??null),this.payload=r,this.type=yl}},Gs=class extends u.EntityFailAction{constructor(r){super(yt,r.costCenterCode,r.error),this.payload=r,this.type=n0}},ks=class extends u.EntitySuccessAction{constructor(r){super(yt,r.code??null,r),this.payload=r,this.type=bl}},js=class extends u.EntityLoadAction{constructor(r){super(yt,r.costCenter.code??""),this.payload=r,this.type=Al}},$s=class extends u.EntityFailAction{constructor(r){super(yt,r.costCenterCode,r.error),this.payload=r,this.type=r0}},Vs=class extends u.EntitySuccessAction{constructor(r){super(yt,r.code??"",r),this.payload=r,this.type=Dl}},zs=class extends u.EntityLoadAction{constructor(r){super(Nn,u.serializeSearchConfig(r.params,r.costCenterCode)),this.payload=r,this.type=Rl}},qs=class extends u.EntityFailAction{constructor(r){super(Nn,u.serializeSearchConfig(r.params,r.costCenterCode),r.error),this.payload=r,this.type=o0}},Ks=class extends u.EntitySuccessAction{constructor(r){super(Nn,u.serializeSearchConfig(r.params,r.costCenterCode)),this.payload=r,this.type=Bl}},Hs=class extends u.EntityLoadAction{constructor(r){super(Oe,r.budgetCode),this.payload=r,this.type=Tl}},Zs=class extends u.EntityFailAction{constructor(r){super(Oe,r.budgetCode,r.error),this.payload=r,this.type=s0}},Ys=class extends u.EntitySuccessAction{constructor(r){super(Oe,r.code,r),this.payload=r,this.type=Pl}},Qs=class extends u.EntityLoadAction{constructor(r){super(Oe,r.budgetCode),this.payload=r,this.type=Ll}},Ws=class extends u.EntityFailAction{constructor(r){super(Oe,r.budgetCode,r.error),this.payload=r,this.type=a0}},Xs=class extends u.EntitySuccessAction{constructor(r){super(Oe,r.code,r),this.payload=r,this.type=Ml}};var Fl="[B2BUser] Load B2BUser Data",c0="[B2BUser] Load B2BUser Data Fail",Ol="[B2BUser] Load B2BUser Data Success",wl="[B2BUser] Create B2BUser Data",p0="[B2BUser] Create B2BUser Data Fail",Nl="[B2BUser] Create B2BUser Data Success",Gl="[B2BUser] Update B2BUser Data",l0="[B2BUser] Update B2BUser Data Fail",Na="[B2BUser] Update B2BUser Data Success",kl="[B2BUser] Load B2BUsers",d0="[B2BUser] Load B2BUsers Fail",jl="[B2BUser] Load B2BUsers Success",$l="[B2BUser] Load B2BUser Approvers",u0="[B2BUser] Load B2BUser Approvers Fail",Vl="[B2BUser] Load B2BUser Approvers Success",zl="[B2BUser] Assign B2BUser Approver",m0="[B2BUser] Assign B2BUser Approver Fail",ql="[B2BUser] Assign B2BUser Approver Success",Kl="[B2BUser] Unassign B2BUser Approver",g0="[B2BUser] Unassign B2BUser Approver Fail",Hl="[B2BUser] Unassign B2BUser Approver Success",Zl="[B2BUser] Load B2BUser Permissions",f0="[B2BUser] Load B2BUser Permissions Fail",Yl="[B2BUser] Load B2BUser Permissions Success",Ql="[B2BUser] Assign B2BUser Permission",h0="[B2BUser] Assign B2BUser Permission Fail",Wl="[B2BUser] Assign B2BUser Permission Success",Xl="[B2BUser] Unassign B2BUser Permission",v0="[B2BUser] Unassign B2BUser Permission Fail",Jl="[B2BUser] Unassign B2BUser Permission Success",ed="[B2BUser] Load B2BUser User Groups",_0="[B2BUser] Load B2BUser User Groups Fail",td="[B2BUser] Load B2BUser User Groups Success",id="[B2BUser] Assign B2BUser User Group",S0="[B2BUser] Assign B2BUser User Group Fail",nd="[B2BUser] Assign B2BUser User Group Success",rd="[B2BUser] Unassign B2BUser User Group",x0="[B2BUser] Unassign B2BUser User Group Fail",od="[B2BUser] Unassign B2BUser User Group Success",Js=class extends u.EntityLoadAction{constructor(r){super(ie,r.orgCustomerId),this.payload=r,this.type=Fl}},ea=class extends u.EntityFailAction{constructor(r){super(ie,r.orgCustomerId,r.error),this.payload=r,this.type=c0}},gi=class extends u.EntitySuccessAction{constructor(r){super(ie,Array.isArray(r)?r.map(e=>e?.customerId??""):r?.customerId??""),this.payload=r,this.type=Ol}},ta=class extends u.EntityLoadAction{constructor(r){super(ie,r.orgCustomer.customerId??null),this.payload=r,this.type=wl}},ia=class extends u.EntityFailAction{constructor(r){super(ie,r.orgCustomerId,r.error),this.payload=r,this.type=p0}},Fn=class extends u.EntitySuccessAction{constructor(r){super(ie,r.customerId??null,r),this.payload=r,this.type=Nl}},na=class extends u.EntityLoadAction{constructor(r){super(ie,r.orgCustomer.customerId??""),this.payload=r,this.type=Gl}},ra=class extends u.EntityFailAction{constructor(r){super(ie,r.orgCustomerId,r.error),this.payload=r,this.type=l0}},oa=class extends u.EntitySuccessAction{constructor(r){super(ie,r.customerId??"",r),this.payload=r,this.type=Na}},sa=class extends u.EntityLoadAction{constructor(r){super(Zn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=kl}},aa=class extends u.EntityFailAction{constructor(r){super(Zn,u.serializeSearchConfig(r.params),r.error),this.payload=r,this.type=d0}},ca=class extends u.EntitySuccessAction{constructor(r){super(Zn,u.serializeSearchConfig(r.params)),this.payload=r,this.type=jl}},pa=class extends u.EntityLoadAction{constructor(r){super(Yn,u.serializeSearchConfig(r.params,r.orgCustomerId)),this.payload=r,this.type=$l}},la=class extends u.EntityFailAction{constructor(r){super(Yn,u.serializeSearchConfig(r.params,r.orgCustomerId),r.error),this.payload=r,this.type=u0}},da=class extends u.EntitySuccessAction{constructor(r){super(Yn,u.serializeSearchConfig(r.params,r.orgCustomerId)),this.payload=r,this.type=Vl}},ua=class extends u.EntityLoadAction{constructor(r){super(ie,r.approverId),this.payload=r,this.type=zl}},ma=class extends u.EntityFailAction{constructor(r){super(ie,r.approverId,r.error),this.payload=r,this.type=m0}},ga=class extends u.EntitySuccessAction{constructor(r){super(ie,r.approverId,r),this.payload=r,this.type=ql}},fa=class extends u.EntityLoadAction{constructor(r){super(ie,r.approverId),this.payload=r,this.type=Kl}},ha=class extends u.EntityFailAction{constructor(r){super(ie,r.approverId,r.error),this.payload=r,this.type=g0}},va=class extends u.EntitySuccessAction{constructor(r){super(ie,r.approverId,r),this.payload=r,this.type=Hl}},_a=class extends u.EntityLoadAction{constructor(r){super(Qn,u.serializeSearchConfig(r.params,r.orgCustomerId)),this.payload=r,this.type=Zl}},Sa=class extends u.EntityFailAction{constructor(r){super(Qn,r.orgCustomerId,r.error),this.payload=r,this.type=f0}},xa=class extends u.EntitySuccessAction{constructor(r){super(Qn,u.serializeSearchConfig(r.params,r.orgCustomerId)),this.payload=r,this.type=Yl}},Ca=class extends u.EntityLoadAction{constructor(r){super(Ee,r.permissionId),this.payload=r,this.type=Ql}},Ua=class extends u.EntityFailAction{constructor(r){super(Ee,r.permissionId,r.error),this.payload=r,this.type=h0}},Ia=class extends u.EntitySuccessAction{constructor(r){super(Ee,r.permissionId,r),this.payload=r,this.type=Wl}},Ea=class extends u.EntityLoadAction{constructor(r){super(Ee,r.permissionId),this.payload=r,this.type=Xl}},ya=class extends u.EntityFailAction{constructor(r){super(Ee,r.permissionId,r.error),this.payload=r,this.type=v0}},ba=class extends u.EntitySuccessAction{constructor(r){super(Ee,r.permissionId,r),this.payload=r,this.type=Jl}},Aa=class extends u.EntityLoadAction{constructor(r){super(Wn,u.serializeSearchConfig(r.params,r.orgCustomerId)),this.payload=r,this.type=ed}},Da=class extends u.EntityFailAction{constructor(r){super(Wn,u.serializeSearchConfig(r.params,r.orgCustomerId),r.error),this.payload=r,this.type=_0}},Ra=class extends u.EntitySuccessAction{constructor(r){super(Wn,u.serializeSearchConfig(r.params,r.orgCustomerId)),this.payload=r,this.type=td}},Ba=class extends u.EntityLoadAction{constructor(r){super(ye,r.userGroupId),this.payload=r,this.type=id}},Ta=class extends u.EntityFailAction{constructor(r){super(ye,r.userGroupId,r.error),this.payload=r,this.type=S0}},Pa=class extends u.EntitySuccessAction{constructor(r){super(ye,r.uid,r),this.payload=r,this.type=nd}},La=class extends u.EntityLoadAction{constructor(r){super(ye,r.userGroupId),this.payload=r,this.type=rd}},Ma=class extends u.EntityFailAction{constructor(r){super(ye,r.userGroupId,r.error),this.payload=r,this.type=x0}},Fa=class extends u.EntitySuccessAction{constructor(r){super(ye,r.uid,r),this.payload=r,this.type=od}};var sd="[Organization] Clear Data",P=class{constructor(){this.type=sd}};var hi=Ac(sp),Ga=k(hi,t=>t[pp]),ir=k(Ga,t=>t&&t.entities),C0=t=>k(ir,r=>u.entityLoaderStateSelector(r,t)),U0=k(Ga,t=>t&&t.permissionTypes),ad=t=>k(ir,r=>u.entityLoaderStateSelector(r,t)),I0=t=>k(ad(t),r=>u.loaderValueSelector(r)),E0=t=>k(Ga,r=>u.denormalizeSearch(r,t)),y0=()=>k(U0,t=>u.entityLoaderStateSelector(t,kn));var pn=k(hi,t=>t[dp]),nr=k(pn,t=>t&&t.entities),cd=t=>k(nr,r=>u.entityLoaderStateSelector(r,t)),b0=t=>k(cd(t),r=>u.loaderValueSelector(r)),A0=t=>k(pn,r=>u.denormalizeSearch(r,t)),D0=(t,r)=>k(pn,nr,(e,i)=>u.denormalizeCustomB2BSearch(e.approvers,i,r,t)),R0=(t,r)=>k(pn,ir,(e,i)=>u.denormalizeCustomB2BSearch(e.permissions,i,r,t)),B0=k(hi,t=>t[wa].entities),T0=(t,r)=>k(pn,B0,(e,i)=>u.denormalizeCustomB2BSearch(e.userGroups,i,r,t));var mt=function(t){return t[t.SUCCESS=0]="SUCCESS",t[t.ERROR=1]="ERROR",t}(mt||{});function fi(t){return t.pipe(Be(Re),fc(),j(([r])=>r.loading??!1),C(([r,e])=>({status:e.success?mt.SUCCESS:e.error?mt.ERROR:null,item:e.value})))}var Pe=(()=>{class t{constructor(e,i){this.store=e,this.userIdService=i}load(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Js({userId:i,orgCustomerId:e})),error:()=>{}})}loadList(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new sa({userId:i,params:e})),error:()=>{}})}getB2BUserValue(e){return this.store.select(b0(e)).pipe(j(i=>!!i))}get(e){let i=this.getB2BUserState(e).pipe(Jt(0),q(n=>{n.loading||n.success||n.error||this.load(e)}));return Xt(()=>i.subscribe(),()=>this.getB2BUserValue(e))}getList(e){return this.getUserList(e).pipe(Be(Re),q(i=>{i.loading||i.success||i.error||this.loadList(e)}),j(i=>!!(i.success||i.error)),C(i=>i.value))}getErrorState(e){return this.getB2BUserState(e).pipe(C(i=>i.error??!1))}create(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new ta({userId:i,orgCustomer:e})),error:()=>{}})}update(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new na({userId:n,orgCustomerId:e,orgCustomer:i})),error:()=>{}})}getLoadingStatus(e){return fi(this.getB2BUserState(e))}loadApprovers(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new pa({userId:n,orgCustomerId:e,params:i})),error:()=>{}})}getApprovers(e,i){return this.getB2BUserApproverList(e,i).pipe(Be(Re),q(n=>{n.loading||n.success||n.error||this.loadApprovers(e,i)}),j(n=>!!(n.success||n.error)),C(n=>n.value))}assignApprover(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new ua({userId:n,orgCustomerId:e,approverId:i})),error:()=>{}})}unassignApprover(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new fa({userId:n,orgCustomerId:e,approverId:i})),error:()=>{}})}loadPermissions(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new _a({userId:n,orgCustomerId:e,params:i})),error:()=>{}})}getPermissions(e,i){return this.getB2BUserPermissionList(e,i).pipe(Be(Re),q(n=>{n.loading||n.success||n.error||this.loadPermissions(e,i)}),j(n=>!!(n.success||n.error)),C(n=>n.value))}assignPermission(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Ca({userId:n,orgCustomerId:e,permissionId:i})),error:()=>{}})}unassignPermission(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Ea({userId:n,orgCustomerId:e,permissionId:i})),error:()=>{}})}loadUserGroups(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Aa({userId:n,orgCustomerId:e,params:i})),error:()=>{}})}getUserGroups(e,i){return this.getB2BUserUserGroupList(e,i).pipe(Be(Re),q(n=>{n.loading||n.success||n.error||this.loadUserGroups(e,i)}),j(n=>!!(n.success||n.error)),C(n=>n.value))}assignUserGroup(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Ba({userId:n,orgCustomerId:e,userGroupId:i})),error:()=>{}})}unassignUserGroup(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new La({userId:n,orgCustomerId:e,userGroupId:i})),error:()=>{}})}getAllRoles(){return[je.CUSTOMER,je.MANAGER,je.APPROVER,je.ADMIN]}getAllRights(){return[Tc.UNITORDERVIEWER]}getB2BUserApproverList(e,i){return this.store.select(D0(e,i))}getB2BUserPermissionList(e,i){return this.store.select(R0(e,i))}getB2BUserUserGroupList(e,i){return this.store.select(T0(e,i))}getB2BUserState(e){return this.store.select(cd(e))}getUserList(e){return this.store.select(A0(e))}isUpdatingUserAllowed(){return!0}static{this.\u0275fac=function(i){return new(i||t)(f(ni),f($t))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),P0=(()=>{class t{constructor(e,i){this.actions$=e,this.budgetConnector=i,this.logger=_e(ai),this.loadBudget$=M(()=>this.actions$.pipe(F(up),C(n=>n.payload),E(({userId:n,budgetCode:a})=>this.budgetConnector.get(n,a).pipe(C(S=>new on([S])),O(S=>re(new $r({budgetCode:a,error:w(S,this.logger)}))))))),this.loadBudgets$=M(()=>this.actions$.pipe(F(gp),C(n=>n.payload),E(n=>this.budgetConnector.getList(n.userId,n.params).pipe(E(a=>{let{values:S,page:h}=u.normalizeListPage(a,"code");return[new on(S),new qr({page:h,params:n.params})]}),O(a=>re(new zr({params:n.params,error:w(a,this.logger)}))))))),this.createBudget$=M(()=>this.actions$.pipe(F(hp),C(n=>n.payload),E(n=>this.budgetConnector.create(n.userId,n.budget).pipe(E(a=>[new Zr(a),new P]),O(a=>ae([new Hr({budgetCode:n.budget.code??"",error:w(a,this.logger)}),new P])))))),this.updateBudget$=M(()=>this.actions$.pipe(F(_p),C(n=>n.payload),E(n=>this.budgetConnector.update(n.userId,n.budgetCode,n.budget).pipe(E(a=>[new Wr(a),new P]),O(a=>ae([new Qr({budgetCode:n.budget.code??"",error:w(a,this.logger)}),new P]))))))}static{this.\u0275fac=function(i){return new(i||t)(f(ri),f(tp))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),L0=(()=>{class t{constructor(e,i){this.actions$=e,this.orgUnitConnector=i,this.logger=_e(ai),this.featureConfigService=_e(St,{optional:!0}),this.loadOrgUnit$=M(()=>this.actions$.pipe(F(xp),C(n=>n.payload),E(({userId:n,orgUnitId:a})=>this.orgUnitConnector.get(n,a).pipe(E(S=>{let{values:h,page:y}=u.normalizeListPage({values:S.addresses??[]},"id");return[new Jr([S]),new Go(h),new ko({page:y,orgUnitId:a})]}),O(S=>re(new Xr({orgUnitId:a,error:w(S,this.logger)}))))))),this.loadAvailableOrgUnits$=M(()=>this.actions$.pipe(F(Up),C(n=>n.payload),E(n=>this.orgUnitConnector.getList(n.userId).pipe(C(a=>new io(a)),O(a=>re(new to({error:w(a,this.logger)}))))))),this.createUnit$=M(()=>this.actions$.pipe(F(Ip),C(n=>n.payload),E(n=>this.orgUnitConnector.create(n.userId,n.unit).pipe(E(a=>[new oo(a),new P]),O(a=>ae([new ro({unitCode:n.unit.uid??"",error:w(a,this.logger)}),new P])))))),this.updateUnit$=M(()=>this.actions$.pipe(F(yp),C(n=>n.payload),E(n=>this.orgUnitConnector.update(n.userId,n.unitCode,n.unit).pipe(E(a=>[new co(n.unit),new P]),O(a=>ae([new ao({unitCode:n.unit.uid??"",error:w(a,this.logger)}),new P])))))),this.loadTree$=M(()=>this.actions$.pipe(F(Ap),C(n=>n.payload),E(({userId:n})=>this.orgUnitConnector.getTree(n).pipe(C(a=>new uo(a)),O(a=>re(new lo({error:w(a,this.logger)}))))))),this.loadApprovalProcesses$=M(()=>this.actions$.pipe(F(Dp),C(n=>n.payload),E(({userId:n})=>this.orgUnitConnector.getApprovalProcesses(n).pipe(C(a=>new fo(a)),O(a=>re(new go({error:w(a,this.logger)}))))))),this.loadUsers$=M(()=>this.actions$.pipe(F(Rp),C(n=>n.payload),Gt(({orgUnitId:n,roleId:a,params:S})=>u.serializeParams([n,a],S)),Ie(n=>n.pipe(E(({userId:a,orgUnitId:S,roleId:h,params:y})=>this.orgUnitConnector.getUsers(a,S,h,y).pipe(E(z=>{let{values:Ne,page:Ge}=u.normalizeListPage(z,"customerId");return[new gi(Ne),new So({orgUnitId:S,roleId:h,page:Ge,params:y})]}),O(z=>re(new _o({orgUnitId:S,roleId:h,params:y,error:w(z,this.logger)}))))))))),this.assignRoleToUser=M(()=>this.actions$.pipe(F(Tp),C(n=>n.payload),E(({userId:n,orgCustomerId:a,roleId:S})=>this.orgUnitConnector.assignRole(n,a,S).pipe(C(()=>new Uo({uid:a,roleId:S,selected:!0})),O(h=>re(new Co({orgCustomerId:a,error:w(h,this.logger)}))))))),this.unassignRoleToUser$=M(()=>this.actions$.pipe(F(Lp),C(n=>n.payload),E(({userId:n,orgCustomerId:a,roleId:S})=>this.orgUnitConnector.unassignRole(n,a,S).pipe(C(()=>new yo({uid:a,roleId:S,selected:!1})),O(h=>re(new Eo({orgCustomerId:a,error:w(h,this.logger)}))))))),this.assignApprover=M(()=>this.actions$.pipe(F(Fp),C(n=>n.payload),Ie(({userId:n,orgUnitId:a,orgCustomerId:S,roleId:h})=>this.orgUnitConnector.assignApprover(n,a,S,h).pipe(E(()=>[new Ao({uid:S,roleId:h,selected:!0}),new P]),O(y=>ae([new bo({orgCustomerId:S,error:w(y,this.logger)}),new P])))))),this.unassignApprover=M(()=>this.actions$.pipe(F(wp),C(n=>n.payload),Ie(({userId:n,orgUnitId:a,orgCustomerId:S,roleId:h})=>this.orgUnitConnector.unassignApprover(n,a,S,h).pipe(E(()=>[new Bo({uid:S,roleId:h,selected:!1}),new P]),O(y=>ae([new Ro({orgCustomerId:S,error:w(y,this.logger)}),new P])))))),this.createAddress$=M(()=>this.actions$.pipe(F(Gp),C(n=>n.payload),E(n=>this.orgUnitConnector.createAddress(n.userId,n.orgUnitId,n.address).pipe(E(a=>[new Ln(a),new Ln(this.featureConfigService?.isEnabled("fixMyCompanyUnitAddressCreation")?{id:n.address.id}:{id:void 0}),new P]),O(a=>ae([new Po({addressId:n.address.id??"",error:w(a,this.logger)}),new P])))))),this.updateAddress$=M(()=>this.actions$.pipe(F(kp),C(n=>n.payload),E(({userId:n,orgUnitId:a,addressId:S,address:h})=>this.orgUnitConnector.updateAddress(n,a,S,h).pipe(E(()=>[new Fo(h),new P]),O(y=>ae([new Mo({addressId:h.id??"",error:w(y,this.logger)}),new P])))))),this.deleteAddress$=M(()=>this.actions$.pipe(F(jp),C(n=>n.payload),E(n=>this.orgUnitConnector.deleteAddress(n.userId,n.orgUnitId,n.addressId).pipe(E(()=>[new No({id:n.addressId}),new P]),O(a=>ae([new wo({addressId:n.addressId,error:w(a,this.logger)}),new P]))))))}static{this.\u0275fac=function(i){return new(i||t)(f(ri),f(np))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),M0=(()=>{class t{constructor(e,i){this.actions$=e,this.permissionConnector=i,this.logger=_e(ai),this.loadPermission$=M(()=>this.actions$.pipe(F(ul),C(n=>n.payload),E(({userId:n,permissionCode:a})=>this.permissionConnector.get(n,a).pipe(C(S=>new Fi([S])),O(S=>re(new xs({permissionCode:a,error:w(S,this.logger)}))))))),this.loadPermissions$=M(()=>this.actions$.pipe(F(gl),C(n=>n.payload),E(n=>this.permissionConnector.getList(n.userId,n.params).pipe(E(a=>{let{values:S,page:h}=u.normalizeListPage(a,"code");return[new Fi(S),new Is({page:h,params:n.params})]}),O(a=>re(new Us({params:n.params,error:w(a,this.logger)}))))))),this.createPermission$=M(()=>this.actions$.pipe(F(hl),C(n=>n.payload),E(n=>this.permissionConnector.create(n.userId,n.permission).pipe(E(a=>[new bs(a),new P]),O(a=>ae([new ys({permissionCode:n.permission.code??"",error:w(a,this.logger)}),new P])))))),this.updatePermission$=M(()=>this.actions$.pipe(F(_l),C(n=>n.payload),E(n=>this.permissionConnector.update(n.userId,n.permissionCode,n.permission).pipe(E(a=>[new Rs(a),new P]),O(a=>ae([new Ds({permissionCode:n.permission.code??"",error:w(a,this.logger)}),new P])))))),this.loadPermissionTypes$=M(()=>this.actions$.pipe(F(xl),E(()=>this.permissionConnector.getTypes().pipe(C(n=>new Ps(n)),O(n=>re(new Ts({error:w(n,this.logger)})))))))}static{this.\u0275fac=function(i){return new(i||t)(f(ri),f(rp))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),F0=(()=>{class t{constructor(e,i){this.actions$=e,this.costCenterConnector=i,this.logger=_e(ai),this.loadCostCenter$=M(()=>this.actions$.pipe(F(Cl),C(n=>n.payload),E(({userId:n,costCenterCode:a})=>this.costCenterConnector.get(n,a).pipe(C(S=>new Mn([S])),O(S=>re(new Ms({costCenterCode:a,error:w(S,this.logger)}))))))),this.loadCostCenters$=M(()=>this.actions$.pipe(F(Il),C(n=>n.payload),E(n=>this.costCenterConnector.getList(n.userId,n.params).pipe(E(a=>{let{values:S,page:h}=u.normalizeListPage(a,"code");return[new Mn(S),new ws({page:h,params:n.params})]}),O(a=>re(new Os({params:n.params,error:w(a,this.logger)}))))))),this.createCostCenter$=M(()=>this.actions$.pipe(F(yl),C(n=>n.payload),E(n=>this.costCenterConnector.create(n.userId,n.costCenter).pipe(E(a=>[new ks(a),new P]),O(a=>ae([new Gs({costCenterCode:n.costCenter.code??"",error:w(a,this.logger)}),new P])))))),this.updateCostCenter$=M(()=>this.actions$.pipe(F(Al),C(n=>n.payload),E(n=>this.costCenterConnector.update(n.userId,n.costCenterCode,n.costCenter).pipe(E(a=>[new Vs(a),new P]),O(a=>ae([new $s({costCenterCode:n.costCenter.code??"",error:w(a,this.logger)}),new P])))))),this.loadAssignedBudgets$=M(()=>this.actions$.pipe(F(Rl),C(n=>n.payload),Gt(({costCenterCode:n,params:a})=>u.serializeParams(n,a)),Ie(n=>n.pipe(E(({userId:a,costCenterCode:S,params:h})=>this.costCenterConnector.getBudgets(a,S,h).pipe(E(y=>{let{values:z,page:Ne}=u.normalizeListPage(y,"code");return[new on(z),new Ks({costCenterCode:S,page:Ne,params:h})]}),O(y=>re(new qs({costCenterCode:S,params:h,error:w(y,this.logger)}))))))))),this.assignBudgetToCostCenter$=M(()=>this.actions$.pipe(F(Tl),C(n=>n.payload),Ie(({userId:n,costCenterCode:a,budgetCode:S})=>this.costCenterConnector.assignBudget(n,a,S).pipe(E(()=>[new Ys({code:S,selected:!0}),new P]),O(h=>ae([new Zs({budgetCode:S,error:w(h,this.logger)}),new P])))))),this.unassignBudgetToCostCenter$=M(()=>this.actions$.pipe(F(Ll),C(n=>n.payload),Ie(({userId:n,costCenterCode:a,budgetCode:S})=>this.costCenterConnector.unassignBudget(n,a,S).pipe(E(()=>[new Xs({code:S,selected:!1}),new P]),O(h=>ae([new Ws({budgetCode:S,error:w(h,this.logger)}),new P]))))))}static{this.\u0275fac=function(i){return new(i||t)(f(ri),f(ip))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),O0=(()=>{class t{constructor(e,i,n,a,S){this.actions$=e,this.b2bUserConnector=i,this.routingService=n,this.userAccountFacade=a,this.userIdService=S,this.logger=_e(ai),this.featureConfigService=_e(St,{optional:!0}),this.loadB2BUser$=M(()=>this.actions$.pipe(F(Fl),C(h=>h.payload),E(({userId:h,orgCustomerId:y})=>this.b2bUserConnector.get(h,y).pipe(C(z=>new gi([z])),O(z=>re(new ea({orgCustomerId:y,error:w(z,this.logger)}))))))),this.createB2BUser$=M(()=>this.actions$.pipe(F(wl),C(h=>h.payload),E(({userId:h,orgCustomer:y})=>this.b2bUserConnector.create(h,y).pipe(E(z=>{let Ne=y.isAssignedToApprovers;return this.routingService.getRouterState().pipe(Je(1),q(Ge=>this.redirectToDetails(Ge,z)),E(()=>{let Ge=[new Fn(z),new Fn(this.featureConfigService?.isEnabled("fixMyCompanyUnitUserCreation")?{customerId:y.customerId,orgUnit:y.orgUnit}:{customerId:void 0}),new P];return Ne&&Ge.splice(1,0,new sn({userId:h,orgUnitId:y.orgUnit?.uid??"",orgCustomerId:z.customerId??"",roleId:je.APPROVER})),Ge}))}),O(z=>ae([new ia({orgCustomerId:y.customerId??"",error:w(z,this.logger)}),new P])))))),this.updateB2BUser$=M(()=>this.actions$.pipe(F(Gl),C(h=>h.payload),E(({userId:h,orgCustomerId:y,orgCustomer:z})=>{let Ne=z.isAssignedToApprovers;return this.b2bUserConnector.update(h,y,z).pipe(E(Ge=>{let uc=[new oa(z)];return Ne&&uc.push(new sn({userId:h,orgUnitId:z.orgUnit?.uid??"",orgCustomerId:y,roleId:je.APPROVER})),uc}),O(Ge=>ae([new ra({orgCustomerId:z.customerId??"",error:w(Ge,this.logger)}),new P])))}))),this.checkSelfEmailUpdate$=M(()=>this.actions$.pipe(F(Na),C(h=>h.payload),Cn(this.userAccountFacade.get(),this.userIdService.getUserId()),E(([h,y])=>{let z=h.customerId===y?.customerId&&h.email!==y?.displayUid;return z&&this.routingService.go({cxRoute:"login"}),z?[new Er.Logout]:[new P]}))),this.loadB2BUsers$=M(()=>this.actions$.pipe(F(kl),C(h=>h.payload),E(h=>this.b2bUserConnector.getList(h.userId,h.params).pipe(E(y=>{let{values:z,page:Ne}=u.normalizeListPage(y,"customerId");return[new gi(z),new ca({page:Ne,params:h.params})]}),O(y=>re(new aa({params:h.params,error:w(y,this.logger)}))))))),this.loadB2BUserApprovers$=M(()=>this.actions$.pipe(F($l),C(h=>h.payload),Gt(({orgCustomerId:h,params:y})=>u.serializeParams(h,y)),Ie(h=>h.pipe(E(y=>this.b2bUserConnector.getApprovers(y.userId,y.orgCustomerId,y.params).pipe(E(z=>{let{values:Ne,page:Ge}=u.normalizeListPage(z,"customerId");return[new gi(Ne),new da({orgCustomerId:y.orgCustomerId,page:Ge,params:y.params})]}),O(z=>re(new la({orgCustomerId:y.orgCustomerId,params:y.params,error:w(z,this.logger)}))))))))),this.loadB2BUserPermissions$=M(()=>this.actions$.pipe(F(Zl),C(h=>h.payload),Gt(({orgCustomerId:h,params:y})=>u.serializeParams(h,y)),Ie(h=>h.pipe(E(y=>this.b2bUserConnector.getPermissions(y.userId,y.orgCustomerId,y.params).pipe(E(z=>{let{values:Ne,page:Ge}=u.normalizeListPage(z,"code");return[new Fi(Ne),new xa({orgCustomerId:y.orgCustomerId,page:Ge,params:y.params})]}),O(z=>re(new Sa({orgCustomerId:y.orgCustomerId,params:y.params,error:w(z,this.logger)}))))))))),this.loadB2BUserUserGroups$=M(()=>this.actions$.pipe(F(ed),C(h=>h.payload),Gt(({orgCustomerId:h,params:y})=>u.serializeParams(h,y)),Ie(h=>h.pipe(E(y=>this.b2bUserConnector.getUserGroups(y.userId,y.orgCustomerId,y.params).pipe(E(z=>{let{values:Ne,page:Ge}=u.normalizeListPage(z,"uid");return[new an(Ne),new Ra({orgCustomerId:y.orgCustomerId,page:Ge,params:y.params})]}),O(z=>re(new Da({orgCustomerId:y.orgCustomerId,params:y.params,error:w(z,this.logger)}))))))))),this.assignApproverToB2BUser$=M(()=>this.actions$.pipe(F(zl),C(h=>h.payload),Ie(h=>this.b2bUserConnector.assignApprover(h.userId,h.orgCustomerId,h.approverId).pipe(E(y=>[new ga({approverId:h.approverId,selected:y.selected})]),O(y=>ae([new ma({orgCustomerId:h.orgCustomerId,approverId:h.approverId,error:w(y,this.logger)}),new P])))))),this.unassignApproverFromB2BUser$=M(()=>this.actions$.pipe(F(Kl),C(h=>h.payload),Ie(h=>this.b2bUserConnector.unassignApprover(h.userId,h.orgCustomerId,h.approverId).pipe(E(y=>[new va({approverId:h.approverId,selected:y.selected})]),O(y=>ae([new ha({orgCustomerId:h.orgCustomerId,approverId:h.approverId,error:w(y,this.logger)}),new P])))))),this.assignPermissionToB2BUser$=M(()=>this.actions$.pipe(F(Ql),C(h=>h.payload),Ie(h=>this.b2bUserConnector.assignPermission(h.userId,h.orgCustomerId,h.permissionId).pipe(E(y=>[new Ia({permissionId:y.id,selected:y.selected}),new P]),O(y=>ae([new Ua({orgCustomerId:h.orgCustomerId,permissionId:h.permissionId,error:w(y,this.logger)}),new P])))))),this.unassignPermissionFromB2BUser$=M(()=>this.actions$.pipe(F(Xl),C(h=>h.payload),Ie(h=>this.b2bUserConnector.unassignPermission(h.userId,h.orgCustomerId,h.permissionId).pipe(E(y=>[new ba({permissionId:y.id,selected:y.selected}),new P]),O(y=>ae([new ya({orgCustomerId:h.orgCustomerId,permissionId:h.permissionId,error:w(y,this.logger)}),new P])))))),this.assignUserGroupToB2BUser$=M(()=>this.actions$.pipe(F(id),C(h=>h.payload),Ie(h=>this.b2bUserConnector.assignUserGroup(h.userId,h.orgCustomerId,h.userGroupId).pipe(E(y=>[new Pa({uid:y.id,selected:y.selected}),new P]),O(y=>ae([new Ta({orgCustomerId:h.orgCustomerId,userGroupId:h.userGroupId,error:w(y,this.logger)}),new P])))))),this.unassignUserGroupFromB2BUser$=M(()=>this.actions$.pipe(F(rd),C(h=>h.payload),Ie(h=>this.b2bUserConnector.unassignUserGroup(h.userId,h.orgCustomerId,h.userGroupId).pipe(E(()=>[new Fa({uid:h.userGroupId,selected:!1}),new P]),O(y=>ae([new Ma({orgCustomerId:h.orgCustomerId,userGroupId:h.userGroupId,error:w(y,this.logger)}),new P]))))))}redirectToDetails(e,i){e?.state?.context?.id!=="/organization/units"&&this.routingService.go({cxRoute:"orgUserDetails",params:i})}static{this.\u0275fac=function(i){return new(i||t)(f(ri),f(ep),f(fe),f(Gr),f($t))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),w0=(()=>{class t{constructor(e,i){this.actions$=e,this.userGroupConnector=i,this.logger=_e(ai),this.loadUserGroup$=M(()=>this.actions$.pipe(F(Vp),C(n=>n.payload),E(({userId:n,userGroupId:a})=>this.userGroupConnector.get(n,a).pipe(C(S=>new an([S])),O(S=>re(new $o({userGroupId:a,error:w(S,this.logger)}))))))),this.loadUserGroups$=M(()=>this.actions$.pipe(F(qp),C(n=>n.payload),E(n=>this.userGroupConnector.getList(n.userId,n.params).pipe(E(a=>{let{values:S,page:h}=u.normalizeListPage(a,"uid");return[new an(S),new qo({page:h,params:n.params})]}),O(a=>re(new zo({params:n.params,error:w(a,this.logger)}))))))),this.loadAvailableOrderApprovalPermissions$=M(()=>this.actions$.pipe(F(Hp),C(n=>n.payload),Gt(({userGroupId:n,params:a})=>u.serializeParams(n,a)),Ie(n=>n.pipe(E(a=>this.userGroupConnector.getAvailableOrderApprovalPermissions(a.userId,a.userGroupId,a.params).pipe(E(S=>{let{values:h,page:y}=u.normalizeListPage(S,"code");return[new Fi(h),new Zu({userGroupId:a.userGroupId,page:y,params:a.params})]}),O(S=>re(new Hu({userGroupId:a.userGroupId,params:a.params,error:w(S,this.logger)}))))))))),this.loadAvailableOrgCustomers$=M(()=>this.actions$.pipe(F(Yp),C(n=>n.payload),Gt(({userGroupId:n,params:a})=>u.serializeParams(n,a)),Ie(n=>n.pipe(E(a=>this.userGroupConnector.getAvailableOrgCustomers(a.userId,a.userGroupId,a.params).pipe(E(S=>{let{values:h,page:y}=u.normalizeListPage(S,"customerId");return[new gi(h),new Zo({userGroupId:a.userGroupId,page:y,params:a.params})]}),O(S=>re(new Ho({userGroupId:a.userGroupId,params:a.params,error:w(S,this.logger)}))))))))),this.createUserGroup$=M(()=>this.actions$.pipe(F(Wp),C(n=>n.payload),E(n=>this.userGroupConnector.create(n.userId,n.userGroup).pipe(E(a=>[new Wo(a),new P]),O(a=>ae([new Qo({userGroupId:n.userGroup.uid??"",error:w(a,this.logger)}),new P])))))),this.updateUserGroup$=M(()=>this.actions$.pipe(F(nl),C(n=>n.payload),E(n=>this.userGroupConnector.update(n.userId,n.userGroupId,n.userGroup).pipe(E(()=>[new ss(n.userGroup),new P]),O(a=>ae([new os({userGroupId:n.userGroup.uid??"",error:w(a,this.logger)}),new P])))))),this.deleteUserGroup$=M(()=>this.actions$.pipe(F(ol),C(n=>n.payload),E(n=>this.userGroupConnector.delete(n.userId,n.userGroupId).pipe(E(a=>[new ps(a),new P]),O(a=>ae([new cs({userGroupId:n.userGroupId,error:w(a,this.logger)}),new P])))))),this.assignPermissionToUserGroup$=M(()=>this.actions$.pipe(F(tl),C(n=>n.payload),Ie(n=>this.userGroupConnector.assignOrderApprovalPermission(n.userId,n.userGroupId,n.permissionUid).pipe(E(a=>[new ns({permissionUid:a.id,selected:a.selected}),new P]),O(a=>ae([new is({userGroupId:n.userGroupId,permissionUid:n.permissionUid,error:w(a,this.logger)}),new P])))))),this.assignMemberUnitUserGroup$=M(()=>this.actions$.pipe(F(Jp),C(n=>n.payload),Ie(n=>this.userGroupConnector.assignMember(n.userId,n.userGroupId,n.customerId).pipe(E(()=>[new es({customerId:n.customerId,selected:!0}),new P]),O(a=>ae([new Jo({userGroupId:n.userGroupId,customerId:n.customerId,error:w(a,this.logger)}),new P])))))),this.unassignMemberFromUserGroup$=M(()=>this.actions$.pipe(F(cl),C(n=>n.payload),Ie(n=>this.userGroupConnector.unassignMember(n.userId,n.userGroupId,n.customerId).pipe(E(()=>[new us({customerId:n.customerId,selected:!1}),new P]),O(a=>ae([new ds({userGroupId:n.userGroupId,customerId:n.customerId,error:w(a,this.logger)}),new P])))))),this.unassignPermissionFromUserGroup$=M(()=>this.actions$.pipe(F(ll),C(n=>n.payload),Ie(n=>this.userGroupConnector.unassignOrderApprovalPermission(n.userId,n.userGroupId,n.permissionUid).pipe(E(a=>[new _s({permissionUid:a.id,selected:a.selected}),new P]),O(a=>ae([new vs({userGroupId:n.userGroupId,permissionUid:n.permissionUid,error:w(a,this.logger)}),new P])))))),this.unassignAllMembersFromUserGroup$=M(()=>this.actions$.pipe(F(sl),C(n=>n.payload),E(n=>this.userGroupConnector.unassignAllMembers(n.userId,n.userGroupId).pipe(E(()=>[new fs({selected:!1}),new P]),O(a=>ae([new gs({userGroupId:n.userGroupId,error:w(a,this.logger)}),new P]))))))}static{this.\u0275fac=function(i){return new(i||t)(f(ri),f(op))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),N0=[P0,L0,w0,M0,F0,O0],G0=void 0,rr=void 0;function k0(t=G0,r){switch(r.type){case Ol:case Nl:case Na:return r.payload;case Pp:case Op:return ke(L({},t),{selected:r.payload?.selected,roles:[...t?.roles||[],r.payload?.roleId]});case Mp:case Np:return ke(L({},t),{selected:r.payload?.selected,roles:[...t?.roles||[]].filter(e=>e!==r.payload?.roleId)});case ql:case Hl:case el:case pl:case al:return L(L({},t),r.payload)}return t}function j0(t=rr,r){switch(r.type){case jl:return r.payload.page}return t}function $0(t=rr,r){switch(r.type){case Vl:return r.payload.page}return t}function V0(t=rr,r){switch(r.type){case Yl:return r.payload.page}return t}function z0(t=rr,r){switch(r.type){case td:return r.payload.page}return t}var q0=void 0,K0=void 0;function H0(t=q0,r){switch(r.type){case mp:case vp:case Sp:return r.payload;case Ml:case Pl:return L(L({},t),r.payload)}return t}function Z0(t=K0,r){switch(r.type){case fp:return r.payload.page}return t}var Y0=void 0,pd=void 0;function Q0(t=Y0,r){switch(r.type){case Ul:case bl:case Dl:return r.payload}return t}function W0(t=pd,r){switch(r.type){case El:return r.payload.page}return t}function X0(t=pd,r){switch(r.type){case Bl:return r.payload.page}return t}var J0=void 0,ld=void 0;function em(t=J0,r){switch(r.type){case Cp:case Ep:return r.payload;case bp:return L(L({},t),r.payload)}return t}function tm(t=ld,r){switch(r.type){case Bp:return r.payload.page}return t}function im(t=ld,r){switch(r.type){case $p:return r.payload.page}return t}var nm=void 0,rm=void 0;function om(t=nm,r){switch(r.type){case ml:case vl:case Sl:return r.payload;case il:case dl:case Wl:case Jl:return L(L({},t),r.payload)}return t}function sm(t=rm,r){switch(r.type){case fl:return r.payload.page}return t}var am=void 0,ka=void 0;function cm(t=am,r){switch(r.type){case zp:case Xp:case rl:return r.payload;case nd:case od:return L(L({},t),r.payload)}return t}function pm(t=ka,r){switch(r.type){case Kp:return r.payload.page}return t}function lm(t=ka,r){switch(r.type){case Zp:return r.payload.page}return t}function dm(t=ka,r){switch(r.type){case Qp:return r.payload.page}return t}function um(){return{[ap]:ii({entities:u.entityLoaderReducer(Oe,H0),list:u.entityLoaderReducer(On,Z0)}),[pp]:ii({entities:u.entityLoaderReducer(Ee,om),list:u.entityLoaderReducer(Gn,sm),permissionTypes:u.entityLoaderReducer(jn)}),[lp]:ii({entities:u.entityLoaderReducer(bt,em),availableOrgUnitNodes:u.entityLoaderReducer($n),tree:u.entityLoaderReducer(Vn),approvalProcesses:u.entityLoaderReducer(zn),users:u.entityLoaderReducer(cn,tm),addressList:u.entityLoaderReducer(tr,im),addressEntities:u.entityLoaderReducer(gt)}),[wa]:ii({entities:u.entityLoaderReducer(ye,cm),list:u.entityLoaderReducer(Xn,pm),permissions:u.entityLoaderReducer(Jn,lm),customers:u.entityLoaderReducer(er,dm)}),[cp]:ii({entities:u.entityLoaderReducer(yt,Q0),list:u.entityLoaderReducer(wn,W0),budgets:u.entityLoaderReducer(Nn,X0)}),[dp]:ii({entities:u.entityLoaderReducer(ie,k0),list:u.entityLoaderReducer(Zn,j0),approvers:u.entityLoaderReducer(Yn,$0),permissions:u.entityLoaderReducer(Qn,V0),userGroups:u.entityLoaderReducer(Wn,z0)})}}var dd=new be("OrganizationReducers"),mm={provide:dd,useFactory:um};function gm(t){return function(r,e){return e.type===sd&&(r=void 0),e.type===Er.LOGOUT&&(r=void 0),e.type===Lc.LANGUAGE_CHANGE&&(r=void 0),t(r,e)}}var fm=[gm],ud=k(hi,t=>t[ap]),md=k(ud,t=>t&&t.entities),gd=t=>k(md,r=>u.entityLoaderStateSelector(r,t)),hm=t=>k(gd(t),r=>u.loaderValueSelector(r)),vm=t=>k(ud,r=>u.denormalizeSearch(r,t));var vi=k(hi,t=>t[lp]),_m=k(vi,t=>t&&t.availableOrgUnitNodes),fd=k(vi,t=>t&&t.entities),Sm=k(vi,t=>t&&t.tree),xm=k(vi,t=>t&&t.addressEntities),Cm=k(vi,t=>t&&t.approvalProcesses),hd=t=>k(fd,r=>u.entityLoaderStateSelector(r,t)),Um=t=>k(hd(t),r=>u.loaderValueSelector(r)),Im=t=>k(fd,r=>u.entityLoaderStateSelector(r,t)),Em=()=>k(_m,t=>u.entityLoaderStateSelector(t,Hn)),ym=()=>k(Sm,t=>u.entityLoaderStateSelector(t,qn)),bm=()=>k(Cm,t=>u.entityLoaderStateSelector(t,Kn)),Am=(t,r,e)=>k(vi,nr,(i,n)=>u.denormalizeCustomB2BSearch(i.users,n,e,`${t},${r}`)),Dm=(t,r)=>k(vi,e=>u.denormalizeCustomB2BSearch(e.addressList,e.addressEntities,r,t)),Rm=t=>k(xm,r=>u.entityLoaderStateSelector(r,t));var or=k(hi,t=>t[wa]),vd=k(or,t=>t&&t.entities),_d=t=>k(vd,r=>u.entityLoaderStateSelector(r,t)),Bm=t=>k(_d(t),r=>u.loaderValueSelector(r)),Tm=t=>k(or,r=>u.denormalizeSearch(r,t)),Pm=(t,r)=>k(or,nr,(e,i)=>u.denormalizeCustomB2BSearch(e.customers,i,r,t)),Lm=(t,r)=>k(or,ir,(e,i)=>u.denormalizeCustomB2BSearch(e.permissions,i,r,t)),Mm=t=>k(vd,r=>u.entityLoaderStateSelector(r,t));var ja=k(hi,t=>t[cp]),Sd=k(ja,t=>t&&t.entities),xd=t=>k(Sd,r=>u.entityLoaderStateSelector(r,t)),Fm=t=>k(xd(t),r=>u.loaderValueSelector(r)),Om=t=>k(ja,r=>u.denormalizeSearch(r,t)),wm=(t,r)=>k(ja,md,(e,i)=>u.denormalizeCustomB2BSearch(e.budgets,i,r,t)),Nm=t=>k(Sd,r=>u.entityLoaderStateSelector(r,t));var Oi=(()=>{class t{constructor(e,i){this.store=e,this.userIdService=i}loadBudget(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new jr({userId:i,budgetCode:e})),error:()=>{}})}loadBudgets(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Vr({userId:i,params:e})),error:()=>{}})}getBudgetState(e){return this.store.select(gd(e))}getBudgetValue(e){return this.store.select(hm(e)).pipe(j(i=>!!i))}getBudgetList(e){return this.store.select(vm(e))}get(e){let i=this.getBudgetState(e).pipe(Jt(0),q(n=>{n.loading||n.success||n.error||this.loadBudget(e)}));return Xt(()=>i.subscribe(),()=>this.getBudgetValue(e))}getList(e){return this.getBudgetList(e).pipe(Be(Re),q(i=>{i.loading||i.success||i.error||this.loadBudgets(e)}),j(i=>!!(i.success||i.error)),C(i=>i.value))}getCostCenters(e){return this.get(e).pipe(C(i=>({values:i.costCenters??[]})))}getErrorState(e){return this.getBudgetState(e).pipe(C(i=>i.error??!1))}create(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Kr({userId:i,budget:e})),error:()=>{}})}update(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Yr({userId:n,budgetCode:e,budget:i})),error:()=>{}})}getLoadingStatus(e){return fi(this.getBudgetState(e))}static{this.\u0275fac=function(i){return new(i||t)(f(ni),f($t))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ln=(()=>{class t{constructor(e,i){this.store=e,this.userIdService=i}load(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Ls({userId:i,costCenterCode:e})),error:()=>{}})}loadList(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Fs({userId:i,params:e})),error:()=>{}})}getCostCenter(e){return this.store.select(xd(e))}getCostCenterValue(e){return this.store.select(Fm(e)).pipe(j(i=>!!i))}getCostCenterList(e){return this.store.select(Om(e))}getBudgetList(e,i){return this.store.select(wm(e,i))}get(e){let i=this.getCostCenter(e).pipe(Jt(0),q(n=>{n.loading||n.success||n.error||this.load(e)}));return Xt(()=>i.subscribe(),()=>this.getCostCenterValue(e))}getList(e){return this.getCostCenterList(e).pipe(Be(Re),q(i=>{i.loading||i.success||i.error||this.loadList(e)}),j(i=>!!(i.success||i.error)),C(i=>i.value))}getCostCenterState(e){return this.store.select(Nm(e))}create(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Ns({userId:i,costCenter:e})),error:()=>{}})}update(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new js({userId:n,costCenterCode:e,costCenter:i})),error:()=>{}})}getLoadingStatus(e){return fi(this.getCostCenter(e))}loadBudgets(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new zs({userId:n,costCenterCode:e,params:i})),error:()=>{}})}getBudgets(e,i){return this.getBudgetList(e,i).pipe(Be(Re),q(n=>{n.loading||n.success||n.error||this.loadBudgets(e,i)}),j(n=>!!(n.success||n.error)),C(n=>n.value))}assignBudget(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Hs({userId:n,costCenterCode:e,budgetCode:i})),error:()=>{}})}unassignBudget(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Qs({userId:n,costCenterCode:e,budgetCode:i})),error:()=>{}})}getErrorState(e){return this.getCostCenterState(e).pipe(C(i=>i.error??!1))}static{this.\u0275fac=function(i){return new(i||t)(f(ni),f($t))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xe=(()=>{class t{constructor(e,i){this.store=e,this.userIdService=i}clearAssignedUsersList(e,i,n){this.store.dispatch(new vo({orgUnitId:e,roleId:i,params:n}))}load(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Pn({userId:i,orgUnitId:e})),error:()=>{}})}loadList(){this.userIdService.takeUserId(!0).subscribe({next:e=>this.store.dispatch(new eo({userId:e})),error:()=>{}})}loadTree(){this.userIdService.takeUserId(!0).subscribe({next:e=>this.store.dispatch(new po({userId:e})),error:()=>{}})}loadApprovalProcesses(){this.userIdService.takeUserId(!0).subscribe({next:e=>this.store.dispatch(new mo({userId:e})),error:()=>{}})}loadUsers(e,i,n){this.userIdService.takeUserId(!0).subscribe({next:a=>this.store.dispatch(new ho({userId:a,orgUnitId:e,roleId:i,params:n})),error:()=>{}})}loadAddresses(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Pn({userId:i,orgUnitId:e})),error:()=>{}})}getOrgUnit(e){return this.store.select(hd(e))}getOrgUnitValue(e){return this.store.select(Um(e)).pipe(j(i=>!!i))}getTreeState(){return this.store.select(ym())}getOrgUnitsList(){return this.store.select(Em())}getAddressesState(e){return this.store.select(Dm(e))}getAddressState(e){return this.store.select(Rm(e))}getAssignedUsers(e,i,n){return this.store.select(Am(e,i,n))}getApprovalProcessesList(){return this.store.select(bm())}get(e){let i=this.getOrgUnit(e).pipe(Jt(0),q(n=>{n.loading||n.success||n.error||this.load(e)}));return Xt(()=>i.subscribe(),()=>this.getOrgUnitValue(e))}getCostCenters(e){return this.get(e).pipe(C(i=>({values:i.costCenters??[]})))}findUnitChildrenInTree(e,i){return i.id===e?i.children??[]:(i.children??[]).flatMap(n=>this.findUnitChildrenInTree(e,n))}getChildUnits(e){return this.getTree().pipe(C(i=>({values:i?this.findUnitChildrenInTree(e,i):[]})))}getTree(){return this.getTreeState().pipe(Be(Re),q(e=>{e.loading||e.success||e.error||this.loadTree()}),j(e=>!!(e.success||e.error)),C(e=>e.value))}getApprovalProcesses(){return this.getApprovalProcessesList().pipe(Be(Re),q(e=>{e.loading||e.success||e.error||this.loadApprovalProcesses()}),j(e=>!!(e.success||e.error)),C(e=>e.value))}getList(){return this.getOrgUnitsList().pipe(Be(Re),q(e=>{e.loading||e.success||e.error||this.loadList()}),j(e=>!!(e.success||e.error)),C(e=>e.value))}getActiveUnitList(){return this.getList().pipe(C(e=>e?.filter(i=>i.active)),C(e=>e?.sort(this.sortUnitList)))}sortUnitList(e,i){return(e.id??"").toLowerCase()<(i.id??"").toLowerCase()?-1:(e.id??"").toLowerCase()>(i.id??"").toLowerCase()?1:0}getUsers(e,i,n){return this.getAssignedUsers(e,i,n).pipe(Be(Re),q(a=>{a.loading||a.success||a.error||this.loadUsers(e,i,n)}),j(a=>!!(a.success||a.error)),C(a=>a.value))}getErrorState(e){return this.getOrgUnitState(e).pipe(C(i=>i.error??!1))}create(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new no({userId:i,unit:e})),error:()=>{}})}update(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new so({userId:n,unitCode:e,unit:i})),error:()=>{}})}getLoadingStatus(e){return fi(this.getOrgUnit(e))}assignRole(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new xo({userId:n,orgCustomerId:e,roleId:i})),error:()=>{}})}unassignRole(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Io({userId:n,orgCustomerId:e,roleId:i})),error:()=>{}})}assignApprover(e,i,n){this.userIdService.takeUserId(!0).subscribe({next:a=>this.store.dispatch(new sn({orgUnitId:e,userId:a,orgCustomerId:i,roleId:n})),error:()=>{}})}unassignApprover(e,i,n){this.userIdService.takeUserId(!0).subscribe({next:a=>this.store.dispatch(new Do({orgUnitId:e,userId:a,orgCustomerId:i,roleId:n})),error:()=>{}})}createAddress(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new To({userId:n,orgUnitId:e,address:i})),error:()=>{}})}getAddresses(e){return this.getAddressesState(e).pipe(Be(Re),q(i=>{i.loading||i.success||i.error||this.loadAddresses(e)}),j(i=>!!(i.success||i.error)),C(i=>i.value))}getAddress(e,i){return this.getAddressState(i).pipe(Be(Re),q(n=>{n.loading||n.success||n.error||this.loadAddresses(e)}),j(n=>!!(n.success||n.error)),C(n=>n.value))}updateAddress(e,i,n){this.userIdService.takeUserId(!0).subscribe({next:a=>this.store.dispatch(new Lo({userId:a,orgUnitId:e,addressId:i,address:n})),error:()=>{}})}getAddressLoadingStatus(e){return fi(this.getAddressState(e))}deleteAddress(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Oo({userId:n,orgUnitId:e,addressId:i})),error:()=>{}})}getOrgUnitState(e){return this.store.select(Im(e))}isUpdatingUnitAllowed(){return!0}static{this.\u0275fac=function(i){return new(i||t)(f(ni),f($t))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gm=(()=>{class t extends Ar{constructor(e,i,n,a){super(),this.contentPageMetaResolver=e,this.translation=i,this.semanticPath=n,this.routingService=a,this.pageTemplate="CompanyPageTemplate",this.pageType=Bc.CONTENT_PAGE,this.ORGANIZATION_TRANSLATION_KEY="organization.breadcrumb",this.ORGANIZATION_SEMANTIC_ROUTE="organization",this.organizationPageBreadcrumb$=vr(()=>this.routingService.getRouterState()).pipe(C(S=>S?.state?.semanticRoute),Nt(),E(S=>S===this.ORGANIZATION_SEMANTIC_ROUTE?re([]):this.translation.translate(this.ORGANIZATION_TRANSLATION_KEY).pipe(C(h=>[{label:h,link:this.semanticPath.get(this.ORGANIZATION_SEMANTIC_ROUTE)}])))),this.breadcrumbs$=gc([this.organizationPageBreadcrumb$,vr(()=>this.contentPageMetaResolver.resolveBreadcrumbs())]).pipe(C(([S,h=[]])=>{let[y,...z]=h;return[y,...S,...z]}),xn({bufferSize:1,refCount:!0}))}resolveTitle(){return this.contentPageMetaResolver.resolveTitle()}resolveDescription(){return this.contentPageMetaResolver.resolveDescription()}resolveRobots(){return this.contentPageMetaResolver.resolveRobots()}resolveBreadcrumbs(){return this.breadcrumbs$}static{this.\u0275fac=function(i){return new(i||t)(f(wc),f(xt),f(In),f(fe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),km=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[{provide:Ar,useExisting:Gm,multi:!0}]})}}return t})(),_i=(()=>{class t{constructor(e,i){this.store=e,this.userIdService=i}loadPermission(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Ss({userId:i,permissionCode:e})),error:()=>{}})}loadPermissions(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Cs({userId:i,params:e})),error:()=>{}})}loadPermissionTypes(){this.userIdService.takeUserId(!0).subscribe({next:()=>this.store.dispatch(new Bs),error:()=>{}})}getPermission(e){return this.store.select(ad(e))}getPermissionValue(e){return this.store.select(I0(e)).pipe(j(i=>!!i))}getPermissionList(e){return this.store.select(E0(e))}getPermissionTypeList(){return this.store.select(y0())}get(e){let i=this.getPermission(e).pipe(Jt(0),q(n=>{n.loading||n.success||n.error||this.loadPermission(e)}));return Xt(()=>i.subscribe(),()=>this.getPermissionValue(e))}getTypes(){return this.getPermissionTypeList().pipe(Be(Re),q(e=>{e.loading||e.success||e.error||this.loadPermissionTypes()}),j(e=>!!(e.success||e.error)),C(e=>e.value))}getList(e){return this.getPermissionList(e).pipe(Be(Re),q(i=>{i.loading||i.success||i.error||this.loadPermissions(e)}),j(i=>!!(i.success||i.error)),C(i=>i.value))}create(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Es({userId:i,permission:e})),error:()=>{}})}update(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new As({userId:n,permissionCode:e,permission:i})),error:()=>{}})}getLoadingStatus(e){return fi(this.getPermission(e))}getPermissionState(e){return this.store.select(C0(e))}getErrorState(e){return this.getPermissionState(e).pipe(C(i=>i.error??!1))}static{this.\u0275fac=function(i){return new(i||t)(f(ni),f($t))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Si=(()=>{class t{constructor(e,i){this.store=e,this.userIdService=i}load(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new jo({userId:i,userGroupId:e})),error:()=>{}})}loadList(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Vo({userId:i,params:e})),error:()=>{}})}getUserGroup(e){return this.store.select(_d(e))}getUserGroupValue(e){return this.store.select(Bm(e)).pipe(j(i=>!!i))}getUserGroupList(e){return this.store.select(Tm(e))}getAvailableOrgCustomersList(e,i){return this.store.select(Pm(e,i))}getAvailableOrderApprovalPermissionsList(e,i){return this.store.select(Lm(e,i))}get(e){let i=this.getUserGroup(e).pipe(Jt(0),q(n=>{n.loading||n.success||n.error||this.load(e)}));return Xt(()=>i.subscribe(),()=>this.getUserGroupValue(e))}getList(e){return this.getUserGroupList(e).pipe(Be(Re),q(i=>{i.loading||i.success||i.error||this.loadList(e)}),j(i=>!!(i.success||i.error)),C(i=>i.value))}create(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new Yo({userId:i,userGroup:e})),error:()=>{}})}update(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new rs({userId:n,userGroupId:e,userGroup:i})),error:()=>{}})}getLoadingStatus(e){return fi(this.getUserGroup(e))}delete(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new as({userId:i,userGroupId:e})),error:()=>{}})}loadAvailableOrgCustomers(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Ko({userId:n,userGroupId:e,params:i})),error:()=>{}})}loadAvailableOrderApprovalPermissions(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Ku({userId:n,userGroupId:e,params:i})),error:()=>{}})}getAvailableOrgCustomers(e,i){return this.getAvailableOrgCustomersList(e,i).pipe(Be(Re),q(n=>{n.loading||n.success||n.error||this.loadAvailableOrgCustomers(e,i)}),j(n=>!!(n.success||n.error)),C(n=>n.value))}getAvailableOrderApprovalPermissions(e,i){return this.getAvailableOrderApprovalPermissionsList(e,i).pipe(Be(Re),q(n=>{n.loading||n.success||n.error||this.loadAvailableOrderApprovalPermissions(e,i)}),j(n=>!!(n.success||n.error)),C(n=>n.value))}assignMember(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Xo({userId:n,userGroupId:e,customerId:i})),error:()=>{}})}unassignMember(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new ls({userId:n,userGroupId:e,customerId:i})),error:()=>{}})}unassignAllMembers(e){this.userIdService.takeUserId(!0).subscribe({next:i=>this.store.dispatch(new ms({userId:i,userGroupId:e})),error:()=>{}})}assignPermission(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new ts({userId:n,userGroupId:e,permissionUid:i})),error:()=>{}})}unassignPermission(e,i){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new hs({userId:n,userGroupId:e,permissionUid:i})),error:()=>{}})}getUserGroupState(e){return this.store.select(Mm(e))}getErrorState(e){return this.getUserGroupState(e).pipe(C(i=>i.error??!1))}static{this.\u0275fac=function(i){return new(i||t)(f(ni),f($t))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dn=(()=>{class t{constructor(e,i,n,a){this.globalMessageService=e,this.orgUnitService=i,this.semanticPathService=n,this.router=a}canActivate(){let e=this.orgUnitService.isUpdatingUnitAllowed();return e||(this.globalMessageService.add({key:"organization.notification.notExist"},Ve.MSG_TYPE_WARNING),this.router.parseUrl(this.semanticPathService.get("organization")??""))}static{this.\u0275fac=function(i){return new(i||t)(f(En),f(xe),f(In),f(Ir))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),xi=(()=>{class t{constructor(e,i,n,a){this.globalMessageService=e,this.b2bUserService=i,this.semanticPathService=n,this.router=a}canActivate(){let e=this.b2bUserService.isUpdatingUserAllowed();return e||(this.globalMessageService.add({key:"organization.notification.notExist"},Ve.MSG_TYPE_WARNING),this.router.parseUrl(this.semanticPathService.get("organization")??""))}static{this.\u0275fac=function(i){return new(i||t)(f(En),f(Pe),f(In),f(Ir))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),jm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[qt,xi,dn]})}}return t})(),$m=(()=>{class t extends Qi{constructor(){super(...arguments),this.responseStatus=Dr.BAD_REQUEST,this.costCenterMask=/ambiguous unique keys \{code\=(.*)\} for model B2BCostCenterModel/,this.unitMask=/ambiguous unique keys \{uid\=(.*)\} for model B2BUnitModel/,this.permissionMask=/Approval Permission with code\: (.*) already exists\./,this.unknownMask=/Model saving error\./}hasMatch(e){return super.hasMatch(e)&&this.matchMask(e)}handleError(e,i){this.getErrors(i).forEach(({message:n})=>{n&&(this.handleOrganizationConflict(n,this.costCenterMask,"costCenter"),this.handleOrganizationConflict(n,this.unitMask,"unit"),this.handleOrganizationConflict(n,this.permissionMask,"permission"),this.handleOrganizationConflict(n,this.unknownMask,"unknown"))})}matchMask(e){return this.getErrors(e).some(i=>[this.costCenterMask,this.unitMask,this.permissionMask,this.unknownMask].some(n=>n.test(i.message??"")))}handleOrganizationConflict(e,i,n){let a=e.match(i),S={code:a?.[1]};a&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${n}`,params:S},Ve.MSG_TYPE_ERROR)}getErrors(e){return(e.error?.errors||[]).filter(i=>i.type==="ModelSavingError"||i.type==="DuplicateUidError")}getPriority(){return 0}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vm=(()=>{class t extends Qi{constructor(){super(...arguments),this.responseStatus=Dr.CONFLICT,this.budgetMask=/Budget with code \[(.*)\] already exists/,this.userMask=/User already exists/,this.userGroupMask=/Member Permission with the same id already exists/,this.unitMask=/Organizational unit with uid \[(.*)\] already exists/}hasMatch(e){return super.hasMatch(e)&&this.matchMask(e)}handleError(e,i){return this.getErrors(i).forEach(({message:n})=>{n&&(this.handleConflict(n,this.budgetMask,"budget"),this.handleConflict(n,this.userMask,"user",e?.body?.email),this.handleConflict(n,this.userGroupMask,"userGroup",e?.body?.uid),this.handleConflict(n,this.unitMask,"unit"))})}matchMask(e){return this.getErrors(e).some(i=>[this.budgetMask,this.userMask,this.userGroupMask,this.unitMask].some(n=>n.test(i.message??"")))}handleConflict(e,i,n,a){let S=e.match(i),h={code:S?.[1]??a};S&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${n}`,params:h},Ve.MSG_TYPE_ERROR)}getErrors(e){return(e.error?.errors||[]).filter(i=>i.type==="AlreadyExistsError")}getPriority(){return 0}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zm=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[mm],imports:[Dc.forFeature(sp,dd,{metaReducers:fm}),Rc.forFeature(N0)]})}}return t})(),Cd=(()=>{class t{static forRoot(){return{ngModule:t,providers:[tp,np,op,rp,ip,ep]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[{provide:Qi,useExisting:Vm,multi:!0},{provide:Qi,useExisting:$m,multi:!0}],imports:[km,zm,jm]})}}return t})(),wi=new be("B2BUserNormalizer"),sr=new be("B2BUserSerializer"),Ni=new be("UserListNormalizer"),Gi=new be("BudgetNormalizer"),ar=new be("BudgetsListNormalizer"),cr=new be("BudgetSerializer"),$a=new be("B2BUnitNodeNormalizer"),Va=new be("B2BUnitNodeListNormalizer"),un=new be("B2BUnitNormalizer"),Ud=new be("B2BUnitSerializer"),za=new be("B2BUnitApprovalProcessNormalizer"),ki=new be("PermissionNormalizer"),mn=new be("PermissionsListNormalizer"),qa=new be("PermissionTypeNormalizer"),Ka=new be("PermissionTypesListNormalizer"),Ha=new be("PermissionSerializer"),Ci=new be("UserGroupNormalizer"),Za=new be("UserGroupSerializer"),pr=new be("UserGroupListNormalizer"),Ya=function(t){return t.DAY="DAY",t.WEEK="WEEK",t.MONTH="MONTH",t.QUARTER="QUARTER",t.YEAR="YEAR",t}(Ya||{});var Km=()=>({autofocus:!0,focusOnEscape:!0});function Hm(t,r){if(t&1&&_(0,"cx-icon",3),t&2){let e=g();s("type",e.messageIcon)}}var Zm=["vcr"],Ym=[[["","actions",""]],[["","info",""]],[["","main",""]]],Qm=["[actions]","[info]","[main]"],gn=t=>({item:t}),Ad=()=>({placement:"auto",class:"hint-popover",appendToBody:!0,displayCloseButton:!0});function Wm(t,r){if(t&1&&(d(0,"button",11),c(1,"cxTranslate"),_(2,"cx-icon",12),l()),t&2){let e=g(),i=X(24);s("cxPopover",i)("cxPopoverOptions",oe(6,Ad)),at("aria-label",p(1,4,"organization.information")),o(2),s("type",e.iconTypes.INFO)}}function Xm(t,r){if(t&1){let e=ge();d(0,"cx-icon",15),W("click",function(n){pe(e);let a=g(2);return le(a.closeView(n))}),l()}}function Jm(t,r){if(t&1&&(m(0),c(1,"cxTranslate")),t&2){let e=g(2);U(p(1,1,e.previousLabel))}}function eg(t,r){if(t&1&&(d(0,"button",13),c(1,"cxTranslate"),v(2,Xm,1,0,"cx-icon",14)(3,Jm,2,3,"ng-template",null,1,Se),l()),t&2){let e=X(4),i=g();at("aria-label",p(1,3,"common.close")),o(2),s("ngIf",i.previous===!0)("ngIfElse",e)}}function tg(t,r){if(t&1&&(d(0,"p"),m(1),c(2,"cxTranslate"),l()),t&2){let e=g();o(),x(" ",p(2,1,e.i18nRoot+".hint")," ")}}var ig=[[["","main",""]]],ng=["[main]"],ec=t=>({autofocus:"input",refreshFocus:t});function rg(t,r){if(t&1){let e=ge();d(0,"form",2),W("submit",function(){let n=pe(e).ngIf,a=g();return le(a.save(n))}),d(1,"cx-org-card",3,0)(3,"button",4),c(4,"async"),m(5),c(6,"cxTranslate"),l(),d(7,"button",5)(8,"span",6),W("click",function(n){pe(e);let a=X(2),S=g();return le(S.back(n,a))}),m(9),c(10,"cxTranslate"),l()(),d(11,"section",7),vt(12,0,["ngProjectAs","[main]",5,["","main",""]]),l()()()}if(t&2){let e=r.ngIf,i=g();o(),s("previous",!1)("i18nRoot",i.i18n)("subtitle",i.subtitle)("cxFocus",b(13,ec,e)),o(2),s("disabled",e.disabled||p(4,7,i.disabled$)),o(2),x(" ",p(6,9,"organization.save")," "),o(4),U(p(10,11,"organization.cancel"))}}var og=[[["","actions",""]]],sg=["[actions]"],Dd=t=>({count:t}),ag=()=>({placement:"auto",class:"hint-popover",displayCloseButton:!0}),cg=t=>({title:t}),pg=t=>({cxRoute:t}),Rd=(t,r)=>({property:t,value:r});function lg(t,r){if(t&1&&(d(0,"h2"),m(1),c(2,"cxTranslate"),d(3,"button",16),c(4,"cxTranslate"),_(5,"cx-icon",17),l()()),t&2){let e=g().ngIf,i=g(2),n=X(6);o(),x(" ",Bt(2,5,i.viewType+".header",b(10,Dd,i.getListCount(e)))," "),o(2),s("cxPopover",n)("cxPopoverOptions",oe(12,Ad)),at("aria-label",p(4,8,"organization.information")),o(2),s("type",i.iconTypes.INFO)}}function dg(t,r){if(t&1&&(d(0,"h3"),m(1),c(2,"cxTranslate"),d(3,"button",16),c(4,"cxTranslate"),c(5,"cxTranslate"),_(6,"cx-icon",17),l()()),t&2){let e=g().ngIf,i=g(2),n=X(6);o(),x(" ",Bt(2,5,i.viewType+".header",b(13,Dd,i.getListCount(e)))," "),o(2),s("cxPopover",n)("cxPopoverOptions",oe(15,ag)),at("aria-label",Bt(5,10,"organization.information",b(16,cg,p(4,8,i.viewType+".groupName")))),o(3),s("type",i.iconTypes.INFO)}}function ug(t,r){if(t&1&&(d(0,"span"),m(1),c(2,"cxTranslate"),l()),t&2){let e=g(2).ngIf;o(),U(p(2,1,e.type+".sortBy"))}}function mg(t,r){if(t&1&&(d(0,"ng-option",20),m(1),c(2,"cxTranslate"),l()),t&2){let e=r.$implicit,i=g(3).ngIf;s("value",e.code),o(),x(" ",p(2,2,i.type+".sort."+e.code)," ")}}function gg(t,r){if(t&1){let e=ge();d(0,"ng-select",18),c(1,"cxTranslate"),W("change",function(){pe(e);let n=g().ngIf,a=g(2);return le(a.sort(n.pagination))}),yc("ngModelChange",function(n){pe(e);let a=g(3);return Ec(a.sortCode,n)||(a.sortCode=n),le(n)}),v(2,mg,3,4,"ng-option",19),l()}if(t&2){let e=g().ngIf,i=g().ngIf,n=g();s("searchable",!1)("clearable",!1)("tabIndex",0),Ic("ngModel",n.sortCode),at("aria-label",p(1,6,n.sortCode?i.type+".sort."+n.sortCode:i.type+".sortBy")),o(2),s("ngForOf",e.sorts)}}function fg(t,r){if(t&1&&(d(0,"a",22),c(1,"cxUrl"),m(2),c(3,"cxTranslate"),l()),t&2){let e=g(3).ngIf,i=g();s("routerLink",p(1,2,b(6,pg,e.type+"Create"))),o(2),x(" ",p(3,4,i.getCreateButtonLabel())," ")}}function hg(t,r){if(t&1&&(de(0),v(1,fg,4,8,"a",21),ue()),t&2){let e=g(3);o(),s("ngIf",!e.hideAddButton)}}function vg(t,r){if(t&1){let e=ge();d(0,"cx-table",23),c(1,"async"),W("launch",function(n){pe(e);let a=g(3);return le(a.launchItem(n))}),l()}if(t&2){let e=g().ngIf,i=g().ngIf,n=g();s("structure",i)("data",e.values)("i18nRoot",n.domainType)("currentItem",Qe(6,Rd,n.key,p(1,4,n.currentKey$)))}}function _g(t,r){if(t&1){let e=ge();d(0,"cx-view",6)(1,"div",7)(2,"div",8),v(3,lg,6,13,"h2",9)(4,dg,7,18,"h3",9),l(),d(5,"div",10)(6,"label"),v(7,ug,3,3,"span",4)(8,gg,3,8,"ng-select",11),l(),vt(9),v(10,hg,2,1,"ng-container",12),l()(),v(11,vg,2,9,"cx-table",13),d(12,"div",14)(13,"cx-pagination",15),W("viewPageEvent",function(n){let a=pe(e).ngIf,S=g(2);return le(S.browse(a.pagination,n))}),l()()()}if(t&2){let e=r.ngIf,i=g(2),n=X(4),a=X(8);o(3),s("cxFeature","a11yOrganizationListHeadingOrder"),o(),s("cxFeature","!a11yOrganizationListHeadingOrder"),o(3),s("ngIf",e.pagination==null?null:e.pagination.sort),o(),s("ngIf",e.pagination==null?null:e.pagination.sort),o(2),s("ngIf",i.createButtonType===i.createButtonAllTypes.LINK)("ngIfElse",a),o(),s("ngIf",e.values&&e.values.length>0)("ngIfElse",n),o(2),s("pagination",e.pagination)}}function Sg(t,r){if(t&1&&(de(0),v(1,_g,14,9,"cx-view",5),c(2,"async"),_(3,"router-outlet"),ue()),t&2){let e=g();o(),s("ngIf",p(2,1,e.listData$))}}function xg(t,r){t&1&&(d(0,"p",24),m(1),c(2,"cxTranslate"),l()),t&2&&(o(),x(" ",p(2,1,"organization.messages.emptyList")," "))}function Cg(t,r){if(t&1&&(d(0,"p"),m(1),c(2,"cxTranslate"),l()),t&2){let e=g();o(),x(" ",p(2,1,e.viewType+".hint")," ")}}function Ug(t,r){if(t&1){let e=ge();d(0,"button",26),W("click",function(){pe(e);let n=g(2);return le(n.onCreateButtonClick())}),m(1),c(2,"cxTranslate"),l()}if(t&2){let e=g(2);o(),x(" ",p(2,1,e.getCreateButtonLabel())," ")}}function Ig(t,r){if(t&1&&v(0,Ug,3,3,"button",25),t&2){let e=g();s("ngIf",!e.hideAddButton)}}var At=(t,r)=>({cxRoute:t,params:r});function Eg(t,r){t&1&&ct(0)}function yg(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,Eg,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabIndex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function bg(t,r){if(t&1&&(d(0,"span",4),m(1),l()),t&2){let e=g();te("title",e.property),o(),U(e.property)}}function Ag(t,r){if(t&1){let e=ge();d(0,"button",1),W("click",function(){pe(e);let n=g();return le(n.toggleAssign())}),m(1),l()}if(t&2){let e=g();o(),x(" ",e.isAssigned?"unassign":"assign"," ")}}var Dg=[[["","actions",""]],[["","main",""]],[["","info",""]]],Rg=["[actions]","[main]","[info]"],Bg=()=>({autofocus:!0});function Tg(t,r){if(t&1&&(_(0,"cx-table",7),c(1,"async")),t&2){let e=g().ngIf,i=g().ngIf,n=g();s("structure",i)("data",e.values)("i18nRoot",n.domainType)("currentItem",Qe(6,Rd,n.key,p(1,4,n.subKey$)))}}function Pg(t,r){if(t&1){let e=ge();d(0,"div",8)(1,"cx-pagination",9),W("viewPageEvent",function(n){pe(e);let a=g().ngIf,S=g(2);return le(S.browse(a.pagination,n))}),l()()}if(t&2){let e=g().ngIf;o(),s("pagination",e.pagination)}}function Lg(t,r){if(t&1&&(de(0),d(1,"section"),v(2,Tg,2,9,"cx-table",5),l(),v(3,Pg,2,1,"div",6),ue()),t&2){let e=r.ngIf;g(2);let i=X(7);o(2),s("ngIf",e.values&&e.values.length>0)("ngIfElse",i),o(),s("ngIf",e.pagination&&e.pagination.totalPages!==void 0&&e.pagination.totalPages>1)}}function Mg(t,r){if(t&1&&(de(0,3),v(1,Lg,4,3,"ng-container",4),c(2,"async"),ue()),t&2){let e=g();o(),s("ngIf",p(2,1,e.listData$))}}function Fg(t,r){t&1&&(d(0,"p",10),m(1),c(2,"cxTranslate"),l()),t&2&&(o(),U(p(2,1,"organization.messages.emptyList")))}var Og=()=>({focusOnEscape:!0}),wg=()=>({autofocus:"button.primary"});function Ng(t,r){if(t&1&&(d(0,"p",7),m(1),c(2,"cxTranslate"),l()),t&2){let e=g();o(),x(" ",p(2,1,e.messageTitle)," ")}}function Gg(t,r){if(t&1&&_(0,"cx-icon",8),t&2){let e=g();s("type",e.messageIcon)}}function kg(t,r){if(t&1){let e=ge();d(0,"button",1),c(1,"async"),W("click",function(){let n=pe(e).ngIf,a=g();return le(a.toggle(n))}),m(2),c(3,"cxTranslate"),l()}if(t&2){let e=r.ngIf,i=g();s("disabled",i.isDisabled(e)||p(1,2,i.isInEditMode$)&&e.active&&i.disabled!==!0),o(2),x(" ",p(3,4,"organization."+(e.active?"disable":"enable")),`
`)}}function jg(t,r){if(t&1){let e=ge();d(0,"button",1),c(1,"async"),W("click",function(){let n=pe(e).ngIf,a=g();return le(a.delete(n))}),m(2),c(3,"cxTranslate"),l()}if(t&2){let e=g();s("disabled",p(1,2,e.isInEditMode$)),o(2),x(" ",p(3,4,"organization.delete"),`
`)}}var $g=["*"];function Vg(t,r){if(t&1&&(d(0,"li"),m(1),c(2,"cxTranslate"),l()),t&2){let e=g(3);o(),x(" ",p(2,1,e.i18nRoot+".info.disabledEnable")," ")}}function zg(t,r){if(t&1&&(d(0,"li"),m(1),c(2,"cxTranslate"),l()),t&2){let e=g(3);o(),x(" ",p(2,1,e.i18nRoot+".info.disabledCreate")," ")}}function qg(t,r){if(t&1&&(d(0,"li"),m(1),c(2,"cxTranslate"),l()),t&2){let e=g(3);o(),x(" ",p(2,1,e.i18nRoot+".info.disabledEdit")," ")}}function Kg(t,r){if(t&1&&(d(0,"li"),m(1),c(2,"cxTranslate"),l()),t&2){let e=g(3);o(),x(" ",p(2,1,e.i18nRoot+".info.disabledDisable")," ")}}function Hg(t,r){if(t&1&&(d(0,"section"),_(1,"cx-icon",1),d(2,"ul"),v(3,Vg,3,3,"li",0)(4,zg,3,3,"li",0)(5,qg,3,3,"li",0)(6,Kg,3,3,"li",0),vt(7),l()()),t&2){let e=g().ngIf,i=g();o(),s("type",i.iconTypes.INFO),o(2),s("ngIf",i.displayDisabledEnable(e)),o(),s("ngIf",i.displayDisabledCreate(e)),o(),s("ngIf",i.displayDisabledEdit(e)),o(),s("ngIf",i.displayDisabledDisable(e))}}function Zg(t,r){if(t&1&&(de(0),v(1,Hg,8,5,"section",0),ue()),t&2){let e=r.ngIf,i=g();o(),s("ngIf",i.displayDisabledCreate(e)||i.displayDisabledEdit(e)||i.displayDisabledEnable(e)||i.displayDisabledDisable(e)||i.displayCustomInfo)}}function Yg(t,r){t&1&&ct(0)}function Qg(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,Yg,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabIndex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function Wg(t,r){if(t&1&&(d(0,"span",4),m(1),l()),t&2){let e=g();te("title",e.property),o(),U(e.property)}}function Xg(t,r){t&1&&ct(0)}function Jg(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,Xg,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabIndex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function ef(t,r){if(t&1&&(d(0,"span",4),m(1),l()),t&2){let e=g();te("title",e.property),o(),U(e.property)}}function tf(t,r){t&1&&ct(0)}function nf(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,tf,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabindex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function rf(t,r){if(t&1&&(d(0,"span",5),c(1,"cxDate"),c(2,"cxDate"),m(3),c(4,"cxDate"),c(5,"cxDate"),l()),t&2){let e=g(2);xr("title","",p(1,5,e.model.startDate)," - ",p(2,7,e.model.endDate),""),o(3),jt(" ",p(4,9,e.model.startDate)," - ",p(5,11,e.model.endDate)," ")}}function of(t,r){if(t&1&&v(0,rf,6,13,"span",4),t&2){let e=g();s("ngIf",e.hasRange)}}function sf(t,r){t&1&&ct(0)}function af(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,sf,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabindex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function cf(t,r){if(t&1&&(d(0,"span",5),c(1,"cxTranslate"),m(2),c(3,"cxTranslate"),l()),t&2){let e=g(2);Cc("title","",e.model.threshold," ",e.model.currency==null?null:e.model.currency.symbol," ",p(1,7,"orgPurchaseLimit.per."+e.model.periodRange),""),o(2),Uc(" ",e.model.threshold," ",e.model.currency==null?null:e.model.currency.symbol," ",p(3,9,"orgPurchaseLimit.per."+e.model.periodRange)," ")}}function pf(t,r){if(t&1&&(d(0,"span",5),m(1),l()),t&2){let e=g(2);xr("title","",e.model.threshold," ",e.model.currency==null?null:e.model.currency.symbol,""),o(),jt(" ",e.model.threshold," ",e.model.currency==null?null:e.model.currency.symbol," ")}}function lf(t,r){if(t&1&&(d(0,"span",5),m(1),l()),t&2){let e=g(2);te("title",e.model.orderApprovalPermissionType.name),o(),x(" ",e.model.orderApprovalPermissionType.name," ")}}function df(t,r){if(t&1&&v(0,cf,4,11,"span",4)(1,pf,2,5,"span",4)(2,lf,2,2,"span",4),t&2){let e=g();s("ngIf",e.isTimeSpanThreshold),o(),s("ngIf",e.isOrderThreshold),o(),s("ngIf",e.isExceedPermission)}}function uf(t,r){t&1&&ct(0)}function mf(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,uf,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabindex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function gf(t,r){if(t&1&&(_(0,"li",7),c(1,"cxTranslate")),t&2){let e=r.$implicit;s("innerText",p(1,1,"organization.userRoles."+e))}}function ff(t,r){t&1&&(d(0,"li"),m(1,"-"),l())}function hf(t,r){if(t&1&&(d(0,"ul",4),v(1,gf,2,3,"li",5)(2,ff,2,0,"li",6),l()),t&2){let e=g();o(),s("ngForOf",e.model.roles),o(),s("ngIf",(e.model.roles==null?null:e.model.roles.length)===0)}}function vf(t,r){t&1&&ct(0)}function _f(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,vf,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabindex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function Sf(t,r){if(t&1&&(d(0,"span",5),c(1,"cxTranslate"),m(2),c(3,"cxTranslate"),l()),t&2){let e=g(2);ve("is-active",e.isActive),te("title",p(1,4,e.label)),o(2),x(" ",p(3,6,e.label),"")}}function xf(t,r){if(t&1&&v(0,Sf,4,8,"span",4),t&2){let e=g();s("ngIf",e.label)}}function Cf(t,r){t&1&&ct(0)}function Uf(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),v(2,Cf,1,0,"ng-container",3),l()),t&2){let e=g(),i=X(2);s("routerLink",p(1,3,Qe(5,At,e.route,e.routeModel)))("tabIndex",e.tabIndex),o(2),s("ngTemplateOutlet",i)}}function If(t,r){if(t&1&&(d(0,"span",4),m(1),l()),t&2){let e=g();te("title",e.property),o(),U(e.property)}}var $i=()=>({placement:"auto",class:"my-company-popover",appendToBody:!0,displayCloseButton:!0}),Ef=t=>({cxRoute:"orgCostCenterDetails",params:t}),We=t=>({cxRoute:"orgUnitDetails",params:t});function yf(t,r){if(t&1&&(d(0,"div",3)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"a",4),c(5,"cxUrl"),m(6),l()()),t&2){let e=g(2);o(2),U(p(3,3,"orgCostCenter.unit")),o(2),s("routerLink",p(5,5,b(7,We,e.model.unit))),o(2),x(" ",e.model.unit==null?null:e.model.unit.name," ")}}function bf(t,r){if(t&1&&(d(0,"div",2)(1,"div",3)(2,"label"),m(3),c(4,"cxTranslate"),l(),d(5,"a",4),c(6,"cxUrl"),m(7),l()(),d(8,"div",3)(9,"label"),m(10),c(11,"cxTranslate"),l(),d(12,"span",5),m(13),l()(),d(14,"div",3)(15,"label"),m(16),c(17,"cxTranslate"),l(),d(18,"span",5),m(19),c(20,"cxTranslate"),l()(),d(21,"div",3)(22,"label"),m(23),c(24,"cxTranslate"),l(),d(25,"span",5),m(26),l()(),v(27,yf,7,9,"div",6),l()),t&2){let e=g();o(3),U(p(4,14,"orgCostCenter.name")),o(2),s("routerLink",p(6,16,b(26,Ef,e.model))),o(2),x(" ",e.model.name," "),o(3),U(p(11,18,"orgCostCenter.code")),o(3),x(" ",e.model.code," "),o(3),U(p(17,20,"orgCostCenter.active")),o(2),ve("is-active",e.model.active)("is-inactive",!e.model.active),o(),x(" ",p(20,22,e.model.active?"organization.enabled":"organization.disabled")," "),o(4),U(p(24,24,"orgCostCenter.currency")),o(3),x(" ",e.model.currency==null?null:e.model.currency.isocode," "),o(),s("ngIf",e.model.unit)}}var Ii=t=>({refreshFocus:t}),Af=t=>({cxRoute:"orgBudgetEdit",params:t}),Df=t=>({cxRoute:"orgBudgetCostCenters",params:t});function Rf(t,r){if(t&1&&(d(0,"a",11),c(1,"cxUrl"),m(2),c(3,"cxTranslate"),l()),t&2){let e=g().ngIf;s("routerLink",p(1,2,b(6,Df,e))),o(2),x(" ",p(3,4,"orgBudget.links.costCenters")," ")}}function Bf(t,r){if(t&1&&(d(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),m(4),c(5,"cxTranslate"),l(),_(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),d(8,"section",5)(9,"div",6)(10,"label"),m(11),c(12,"cxTranslate"),l(),d(13,"span",7),m(14),l()(),d(15,"div",6)(16,"label"),m(17),c(18,"cxTranslate"),l(),d(19,"span",7),m(20),l()(),d(21,"div",6)(22,"label"),m(23),c(24,"cxTranslate"),l(),d(25,"span",7),m(26),c(27,"cxDate"),l()(),d(28,"div",6)(29,"label"),m(30),c(31,"cxTranslate"),l(),d(32,"span",7),m(33),c(34,"cxDate"),l()(),d(35,"div",6)(36,"label"),m(37),c(38,"cxTranslate"),l(),d(39,"span",7),m(40),c(41,"cxTranslate"),l()(),d(42,"div",6)(43,"label"),m(44),c(45,"cxTranslate"),l(),d(46,"span",7),m(47),l()(),d(48,"div",6)(49,"label"),m(50),c(51,"cxTranslate"),l(),d(52,"a",8),c(53,"cxUrl"),m(54),l()()(),d(55,"section",9),v(56,Rf,4,8,"a",10),l()()),t&2){let e=r.ngIf,i=g();s("cxFocus",b(52,Ii,e)),o(),ve("disabled",!e.active||p(2,24,i.isInEditMode$)),s("routerLink",p(3,26,b(54,Af,e))),o(3),x(" ",p(5,28,"organization.edit")," "),o(7),U(p(12,30,"orgBudget.name")),o(3),x(" ",e.name," "),o(3),U(p(18,32,"orgBudget.code")),o(3),x(" ",e.code," "),o(3),U(p(24,34,"orgBudget.startDate")),o(3),x(" ",p(27,36,e.startDate)," "),o(4),U(p(31,38,"orgBudget.endDate")),o(3),x(" ",p(34,40,e.endDate)," "),o(4),U(p(38,42,"orgBudget.active")),o(2),ve("is-active",e.active),o(),x(" ",p(41,44,e.active?"organization.enabled":"organization.disabled")," "),o(4),U(p(45,46,"orgBudget.amount")),o(3),jt(" ",e.budget," ",e.currency==null?null:e.currency.isocode," "),o(3),U(p(51,48,"orgBudget.unit")),o(2),s("routerLink",p(53,50,b(56,We,e.orgUnit))),o(2),x(" ",e.orgUnit==null?null:e.orgUnit.name," "),o(2),s("ngIf",e.code)}}var He=()=>({required:"true"}),J=t=>({label:t});function Tf(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgBudget.name")))("control",e.form.get("name"))}}function Pf(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("name"))}}function Lf(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgBudget.code")))("control",e.form.get("code"))}}function Mf(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("code"))}}function Ff(t,r){if(t&1){let e=ge();d(0,"cx-date-picker",18),W("update",function(){let n;pe(e);let a=g(2);return le((n=a.form.get("startDate"))==null?null:n.updateValueAndValidity())}),l()}if(t&2){let e,i=g(2);s("control",i.form.get("endDate"))("min",(e=i.form.get("startDate"))==null?null:e.value)("required",!0)}}function Of(t,r){if(t&1){let e=ge();d(0,"cx-date-picker",19),W("update",function(){let n;pe(e);let a=g(2);return le((n=a.form.get("startDate"))==null?null:n.updateValueAndValidity())}),l()}if(t&2){let e,i=g(2);s("control",i.form.get("endDate"))("min",(e=i.form.get("startDate"))==null?null:e.value)("required",!0)}}function wf(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgBudget.currency")))("control",e.form.get("currency.isocode"))}}function Nf(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("currency.isocode"))}}function Gf(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgBudget.amount")))("control",e.form.get("budget"))}}function kf(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("budget"))}}function jf(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(3);s("translationParams",b(4,J,p(1,2,"orgBudget.businessUnits")))("control",e.form.get("orgUnit.uid"))}}function $f(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(3);s("control",e.form.get("orgUnit.uid"))}}function Vf(t,r){if(t&1&&(d(0,"label",12)(1,"span",3),m(2),c(3,"cxTranslate"),l(),_(4,"ng-select",20),c(5,"cxTranslate"),v(6,jf,2,6,"cx-form-errors",5)(7,$f,1,1,"cx-form-errors",6),l()),t&2){let e,i=r.ngIf,n=g(2);s("formGroup",n.form.get("orgUnit")),o(2),U(p(3,10,"orgBudget.businessUnits")),o(2),s("inputAttrs",oe(14,He))("searchable",!0)("clearable",!1)("items",i)("readonly",(e=(e=n.form.get("orgUnit.uid"))==null?null:e.disabled)!==null&&e!==void 0?e:!1)("placeholder",p(5,12,"orgBudget.businessUnits")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}function zf(t,r){if(t&1){let e=ge();de(0,2),d(1,"label")(2,"span",3),m(3),c(4,"cxTranslate"),l(),d(5,"input",4),c(6,"cxTranslate"),W("blur",function(){pe(e);let n=g();return le(n.createCodeWithName(n.form.get("name"),n.form.get("code")))}),l(),v(7,Tf,2,6,"cx-form-errors",5)(8,Pf,1,1,"cx-form-errors",6),l(),d(9,"label")(10,"span",3),m(11),c(12,"cxTranslate"),l(),_(13,"input",7),c(14,"cxTranslate"),v(15,Lf,2,6,"cx-form-errors",5)(16,Mf,1,1,"cx-form-errors",6),l(),d(17,"label")(18,"span",8),m(19),c(20,"cxTranslate"),l(),d(21,"cx-date-picker",9),W("update",function(){let n;pe(e);let a=g();return le((n=a.form.get("endDate"))==null?null:n.updateValueAndValidity())}),l()(),d(22,"label")(23,"span",8),m(24),c(25,"cxTranslate"),l(),v(26,Ff,1,3,"cx-date-picker",10)(27,Of,1,3,"cx-date-picker",11),l(),d(28,"label",12)(29,"span",3),m(30),c(31,"cxTranslate"),l(),_(32,"ng-select",13),c(33,"async"),c(34,"cxTranslate"),v(35,wf,2,6,"cx-form-errors",5)(36,Nf,1,1,"cx-form-errors",6),l(),d(37,"label")(38,"span",8),m(39),c(40,"cxTranslate"),l(),_(41,"input",14),c(42,"cxTranslate"),v(43,Gf,2,6,"cx-form-errors",5)(44,kf,1,1,"cx-form-errors",6),l(),v(45,Vf,8,15,"label",15),c(46,"async"),ue()}if(t&2){let e,i,n=g();s("formGroup",n.form),o(3),U(p(4,32,"orgBudget.name")),o(2),te("placeholder",p(6,34,"orgBudget.name")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(12,36,"orgBudget.code")),o(2),te("placeholder",p(14,38,"orgBudget.code")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(20,40,"orgBudget.startDate")),o(2),s("control",n.form.get("startDate"))("max",(e=n.form.get("endDate"))==null?null:e.value)("required",!0),o(3),U(p(25,42,"orgBudget.endDate")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(),s("formGroup",n.form.get("currency")),o(2),U(p(31,44,"orgBudget.currency")),o(2),ve("invalid",(i=(i=n.form.get("currency.isocode"))==null?null:i.invalid)!==null&&i!==void 0?i:!1),s("inputAttrs",oe(56,He))("searchable",!1)("clearable",!1)("items",p(33,46,n.currencies$))("placeholder",p(34,48,"orgBudget.currency")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(40,50,"orgBudget.amount")),o(2),te("placeholder",p(42,52,"orgBudget.amount")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(),s("ngIf",p(46,54,n.units$))}}var qf=t=>({cxRoute:"orgBudgetDetails",params:t});function Kf(t,r){if(t&1&&(d(0,"div",2)(1,"div",3)(2,"label"),m(3),c(4,"cxTranslate"),l(),d(5,"a",4),c(6,"cxUrl"),m(7),l()(),d(8,"div",3)(9,"label"),m(10),c(11,"cxTranslate"),l(),d(12,"span",5),m(13),l()(),d(14,"div",3)(15,"label"),m(16),c(17,"cxTranslate"),l(),d(18,"span",5),m(19),c(20,"cxDate"),l()(),d(21,"div",3)(22,"label"),m(23),c(24,"cxTranslate"),l(),d(25,"span",5),m(26),c(27,"cxDate"),l()(),d(28,"div",3)(29,"label"),m(30),c(31,"cxTranslate"),l(),d(32,"span",5),m(33),c(34,"cxTranslate"),l()(),d(35,"div",3)(36,"label"),m(37),c(38,"cxTranslate"),l(),d(39,"span",5),m(40),l()(),d(41,"div",3)(42,"label"),m(43),c(44,"cxTranslate"),l(),d(45,"a",4),c(46,"cxUrl"),m(47),l()()()),t&2){let e=g();o(3),U(p(4,19,"orgBudget.name")),o(2),s("routerLink",p(6,21,b(43,qf,e.model))),o(2),x(" ",e.model.name," "),o(3),U(p(11,23,"orgBudget.code")),o(3),x(" ",e.model.code," "),o(3),U(p(17,25,"orgBudget.startDate")),o(3),x(" ",p(20,27,e.model.startDate)," "),o(4),U(p(24,29,"orgBudget.endDate")),o(3),x(" ",p(27,31,e.model.endDate)," "),o(4),U(p(31,33,"orgBudget.active")),o(2),ve("is-active",e.model.active),o(),x(" ",p(34,35,e.model.active?"organization.enabled":"organization.disabled")," "),o(4),U(p(38,37,"orgBudget.amount")),o(3),jt(" ",e.model.budget," ",e.model.currency==null?null:e.model.currency.isocode," "),o(3),U(p(44,39,"orgBudget.unit")),o(2),s("routerLink",p(46,41,b(45,We,e.model.orgUnit))),o(2),x(" ",e.model.orgUnit==null?null:e.model.orgUnit.name," ")}}var Hf=t=>({cxRoute:"orgCostCenterEdit",params:t}),Zf=t=>({cxRoute:"orgCostCenterBudgets",params:t});function Yf(t,r){if(t&1&&(d(0,"a",11),c(1,"cxUrl"),m(2),c(3,"cxTranslate"),l()),t&2){let e=g().ngIf;s("routerLink",p(1,2,b(6,Zf,e))),o(2),x(" ",p(3,4,"orgCostCenter.budget.link")," ")}}function Qf(t,r){if(t&1&&(d(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),m(4),c(5,"cxTranslate"),l(),_(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),d(8,"section",5)(9,"div",6)(10,"label"),m(11),c(12,"cxTranslate"),l(),d(13,"span",7),m(14),l()(),d(15,"div",6)(16,"label"),m(17),c(18,"cxTranslate"),l(),d(19,"span",7),m(20),l()(),d(21,"div",6)(22,"label"),m(23),c(24,"cxTranslate"),l(),d(25,"span",7),m(26),c(27,"cxTranslate"),l()(),d(28,"div",6)(29,"label"),m(30),c(31,"cxTranslate"),l(),d(32,"span",7),m(33),l()(),d(34,"div",6)(35,"label"),m(36),c(37,"cxTranslate"),l(),d(38,"a",8),c(39,"cxUrl"),m(40),l()()(),d(41,"section",9),v(42,Yf,4,8,"a",10),l()()),t&2){let e=r.ngIf,i=g();s("cxFocus",b(41,Ii,e)),o(),ve("disabled",!e.active||p(2,21,i.isInEditMode$)),s("routerLink",p(3,23,b(43,Hf,e))),o(3),x(" ",p(5,25,"organization.edit")," "),o(7),U(p(12,27,"orgCostCenter.name")),o(3),x(" ",e.name," "),o(3),U(p(18,29,"orgCostCenter.code")),o(3),x(" ",e.code," "),o(3),U(p(24,31,"orgCostCenter.active")),o(2),ve("is-active",e.active)("is-inactive",!e.active),o(),x(" ",p(27,33,e.active?"organization.enabled":"organization.disabled")," "),o(4),U(p(31,35,"orgCostCenter.currency")),o(3),x(" ",e.currency==null?null:e.currency.isocode," "),o(3),U(p(37,37,"orgCostCenter.unit")),o(2),s("routerLink",p(39,39,b(45,We,e.unit))),o(2),x(" ",e.unit==null?null:e.unit.name," "),o(2),s("ngIf",e.code)}}function Wf(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgCostCenter.name")))("control",e.form.get("name"))}}function Xf(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(2);s("control",e.form.get("name"))}}function Jf(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgCostCenter.code")))("control",e.form.get("code"))}}function eh(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(2);s("control",e.form.get("code"))}}function th(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgCostCenter.currency")))("control",e.form.get("currency.isocode"))}}function ih(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(2);s("control",e.form.get("currency.isocode"))}}function nh(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgCostCenter.unit")))("control",e.form.get("unit.uid"))}}function rh(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(2);s("control",e.form.get("unit.uid"))}}function oh(t,r){if(t&1){let e=ge();de(0,2),d(1,"label")(2,"span",3),m(3),c(4,"cxTranslate"),l(),d(5,"input",4),c(6,"cxTranslate"),W("blur",function(){pe(e);let n=g();return le(n.createCodeWithName(n.form.get("name"),n.form.get("code")))}),l(),v(7,Wf,2,6,"cx-form-errors",5)(8,Xf,1,1,"cx-form-errors",6),l(),d(9,"label")(10,"span",3),m(11),c(12,"cxTranslate"),l(),_(13,"input",7),c(14,"cxTranslate"),v(15,Jf,2,6,"cx-form-errors",5)(16,eh,1,1,"cx-form-errors",6),l(),d(17,"label",8)(18,"span",3),m(19),c(20,"cxTranslate"),l(),_(21,"ng-select",9),c(22,"async"),c(23,"cxTranslate"),v(24,th,2,6,"cx-form-errors",5)(25,ih,1,1,"cx-form-errors",6),l(),d(26,"label",10)(27,"span",3),m(28),c(29,"cxTranslate"),l(),_(30,"ng-select",11),c(31,"async"),c(32,"cxTranslate"),v(33,nh,2,6,"cx-form-errors",5)(34,rh,1,1,"cx-form-errors",6),l(),ue()}if(t&2){let e,i,n,a=g();s("formGroup",a.form),o(3),U(p(4,29,"orgCostCenter.name")),o(2),te("placeholder",p(6,31,"orgCostCenter.name")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(12,33,"orgCostCenter.code")),o(2),te("placeholder",p(14,35,"orgCostCenter.code")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(20,37,"orgCostCenter.currency")),o(2),ve("invalid",(e=(e=a.form.get("currency.isocode"))==null?null:e.invalid)!==null&&e!==void 0?e:!1),s("inputAttrs",oe(49,He))("searchable",!1)("clearable",!1)("items",p(22,39,a.currencies$))("placeholder",p(23,41,"orgCostCenter.currency")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(),s("formGroup",a.form.get("unit")),o(2),U(p(29,43,"orgCostCenter.unit")),o(2),s("inputAttrs",oe(50,He))("searchable",!0)("clearable",!1)("items",(i=p(31,45,a.units$))!==null&&i!==void 0?i:null)("readonly",(n=(n=a.form.get("unit.uid"))==null?null:n.disabled)!==null&&n!==void 0?n:!1)("placeholder",p(32,47,"orgCostCenter.unit")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}var sh=t=>({cxRoute:"orgPurchaseLimitEdit",params:t}),ah=()=>({disabledEnable:!1});function ch(t,r){if(t&1&&(d(0,"div",6)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"span",7),m(5),l()()),t&2){let e=g().ngIf;o(2),U(p(3,3,"orgPurchaseLimit.threshold")),o(3),jt(" ",e.threshold," ",e.currency==null?null:e.currency.symbol," ")}}function ph(t,r){if(t&1&&(d(0,"div",6)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"span",7),m(5),l()()),t&2){let e=g().ngIf;o(2),U(p(3,2,"orgPurchaseLimit.periodRange")),o(3),x(" ",e.periodRange," ")}}function lh(t,r){if(t&1&&(d(0,"a",10),c(1,"cxUrl"),m(2),l()),t&2){let e=g().ngIf;s("routerLink",p(1,2,b(4,We,e.orgUnit))),o(2),x(" ",e.orgUnit==null?null:e.orgUnit.name," ")}}function dh(t,r){if(t&1&&(d(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),m(4),c(5,"cxTranslate"),l(),_(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),d(8,"section",5)(9,"div",6)(10,"label"),m(11),c(12,"cxTranslate"),l(),d(13,"span",7),m(14),l()(),d(15,"div",6)(16,"label"),m(17),c(18,"cxTranslate"),l(),d(19,"span",7),m(20),c(21,"cxTranslate"),l()(),d(22,"div",6)(23,"label"),m(24),c(25,"cxTranslate"),l(),d(26,"span",7),m(27),l()(),v(28,ch,6,5,"div",8)(29,ph,6,4,"div",8),d(30,"div",6)(31,"label"),m(32),c(33,"cxTranslate"),l(),v(34,lh,3,6,"a",9),l()()()),t&2){let e=r.ngIf,i=g();s("cxFocus",b(35,Ii,e)),o(),ve("disabled",!e.active||p(2,19,i.isInEditMode$)),s("routerLink",p(3,21,b(37,sh,e))),o(3),x(" ",p(5,23,"organization.edit")," "),o(2),s("disabled",!1),o(),s("displayInfoConfig",oe(39,ah)),o(4),U(p(12,25,"orgPurchaseLimit.code")),o(3),x(" ",e.code," "),o(3),U(p(18,27,"orgPurchaseLimit.active")),o(2),ve("is-active",e.active),o(),x(" ",p(21,29,e.active?"organization.enabled":"organization.disabled")," "),o(4),U(p(25,31,"orgPurchaseLimit.orderApprovalPermissionType")),o(3),x(" ",e.orderApprovalPermissionType==null?null:e.orderApprovalPermissionType.name," "),o(),s("ngIf",e.threshold||e.threshold===0),o(),s("ngIf",e.periodRange),o(3),U(p(33,33,"orgPurchaseLimit.unit")),o(2),s("ngIf",e.code)}}function uh(t,r){if(t&1&&(_(0,"cx-form-errors",11),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgPurchaseLimit.code")))("control",e.form.get("code"))}}function mh(t,r){if(t&1&&_(0,"cx-form-errors",12),t&2){let e=g(2);s("control",e.form.get("code"))}}function gh(t,r){if(t&1&&(_(0,"cx-form-errors",11),c(1,"cxTranslate")),t&2){let e=g(3);s("translationParams",b(4,J,p(1,2,"orgPurchaseLimit.orderApprovalPermissionType")))("control",e.form.get("orderApprovalPermissionType.code"))}}function fh(t,r){if(t&1&&_(0,"cx-form-errors",12),t&2){let e=g(3);s("control",e.form.get("orderApprovalPermissionType.code"))}}function hh(t,r){if(t&1&&(d(0,"label",9)(1,"span",3),m(2),c(3,"cxTranslate"),l(),_(4,"ng-select",13),c(5,"async"),c(6,"cxTranslate"),v(7,gh,2,6,"cx-form-errors",5)(8,fh,1,1,"cx-form-errors",6),l()),t&2){let e,i=g(2);s("formGroup",i.form.get("orderApprovalPermissionType")),o(2),U(p(3,10,"orgPurchaseLimit.orderApprovalPermissionType")),o(2),s("inputAttrs",oe(16,He))("searchable",!1)("clearable",!1)("items",(e=p(5,12,i.types$))!==null&&e!==void 0?e:null)("readonly",i.form.disabled)("placeholder",p(6,14,"orgPurchaseLimit.orderApprovalPermissionType")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}function vh(t,r){if(t&1&&(_(0,"cx-form-errors",11),c(1,"cxTranslate")),t&2){let e=g(3);s("translationParams",b(4,J,p(1,2,"orgPurchaseLimit.periodRange")))("control",e.form.get("periodRange"))}}function _h(t,r){if(t&1&&_(0,"cx-form-errors",12),t&2){let e=g(3);s("control",e.form.get("periodRange"))}}function Sh(t,r){if(t&1&&(d(0,"label")(1,"span",3),m(2),c(3,"cxTranslate"),l(),_(4,"ng-select",14),c(5,"cxTranslate"),v(6,vh,2,6,"cx-form-errors",5)(7,_h,1,1,"cx-form-errors",6),l()),t&2){let e=g(2);o(2),U(p(3,8,"orgPurchaseLimit.periodRange")),o(2),s("inputAttrs",oe(12,He))("searchable",!1)("clearable",!1)("items",e.periods)("placeholder",p(5,10,"orgPurchaseLimit.periodRange")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}function xh(t,r){if(t&1&&(_(0,"ng-select",16),c(1,"cxTranslate")),t&2){let e=r.ngIf;s("inputAttrs",oe(7,He))("searchable",!1)("clearable",!1)("items",e)("placeholder",p(1,5,"orgPurchaseLimit.currency"))}}function Ch(t,r){if(t&1&&(_(0,"cx-form-errors",11),c(1,"cxTranslate")),t&2){let e=g(3);s("translationParams",b(4,J,p(1,2,"orgPurchaseLimit.currency")))("control",e.form.get("currency.isocode"))}}function Uh(t,r){if(t&1&&_(0,"cx-form-errors",12),t&2){let e=g(3);s("control",e.form.get("currency.isocode"))}}function Ih(t,r){if(t&1&&(d(0,"label",9)(1,"span",3),m(2),c(3,"cxTranslate"),l(),v(4,xh,2,8,"ng-select",15),c(5,"async"),v(6,Ch,2,6,"cx-form-errors",5)(7,Uh,1,1,"cx-form-errors",6),l()),t&2){let e=g(2);s("formGroup",e.form.get("currency")),o(2),U(p(3,5,"orgPurchaseLimit.currency")),o(2),s("ngIf",p(5,7,e.currencies$)),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}function Eh(t,r){if(t&1&&(_(0,"cx-form-errors",11),c(1,"cxTranslate")),t&2){let e=g(3);s("translationParams",b(4,J,p(1,2,"orgPurchaseLimit.threshold")))("control",e.form.get("threshold"))}}function yh(t,r){if(t&1&&_(0,"cx-form-errors",12),t&2){let e=g(3);s("control",e.form.get("threshold"))}}function bh(t,r){t&1&&(d(0,"label")(1,"span",3),m(2),c(3,"cxTranslate"),l(),_(4,"input",17),c(5,"cxTranslate"),v(6,Eh,2,6,"cx-form-errors",5)(7,yh,1,1,"cx-form-errors",6),l()),t&2&&(o(2),U(p(3,4,"orgPurchaseLimit.threshold")),o(2),te("placeholder",p(5,6,"orgPurchaseLimit.threshold")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"))}function Ah(t,r){if(t&1&&(_(0,"cx-form-errors",11),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgPurchaseLimit.orgUnit")))("control",e.form.get("orgUnit.uid"))}}function Dh(t,r){if(t&1&&_(0,"cx-form-errors",12),t&2){let e=g(2);s("control",e.form.get("orgUnit.uid"))}}function Rh(t,r){if(t&1&&(de(0,2),d(1,"label")(2,"span",3),m(3),c(4,"cxTranslate"),l(),_(5,"input",4),c(6,"cxTranslate"),v(7,uh,2,6,"cx-form-errors",5)(8,mh,1,1,"cx-form-errors",6),l(),v(9,hh,9,17,"label",7),c(10,"async"),v(11,Sh,8,13,"label",8)(12,Ih,8,9,"label",7)(13,bh,8,8,"label",8),d(14,"label",9)(15,"span",3),m(16),c(17,"cxTranslate"),l(),_(18,"ng-select",10),c(19,"async"),c(20,"cxTranslate"),v(21,Ah,2,6,"cx-form-errors",5)(22,Dh,1,1,"cx-form-errors",6),l(),ue()),t&2){let e,i,n,a=g();s("formGroup",a.form),o(3),U(p(4,19,"orgPurchaseLimit.code")),o(2),te("placeholder",p(6,21,"orgPurchaseLimit.code")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(),s("ngIf",(e=p(10,23,a.types$))==null?null:e.length),o(2),s("ngIf",a.form.get("periodRange")),o(),s("ngIf",a.form.get("currency")),o(),s("ngIf",a.form.get("threshold")),o(),s("formGroup",a.form.get("orgUnit")),o(2),U(p(17,25,"orgPurchaseLimit.orgUnit")),o(2),s("inputAttrs",oe(31,He))("searchable",!0)("clearable",!1)("items",(i=p(19,27,a.units$))!==null&&i!==void 0?i:null)("readonly",(n=(n=a.form.get("orgUnit"))==null?null:n.disabled)!==null&&n!==void 0?n:!1)("placeholder",p(20,29,"orgPurchaseLimit.orgUnit")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}var Bh=()=>({disabledDisable:!0}),Th=t=>({cxRoute:"orgUnitEdit",params:t}),Ph=t=>({cxRoute:"orgUnitUserList",params:t}),Lh=t=>({cxRoute:"orgUnitApprovers",params:t}),Mh=t=>({cxRoute:"orgUnitAddressList",params:t}),Fh=t=>({cxRoute:"orgUnitCostCenters",params:t}),Oh=t=>({cxRoute:"orgUnitChildren",params:t});function wh(t,r){if(t&1&&(d(0,"a",11),c(1,"async"),c(2,"cxUrl"),m(3),c(4,"cxTranslate"),l()),t&2){let e=g().ngIf,i=g();ve("disabled",!e.active||p(1,4,i.isInEditMode$)),s("routerLink",p(2,6,b(10,Th,e))),o(3),x(" ",p(4,8,"organization.edit")," ")}}function Nh(t,r){t&1&&_(0,"cx-org-toggle-status",12)}function Gh(t,r){if(t&1&&(d(0,"div",6)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"span",7),m(5),l()()),t&2){let e=g().ngIf;o(2),U(p(3,2,"orgUnit.approvalProcess")),o(3),x(" ",e.approvalProcess==null?null:e.approvalProcess.name," ")}}function kh(t,r){if(t&1&&(d(0,"div",6)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"a",13),c(5,"cxUrl"),m(6),l()()),t&2){let e=g().ngIf;o(2),U(p(3,3,"orgUnit.parentUnit")),o(2),s("routerLink",p(5,5,b(7,We,e.parentOrgUnit))),o(2),x(" ",e.parentOrgUnit==null?null:e.parentOrgUnit.name," ")}}function jh(t,r){if(t&1&&(d(0,"a",15),c(1,"cxUrl"),m(2),c(3,"cxTranslate"),l()),t&2){let e=g(2).ngIf;s("routerLink",p(1,2,b(6,Oh,e))),o(2),x(" ",p(3,4,"orgUnit.links.units")," ")}}function $h(t,r){if(t&1&&(de(0),v(1,jh,4,8,"a",14),d(2,"a",15),c(3,"cxUrl"),m(4),c(5,"cxTranslate"),l(),d(6,"a",15),c(7,"cxUrl"),m(8),c(9,"cxTranslate"),l(),d(10,"a",15),c(11,"cxUrl"),m(12),c(13,"cxTranslate"),l(),d(14,"a",15),c(15,"cxUrl"),m(16),c(17,"cxTranslate"),l(),ue()),t&2){let e=g().ngIf,i=g();o(),s("ngIf",i.isUpdatingUnitAllowed),o(),s("routerLink",p(3,9,b(25,Ph,e))),o(2),x(" ",p(5,11,"orgUnit.links.users")," "),o(2),s("routerLink",p(7,13,b(27,Lh,e))),o(2),x(" ",p(9,15,"orgUnit.links.approvers")," "),o(2),s("routerLink",p(11,17,b(29,Mh,e))),o(2),x(" ",p(13,19,"orgUnit.links.shippingAddresses")," "),o(2),s("routerLink",p(15,21,b(31,Fh,e))),o(2),x(" ",p(17,23,"orgUnit.links.costCenters")," ")}}function Vh(t,r){if(t&1&&(d(0,"cx-org-card",1),v(1,wh,5,12,"a",2)(2,Nh,1,0,"cx-org-toggle-status",3),_(3,"cx-org-disable-info",4),d(4,"section",5)(5,"div",6)(6,"label"),m(7),c(8,"cxTranslate"),l(),d(9,"span",7),m(10),l()(),d(11,"div",6)(12,"label"),m(13),c(14,"cxTranslate"),l(),d(15,"span",7),m(16),l()(),d(17,"div",6)(18,"label"),m(19),c(20,"cxTranslate"),l(),d(21,"span",7),m(22),c(23,"cxTranslate"),l()(),v(24,Gh,6,4,"div",8)(25,kh,7,9,"div",8),l(),d(26,"section",9),v(27,$h,18,33,"ng-container",10),l()()),t&2){let e=r.ngIf,i=g();s("cxFocus",b(24,Ii,e))("showHint",!0),o(),s("ngIf",i.isUpdatingUnitAllowed),o(),s("ngIf",i.isUpdatingUnitAllowed),o(),s("displayInfoConfig",oe(26,Bh)),o(4),U(p(8,16,"orgUnit.name")),o(3),x(" ",e.name," "),o(3),U(p(14,18,"orgUnit.uid")),o(3),x(" ",e.uid," "),o(3),U(p(20,20,"orgUnit.active")),o(2),ve("is-active",e.active),o(),x(" ",p(23,22,e.active?"organization.enabled":"organization.disabled")," "),o(2),s("ngIf",e.approvalProcess==null?null:e.approvalProcess.name),o(),s("ngIf",e.parentOrgUnit),o(2),s("ngIf",e.uid)}}function zh(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnit.name")))("control",e.form.get("name"))}}function qh(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(2);s("control",e.form.get("name"))}}function Kh(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnit.uid")))("control",e.form.get("uid"))}}function Hh(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(2);s("control",e.form.get("uid"))}}function Zh(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnit.approvalProcess")))("control",e.form.get("approvalProcess.code"))}}function Yh(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(2);s("control",e.form.get("approvalProcess.code"))}}function Qh(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g(3);s("translationParams",b(4,J,p(1,2,"orgUnit.form.parentOrgUnit")))("control",e.form.get("parentOrgUnit.uid"))}}function Wh(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g(3);s("control",e.form.get("parentOrgUnit.uid"))}}function Xh(t,r){if(t&1&&(de(0),d(1,"label",14)(2,"span",4),m(3),c(4,"cxTranslate"),l(),_(5,"ng-select",15),c(6,"async"),c(7,"cxTranslate"),v(8,Qh,2,6,"cx-form-errors",6)(9,Wh,1,1,"cx-form-errors",7),l(),ue()),t&2){let e,i=g(2);o(3),U(p(4,8,"orgUnit.form.parentOrgUnit")),o(2),s("inputAttrs",oe(14,He))("searchable",!0)("clearable",!1)("items",(e=p(6,10,i.units$))!==null&&e!==void 0?e:null)("placeholder",p(7,12,"orgUnit.form.parentOrgUnit")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}function Jh(t,r){t&1&&(d(0,"span",16),m(1),c(2,"cxTranslate"),l()),t&2&&(o(),U(p(2,1,"orgUnit.form.parentOrgUnitNotes")))}function ev(t,r){if(t&1){let e=ge();de(0,3),d(1,"label")(2,"span",4),m(3),c(4,"cxTranslate"),l(),d(5,"input",5),c(6,"cxTranslate"),W("blur",function(){pe(e);let n=g();return le(n.createUidWithName(n.form.get("name"),n.form.get("uid")))}),l(),v(7,zh,2,6,"cx-form-errors",6)(8,qh,1,1,"cx-form-errors",7),l(),d(9,"label")(10,"span",4),m(11),c(12,"cxTranslate"),l(),_(13,"input",8),c(14,"cxTranslate"),v(15,Kh,2,6,"cx-form-errors",6)(16,Hh,1,1,"cx-form-errors",7),l(),d(17,"label",9)(18,"span",4),m(19),c(20,"cxTranslate"),l(),_(21,"ng-select",10),c(22,"async"),c(23,"cxTranslate"),v(24,Zh,2,6,"cx-form-errors",6)(25,Yh,1,1,"cx-form-errors",7),l(),v(26,Xh,10,15,"ng-container",11)(27,Jh,3,3,"ng-template",null,0,Se),ue()}if(t&2){let e=X(28),i=g();s("formGroup",i.form),o(3),U(p(4,18,"orgUnit.name")),o(2),te("placeholder",p(6,20,"orgUnit.name")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(12,22,"orgUnit.uid")),o(2),te("placeholder",p(14,24,"orgUnit.uid")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(20,26,"orgUnit.approvalProcess")),o(2),s("inputAttrs",oe(32,He))("searchable",!1)("items",p(22,28,i.approvalProcess$))("placeholder",p(23,30,"orgUnit.approvalProcess")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(),s("ngIf",i.form.get("parentOrgUnit"))("ngIfElse",e)}}function tv(t,r){if(t&1&&(d(0,"cx-org-card",2),c(1,"cxTranslate"),d(2,"a",3),m(3),c(4,"cxTranslate"),l(),_(5,"cx-org-delete-item",4),d(6,"section",5)(7,"div",6)(8,"label"),m(9),c(10,"cxTranslate"),l(),d(11,"span",7),m(12),l()(),d(13,"div",6)(14,"label"),m(15),c(16,"cxTranslate"),l(),d(17,"span",7)(18,"a",8),c(19,"cxUrl"),m(20),l()()(),d(21,"div",9)(22,"label"),m(23),c(24,"cxTranslate"),l(),d(25,"span",7),m(26),l()(),d(27,"div",6)(28,"label"),m(29),c(30,"cxTranslate"),l(),d(31,"span",7),m(32),c(33,"async"),l()()()()),t&2){let e,i=r.ngIf,n=g().ngIf,a=g();s("subtitle",Bt(1,14,"orgUnitAddress.details.subtitle",b(31,gn,n)))("cxFocus",b(33,Ii,i)),o(3),x(" ",p(4,17,"organization.edit")," "),o(2),s("additionalParam",n.uid),o(4),U(p(10,19,"orgUnit.name")),o(3),jt(" ",i.firstName," ",i.lastName," "),o(3),U(p(16,21,"orgUnit.unit")),o(3),s("routerLink",p(19,23,b(35,We,n))),o(2),x(" ",n.name," "),o(3),U(p(24,25,"orgUnitAddress.formattedAddress")),o(3),x(" ",i.formattedAddress," "),o(3),U(p(30,27,"orgUnitAddress.country")),o(3),x(" ",(e=p(33,29,a.getCountry(i.country==null?null:i.country.isocode)))==null?null:e.name," ")}}function iv(t,r){if(t&1&&(de(0),v(1,tv,34,37,"cx-org-card",1),c(2,"async"),ue()),t&2){let e=g();o(),s("ngIf",p(2,1,e.model$))}}function nv(t,r){t&1&&ct(0)}function rv(t,r){if(t&1&&(d(0,"a",3),c(1,"cxUrl"),v(2,nv,1,0,"ng-container",4),l()),t&2){let e=g().ngIf,i=g(),n=X(3);s("routerLink",p(1,3,Qe(5,At,i.route,i.getRouterModel(e))))("tabIndex",i.tabIndex),o(2),s("ngTemplateOutlet",n)}}function ov(t,r){if(t&1&&(de(0),v(1,rv,3,8,"a",2),ue()),t&2){let e=g(),i=X(3);o(),s("ngIf",e.linkable)("ngIfElse",i)}}function sv(t,r){if(t&1&&(d(0,"span",5),m(1),l()),t&2){let e=g();te("title",e.property),o(),U(e.property)}}function av(t,r){if(t&1&&(_(0,"cx-form-errors",19),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnitAddress.country")))("control",e.form.get("country.isocode"))}}function cv(t,r){if(t&1&&_(0,"cx-form-errors",20),t&2){let e=g(2);s("control",e.form.get("country.isocode"))}}function pv(t,r){if(t&1&&(_(0,"cx-form-errors",19),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnitAddress.firstName")))("control",e.form.get("firstName"))}}function lv(t,r){if(t&1&&_(0,"cx-form-errors",20),t&2){let e=g(2);s("control",e.form.get("firstName"))}}function dv(t,r){if(t&1&&(_(0,"cx-form-errors",19),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnitAddress.lastName")))("control",e.form.get("lastName"))}}function uv(t,r){if(t&1&&_(0,"cx-form-errors",20),t&2){let e=g(2);s("control",e.form.get("lastName"))}}function mv(t,r){if(t&1&&(_(0,"cx-form-errors",19),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnitAddress.address1")))("control",e.form.get("line1"))}}function gv(t,r){if(t&1&&_(0,"cx-form-errors",20),t&2){let e=g(2);s("control",e.form.get("line1"))}}function fv(t,r){if(t&1&&(_(0,"cx-form-errors",19),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnitAddress.city")))("control",e.form.get("town"))}}function hv(t,r){if(t&1&&_(0,"cx-form-errors",20),t&2){let e=g(2);s("control",e.form.get("town"))}}function vv(t,r){if(t&1&&(_(0,"cx-form-errors",19),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUnitAddress.zipCode")))("control",e.form.get("postalCode"))}}function _v(t,r){if(t&1&&_(0,"cx-form-errors",20),t&2){let e=g(2);s("control",e.form.get("postalCode"))}}function Sv(t,r){if(t&1&&(_(0,"cx-form-errors",19),c(1,"cxTranslate")),t&2){let e=g(4);s("translationParams",b(4,J,p(1,2,"orgUnitAddress.state")))("control",e.form.get("region.isocode"))}}function xv(t,r){if(t&1&&_(0,"cx-form-errors",20),t&2){let e=g(4);s("control",e.form.get("region.isocode"))}}function Cv(t,r){if(t&1&&(d(0,"label",22)(1,"span",4),m(2),c(3,"cxTranslate"),l(),_(4,"ng-select",23),c(5,"cxTranslate"),v(6,Sv,2,6,"cx-form-errors",6)(7,xv,1,1,"cx-form-errors",7),l()),t&2){let e=g().ngIf;o(2),U(p(3,8,"orgUnitAddress.state")),o(2),te("placeholder",p(5,10,"orgUnitAddress.selectOne")),s("inputAttrs",oe(12,He))("searchable",!0)("clearable",!1)("items",e),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}function Uv(t,r){if(t&1&&(de(0),v(1,Cv,8,13,"label",21),ue()),t&2){let e=r.ngIf;o(),s("ngIf",e.length>0)}}function Iv(t,r){if(t&1&&(de(0,2),d(1,"label",3)(2,"span",4),m(3),c(4,"cxTranslate"),l(),_(5,"ng-select",5),c(6,"cxTranslate"),c(7,"async"),v(8,av,2,6,"cx-form-errors",6)(9,cv,1,1,"cx-form-errors",7),l(),d(10,"label")(11,"span",4),m(12),c(13,"cxTranslate"),l(),_(14,"ng-select",8),c(15,"cxTranslate"),c(16,"async"),l(),d(17,"label")(18,"span",4),m(19),c(20,"cxTranslate"),l(),_(21,"input",9),c(22,"cxTranslate"),v(23,pv,2,6,"cx-form-errors",6)(24,lv,1,1,"cx-form-errors",7),l(),d(25,"label")(26,"span",4),m(27),c(28,"cxTranslate"),l(),_(29,"input",10),c(30,"cxTranslate"),v(31,dv,2,6,"cx-form-errors",6)(32,uv,1,1,"cx-form-errors",7),l(),d(33,"label",11)(34,"span",4),m(35),c(36,"cxTranslate"),l(),_(37,"input",12),c(38,"cxTranslate"),v(39,mv,2,6,"cx-form-errors",6)(40,gv,1,1,"cx-form-errors",7),l(),d(41,"label",11)(42,"span",13),m(43),c(44,"cxTranslate"),l(),_(45,"input",14),c(46,"cxTranslate"),l(),d(47,"label",11)(48,"span",13),m(49),c(50,"cxTranslate"),l(),_(51,"input",15),c(52,"cxTranslate"),l(),d(53,"label")(54,"span",4),m(55),c(56,"cxTranslate"),l(),_(57,"input",16),c(58,"cxTranslate"),v(59,fv,2,6,"cx-form-errors",6)(60,hv,1,1,"cx-form-errors",7),l(),d(61,"label")(62,"span",4),m(63),c(64,"cxTranslate"),l(),_(65,"input",17),c(66,"cxTranslate"),v(67,vv,2,6,"cx-form-errors",6)(68,_v,1,1,"cx-form-errors",7),l(),_(69,"label"),v(70,Uv,2,1,"ng-container",18),c(71,"async"),ue()),t&2){let e=g();s("formGroup",e.form),o(3),U(p(4,39,"orgUnitAddress.country")),o(2),te("placeholder",p(6,41,"orgUnitAddress.selectOne")),s("inputAttrs",oe(81,He))("searchable",!0)("clearable",!1)("items",p(7,43,e.countries$)),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(13,45,"orgUnitAddress.titles")),o(2),te("placeholder",p(15,47,"orgUnitAddress.selectOne")),s("searchable",!1)("clearable",!1)("items",p(16,49,e.titles$)),o(5),U(p(20,51,"orgUnitAddress.firstName")),o(2),te("placeholder",p(22,53,"orgUnitAddress.firstName")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(28,55,"orgUnitAddress.lastName")),o(2),te("placeholder",p(30,57,"orgUnitAddress.lastName")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(36,59,"orgUnitAddress.address1")),o(2),te("placeholder",p(38,61,"orgUnitAddress.streetAddress")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(44,63,"orgUnitAddress.address2")),o(2),te("placeholder",p(46,65,"orgUnitAddress.aptSuite")),o(4),U(p(50,67,"orgUnitAddress.phoneNumber")),o(2),te("placeholder",p(52,69,"orgUnitAddress.phoneNumber")),o(4),U(p(56,71,"orgUnitAddress.city")),o(2),te("placeholder",p(58,73,"orgUnitAddress.city")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(64,75,"orgUnitAddress.zipCode")),o(2),te("placeholder",p(66,77,"orgUnitAddress.zipCode")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(2),s("ngIf",p(71,79,e.regions$))}}var tc=()=>({disabledCreate:!0,disabledEnable:!1,disabledEdit:!1}),Bd=t=>({cxRoute:"orgUnitUserRoles",params:t});function Ev(t,r){if(t&1&&(d(0,"a",2),c(1,"cxUrl"),m(2),c(3,"cxTranslate"),l()),t&2){let e=r.ngIf,i=g(2);s("routerLink",p(1,2,b(6,Bd,i.getRouterModel(e)))),o(2),x(" ",p(3,4,"orgUser.links.rolesAndRights")," ")}}function yv(t,r){if(t&1&&(de(0),v(1,Ev,4,8,"a",1),c(2,"async"),ue()),t&2){let e=g();o(),s("ngIf",e.isUpdatingUserAllowed&&e.hasItem&&p(2,1,e.unitKey$))}}function bv(t,r){if(t&1&&(d(0,"a",4),c(1,"cxUrl"),m(2),c(3,"cxTranslate"),l()),t&2){let e=r.ngIf,i=g(2);s("routerLink",p(1,2,b(6,Bd,i.getRouterModel(e)))),o(2),x(" ",p(3,4,"orgUser.links.rolesAndRights")," ")}}function Av(t,r){if(t&1&&(de(0),v(1,bv,4,8,"a",3),c(2,"async"),ue()),t&2){let e=g();o(),s("ngIf",e.isUpdatingUserAllowed&&e.hasItem&&p(2,1,e.unitKey$))}}function Dv(t,r){if(t&1&&(d(0,"a",3),c(1,"async"),m(2),c(3,"cxTranslate"),l()),t&2){let e,i=g();ve("disabled",!((e=p(1,3,i.unit$))!=null&&e.active)),o(2),x(" ",p(3,5,"organization.create")," ")}}function Rv(t,r){if(t&1){let e=ge();d(0,"label",10)(1,"input",11),W("change",function(){pe(e);let n=g().ngIf,a=g();return le(a.save(n))}),l(),d(2,"span",12),m(3),c(4,"cxTranslate"),l()()}if(t&2){let e=r.$implicit;o(),s("formControlName",e),o(2),x(" ",p(4,2,"organization.userRoles."+e)," ")}}function Bv(t,r){if(t&1){let e=ge();d(0,"label",10)(1,"input",11),W("change",function(){pe(e);let n=g().ngIf,a=g();return le(a.save(n))}),l(),d(2,"span",12),m(3),c(4,"cxTranslate"),l()()}if(t&2){let e=r.$implicit;o(),s("formControlName",e),o(2),x(" ",p(4,2,"organization.userRights."+e)," ")}}function Tv(t,r){if(t&1){let e=ge();d(0,"form",2),W("submit",function(){let n=pe(e).ngIf,a=g();return le(a.save(n))}),d(1,"cx-org-card",3,0)(3,"a",4)(4,"span",5),W("click",function(n){pe(e);let a=X(2);return le(a.closeView(n))}),m(5),c(6,"cxTranslate"),l()(),d(7,"section",6)(8,"fieldset",7)(9,"legend",8),m(10),c(11,"cxTranslate"),l(),v(12,Rv,5,4,"label",9),l(),d(13,"fieldset",7)(14,"legend",8),m(15),c(16,"cxTranslate"),l(),v(17,Bv,5,4,"label",9),l()()()()}if(t&2){let e=r.ngIf,i=g();o(),s("previous",!1)("cxFocus",b(14,ec,e)),o(4),x(" ",p(6,8,"organization.done")," "),o(2),s("formGroup",e),o(3),x(" ",p(11,10,"orgUser.roles")," "),o(2),s("ngForOf",i.availableRoles),o(3),x(" ",p(16,12,"orgUser.rights")," "),o(2),s("ngForOf",i.availableRights)}}function Pv(t,r){if(t&1){let e=ge();d(0,"button",4),c(1,"cxTranslate"),W("click",function(n){pe(e);let a=g(2);return le(a.toggleItem(n))}),_(2,"cx-icon",5),l()}if(t&2){let e=g(2);at("aria-expanded",e.expanded)("aria-label",p(1,3,"orgUnit.tree.explore")),o(2),s("type",e.expanded?"CARET_DOWN":"CARET_RIGHT")}}function Lv(t,r){if(t&1){let e=ge();d(0,"a",1),c(1,"cxUrl"),W("keydown",function(n){pe(e);let a=g();return le(a.onKeydown(n))}),v(2,Pv,3,5,"button",2),d(3,"span",3),m(4),l()()}if(t&2){let e=g();s("id",e.model.uid)("routerLink",p(1,7,Qe(9,At,e.route,e.routeModel))),at("aria-haspopup",e.isSwitchable)("data-depth",e.model.depthLevel),o(2),s("ngIf",e.isSwitchable),o(),te("title",e.combinedName),o(),U(e.combinedName)}}var Mv=t=>({cxRoute:"orgUserDetails",params:t});function Fv(t,r){if(t&1&&(_(0,"li",11),c(1,"cxTranslate")),t&2){let e=g().$implicit;s("innerText",p(1,1,"organization.userRoles."+e))}}function Ov(t,r){if(t&1&&(de(0),v(1,Fv,2,3,"li",10),ue()),t&2){let e=r.$implicit,i=g(3);o(),s("ngIf",i.availableRoles.includes(e))}}function wv(t,r){t&1&&(d(0,"li"),m(1,"-"),l())}function Nv(t,r){if(t&1&&(_(0,"li",11),c(1,"cxTranslate")),t&2){let e=g().$implicit;s("innerText",p(1,1,"organization.userRights."+e))}}function Gv(t,r){if(t&1&&(de(0),v(1,Nv,2,3,"li",10),ue()),t&2){let e=r.$implicit,i=g(4);o(),s("ngIf",i.availableRights.includes(e))}}function kv(t,r){t&1&&(d(0,"li"),m(1,"-"),l())}function jv(t,r){if(t&1&&(d(0,"div",4)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"ul",7),v(5,Gv,2,1,"ng-container",8)(6,kv,2,0,"li",1),l()()),t&2){let e=g(2).ngIf;o(2),U(p(3,3,"orgUser.rights")),o(3),s("ngForOf",e.roles),o(),s("ngIf",(e.roles==null?null:e.roles.length)===0)}}function $v(t,r){if(t&1&&(d(0,"div",3)(1,"div",4)(2,"label"),m(3),c(4,"cxTranslate"),l(),d(5,"a",5),c(6,"cxUrl"),m(7),l()(),d(8,"div",6)(9,"label"),m(10),c(11,"cxTranslate"),l(),d(12,"span",7),m(13),l()(),d(14,"div",4)(15,"label"),m(16),c(17,"cxTranslate"),l(),d(18,"ul",7),v(19,Ov,2,1,"ng-container",8)(20,wv,2,0,"li",1),l()(),v(21,jv,7,5,"div",9),d(22,"div",4)(23,"label"),m(24),c(25,"cxTranslate"),l(),d(26,"a",5),c(27,"cxUrl"),m(28),l()()()),t&2){let e=g().ngIf,i=g();o(3),U(p(4,12,"orgUser.name")),o(2),s("routerLink",p(6,14,b(24,Mv,e))),o(2),U(e.name),o(3),U(p(11,16,"orgUser.uid")),o(3),x(" ",e.uid," "),o(3),U(p(17,18,"orgUser.roles")),o(3),s("ngForOf",e.roles),o(),s("ngIf",(e.roles==null?null:e.roles.length)===0),o(),s("ngIf",i.hasRight(e)),o(3),U(p(25,20,"orgUser.orgUnit")),o(2),s("routerLink",p(27,22,b(26,We,e.orgUnit))),o(2),x(" ",e.orgUnit==null?null:e.orgUnit.name," ")}}function Vv(t,r){if(t&1&&(de(0),v(1,$v,29,28,"ng-template",null,0,Se),d(3,"button",2),m(4),l(),ue()),t&2){let e=r.ngIf,i=X(2);o(3),s("cxPopover",i)("cxPopoverOptions",oe(3,$i)),o(),x(" ",e==null?null:e.name," ")}}var zv=t=>({uid:t});function qv(t,r){if(t&1&&(d(0,"div",3)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"span",5),m(5),l()()),t&2){let e=g(2);o(2),U(p(3,2,"orgUnit.approvalProcess")),o(3),x(" ",e.model.approvalProcess==null?null:e.model.approvalProcess.name," ")}}function Kv(t,r){if(t&1&&(d(0,"div",2)(1,"div",3)(2,"label"),m(3),c(4,"cxTranslate"),l(),d(5,"a",4),c(6,"cxUrl"),m(7),l()(),d(8,"div",3)(9,"label"),m(10),c(11,"cxTranslate"),l(),d(12,"span",5),m(13),l()(),d(14,"div",3)(15,"label"),m(16),c(17,"cxTranslate"),l(),d(18,"span",5),m(19),c(20,"cxTranslate"),l()(),v(21,qv,6,4,"div",6),l()),t&2){let e=g();o(3),U(p(4,10,"orgUnit.name")),o(2),s("routerLink",p(6,12,b(22,We,b(20,zv,e.model.id)))),o(2),x(" ",e.model.name," "),o(3),U(p(11,14,"orgUnit.uid")),o(3),x(" ",e.model.id," "),o(3),U(p(17,16,"orgUnit.active")),o(2),ve("is-active",e.model.active),o(),x(" ",p(20,18,e.model.active?"organization.enabled":"organization.disabled")," "),o(2),s("ngIf",e.model.approvalProcess==null?null:e.model.approvalProcess.name)}}function Hv(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUser.title")))("control",e.form.get("titleCode"))}}function Zv(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("titleCode"))}}function Yv(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUser.firstName")))("control",e.form.get("firstName"))}}function Qv(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("firstName"))}}function Wv(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUser.lastName")))("control",e.form.get("lastName"))}}function Xv(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("lastName"))}}function Jv(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUser.email")))("control",e.form.get("email"))}}function e_(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("email"))}}function t_(t,r){if(t&1){let e=ge();d(0,"label",18)(1,"input",19),W("change",function(n){pe(e);let a=g(2);return le(a.updateRoles(n))}),l(),d(2,"span",20),m(3),c(4,"cxTranslate"),l()()}if(t&2){let e=r.$implicit,i=g(2);o(),s("value",e)("checked",i.roles==null||i.roles.value==null?null:i.roles.value.includes(e))("disabled",(i.form==null?null:i.form.status)==="DISABLED"),o(2),x(" ",p(4,4,"organization.userRoles."+e)," ")}}function i_(t,r){if(t&1){let e=ge();d(0,"label",18)(1,"input",19),W("change",function(n){pe(e);let a=g(2);return le(a.updateRoles(n))}),l(),d(2,"span",20),m(3),c(4,"cxTranslate"),l()()}if(t&2){let e=r.$implicit,i=g(2);o(),s("value",e)("checked",i.roles==null||i.roles.value==null?null:i.roles.value.includes(e))("disabled",(i.form==null?null:i.form.status)==="DISABLED"),o(2),x(" ",p(4,4,"organization.userRights."+e)," ")}}function n_(t,r){if(t&1&&(_(0,"cx-form-errors",16),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUser.orgUnit")))("control",e.form.get("orgUnit.uid"))}}function r_(t,r){if(t&1&&_(0,"cx-form-errors",17),t&2){let e=g(2);s("control",e.form.get("orgUnit.uid"))}}function o_(t,r){t&1&&(d(0,"div",21)(1,"label",18),_(2,"input",22),d(3,"span",20),m(4),c(5,"cxTranslate"),l()()()),t&2&&(o(4),U(p(5,1,"orgUser.assignApprover")))}function s_(t,r){if(t&1&&(de(0,2),d(1,"label")(2,"span",3),m(3),c(4,"cxTranslate"),l(),_(5,"ng-select",4),c(6,"async"),c(7,"cxTranslate"),v(8,Hv,2,6,"cx-form-errors",5)(9,Zv,1,1,"cx-form-errors",6),l(),d(10,"label")(11,"span",3),m(12),c(13,"cxTranslate"),l(),_(14,"input",7),c(15,"cxTranslate"),v(16,Yv,2,6,"cx-form-errors",5)(17,Qv,1,1,"cx-form-errors",6),l(),d(18,"label")(19,"span",3),m(20),c(21,"cxTranslate"),l(),_(22,"input",8),c(23,"cxTranslate"),v(24,Wv,2,6,"cx-form-errors",5)(25,Xv,1,1,"cx-form-errors",6),l(),d(26,"label")(27,"span",3),m(28),c(29,"cxTranslate"),l(),_(30,"input",9),c(31,"cxTranslate"),v(32,Jv,2,6,"cx-form-errors",5)(33,e_,1,1,"cx-form-errors",6),l(),d(34,"fieldset",10)(35,"legend",3),m(36),c(37,"cxTranslate"),l(),v(38,t_,5,6,"label",11),l(),d(39,"fieldset",12)(40,"legend",3),m(41),c(42,"cxTranslate"),l(),v(43,i_,5,6,"label",11),l(),d(44,"label",13)(45,"span",3),m(46),c(47,"cxTranslate"),l(),_(48,"ng-select",14),c(49,"async"),c(50,"cxTranslate"),v(51,n_,2,6,"cx-form-errors",5)(52,r_,1,1,"cx-form-errors",6),l(),v(53,o_,6,3,"div",15),ue()),t&2){let e,i=g();s("formGroup",i.form),o(3),U(p(4,34,"orgUser.title")),o(2),s("searchable",!1)("clearable",!1)("items",p(6,36,i.titles$))("placeholder",p(7,38,"orgUser.title")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(13,40,"orgUser.firstName")),o(2),te("placeholder",p(15,42,"orgUser.firstName")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(21,44,"orgUser.lastName")),o(2),te("placeholder",p(23,46,"orgUser.lastName")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(29,48,"orgUser.email")),o(2),te("placeholder",p(31,50,"orgUser.email")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),x(" ",p(37,52,"orgUser.roles")," "),o(2),s("ngForOf",i.availableRoles),o(3),x(" ",p(42,54,"orgUser.rights")," "),o(2),s("ngForOf",i.availableRights),o(),s("formGroup",i.form.get("orgUnit")),o(2),U(p(47,56,"orgUser.orgUnit")),o(2),s("inputAttrs",oe(62,He))("searchable",!0)("clearable",!1)("items",(e=p(49,58,i.units$))!==null&&e!==void 0?e:null)("placeholder",p(50,60,"orgUser.orgUnit")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(),s("ngIf",i.isAssignedToApprovers)}}var a_=t=>({cxRoute:"orgUserGroupEdit",params:t}),c_=t=>({cxRoute:"orgUserGroupUsers",params:t}),p_=t=>({cxRoute:"orgUserGroupPermissions",params:t});function l_(t,r){if(t&1&&(de(0),d(1,"a",10),c(2,"cxUrl"),m(3),c(4,"cxTranslate"),l(),d(5,"a",10),c(6,"cxUrl"),m(7),c(8,"cxTranslate"),l(),ue()),t&2){let e=g().ngIf;o(),s("routerLink",p(2,4,b(12,c_,e))),o(2),x(" ",p(4,6,"orgUserGroup.links.user")," "),o(2),s("routerLink",p(6,8,b(14,p_,e))),o(2),x(" ",p(8,10,"orgUserGroup.links.permission")," ")}}function d_(t,r){if(t&1&&(d(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),m(4),c(5,"cxTranslate"),l(),_(6,"cx-org-delete-item",3),d(7,"section",4)(8,"div",5)(9,"label"),m(10),c(11,"cxTranslate"),l(),d(12,"span",6),m(13),l()(),d(14,"div",5)(15,"label"),m(16),c(17,"cxTranslate"),l(),d(18,"span",6),m(19),l()(),d(20,"div",5)(21,"label"),m(22),c(23,"cxTranslate"),l(),d(24,"a",7),c(25,"cxUrl"),m(26),l()()(),d(27,"section",8),v(28,l_,9,16,"ng-container",9),l()()),t&2){let e=r.ngIf,i=g();s("cxFocus",b(27,Ii,e)),o(),ve("disabled",p(2,13,i.isInEditMode$)),s("routerLink",p(3,15,b(29,a_,e))),o(3),x(" ",p(5,17,"organization.edit")," "),o(6),U(p(11,19,"orgUserGroup.name")),o(3),x(" ",e.name," "),o(3),U(p(17,21,"orgUserGroup.uid")),o(3),x(" ",e.uid," "),o(3),U(p(23,23,"orgUserGroup.orgUnit")),o(2),s("routerLink",p(25,25,b(31,We,e.orgUnit))),o(2),x(" ",e.orgUnit==null?null:e.orgUnit.name," "),o(2),s("ngIf",e.uid)}}function u_(t,r){if(t&1&&(_(0,"cx-form-errors",10),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUserGroup.name")))("control",e.form.get("name"))}}function m_(t,r){if(t&1&&_(0,"cx-form-errors",11),t&2){let e=g(2);s("control",e.form.get("name"))}}function g_(t,r){if(t&1&&(_(0,"cx-form-errors",10),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUserGroup.uid")))("control",e.form.get("uid"))}}function f_(t,r){if(t&1&&_(0,"cx-form-errors",11),t&2){let e=g(2);s("control",e.form.get("uid"))}}function h_(t,r){if(t&1&&(_(0,"cx-form-errors",10),c(1,"cxTranslate")),t&2){let e=g(2);s("translationParams",b(4,J,p(1,2,"orgUserGroup.orgUnit")))("control",e.form.get("orgUnit.uid"))}}function v_(t,r){if(t&1&&_(0,"cx-form-errors",11),t&2){let e=g(2);s("control",e.form.get("orgUnit.uid"))}}function __(t,r){if(t&1){let e=ge();de(0,2),d(1,"label")(2,"span",3),m(3),c(4,"cxTranslate"),l(),d(5,"input",4),c(6,"cxTranslate"),W("blur",function(){pe(e);let n=g();return le(n.createUidWithName(n.form.get("name"),n.form.get("uid")))}),l(),v(7,u_,2,6,"cx-form-errors",5)(8,m_,1,1,"cx-form-errors",6),l(),d(9,"label")(10,"span",3),m(11),c(12,"cxTranslate"),l(),_(13,"input",7),c(14,"cxTranslate"),v(15,g_,2,6,"cx-form-errors",5)(16,f_,1,1,"cx-form-errors",6),l(),d(17,"label",8)(18,"span",3),m(19),c(20,"cxTranslate"),l(),_(21,"ng-select",9),c(22,"async"),c(23,"cxTranslate"),v(24,h_,2,6,"cx-form-errors",5)(25,v_,1,1,"cx-form-errors",6),l(),ue()}if(t&2){let e,i,n=g();s("formGroup",n.form),o(3),U(p(4,19,"orgUserGroup.name")),o(2),te("placeholder",p(6,21,"orgUserGroup.name")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(12,23,"orgUserGroup.uid")),o(2),te("placeholder",p(14,25,"orgUserGroup.uid")),o(2),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(),s("formGroup",n.form.get("orgUnit")),o(2),U(p(20,27,"orgUserGroup.orgUnit")),o(2),s("inputAttrs",oe(33,He))("searchable",!0)("clearable",!1)("items",(e=p(22,29,n.units$))!==null&&e!==void 0?e:null)("readonly",(i=(i=n.form.get("orgUnit.uid"))==null?null:i.disabled)!==null&&i!==void 0?i:!1)("placeholder",p(23,31,"orgUserGroup.orgUnit")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}var S_=t=>({cxRoute:"orgPurchaseLimitDetails",params:t});function x_(t,r){if(t&1&&(d(0,"div",3)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"span",5),m(5),l()()),t&2){let e=g(2);o(2),U(p(3,3,"orgPurchaseLimit.threshold")),o(3),jt(" ",e.model.threshold," ",e.model.currency==null?null:e.model.currency.symbol," ")}}function C_(t,r){if(t&1&&(d(0,"div",3)(1,"label"),m(2),c(3,"cxTranslate"),l(),d(4,"span",5),m(5),l()()),t&2){let e=g(2);o(2),U(p(3,2,"orgPurchaseLimit.periodRange")),o(3),x(" ",e.model.periodRange," ")}}function U_(t,r){if(t&1&&(d(0,"a",4),c(1,"cxUrl"),m(2),l()),t&2){let e=g(2);s("routerLink",p(1,2,b(4,We,e.model.orgUnit))),o(2),x(" ",e.model.orgUnit==null?null:e.model.orgUnit.name," ")}}function I_(t,r){if(t&1&&(d(0,"div",2)(1,"div",3)(2,"label"),m(3),c(4,"cxTranslate"),l(),d(5,"a",4),c(6,"cxUrl"),m(7),l()(),d(8,"div",3)(9,"label"),m(10),c(11,"cxTranslate"),l(),d(12,"span",5),m(13),c(14,"cxTranslate"),l()(),d(15,"div",3)(16,"label"),m(17),c(18,"cxTranslate"),l(),d(19,"span",5),m(20),l()(),v(21,x_,6,5,"div",6)(22,C_,6,4,"div",6),d(23,"div",3)(24,"label"),m(25),c(26,"cxTranslate"),l(),v(27,U_,3,6,"a",7),l()()),t&2){let e=g();o(3),U(p(4,13,"orgPurchaseLimit.code")),o(2),s("routerLink",p(6,15,b(25,S_,e.model))),o(2),x(" ",e.model.code," "),o(3),U(p(11,17,"orgPurchaseLimit.active")),o(2),ve("is-active",e.model.active),o(),x(" ",p(14,19,e.model.active?"organization.enabled":"organization.disabled")," "),o(4),U(p(18,21,"orgPurchaseLimit.orderApprovalPermissionType")),o(3),x(" ",e.model.orderApprovalPermissionType==null?null:e.model.orderApprovalPermissionType.name," "),o(),s("ngIf",e.model.threshold||e.model.threshold===0),o(),s("ngIf",e.model.periodRange),o(3),U(p(26,23,"orgPurchaseLimit.unit")),o(2),s("ngIf",e.model.code)}}var E_=["subList"];function y_(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g().ngIf;s("translationParams",b(4,J,p(1,2,"orgUser.password.newPassword")))("control",e.get("password"))}}function b_(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g().ngIf;s("control",e.get("password"))}}function A_(t,r){if(t&1&&(_(0,"cx-form-errors",12),c(1,"cxTranslate")),t&2){let e=g().ngIf;s("translationParams",b(4,J,p(1,2,"orgUser.password.confirmPassword")))("control",e.get("confirmPassword"))}}function D_(t,r){if(t&1&&_(0,"cx-form-errors",13),t&2){let e=g().ngIf;s("control",e.get("confirmPassword"))}}function R_(t,r){if(t&1){let e=ge();d(0,"form",1),W("submit",function(){let n=pe(e).ngIf,a=g();return le(a.save(n))}),d(1,"cx-org-card",2)(2,"button",3),m(3),c(4,"cxTranslate"),l(),d(5,"button",4),m(6),c(7,"cxTranslate"),l(),d(8,"section",5)(9,"label",6)(10,"span",7),m(11),c(12,"cxTranslate"),l(),_(13,"input",8),c(14,"cxTranslate"),c(15,"cxTranslate"),v(16,y_,2,6,"cx-form-errors",9)(17,b_,1,1,"cx-form-errors",10),l(),d(18,"label")(19,"span",7),m(20),c(21,"cxTranslate"),l(),_(22,"input",11),c(23,"cxTranslate"),c(24,"cxTranslate"),v(25,A_,2,6,"cx-form-errors",9)(26,D_,1,1,"cx-form-errors",10),l()()()()}if(t&2){let e=r.ngIf;s("formGroup",e),o(),s("previous",!1)("cxFocus",b(31,ec,e)),o(2),x(" ",p(4,15,"organization.save")," "),o(3),x(" ",p(7,17,"organization.cancel")," "),o(5),U(p(12,19,"orgUser.password.newPassword")),o(2),te("placeholder",p(14,21,"orgUser.password.newPassword")),at("aria-label",p(15,23,"orgUser.password.newPassword")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages"),o(3),U(p(21,25,"orgUser.password.confirmPassword")),o(2),te("placeholder",p(23,27,"orgUser.password.confirmPassword")),at("aria-label",p(24,29,"orgUser.password.confirmPassword")),o(3),s("cxFeature","formErrorsDescriptiveMessages"),o(),s("cxFeature","!formErrorsDescriptiveMessages")}}var B_=t=>({cxRoute:"orgUserEdit",params:t}),T_=t=>({cxRoute:"orgUserChangePassword",params:t}),P_=t=>({cxRoute:"orgUserApprovers",params:t}),L_=t=>({cxRoute:"orgUserUserGroups",params:t}),M_=t=>({cxRoute:"orgUserPermissions",params:t});function F_(t,r){if(t&1&&(d(0,"a",15),c(1,"async"),c(2,"cxUrl"),m(3),c(4,"cxTranslate"),l()),t&2){let e=g().ngIf,i=g();ve("disabled",!e.active||p(1,4,i.isInEditMode$)),s("routerLink",p(2,6,b(10,B_,e))),o(3),x(" ",p(4,8,"organization.edit")," ")}}function O_(t,r){t&1&&_(0,"cx-org-toggle-status",16)}function w_(t,r){if(t&1&&(_(0,"li",18),c(1,"cxTranslate")),t&2){let e=g().$implicit;s("innerText",p(1,1,"organization.userRoles."+e))}}function N_(t,r){if(t&1&&(de(0),v(1,w_,2,3,"li",17),ue()),t&2){let e=r.$implicit,i=g(2);o(),s("ngIf",i.availableRoles.includes(e))}}function G_(t,r){t&1&&(d(0,"li"),m(1,"-"),l())}function k_(t,r){if(t&1&&(_(0,"li",18),c(1,"cxTranslate")),t&2){let e=g().$implicit;s("innerText",p(1,1,"organization.userRights."+e))}}function j_(t,r){if(t&1&&(de(0),v(1,k_,2,3,"li",17),ue()),t&2){let e=r.$implicit,i=g(3);o(),s("ngIf",i.availableRights.includes(e))}}function $_(t,r){t&1&&(d(0,"li"),m(1,"-"),l())}function V_(t,r){if(t&1&&(de(0),d(1,"div",7)(2,"label"),m(3),c(4,"cxTranslate"),l(),d(5,"ul",8),v(6,j_,2,1,"ng-container",10)(7,$_,2,0,"li",11),l()(),ue()),t&2){let e=g().ngIf;o(3),U(p(4,3,"orgUser.rights")),o(3),s("ngForOf",e.roles),o(),s("ngIf",(e.roles==null?null:e.roles.length)===0)}}function z_(t,r){if(t&1&&(d(0,"a",19),c(1,"cxUrl"),m(2),l()),t&2){let e=g().ngIf;s("routerLink",p(1,2,b(4,We,e.orgUnit))),o(2),x(" ",e.orgUnit==null?null:e.orgUnit.name," ")}}function q_(t,r){if(t&1&&(d(0,"div",20),m(1),l()),t&2){let e=g().ngIf;o(),U(e.orgUnit==null?null:e.orgUnit.name)}}function K_(t,r){if(t&1&&(d(0,"a",21),c(1,"cxUrl"),m(2),c(3,"cxTranslate"),l()),t&2){let e=g().ngIf;ve("disabled",!e.active),s("routerLink",p(1,4,b(8,T_,e))),o(2),x(" ",p(3,6,"orgUser.links.password")," ")}}function H_(t,r){if(t&1&&(de(0),d(1,"a",22),c(2,"cxUrl"),m(3),c(4,"cxTranslate"),l(),d(5,"a",22),c(6,"cxUrl"),m(7),c(8,"cxTranslate"),l(),d(9,"a",22),c(10,"cxUrl"),m(11),c(12,"cxTranslate"),l(),ue()),t&2){let e=g().ngIf;o(),s("routerLink",p(2,6,b(18,P_,e))),o(2),x(" ",p(4,8,"orgUser.links.approvers")," "),o(2),s("routerLink",p(6,10,b(20,L_,e))),o(2),x(" ",p(8,12,"orgUser.links.userGroup")," "),o(2),s("routerLink",p(10,14,b(22,M_,e))),o(2),x(" ",p(12,16,"orgUser.links.permission")," ")}}function Z_(t,r){if(t&1&&(d(0,"cx-org-card",2),v(1,F_,5,12,"a",3)(2,O_,1,0,"cx-org-toggle-status",4),_(3,"cx-org-disable-info",5),d(4,"section",6)(5,"div",7)(6,"label"),m(7),c(8,"cxTranslate"),l(),d(9,"span",8),m(10),l()(),d(11,"div",9)(12,"label"),m(13),c(14,"cxTranslate"),l(),d(15,"span",8),m(16),l()(),d(17,"div",7)(18,"label"),m(19),c(20,"cxTranslate"),l(),d(21,"ul",8),v(22,N_,2,1,"ng-container",10)(23,G_,2,0,"li",11),l()(),v(24,V_,8,5,"ng-container",11),d(25,"div",7)(26,"label"),m(27),c(28,"cxTranslate"),l(),v(29,z_,3,6,"a",12)(30,q_,2,1,"ng-template",null,0,Se),l(),d(32,"div",9),v(33,K_,4,10,"a",13),l()(),d(34,"section",14),v(35,H_,13,24,"ng-container",11),l()()),t&2){let e=r.ngIf,i=X(31),n=g();s("cxFocus",b(24,Ii,e)),o(),s("ngIf",n.isUpdatingUserAllowed),o(),s("ngIf",n.isUpdatingUserAllowed),o(5),U(p(8,16,"orgUser.name")),o(3),x(" ",e.name," "),o(3),U(p(14,18,"orgUser.uid")),o(3),x(" ",e.displayUid," "),o(3),U(p(20,20,"orgUser.roles")),o(3),s("ngForOf",e.roles),o(),s("ngIf",(e.roles==null?null:e.roles.length)===0),o(),s("ngIf",n.hasRight(e)),o(3),U(p(28,22,"orgUser.orgUnit")),o(2),s("ngIf",n.isUpdatingUserAllowed)("ngIfElse",i),o(4),s("ngIf",e.customerId&&n.isUpdatingUserAllowed),o(2),s("ngIf",e.customerId)}}var Y_=t=>({cxRoute:"orgUserGroupDetails",params:t});function Q_(t,r){if(t&1&&(d(0,"div",2)(1,"div",3)(2,"label"),m(3),c(4,"cxTranslate"),l(),d(5,"a",4),c(6,"cxUrl"),m(7),l()(),d(8,"div",3)(9,"label"),m(10),c(11,"cxTranslate"),l(),d(12,"span",5),m(13),l()(),d(14,"div",3)(15,"label"),m(16),c(17,"cxTranslate"),l(),d(18,"a",4),c(19,"cxUrl"),m(20),l()()()),t&2){let e=g();o(3),U(p(4,8,"orgUserGroup.name")),o(2),s("routerLink",p(6,10,b(18,Y_,e.model))),o(2),U(e.model.name),o(3),U(p(11,12,"orgUserGroup.uid")),o(3),x(" ",e.model.uid," "),o(3),U(p(17,14,"orgUserGroup.orgUnit")),o(2),s("routerLink",p(19,16,b(20,We,e.model.orgUnit))),o(2),x(" ",e.model.orgUnit==null?null:e.model.orgUnit.name," ")}}var Ye=(()=>{class t{constructor(e){this.routingService=e,this.key$=this.routingService.getParams().pipe(C(i=>i[this.getParamKey()]),Nt()),this.item$=this.key$.pipe(E(i=>i?this.getItem(i):re(void 0))),this.b2bUnit$=this.routingService.getParams().pipe(C(i=>i[De.unitCode]),Nt())}getRouterParam(e){return this.routingService.getParams().pipe(C(i=>i[e]))}static{this.\u0275fac=function(i){return new(i||t)(f(fe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Dt=(()=>{class t{getForm(e){return this.form&&e?(this.patchData(e),this.form):(this.form||this.build(e),this.form?.reset(),this.form?.enable(),this.patchData(e),this.form)}patchData(e){this.toggleFreeze(e),this.form?.patchValue(L(L({},this.defaultValue),e))}toggleFreeze(e){this.form?.enabled&&e?.active===!1&&this.form.disable(),this.form?.disabled&&e?.active===!0&&this.form.enable()}get defaultValue(){return{}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),G=(()=>{class t{constructor(e,i,n){this.currentItemService=e,this.routingService=i,this.formService=n,this.key$=this.currentItemService.key$,this.current$=this.currentItemService.item$,this.isInEditMode$=new Zi(!1),this.unit$=this.currentItemService.b2bUnit$,this.error$=this.key$.pipe(E(a=>this.currentItemService.getError(a)))}save(e,i){if(e.invalid)return e.markAllAsTouched(),Qc.deepUpdateValueAndValidity(e),Wt;{let n=e.value;return e.disable(),i?this.update(i,n):this.create(n)}}getForm(e){return this.formService.getForm(e)}launchDetails(e){let i=this.getDetailsRoute(),n=this.buildRouteParams(e);i&&e&&Object.keys(e).length>0&&this.routingService.go({cxRoute:i,params:n})}buildRouteParams(e){return e}getRouterParam(e){return this.currentItemService.getRouterParam(e)}setEditMode(e){this.isInEditMode$.next(e)}static{this.\u0275fac=function(i){return new(i||t)(f(Ye),f(fe),f(Dt))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),W_=3e3,we=(()=>{class t{constructor(){this.data$=new mc}get(){return this.data$}add(e){return e=L(L({},this.getDefaultMessage(e)),e),e.events=new hr,this.data$.next(e),e.events}close(e){e?.next({close:!0})}getDefaultMessage(e){let i={type:Ve.MSG_TYPE_INFO};return(!e.type||e.type===Ve.MSG_TYPE_INFO&&!e.timeout)&&(i.timeout=W_),i}clear(){this.data$.next(void 0)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),X_=(()=>{class t{constructor(e,i){this.itemService=e,this.messageService=i}ngOnInit(){this.subscription=this.itemService.current$.pipe(Nt((e,i)=>e?.active===i?.active),j(Pc),j(e=>e.active===!1)).subscribe(e=>this.handleDisabledItems(e))}handleDisabledItems(e){this.messageService.add({message:{key:"organization.notification.disabled",params:{item:e}},type:Ve.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(we))}}static{this.\u0275dir=Un({type:t,selectors:[["","cxOrgItemActive",""]]})}}return t})(),hn=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H]})}}return t})(),fn=class{},Td=(()=>{class t{constructor(e,i){this.messageData=e,this.platformId=i,this.terminated=!1}ngOnInit(){this.message=this.messageData.message??{},this.messageTitle=this.messageData.messageTitle,this.type=this.resolveType(),this.messageIcon=this.messageData.messageIcon,this.messageData.timeout&&this.handleAutoHide()}close(){this.messageData.events?.next({close:!0})}resolveType(){if(!this.messageData.type||this.messageData.type===Ve.MSG_TYPE_INFO)return"info";if(this.messageData.type===Ve.MSG_TYPE_ERROR)return"error";if(this.messageData.type===Ve.MSG_TYPE_WARNING)return"warning"}handleAutoHide(){bc(this.platformId)&&setTimeout(()=>{this.close()},this.messageData.timeout)}static{this.\u0275fac=function(i){return new(i||t)(A(fn),A(_r))}}static{this.\u0275dir=Un({type:t,hostVars:4,hostBindings:function(i,n){i&2&&(Sr(n.type),ve("terminated",n.terminated))}})}}return t})(),J_=(()=>{class t extends Td{constructor(){super(...arguments),this.closeIcon=Wi.CLOSE}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-notification"]],features:[Ae],decls:9,vars:13,consts:[[1,"inner",3,"esc","cxFocus"],[3,"type",4,"ngIf"],["type","button",1,"close",3,"click"],[3,"type"]],template:function(i,n){i&1&&(d(0,"div",0),W("esc",function(){return n.close()}),v(1,Hm,1,1,"cx-icon",1),d(2,"p"),m(3),c(4,"cxTranslate"),l(),d(5,"button",2),c(6,"cxTranslate"),c(7,"cxTranslate"),W("click",function(){return n.close()}),_(8,"cx-icon",3),l()()),i&2&&(s("cxFocus",oe(12,Km)),o(),s("ngIf",n.messageIcon),o(2),U(p(4,6,n.message)),o(2),at("aria-label",p(6,8,"common.close"))("title",p(7,10,"common.close")),o(3),s("type",n.closeIcon))},dependencies:[K,ui,ze,N],encapsulation:2,changeDetection:0})}}return t})(),e1=(()=>{class t{constructor(e){this.componentFactoryResolver=e}getComponent(e){return this.componentFactoryResolver.resolveComponentFactory(e.component||J_)}getInjector(e,i){return hc.create({providers:[{provide:fn,useValue:e}],parent:i})}static{this.\u0275fac=function(i){return new(i||t)(f(_c))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),t1=(()=>{class t{constructor(e,i){this.messageService=e,this.renderService=i,this.subscription=new Hi}ngAfterViewInit(){this.subscription.add(this.messageService.get().subscribe(e=>{e?this.render(e):this.vcr?.clear()}))}render(e){let i=this.vcr.createComponent(this.renderService.getComponent(e),0,this.renderService.getInjector(e,this.vcr.injector));i.injector.get(Cr).markForCheck(),this.subscription.add(e.events?.pipe(j(n=>!!n.close)).subscribe(()=>this.terminate(i)))}terminate(e){e.instance.terminated=!0,e.injector.get(Cr).markForCheck(),setTimeout(()=>{e.destroy()},500)}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(A(we),A(e1))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-message"]],viewQuery:function(i,n){if(i&1&&Di(Zm,5,Sc),i&2){let a;Ri(a=Bi())&&(n.vcr=a.first)}},decls:2,vars:0,consts:[["vcr",""]],template:function(i,n){i&1&&ct(0,null,0)},encapsulation:2,changeDetection:0})}}return t})(),i1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,mi,$e]})}}return t})(),Vi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,i1]})}}return t})(),ft=(()=>{class t{constructor(e,i){this.itemService=e,this.messageService=i,this.previous=!0,this.showHint=!1,this.iconTypes=Wi,this.item$=this.itemService.current$.pipe(q(n=>this.refreshMessages(n)))}closeView(e){return e.stopPropagation(),this.view.toggle(!0),setTimeout(()=>{e.target?.parentElement?.click()},500),!1}get previousLabel(){return this.previous}refreshMessages(e){this.itemKey!==void 0&&e?.code!==this.itemKey&&e?.uid!==this.itemKey&&e?.customerId!==this.itemKey&&this.messageService.clear(),this.itemKey=e?.code??e?.uid??e?.customerId}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(we))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-card"]],viewQuery:function(i,n){if(i&1&&Di(Li,5,Li),i&2){let a;Ri(a=Bi())&&(n.view=a.first)}},hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",previous:"previous",subtitle:"subtitle",showHint:"showHint"},features:[Z([we])],ngContentSelectors:Qm,decls:25,vars:26,consts:[["detailHint",""],["prevLabel",""],["role","tabpanel",1,"card",3,"viewTitle"],[1,"header"],[1,"title-bar"],[1,"title"],[3,"cxPopover","cxPopoverOptions",4,"ngIf"],[1,"actions"],["class","link close","routerLink","../",4,"ngIf"],[1,"main"],["aria-aromic","true","aria-live","assertive"],[3,"cxPopover","cxPopoverOptions"],[3,"type"],["routerLink","../",1,"link","close"],["type","CLOSE",3,"click",4,"ngIf","ngIfElse"],["type","CLOSE",3,"click"]],template:function(i,n){i&1&&(Ai(Ym),d(0,"cx-view",2),c(1,"async"),c(2,"cxTranslate"),d(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),m(7),c(8,"async"),c(9,"cxTranslate"),v(10,Wm,3,7,"button",6),l(),d(11,"h4"),m(12),c(13,"async"),c(14,"cxTranslate"),l()(),d(15,"div",7),vt(16),l()(),v(17,eg,5,5,"button",8),l(),d(18,"div",9),_(19,"cx-org-message",10),vt(20,1),vt(21,2),l()(),_(22,"router-outlet"),v(23,tg,3,3,"ng-template",null,0,Se)),i&2&&(s("viewTitle",Bt(2,7,n.i18nRoot+".title",b(20,gn,p(1,5,n.item$)))),o(7),x(" ",Bt(9,12,n.i18nRoot+".title",b(22,gn,p(8,10,n.item$)))," "),o(3),s("ngIf",n.showHint),o(2),x(" ",n.subtitle||Bt(14,17,n.i18nRoot+".subtitle",b(24,gn,p(13,15,n.item$)))," "),o(5),s("ngIf",!!n.previous))},dependencies:[K,Li,Ur,V,ui,t1,Ft,ce,N],encapsulation:2,changeDetection:0})}}return t})(),ht=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Or,se,Y,mi,Ce,Vi,Tn]})}}return t})(),n1="DISABLED",Ei=(()=>{class t{constructor(e,i){this.itemService=e,this.messageService=i,this.animateBack=!0,this.form$=this.itemService.current$.pipe(C(n=>(this.setI18nRoot(n),n||(n={}),this.itemService.getForm(n)))),this.disabled$=this.form$.pipe(E(n=>n?.statusChanges??Wt),C(n=>n===n1))}save(e){this.itemService.key$.pipe(st(),E(i=>this.itemService.save(e,i).pipe(Je(1),C(n=>({item:n.item,status:n.status,action:i?"update":"create"}))))).subscribe(({item:i,action:n,status:a})=>{a===mt.SUCCESS&&(this.itemService.launchDetails(i),this.notify(i,n)),e.enable()})}notify(e,i){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${i}`,params:{item:e}}})}setI18nRoot(e){this.i18n=this.i18nRoot+(e?".edit":".create")}back(e,i){this.animateBack&&i.closeView(e)}ngOnInit(){this.itemService.setEditMode(!0)}ngOnDestroy(){this.itemService.setEditMode(!1)}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(we))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",animateBack:"animateBack",subtitle:"subtitle"},ngContentSelectors:ng,decls:2,vars:3,consts:[["card",""],[3,"submit",4,"ngIf"],[3,"submit"],["cxOrgItemActive","",3,"previous","i18nRoot","subtitle","cxFocus"],["actions","",1,"button","primary",3,"disabled"],["actions","","routerLink","../","type","button",1,"link"],[3,"click"],["main","",1,"details"]],template:function(i,n){i&1&&(Ai(ig),v(0,rg,13,15,"form",1),c(1,"async")),i&2&&s("ngIf",p(1,1,n.form$))},dependencies:[K,Dn,ut,Tr,V,ft,X_,ze,ce,N],encapsulation:2,changeDetection:0})}}return t})(),Ht=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[we],imports:[H,Bn,Y,se,ht,Vi,hn,$e]})}}return t})(),ic=function(t){return t.LINK="LINK",t.BUTTON="BUTTON",t}(ic||{}),ne=(()=>{class t{get viewType(){return this.tableType}get domainType(){return this._domainType??this.viewType}constructor(e){this.tableService=e,this.defaultTableStructure={options:{layout:Mi.VERTICAL_STACKED},lg:{options:{layout:Mi.VERTICAL}}},this.ghostData={values:new Array(10)},this.notification$=new hr,this.pagination$=new Zi({pageSize:10})}key(){return"code"}getData(...e){return this.pagination$.pipe(E(i=>this.getStructure().pipe(C(n=>L(L({},i),n.options?.pagination)))),E(i=>this.load(i,...e)),kt(this.ghostData))}getStructure(){return this.tableService.buildStructure(this.viewType,this.defaultTableStructure)}view(e,i){this.pagination$.next(ke(L({},e),{currentPage:i}))}sort(e,i){this.view(e,0)}hasGhostData(e){return e===this.ghostData}getCreateButtonType(){return ic.LINK}onCreateButtonClick(){}getCreateButtonLabel(){return{key:"organization.add"}}static{this.\u0275fac=function(i){return new(i||t)(f(Te))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),yi=(()=>{class t{constructor(e,i){this.service=e,this.organizationItemService=i,this.trapFocus=Vc,this.hasGhostData=!1,this.viewType=this.service.viewType,this.domainType=this.service.domainType,this.iconTypes=Wi,this.createButtonAllTypes=ic,this.createButtonType=this.service.getCreateButtonType(),this.currentKey$=this.organizationItemService.key$,this.structure$=this.service.getStructure(),this.listData$=this.service.getData().pipe(q(n=>{this.sortCode=n?.pagination?.sort,this.hasGhostData=this.service.hasGhostData(n)})),this.key=this.service.key(),this.hideAddButton=!1,Ti("a11yOrganizationListHeadingOrder"),Ti("a11yListOversizedFocus"),Ti("a11yOrganizationLinkableCells")}getListCount(e){return e.pagination?.totalResults}browse(e,i){e&&this.service.view(e,i)}launchItem(e){this.organizationItemService.launchDetails(e)}sort(e){e&&this.service.sort(ke(L({},e),{sort:this.sortCode}))}onCreateButtonClick(){this.service.onCreateButtonClick()}getCreateButtonLabel(){return this.service.getCreateButtonLabel()}static{this.\u0275fac=function(i){return new(i||t)(A(ne),A(G))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-list"]],hostVars:4,hostBindings:function(i,n){i&2&&(Sr(n.viewType),ve("ghost",n.hasGhostData))},inputs:{key:"key",hideAddButton:"hideAddButton"},ngContentSelectors:sg,decls:9,vars:4,consts:[["emptyList",""],["listHint",""],["showButton",""],[3,"hideMode"],[4,"ngIf"],["class","list",4,"ngIf"],[1,"list"],[1,"header"],["aria-live","polite",1,"title"],[4,"cxFeature"],[1,"actions"],["name","sort","class","sort",3,"searchable","clearable","tabIndex","ngModel","change","ngModelChange",4,"ngIf"],[4,"ngIf","ngIfElse"],["role","tree",3,"structure","data","i18nRoot","currentItem","launch",4,"ngIf","ngIfElse"],[1,"footer"],[3,"viewPageEvent","pagination"],[3,"cxPopover","cxPopoverOptions"],[3,"type"],["name","sort",1,"sort",3,"change","ngModelChange","searchable","clearable","tabIndex","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","button primary create","routerLinkActive","disabled",3,"routerLink",4,"ngIf"],["routerLinkActive","disabled",1,"button","primary","create",3,"routerLink"],["role","tree",3,"launch","structure","data","i18nRoot","currentItem"],[1,"instruction","is-empty"],["class","button primary create",3,"click",4,"ngIf"],[1,"button","primary","create",3,"click"]],template:function(i,n){i&1&&(Ai(og),d(0,"cx-split-view",3),v(1,Sg,4,3,"ng-container",4),c(2,"async"),l(),v(3,xg,3,3,"ng-template",null,0,Se)(5,Cg,3,3,"ng-template",null,1,Se)(7,Ig,1,1,"ng-template",null,2,Se)),i&2&&(s("hideMode",!1),o(),s("ngIf",p(2,2,n.structure$)))},dependencies:[ei,K,Ur,V,oi,Yc,Li,wr,ui,Mr,Mt,$c,dt,Nc,Ft,pt,ce,he,N],encapsulation:2,changeDetection:0})}}return t})(),Zt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Or,Nr,mi,Ce,Y,Fr,Et,Bn,Vi,$e,Tn,lt]})}}return t})(),me=(()=>{class t{constructor(e){this.outlet=e,this.featuteConfigService=_e(St,{optional:!0})}get tabIndex(){return-1}get model(){return this.outlet.context}get property(){return this.model?.[this.outlet?.context?._field]}get linkable(){return this.featuteConfigService?.isEnabled("a11yOrganizationLinkableCells")?this.property!==void 0&&(this.cellOptions.linkable??!1):this.property!==void 0&&(this.cellOptions.linkable??!0)}get cellOptions(){return this.outlet.context?._options?.cells?.[this.outlet.context?._field]??{}}get route(){return this.outlet.context._type+"Details"}get routeModel(){return this.outlet.context}get type(){return this.model._type}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;let h=this.outlet.context,{_field:e,_options:i,_type:n,_i18nRoot:a}=h;return fr(h,["_field","_options","_type","_i18nRoot"])}static{this.\u0275fac=function(i){return new(i||t)(A(di))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-cell"]],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(i,n){if(i&1&&v(0,yg,3,8,"a",1)(1,bg,2,2,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[K,_t,V,he],encapsulation:2,changeDetection:0})}}return t})(),Fe=(()=>{class t extends me{constructor(e,i,n,a){super(e),this.outlet=e,this.organizationItemService=i,this.messageService=n,this.organizationSubListService=a}get isAssigned(){return this.item?.selected}toggleAssign(){let e=this.isAssigned;this.organizationItemService.key$.pipe(st(),E(i=>e?this.unassign?.(i,this.link):this.assign(i,this.link)),Je(1),j(i=>i.status===mt.SUCCESS)).subscribe(i=>this.notify(i.item,e?"unassigned":"assigned"))}assign(e,i){return this.organizationSubListService.assign?.(e,i)??Wt}unassign(e,i){return this.organizationSubListService.unassign?.(e,i)??Wt}get link(){return this.outlet.context.code??this.outlet.context.customerId??this.outlet.context.uid}notify(e,i){this.messageService.add({message:{key:`${this.organizationSubListService.viewType}.${i}`,params:{item:e}}})}static{this.\u0275fac=function(i){return new(i||t)(A(di),A(G),A(we),A(ne))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-assign-cell"]],features:[Ae],decls:1,vars:1,consts:[["type","button","class","link",3,"click",4,"ngIf"],["type","button",1,"link",3,"click"]],template:function(i,n){i&1&&v(0,Ag,2,1,"button",0),i&2&&s("ngIf",n.hasItem)},dependencies:[K],encapsulation:2,changeDetection:0})}}return t})(),Me=(()=>{class t extends yi{constructor(){super(...arguments),this.hostClass="",this.previous=!0,this.key=this.service.key(),this.showHint=!1,this.hasGhostData=!1,this.listData$=this.currentKey$.pipe(E(e=>this.service.getData(e)),q(e=>{this.hasGhostData=this.service.hasGhostData(e)})),this.dataStructure$=this.service.getStructure()}set routerKey(e){this.subKey$=this.organizationItemService.getRouterParam(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-sub-list"]],viewQuery:function(i,n){if(i&1&&Di(we,5,we),i&2){let a;Ri(a=Bi())&&(n.messageService=a.first)}},hostAttrs:[1,"content-wrapper"],hostVars:2,hostBindings:function(i,n){i&2&&ve("ghost",n.hasGhostData)},inputs:{previous:"previous",key:"key",showHint:"showHint",routerKey:"routerKey"},features:[Ae],ngContentSelectors:Rg,decls:8,vars:8,consts:[["emptyList",""],[3,"previous","i18nRoot","showHint","cxFocus"],["main","",4,"ngIf"],["main",""],[4,"ngIf"],[3,"structure","data","i18nRoot","currentItem",4,"ngIf","ngIfElse"],["class","footer",4,"ngIf"],[3,"structure","data","i18nRoot","currentItem"],[1,"footer"],[3,"viewPageEvent","pagination"],[1,"is-empty"]],template:function(i,n){i&1&&(Ai(Dg),d(0,"cx-org-card",1),vt(1,0,["ngProjectAs","[actions]",5,["","actions",""]]),vt(2,1,["ngProjectAs","[main]",5,["","main",""]]),vt(3,2,["ngProjectAs","[info]",5,["","info",""]]),v(4,Mg,3,3,"ng-container",2),c(5,"async"),l(),v(6,Fg,3,3,"ng-template",null,0,Se)),i&2&&(s("previous",n.previous)("i18nRoot",n.viewType)("showHint",n.showHint)("cxFocus",oe(7,Bg)),o(4),s("ngIf",p(5,5,n.dataStructure$)))},dependencies:[K,ft,wr,Mr,ze,ce,N],encapsulation:2,changeDetection:0})}}return t})(),Xe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,ht,Nr,Fr,Vi,$e]})}}return t})(),ur=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Zt,Xe,Ht]})}}return t})(),Le=2147483647,zi=(()=>{class t{constructor(e,i){this.itemService=e,this.messageService=i}ngOnInit(){this.subscription=this.itemService.error$.pipe(j(e=>e)).subscribe(()=>this.handleErrorMessage())}handleErrorMessage(){this.messageService.add({message:{key:"organization.notification.notExist"},type:Ve.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(we))}}static{this.\u0275dir=Un({type:t,selectors:[["","cxOrgItemExists",""]]})}}return t})(),Pd=(()=>{class t extends Td{constructor(e,i,n){super(e,i),this.data=e,this.platformId=i,this.messageService=n,this.cancelText={key:"organization.confirmation.cancel"},this.confirmText={key:"organization.confirmation.confirm"}}ngOnInit(){super.ngOnInit(),this.cancelText=this.messageData.cancel??this.cancelText,this.confirmText=this.messageData.confirm??this.confirmText}confirm(){this.data.events?.next({confirm:!0})}static{this.\u0275fac=function(i){return new(i||t)(A(fn),A(_r),A(we))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-confirmation"]],features:[Ae],decls:14,vars:15,consts:[[1,"inner",3,"esc","cxFocus"],["class","messageTitle",4,"ngIf"],[1,"message"],[3,"type",4,"ngIf"],[1,"actions",3,"cxFocus"],[1,"button","cancel",3,"click"],[1,"button","primary","confirm",3,"click"],[1,"messageTitle"],[3,"type"]],template:function(i,n){i&1&&(d(0,"div",0),W("esc",function(){return n.close()}),v(1,Ng,3,3,"p",1),d(2,"div",2),v(3,Gg,1,1,"cx-icon",3),d(4,"p"),m(5),c(6,"cxTranslate"),l()(),d(7,"div",4)(8,"button",5),W("click",function(){return n.close()}),m(9),c(10,"cxTranslate"),l(),d(11,"button",6),W("click",function(){return n.confirm()}),m(12),c(13,"cxTranslate"),l()()()),i&2&&(s("cxFocus",oe(13,Og)),o(),s("ngIf",n.messageTitle),o(2),s("ngIf",n.messageIcon),o(2),x(" ",p(6,7,n.message)," "),o(2),s("cxFocus",oe(14,wg)),o(2),x(" ",p(10,9,n.cancelText)," "),o(3),x(" ",p(13,11,n.confirmText)," "))},dependencies:[K,ui,ze,N],encapsulation:2,changeDetection:0})}}return t})(),Ld=(()=>{class t{isItemDisabled(e){return e?.active===!1}isParentDisabled(e){return(e.orgUnit||e.unit||e.parentOrgUnit)?.active===!1&&!this.isRootUnit(e)}isRootUnit(e){return!!(e?.uid&&e?.name&&!e?.orgUnit&&!e?.unit&&(!e?.parentOrgUnit||e?.uid===e?.parentOrgUnit))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vn=(()=>{class t{constructor(e,i,n){this.itemService=e,this.messageService=i,this.disableInfoService=n,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new Hi}toggle(e){e.active?this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.deactivate",params:{item:e}},messageTitle:{key:this.i18nRoot+".messages.deactivateTitle",params:{item:e}},confirm:{key:"organization.confirmation.disable"},component:Pd}),this.subscription.add(this.confirmation.pipe(st()).subscribe(i=>{i.close&&(this.confirmation=null),i.confirm&&(this.messageService.close(this.confirmation),this.update(e),this.confirmation=null)}))):this.update(e)}isDisabled(e){return this.disabled??(this.disableInfoService.isParentDisabled(e)||this.disableInfoService.isRootUnit(e))}update(e){this.itemService.update(e[this.key],this.getPatchedItem(e)).pipe(Je(1),j(i=>i.status===mt.SUCCESS)).subscribe(i=>this.notify(L(L({},e),i.item)))}getPatchedItem(e){let i={};return Object.assign(i,{[this.key]:e[this.key]}),i.active=!e.active,i}notify(e){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${e.active?"confirmEnabled":"confirmDisabled"}`,params:{item:e}}})}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(we),A(Ld))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-toggle-status"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",disabled:"disabled"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"click","disabled"]],template:function(i,n){i&1&&(v(0,kg,4,6,"button",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.current$))},dependencies:[K,ce,N],encapsulation:2})}}return t})(),Md=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,mi,$e]})}}return t})(),_n=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,Vi,Md]})}}return t})(),Fd=(()=>{class t{constructor(e,i){this.itemService=e,this.messageService=i,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new Hi}delete(e){this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.delete",params:{item:e}},messageTitle:{key:this.i18nRoot+".messages.deleteTitle",params:{item:e}},component:Pd}),this.subscription.add(this.confirmation.pipe(st()).subscribe(i=>{i.close&&(this.confirmation=null),i.confirm&&(this.messageService.close(this.confirmation),this.confirmDelete(e),this.confirmation=null)})))}confirmDelete(e){this.itemService.delete?.(e[this.key],this.additionalParam).pipe(Je(1),j(i=>i.status===mt.SUCCESS)).subscribe(i=>this.notify(L(L({},e),i.item)))}notify(e){this.messageService.add({message:{key:`${this.i18nRoot}.messages.deleted`,params:{item:e}}})}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(we))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-delete-item"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",additionalParam:"additionalParam"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"click","disabled"]],template:function(i,n){i&1&&(v(0,jg,4,6,"button",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.current$))},dependencies:[K,ce,N],encapsulation:2})}}return t})(),Od=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,Vi,Md]})}}return t})(),Yt=(()=>{class t{constructor(e,i){this.itemService=e,this.disableInfoService=i,this.displayCustomInfo=!1,this.current$=this.itemService.current$,this.iconTypes=Wi}get defaultInfoConfig(){return{disabledCreate:!1,disabledEdit:!0,disabledEnable:!0,disabledDisable:!1}}ngOnInit(){this.displayInfoConfig=L(L({},this.defaultInfoConfig),this.displayInfoConfig)}displayDisabledCreate(e){return this.displayInfoConfig?.disabledCreate&&this.disableInfoService.isItemDisabled(e)}displayDisabledEdit(e){return this.displayInfoConfig?.disabledEdit&&this.disableInfoService.isItemDisabled(e)}displayDisabledEnable(e){return this.displayInfoConfig?.disabledEnable&&this.disableInfoService.isParentDisabled(e)}displayDisabledDisable(e){return this.displayInfoConfig?.disabledDisable&&this.disableInfoService.isRootUnit(e)}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(Ld))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-disable-info"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",displayInfoConfig:"displayInfoConfig",displayCustomInfo:"displayCustomInfo"},ngContentSelectors:$g,decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"]],template:function(i,n){i&1&&(Ai(),v(0,Zg,2,1,"ng-container",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.current$))},dependencies:[K,ui,ce,N],encapsulation:2})}}return t})(),Qt=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,mi,Y]})}}return t})(),rt=(()=>{class t extends ne{constructor(){super(...arguments),this.defaultTableStructure={options:{layout:Mi.VERTICAL}},this.ghostData={values:new Array(3)}}assign(e,...i){return Wt}unassign(e,...i){return Wt}filterSelected(e){if(!e)return e;let{pagination:i,sorts:n,values:a}=e;return{pagination:i,sorts:n,values:a.filter(S=>S.selected)}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Rt=(()=>{class t extends me{get tabIndex(){return 0}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-active-link-cell"]],features:[Ae],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(i,n){if(i&1&&v(0,Qg,3,8,"a",1)(1,Wg,2,2,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[K,_t,V,he],encapsulation:2,changeDetection:0})}}return t})(),wd=(()=>{class t extends me{get property(){if(this.budget&&this.currency)return this.budget+" "+this.currency}get budget(){return this.model.budget}get currency(){return this.model.currency?.isocode||this.model.currency}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-amount-cell"]],features:[Ae],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(i,n){if(i&1&&v(0,Jg,3,8,"a",1)(1,ef,2,2,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[K,_t,V,he],encapsulation:2,changeDetection:0})}}return t})(),Nd=(()=>{class t extends me{constructor(){super(...arguments),this.featuteConfigService=_e(St,{optional:!0})}get linkable(){return this.featuteConfigService?.isEnabled("a11yOrganizationLinkableCells")?this.hasRange&&(this.cellOptions.linkable??!1):this.hasRange&&(this.cellOptions.linkable??!0)}get hasRange(){return!!this.model.startDate&&!!this.model.endDate}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-date-range-cell"]],features:[Ae],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(i,n){if(i&1&&v(0,nf,3,8,"a",1)(1,of,1,1,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[K,_t,V,he,An],encapsulation:2,changeDetection:0})}}return t})(),Gd=(()=>{class t extends me{get isTimeSpanThreshold(){return this.model.orderApprovalPermissionType?.code==="B2BOrderThresholdTimespanPermission"}get isOrderThreshold(){return this.model.orderApprovalPermissionType?.code==="B2BOrderThresholdPermission"}get isExceedPermission(){return this.model.orderApprovalPermissionType?.code==="B2BBudgetExceededPermission"}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-limit-cell"]],features:[Ae],decls:3,vars:2,consts:[["threshold",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(i,n){if(i&1&&v(0,af,3,8,"a",1)(1,df,3,3,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[K,_t,V,he,N],encapsulation:2,changeDetection:0})}}return t})(),kd=(()=>{class t extends me{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-roles-cell"]],features:[Ae],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],[1,"text"],["class","li",3,"innerText",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"li",3,"innerText"]],template:function(i,n){if(i&1&&v(0,mf,3,8,"a",1)(1,hf,3,2,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[ei,K,_t,V,he,N],encapsulation:2,changeDetection:0})}}return t})(),nt=(()=>{class t extends me{get label(){if(this.isActive!==void 0)return this.isActive?"organization.enabled":"organization.disabled"}get isActive(){return this.model.active}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-status-cell"]],features:[Ae],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title","is-active",4,"ngIf"],[1,"text",3,"title"]],template:function(i,n){if(i&1&&v(0,_f,3,8,"a",1)(1,xf,1,1,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[K,_t,V,he,N],encapsulation:2,changeDetection:0})}}return t})(),Ze=(()=>{class t extends me{get property(){return this.model.unit?.name??this.model.orgUnit?.name}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-cell"]],features:[Ae],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(i,n){if(i&1&&v(0,Uf,3,8,"a",1)(1,If,2,2,"ng-template",null,0,Se),i&2){let a=X(2);s("ngIf",n.linkable)("ngIfElse",a)}},dependencies:[K,_t,V,he],encapsulation:2,changeDetection:0})}}return t})();var D=function(t){return t.BUDGET="orgBudget",t.BUDGET_ASSIGNED_COST_CENTERS="orgBudgetAssignedCostCenters",t.COST_CENTER="orgCostCenter",t.COST_CENTER_BUDGETS="orgCostCenterBudgets",t.COST_CENTER_ASSIGNED_BUDGETS="orgCostCenterAssignedBudgets",t.UNIT="orgUnit",t.UNIT_USERS="orgUnitUsers",t.UNIT_CHILDREN="orgUnitChildren",t.UNIT_APPROVERS="orgUnitApprovers",t.UNIT_ASSIGNED_APPROVERS="orgUnitAssignedApprovers",t.UNIT_ADDRESS="orgUnitAddress",t.UNIT_COST_CENTERS="orgUnitCostCenters",t.USER_GROUP="orgUserGroup",t.USER_GROUP_USERS="orgUserGroupUsers",t.USER_GROUP_ASSIGNED_USERS="orgUserGroupAssignedUsers",t.USER_GROUP_PERMISSIONS="orgUserGroupPermissions",t.USER_GROUP_ASSIGNED_PERMISSIONS="orgUserGroupAssignedPermissions",t.USER="orgUser",t.USER_APPROVERS="orgUserApprovers",t.USER_ASSIGNED_APPROVERS="orgUserAssignedApprovers",t.USER_PERMISSIONS="orgUserPermissions",t.USER_ASSIGNED_PERMISSIONS="orgUserAssignedPermissions",t.USER_USER_GROUPS="orgUserUserGroups",t.USER_ASSIGNED_USER_GROUPS="orgUserAssignedUserGroups",t.PERMISSION="orgPurchaseLimit",t}(D||{}),mr=(()=>{class t extends me{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-cost-center-details-cell"]],features:[Ae],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(i,n){if(i&1&&(v(0,bf,28,28,"ng-template",null,0,Se),d(2,"button",1),m(3),l()),i&2){let a=X(1);o(2),s("cxPopover",a)("cxPopoverOptions",oe(3,$i)),o(),x(" ",n.model.name,`
`)}},dependencies:[K,Ft,V,N,he],encapsulation:2,changeDetection:0})}}return t})(),r1=(()=>{class t extends rt{constructor(e,i){super(e),this.tableService=e,this.budgetService=i,this.tableType=D.BUDGET_ASSIGNED_COST_CENTERS,this._domainType=D.COST_CENTER}load(e,i){return this.budgetService.getCostCenters(i).pipe(j(n=>!!n),C(n=>this.filterSelected(n)))}filterSelected({pagination:e,sorts:i,values:n}){return{pagination:e,sorts:i,values:n.filter(a=>a.active)}}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Oi))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),o1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-budget-cost-center-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:r1}])],decls:1,vars:0,template:function(i,n){i&1&&_(0,"cx-org-sub-list")},dependencies:[Me],encapsulation:2,changeDetection:0})}}return t})(),nc=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.budgetService=i}getDetailsRoute(){return"orgBudgetDetails"}getParamKey(){return De.budgetCode}getItem(e){return this.budgetService.get(e)}getError(e){return this.budgetService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(Oi))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),s1=(()=>{class t extends Dt{constructor(e){super(),this.datePickerService=e}build(){let e=new Ue({});e.setControl("code",new $("",[Q.required,qe.noSpecialCharacters])),e.setControl("name",new $("",Q.required)),e.setControl("startDate",new $("",[Q.required,qe.patternValidation(i=>this.datePickerService.isValidFormat(i))])),e.setControl("endDate",new $("",[Q.required,qe.patternValidation(i=>this.datePickerService.isValidFormat(i))])),e.setControl("budget",new $("",[Q.required,qe.mustBePositive])),e.setControl("currency",new Ue({isocode:new $(void 0,Q.required)})),e.setControl("orgUnit",new Ue({uid:new $(void 0,Q.required)})),e.setValidators(qe.dateRange("startDate","endDate",i=>this.datePickerService.getDate(i))),this.form=e}static{this.\u0275fac=function(i){return new(i||t)(f(zc))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rc=(()=>{class t extends G{constructor(e,i,n,a){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.budgetService=a}load(e){return this.budgetService.loadBudget(e),this.budgetService.get(e)}update(e,i){return this.budgetService.update(e,i),this.budgetService.getLoadingStatus(i.code??"")}create(e){return this.budgetService.create(e),this.budgetService.getLoadingStatus(e.code??"")}getDetailsRoute(){return"orgBudgetDetails"}static{this.\u0275fac=function(i){return new(i||t)(f(nc),f(fe),f(s1),f(Oi))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),a1=(()=>{class t{ngOnInit(){this.model$=this.itemService.key$.pipe(E(e=>this.itemService.load(e)),kt({}))}constructor(e){this.itemService=e,this.isInEditMode$=this.itemService.isInEditMode$}static{this.\u0275fac=function(i){return new(i||t)(A(G))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-budget-details"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:rc}])],decls:2,vars:3,consts:[["i18nRoot","orgBudget.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgBudget.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgBudget"],["info","","i18nRoot","orgBudget"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(i,n){i&1&&(v(0,Bf,57,58,"cx-org-card",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.model$))},dependencies:[K,ft,V,oi,vn,zi,Yt,ze,ce,he,N,An],encapsulation:2,changeDetection:0})}}return t})();function gr(t,r){if(!r?.value){let e=t?.value?.replace(/\s+/g,"-").toLowerCase();r?.patchValue(e)}}var Id=(()=>{class t{constructor(e,i,n){this.itemService=e,this.unitService=i,this.currencyService=n,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(q(a=>{a&&a.length===1&&this.form?.get("orgUnit.uid")?.setValue(a[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe(q(a=>{a.length===1&&this.form?.get("currency.isocode")?.setValue(a[0]?.isocode)}))}ngOnInit(){this.unitService.loadList()}createCodeWithName(e,i){gr(e,i)}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(xe),A(Pi))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-budget-form"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:rc},{provide:Ye,useExisting:nc}])],decls:2,vars:1,consts:[["i18nRoot","orgBudget"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[1,"label-content"],["label","orgBudget.startDate",3,"update","control","max","required"],["label","orgBudget.endDate",3,"control","min","required","update",4,"cxFeature"],[3,"control","min","required","update",4,"cxFeature"],[3,"formGroup"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["required","true","type","number","formControlName","budget","min","0",1,"form-control",3,"placeholder"],[3,"formGroup",4,"ngIf"],[3,"translationParams","control"],[3,"control"],["label","orgBudget.endDate",3,"update","control","min","required"],[3,"update","control","min","required"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(i,n){i&1&&(d(0,"cx-org-form",0),v(1,zf,47,57,"ng-container",1),l()),i&2&&(o(),s("ngIf",n.form))},dependencies:[K,Ei,Mt,Pt,Pr,dt,ut,Lt,kc,Ct,Ut,Ot,qc,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),c1=(()=>{class t extends ne{constructor(e,i){super(e),this.tableService=e,this.budgetService=i,this.tableType=D.BUDGET}load(e){return this.budgetService.getList(e).pipe(j(Vt),C(i=>this.convertBudgets(i)))}convertBudgets({pagination:e,sorts:i,values:n}){return{pagination:e,sorts:i,values:n.map(S=>ke(L({},S),{currency:S.currency?.isocode,unit:S.orgUnit}))}}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Oi))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),p1=(()=>{class t extends zt{constructor(e,i){super(e),this.currentItemService=i}getParams(){return this.currentItemService.item$}static{this.\u0275fac=function(i){return new(i||t)(f(xt),f(nc))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),l1={cmsComponents:{ManageBudgetsListComponent:{component:yi,providers:[{provide:ne,useExisting:c1},{provide:G,useExisting:rc}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.list",resolver:p1}}},children:[{path:"create",component:Id},{path:`:${De.budgetCode}`,component:a1,data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.details"}},children:[{path:"edit",component:Id},{path:"cost-centers",component:o1}]}]},guards:[pi,qt]}}};function d1(){return _e(li).a11yOrganizationLinkableCells?m1:u1}var u1={table:{[D.BUDGET]:{cells:["name","active","amount","dateRange","unit"],options:{cells:{name:{dataComponent:Rt},active:{dataComponent:nt},amount:{dataComponent:wd},dateRange:{dataComponent:Nd},unit:{dataComponent:Ze}}}},[D.BUDGET_ASSIGNED_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:mr}},pagination:{pageSize:Le}}}}},m1={table:{[D.BUDGET]:{cells:["name","active","amount","dateRange","unit"],options:{cells:{name:{dataComponent:Rt,linkable:!0},active:{dataComponent:nt},amount:{dataComponent:wd},dateRange:{dataComponent:Nd},unit:{dataComponent:Ze}}}},[D.BUDGET_ASSIGNED_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:mr}},pagination:{pageSize:Le}}}}},g1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Xe]})}}return t})(),qi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H]})}}return t})(),f1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,se,Ce,Y,_n,qi,Qt,$e]})}}return t})(),h1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Ht,Et,Ce,Y,It,wt,hn,Kc,lt]})}}return t})(),v1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Tt(l1),si(d1)],imports:[ur,f1,h1,g1]})}}return t})(),lr=(()=>{class t extends me{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-budget-details-cell"]],features:[Ae],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(i,n){if(i&1&&(v(0,Kf,48,47,"ng-template",null,0,Se),d(2,"button",1),m(3),l()),i&2){let a=X(1);o(2),s("cxPopover",a)("cxPopoverOptions",oe(3,$i)),o(),x(" ",n.model.name,`
`)}},dependencies:[Ft,V,N,An,he],encapsulation:2,changeDetection:0})}}return t})(),_1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Tn,se,Y,Ce]})}}return t})(),jd=(()=>{class t extends rt{constructor(e,i,n){super(e),this.tableService=e,this.costCenterService=i,this.budgetService=n,this.tableType=D.COST_CENTER_BUDGETS,this._domainType=D.BUDGET}load(e,i){return this.costCenterService.getBudgets(i,e)}assign(e,i){return this.costCenterService.assignBudget(e,i),this.budgetService.getLoadingStatus(i)}unassign(e,i){return this.costCenterService.unassignBudget(e,i),this.budgetService.getLoadingStatus(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(ln),f(Oi))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),S1=(()=>{class t extends jd{constructor(){super(...arguments),this.tableType=D.COST_CENTER_ASSIGNED_BUDGETS}load(e,i){return super.load(e,i).pipe(C(n=>this.filterSelected(n)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),x1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-cost-center-assigned-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:S1}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list")(1,"a",0),m(2),c(3,"cxTranslate"),l()()),i&2&&(o(2),x(" ",p(3,1,"organization.assign")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),C1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-cost-center-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:jd}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"a",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("previous",!1),o(2),x(" ",p(3,2,"organization.done")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),U1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Zt,Y,se,Xe]})}}return t})(),oc=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.costCenterService=i}getParamKey(){return De.costCenterCode}getItem(e){return this.costCenterService.get(e)}getError(e){return this.costCenterService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(ln))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),I1=(()=>{class t extends Dt{build(){let e=new Ue({});e.setControl("code",new $("",[Q.required,qe.noSpecialCharacters])),e.setControl("name",new $("",Q.required)),e.setControl("currency",new Ue({isocode:new $(void 0,Q.required)})),e.setControl("unit",new Ue({uid:new $(void 0,Q.required)})),this.form=e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sn=(()=>{class t extends G{constructor(e,i,n,a){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.costCenterService=a}load(e){return this.costCenterService.load(e),this.costCenterService.get(e)}update(e,i){return this.costCenterService.update(e,i),this.costCenterService.getLoadingStatus(i.code??"")}create(e){return this.costCenterService.create(e),this.costCenterService.getLoadingStatus(e.code??"")}getDetailsRoute(){return"orgCostCenterDetails"}static{this.\u0275fac=function(i){return new(i||t)(f(oc),f(fe),f(I1),f(ln))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),E1=(()=>{class t{constructor(e){this.itemService=e,this.model$=this.itemService.key$.pipe(E(i=>this.itemService.load(i)),kt({})),this.isInEditMode$=this.itemService.isInEditMode$}static{this.\u0275fac=function(i){return new(i||t)(A(G))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-cost-center-details"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:Sn}])],decls:2,vars:3,consts:[["i18nRoot","orgCostCenter.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgCostCenter.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgCostCenter"],["info","","i18nRoot","orgCostCenter"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(i,n){i&1&&(v(0,Qf,43,47,"cx-org-card",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.model$))},dependencies:[K,ft,V,oi,vn,zi,Yt,ze,ce,he,N],encapsulation:2,changeDetection:0})}}return t})(),Qa=(()=>{class t{set unitKey(e){e&&(this.form?.get("unit.uid")?.setValue(e),this.form?.get("unit")?.disable())}constructor(e,i,n){this.itemService=e,this.unitService=i,this.currencyService=n,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(q(a=>{a&&a.length===1&&this.form?.get("unit.uid")?.setValue(a[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe(q(a=>{a.length===1&&this.form?.get("currency.isocode")?.setValue(a[0]?.isocode)}))}createCodeWithName(e,i){gr(e,i)}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(xe),A(Pi))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-cost-center-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[Z([{provide:G,useExisting:Sn},{provide:Ye,useExisting:oc}])],decls:2,vars:1,consts:[["i18nRoot","orgCostCenter"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],["formGroupName","currency"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],[3,"translationParams","control"],[3,"control"]],template:function(i,n){i&1&&(d(0,"cx-org-form",0),v(1,oh,35,51,"ng-container",1),l()),i&2&&(o(),s("ngIf",n.form))},dependencies:[K,Ei,Mt,Pt,dt,ut,Lt,Ct,Ut,Rn,Ot,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),y1=(()=>{class t extends ne{constructor(e,i){super(e),this.tableService=e,this.costCenterService=i,this.tableType=D.COST_CENTER}load(e){return this.costCenterService.getList(e).pipe(j(Vt),C(i=>this.convertCostCenters(i)))}convertCostCenters({pagination:e,sorts:i,values:n}){return{pagination:e,sorts:i,values:n.map(S=>ke(L({},S),{currency:S.currency?.isocode}))}}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(ln))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),b1=(()=>{class t extends zt{constructor(e,i){super(e),this.currentItemService=i}getParams(){return this.currentItemService.item$}static{this.\u0275fac=function(i){return new(i||t)(f(xt),f(oc))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),A1={cmsComponents:{ManageCostCentersListComponent:{component:yi,providers:[{provide:ne,useExisting:y1},{provide:G,useExisting:Sn}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.list",resolver:b1}}},children:[{path:"create",component:Qa},{path:`:${De.costCenterCode}`,component:E1,data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.details"}},children:[{path:"edit",component:Qa},{path:"budgets",data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.budgets"}},children:[{path:"",component:x1},{path:"assign",component:C1}]}]}]},guards:[pi,qt]}}};function D1(){return _e(li).a11yOrganizationLinkableCells?R1:B1}var R1={table:{[D.COST_CENTER]:{cells:["name","active","currency","unit"],options:{cells:{name:{dataComponent:Rt,linkable:!0},active:{dataComponent:nt},currency:{dataComponent:me},unit:{dataComponent:Ze}}}},[D.COST_CENTER_ASSIGNED_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:lr},actions:{dataComponent:Fe}},pagination:{pageSize:Le}}},[D.COST_CENTER_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:lr},actions:{dataComponent:Fe}}}}}},B1={table:{[D.COST_CENTER]:{cells:["name","active","currency","unit"],options:{cells:{name:{dataComponent:Rt},active:{dataComponent:nt},currency:{dataComponent:me},unit:{dataComponent:Ze}}}},[D.COST_CENTER_ASSIGNED_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:lr},actions:{dataComponent:Fe}},pagination:{pageSize:Le}}},[D.COST_CENTER_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:lr},actions:{dataComponent:Fe}}}}}},T1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,se,Ce,Y,_n,qi,Qt,$e]})}}return t})(),P1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Pi,xe],imports:[H,se,Ht,Et,Ce,Y,It,wt,hn,lt]})}}return t})(),L1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Tt(A1),si(D1)],imports:[ur,T1,P1,U1,_1]})}}return t})(),sc=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.permissionService=i}getParamKey(){return De.permissionCode}getItem(e){return this.permissionService.get(e)}getError(e){return this.permissionService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(_i))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ui=function(t){return t.ORDER="B2BOrderThresholdPermission",t.TIME_SPAN="B2BOrderThresholdTimespanPermission",t.EXCEEDED="B2BBudgetExceededPermission",t}(Ui||{}),M1=(()=>{class t extends Dt{constructor(){super(...arguments),this.subscription=new Hi}build(){let e=new Ue({});e.setControl("code",new $("",[Q.required,qe.noSpecialCharacters])),e.setControl("orgUnit",new Ue({uid:new $(void 0,Q.required)})),e.setControl("orderApprovalPermissionType",new Ue({code:new $(void 0,Q.required)})),this.subscription.add(e.get("orderApprovalPermissionType")?.get("code")?.valueChanges.pipe(Nt(),j(i=>!!i)).subscribe(i=>this.amend(e,i))),this.form=e}get defaultValue(){return{orderApprovalPermissionType:{code:Ui.EXCEEDED}}}amend(e,i){i===Ui.EXCEEDED&&(e.removeControl("periodRange"),e.removeControl("currency"),e.removeControl("threshold")),(i===Ui.TIME_SPAN||i===Ui.ORDER)&&(e.get("currency")||e.setControl("currency",new Ue({isocode:new $(void 0,Q.required)})),e.get("threshold")||e.setControl("threshold",new $("",Q.required))),i===Ui.ORDER&&e.removeControl("periodRange"),i===Ui.TIME_SPAN&&(e.get("periodRange")||e.setControl("periodRange",new $("",Q.required)))}ngOnDestroy(){this.subscription.unsubscribe()}patchData(e){super.patchData(e),e?.code!==void 0&&this.form?.get("orderApprovalPermissionType")?.disable()}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ac=(()=>{class t extends G{constructor(e,i,n,a){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.permissionService=a}load(e){return this.permissionService.loadPermission(e),this.permissionService.get(e)}update(e,i){return this.permissionService.update(e,i),this.permissionService.getLoadingStatus(i.code??"")}create(e){return this.permissionService.create(e),this.permissionService.getLoadingStatus(e.code??"")}getDetailsRoute(){return"orgPurchaseLimitDetails"}static{this.\u0275fac=function(i){return new(i||t)(f(sc),f(fe),f(M1),f(_i))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),F1=(()=>{class t{constructor(e){this.itemService=e,this.model$=this.itemService.key$.pipe(E(i=>this.itemService.load(i)),kt({})),this.isInEditMode$=this.itemService.isInEditMode$}static{this.\u0275fac=function(i){return new(i||t)(A(G))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-permission-details"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:ac}])],decls:2,vars:3,consts:[["i18nRoot","orgPurchaseLimit.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgPurchaseLimit.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgPurchaseLimit",3,"disabled"],["info","","i18nRoot","orgPurchaseLimit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"],[1,"value",3,"routerLink"]],template:function(i,n){i&1&&(v(0,dh,35,40,"cx-org-card",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.model$))},dependencies:[K,ft,V,vn,zi,Yt,ze,ce,he,N],encapsulation:2,changeDetection:0})}}return t})(),O1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,se,Ce,Y,_n,qi,Qt,$e]})}}return t})(),Ed=(()=>{class t{constructor(e,i,n,a){this.itemService=e,this.unitService=i,this.currencyService=n,this.permissionService=a,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(q(S=>{S&&S.length===1&&this.form?.get("orgUnit.uid")?.setValue(S[0].id)})),this.currencies$=this.currencyService.getAll().pipe(q(S=>{S.length===1&&this.form?.get("currency.isocode")?.setValue(S[0]?.isocode)})),this.types$=this.permissionService.getTypes(),this.periods=Object.keys(Ya)}ngOnInit(){this.unitService.loadList()}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(xe),A(Pi),A(_i))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-permission-form"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:ac},{provide:Ye,useExisting:sc}])],decls:2,vars:1,consts:[["i18nRoot","orgPurchaseLimit"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],[3,"translationParams","control"],[3,"control"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],["formControlName","periodRange","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder",4,"ngIf"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder"],["type","number","required","","formControlName","threshold",1,"form-control",3,"placeholder"]],template:function(i,n){i&1&&(d(0,"cx-org-form",0),v(1,Rh,23,32,"ng-container",1),l()),i&2&&(o(),s("ngIf",n.form))},dependencies:[K,Mt,Pt,Pr,dt,ut,Lt,Ct,Ut,Ot,Ei,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),w1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Et,Ce,Y,It,wt,Ht,hn,lt]})}}return t})(),N1=(()=>{class t extends ne{constructor(e,i){super(e),this.tableService=e,this.permissionsService=i,this.tableType=D.PERMISSION}load(e){return this.permissionsService.getList(e).pipe(j(Vt),C(i=>this.convertPermissions(i)))}convertPermissions({pagination:e,sorts:i,values:n}){return{pagination:e,sorts:i,values:n.map(S=>ke(L({},S),{unit:S.orgUnit}))}}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(_i))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),G1=(()=>{class t extends zt{constructor(e,i){super(e),this.currentItemService=i}getParams(){return this.currentItemService.item$}static{this.\u0275fac=function(i){return new(i||t)(f(xt),f(sc))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),k1={cmsComponents:{ManagePermissionsListComponent:{component:yi,providers:[{provide:ne,useExisting:N1},{provide:G,useExisting:ac}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.list",resolver:G1}}},children:[{path:"create",component:Ed},{path:`:${De.permissionCode}`,component:F1,data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.details"}},children:[{path:"edit",component:Ed}]}]},guards:[pi,qt]}}};function j1(){return _e(li).a11yOrganizationLinkableCells?$1:V1}var $1={table:{[D.PERMISSION]:{cells:["code","active","limit","unit"],options:{cells:{code:{dataComponent:Rt,linkable:!0},active:{dataComponent:nt},unit:{dataComponent:Ze},limit:{dataComponent:Gd}}}}}},V1={table:{[D.PERMISSION]:{cells:["code","active","limit","unit"],options:{cells:{code:{dataComponent:Rt},active:{dataComponent:nt},unit:{dataComponent:Ze},limit:{dataComponent:Gd}}}}}},z1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Tt(k1),si(j1)],imports:[ur,O1,w1]})}}return t})(),ot=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.orgUnitService=i}getParamKey(){return De.unitCode}getItem(e){return this.orgUnitService.get(e)}getError(e){return this.orgUnitService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$d=(()=>{class t extends Dt{patchData(e){this.toggleParentUnit(e),super.patchData(e)}build(){let e=new Ue({});e.setControl("uid",new $("",[Q.required,qe.noSpecialCharacters])),e.setControl("name",new $("",Q.required)),e.setControl("approvalProcess",new Ue({code:new $(null)})),this.form=e,this.toggleParentUnit()}toggleParentUnit(e){this.isRootUnit(e)?this.form?.removeControl("parentOrgUnit"):this.form?.get("parentOrgUnit")||this.form?.setControl("parentOrgUnit",new Ue({uid:new $(null,Q.required)}))}isRootUnit(e){return!!(e?.uid&&e?.name&&(!e?.parentOrgUnit||e?.uid===e?.parentOrgUnit))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ki=(()=>{class t extends G{constructor(e,i,n,a){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.unitService=a}load(e){return this.unitService.load(e),this.unitService.get(e)}update(e,i){return this.unitService.update(e,i),this.unitService.getLoadingStatus(i.uid??"")}create(e){return this.unitService.create(e),this.unitService.getLoadingStatus(e.uid??"")}getDetailsRoute(){return"orgUnitDetails"}static{this.\u0275fac=function(i){return new(i||t)(f(ot),f(fe),f($d),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),q1=(()=>{class t{constructor(e,i){this.itemService=e,this.orgUnitService=i,this.model$=this.itemService.key$.pipe(E(n=>this.itemService.load(n)),kt({})),this.isInEditMode$=this.itemService.isInEditMode$,this.isUpdatingUnitAllowed=this.orgUnitService?this.orgUnitService.isUpdatingUnitAllowed():!0}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(xe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-details"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:Ki}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.details",3,"cxFocus","showHint",4,"ngIf"],["i18nRoot","orgUnit.details",3,"cxFocus","showHint"],["actions","","class","link edit",3,"disabled","routerLink",4,"ngIf"],["actions","","key","uid","i18nRoot","orgUnit",4,"ngIf"],["info","","i18nRoot","orgUnit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["main","",1,"link-list"],[4,"ngIf"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUnit"],[1,"value",3,"routerLink"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(i,n){i&1&&(v(0,Vh,28,27,"cx-org-card",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.model$))},dependencies:[K,ft,V,oi,vn,zi,ze,Yt,ce,he,N],encapsulation:2,changeDetection:0})}}return t})(),K1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,se,Ce,Y,_n,qi,$e,Qt]})}}return t})(),Wa=(()=>{class t{constructor(e,i){this.itemService=e,this.unitService=i,this.i18nRoot="orgUnit",this.createChildUnit=!1,this.form=this.itemService.getForm(),this.units$=this.itemService.unit$.pipe(q(n=>{this.form?.get("parentOrgUnit.uid")?.setValue(n),this.createChildUnit&&this.form?.get("parentOrgUnit")?.disable()}),E(()=>this.unitService.getActiveUnitList().pipe(C(n=>n?.filter(a=>a.id!==this.form?.value.uid)),q(n=>{n&&n.length===1&&this.form?.get("parentOrgUnit.uid")?.setValue(n[0]?.id)})))),this.approvalProcess$=this.unitService.getApprovalProcesses().pipe(j(Vt),j(n=>n.length>0))}ngOnInit(){this.unitService.loadList()}createUidWithName(e,i){gr(e,i)}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(xe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",createChildUnit:"createChildUnit"},features:[Z([{provide:G,useExisting:Ki},{provide:Ye,useExisting:ot}])],decls:2,vars:2,consts:[["parentOrgUnitNotes",""],[3,"i18nRoot"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],["formGroupName","approvalProcess",1,"full-width"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","items","placeholder"],[4,"ngIf","ngIfElse"],[3,"translationParams","control"],[3,"control"],["formGroupName","parentOrgUnit"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[1,"notes-content"]],template:function(i,n){i&1&&(d(0,"cx-org-form",1),v(1,ev,29,33,"ng-container",2),l()),i&2&&(s("i18nRoot",n.i18nRoot),o(),s("ngIf",n.form))},dependencies:[K,Ei,Mt,Pt,dt,ut,Lt,Ct,Ut,Rn,Ot,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),H1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Ht,Et,Ce,Y,It,wt,hn,lt]})}}return t})(),Vd=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.unitService=i,this.item$=this.b2bUnit$.pipe(j(n=>!!n),E(n=>this.key$.pipe(E(a=>this.getItem(n,a)))))}getDetailsRoute(){return"orgUnitAddressDetails"}getParamKey(){return De.addressCode}getItem(e,i){return i?this.unitService.getAddress(e,i):re(void 0)}getError(e){return this.unitService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zd=(()=>{class t extends Dt{constructor(e,i){super(),this.userAddressService=e,this.userProfileFacade=i}build(){let e=new Ue({});e.setControl("id",new $("")),e.setControl("titleCode",new $("")),e.setControl("firstName",new $("",Q.required)),e.setControl("lastName",new $("",Q.required)),e.setControl("line1",new $("",Q.required)),e.setControl("line2",new $("")),e.setControl("town",new $("",Q.required)),e.setControl("country",new Ue({isocode:new $(null,Q.required)})),e.setControl("region",new Ue({isocode:new $(null,Q.required)})),e.setControl("postalCode",new $("",Q.required)),e.setControl("phone",new $("")),e.setControl("cellphone",new $("")),this.form=e}getCountries(){return this.userAddressService.getDeliveryCountries().pipe(q(e=>{Object.keys(e).length===0&&this.userAddressService.loadDeliveryCountries()}))}getTitles(){return this.userProfileFacade.getTitles()}getRegions(){let e=this.form?.get("country.isocode")?.value,i;return this.getForm()?.get("country.isocode")?.valueChanges.pipe(j(n=>!!n),E(n=>(i=n,this.userAddressService.getRegions(n))),q(n=>{let a=this.form?.get("region.isocode");!n||n.length===0?a?.disable():a?.enable(),e&&i!==e&&a?.reset(),e=i}))??re([])}static{this.\u0275fac=function(i){return new(i||t)(f(Rr),f(kr))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qd=(()=>{class t extends G{constructor(e,i,n,a){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.unitService=a,this.featureConfigService=_e(St,{optional:!0}),this.unitRouteParam$=this.routingService.getParams().pipe(C(S=>S[De.unitCode]),Nt())}load(e,i){return this.unitService.getAddress(e,i).pipe(j(Vt))}update(e,i){return this.unitRouteParam$.pipe(st()).subscribe(n=>{this.unitService.updateAddress(n,e,i)}),this.unitService.getAddressLoadingStatus(e)}create(e){return this.featureConfigService?.isEnabled("fixMyCompanyUnitAddressCreation")&&(e.id="new"),this.unitRouteParam$.pipe(st()).subscribe(i=>this.unitService.createAddress(i,e)),this.unitService.getAddressLoadingStatus(e.id??"")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}delete(e,i){return this.launchList(),this.unitService.deleteAddress(i,e),this.unitService.getAddressLoadingStatus(e)}launchDetails(e){e.id?this.unitRouteParam$.pipe(st()).subscribe(i=>{this.routingService.go({cxRoute:this.getDetailsRoute(),params:ke(L({},e),{uid:i})})}):this.launchList()}launchList(){this.unitRouteParam$.pipe(st()).subscribe(e=>{this.routingService.go({cxRoute:"orgUnitAddressList",params:{uid:e}})})}static{this.\u0275fac=function(i){return new(i||t)(f(Vd),f(fe),f(zd),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Z1=(()=>{class t{getCountry(e){return this.userAddressService.getDeliveryCountries().pipe(q(i=>{Object.keys(i).length===0&&this.userAddressService.loadDeliveryCountries()}),C(i=>i.find(n=>n.isocode===e)))}constructor(e,i,n){this.itemService=e,this.currentUnitService=i,this.userAddressService=n,this.unit$=this.currentUnitService.item$,this.model$=this.itemService.key$.pipe(Cn(this.unit$),E(([a,S])=>this.itemService.load(S?.uid,a)),xn({bufferSize:1,refCount:!0}))}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(ot),A(Rr))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-address-details"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:qd}])],decls:2,vars:3,consts:[[4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus",4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus"],["actions","","routerLink","edit",1,"link"],["actions","","key","id","i18nRoot","orgUnitAddress",3,"additionalParam"],["main","",1,"details"],[1,"property"],[1,"value"],[3,"routerLink"],[1,"property","full-width"]],template:function(i,n){i&1&&(v(0,iv,3,3,"ng-container",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.unit$))},dependencies:[K,ft,V,Fd,ze,ce,he,N],encapsulation:2,changeDetection:0})}}return t})(),Y1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,se,Ce,Y,Od,$e]})}}return t})(),Kd=(()=>{class t extends me{constructor(e,i){super(e),this.outlet=e,this.itemService=i,this.unitKey$=this.itemService.key$}get tabIndex(){return 0}getRouterModel(e){return ke(L({},this.outlet.context),{uid:e})}static{this.\u0275fac=function(i){return new(i||t)(A(di),A(G))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-link-cell"]],features:[Ae],decls:4,vars:3,consts:[["text",""],[4,"ngIf"],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(i,n){i&1&&(v(0,ov,2,2,"ng-container",1),c(1,"async"),v(2,sv,2,2,"ng-template",null,0,Se)),i&2&&s("ngIf",p(1,1,n.unitKey$))},dependencies:[K,_t,V,ce,he],encapsulation:2,changeDetection:0})}}return t})(),Q1=(()=>{class t extends rt{constructor(e,i){super(e),this.tableService=e,this.orgUnitService=i,this.tableType=D.UNIT_ADDRESS,this._domainType=D.UNIT_ADDRESS}load(e,i){return this.orgUnitService.getAddresses(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),W1=(()=>{class t{constructor(){this.routerKey=De.addressCode}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-address-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:Q1}])],decls:4,vars:5,consts:[["key","id",1,"has-nested-view",3,"routerKey","showHint"],["actions","","routerLink","create",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"a",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("routerKey",n.routerKey)("showHint",!0),o(2),x(" ",p(3,3,"organization.create")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),X1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,se,Ce,Xe]})}}return t})(),yd=(()=>{class t{constructor(e,i,n){this.itemService=e,this.formService=i,this.currentUnitService=n,this.form=this.itemService.getForm(),this.key$=this.itemService.key$,this.countries$=this.formService.getCountries(),this.titles$=this.formService.getTitles(),this.regions$=this.formService.getRegions(),this.unit$=this.currentUnitService.item$}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(zd),A(ot))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-address-form"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:qd}])],decls:5,vars:12,consts:[["i18nRoot","orgUnitAddress",3,"animateBack","subtitle"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],["formGroupName","country"],[1,"label-content","required"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"country-select",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],[1,"full-width"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],[4,"ngIf"],[3,"translationParams","control"],[3,"control"],["class","full-width","formGroupName","region",4,"ngIf"],["formGroupName","region",1,"full-width"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"region-select",3,"inputAttrs","searchable","clearable","items","placeholder"]],template:function(i,n){i&1&&(d(0,"cx-org-form",0),c(1,"async"),c(2,"async"),c(3,"cxTranslate"),v(4,Iv,72,82,"ng-container",1),l()),i&2&&(s("animateBack",!p(1,3,n.key$))("subtitle",Bt(3,7,"orgUnitAddress.details.subtitle",b(10,gn,p(2,5,n.unit$)))),o(4),s("ngIf",n.form))},dependencies:[K,Ei,Mt,Pt,dt,ut,Lt,Ct,Ut,Rn,Ot,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),J1=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Ht,Et,Ce,Y,It,wt,lt]})}}return t})(),eS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[X1,Y1,J1]})}}return t})(),Hd=(()=>{class t extends rt{constructor(e,i,n){super(e),this.tableService=e,this.unitService=i,this.userService=n,this.tableType=D.UNIT_APPROVERS,this._domainType=D.USER}load(e,i){return this.unitService.getUsers(i,je.APPROVER,e)}assign(e,i){return this.unitService.assignApprover(e,i,je.APPROVER),this.userService.getLoadingStatus(i)}unassign(e,i){return this.unitService.unassignApprover(e,i,je.APPROVER),this.userService.getLoadingStatus(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(xe),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tS=(()=>{class t extends Hd{constructor(){super(...arguments),this.tableType=D.UNIT_ASSIGNED_APPROVERS}load(e,i){return this.unitService.clearAssignedUsersList(i,je.APPROVER,e),super.load(e,i).pipe(C(n=>this.filterSelected(n)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:tS}])],decls:4,vars:4,consts:[[3,"showHint"],["actions","","routerLink","assign",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"a",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("showHint",!0),o(2),x(" ",p(3,2,"organization.assign")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),nS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:Hd}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"a",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("previous",!1),o(2),x(" ",p(3,2,"organization.done")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),rS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Y,se,Xe]})}}return t})(),oS=(()=>{class t extends rt{constructor(e,i){super(e),this.tableService=e,this.orgUnitService=i,this.tableType=D.UNIT_CHILDREN,this._domainType=D.UNIT}load(e,i){return this.orgUnitService.getChildUnits(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sS=(()=>{class t{constructor(e){this.currentUnitService=e,this.unit$=this.currentUnitService?this.currentUnitService.item$:re({active:!0})}static{this.\u0275fac=function(i){return new(i||t)(A(ot))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-children"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:oS}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitChildren",3,"displayInfoConfig"]],template:function(i,n){if(i&1&&(d(0,"cx-org-sub-list",0)(1,"a",1),c(2,"async"),m(3),c(4,"cxTranslate"),l(),_(5,"cx-org-disable-info",2),l()),i&2){let a;s("showHint",!0),o(),ve("disabled",!((a=p(2,5,n.unit$))!=null&&a.active)),o(2),x(" ",p(4,7,"organization.create")," "),o(2),s("displayInfoConfig",oe(9,tc))}},dependencies:[V,Me,Yt,N,ce],encapsulation:2,changeDetection:0})}}return t})(),aS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Zt,Y,se,Xe,H,Qt]})}}return t})(),cS=(()=>{class t extends rt{constructor(e,i){super(e),this.tableService=e,this.unitService=i,this.tableType=D.UNIT_COST_CENTERS,this._domainType=D.COST_CENTER}load(e,i){return this.unitService.getCostCenters(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pS=(()=>{class t{constructor(e){this.currentUnitService=e,this.unit$=this.currentUnitService?this.currentUnitService.item$:re({active:!0})}static{this.\u0275fac=function(i){return new(i||t)(A(ot))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-cost-centers"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:cS}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitCostCenters",3,"displayInfoConfig"]],template:function(i,n){if(i&1&&(d(0,"cx-org-sub-list",0)(1,"a",1),c(2,"async"),m(3),c(4,"cxTranslate"),l(),_(5,"cx-org-disable-info",2),l()),i&2){let a;s("showHint",!0),o(),ve("disabled",!((a=p(2,5,n.unit$))!=null&&a.active)),o(2),x(" ",p(4,7,"organization.create")," "),o(2),s("displayInfoConfig",oe(9,tc))}},dependencies:[V,Me,Yt,N,ce],encapsulation:2,changeDetection:0})}}return t})(),lS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Y,se,Xe,H,Qt]})}}return t})(),Zd=(()=>{class t extends me{constructor(e,i,n){super(e),this.outlet=e,this.itemService=i,this.b2bUserService=n,this.unitKey$=this.itemService.key$,this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed(),Ti("a11yListOversizedFocus")}getRouterModel(e){return ke(L({},this.outlet.context),{uid:e})}static{this.\u0275fac=function(i){return new(i||t)(A(di),A(G),A(Pe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-user-link-cell"]],features:[Ae],decls:2,vars:2,consts:[[4,"cxFeature"],["class","button",3,"routerLink",4,"ngIf"],[1,"button",3,"routerLink"],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(i,n){i&1&&v(0,yv,3,3,"ng-container",0)(1,Av,3,3,"ng-container",0),i&2&&(s("cxFeature","a11yListOversizedFocus"),o(),s("cxFeature","!a11yListOversizedFocus"))},dependencies:[K,V,pt,ce,N,he],encapsulation:2,changeDetection:0})}}return t})(),dS=(()=>{class t extends rt{constructor(e,i){super(e),this.tableService=e,this.unitService=i,this.tableType=D.UNIT_USERS,this._domainType=D.USER}load(e,i){return this.unitService.getUsers(i,je.CUSTOMER,e)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uS=(()=>{class t{constructor(e,i){this.currentUnitService=e,this.b2bUserService=i,this.routerKey=De.userCode,this.unit$=this.currentUnitService?this.currentUnitService.item$:re({active:!0}),this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed()}static{this.\u0275fac=function(i){return new(i||t)(A(ot),A(Pe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-user-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:dS}])],decls:3,vars:5,consts:[["key","customerId",3,"routerKey","showHint"],["actions","","class","link","routerLink","create",3,"disabled",4,"ngIf"],["info","","i18nRoot","orgUnitUsers",3,"displayInfoConfig"],["actions","","routerLink","create",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0),v(1,Dv,4,7,"a",1),_(2,"cx-org-disable-info",2),l()),i&2&&(s("routerKey",n.routerKey)("showHint",!0),o(),s("ngIf",n.isUpdatingUserAllowed),o(),s("displayInfoConfig",oe(4,tc)))},dependencies:[K,V,Me,Yt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),mS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,se,Ce,Xe,Qt,lt]})}}return t})(),gS=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.b2bUserService=i}getDetailsRoute(){return"orgUnitUserList"}getParamKey(){return De.userCode}getItem(e){return this.b2bUserService.get(e)}getError(e){return this.b2bUserService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yd=(()=>{class t extends Dt{constructor(e){super(),this.userService=e,this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}getForm(e){return this.form=null,super.getForm(e)}build(){let e=new Ue({});this.availableRoles.forEach(i=>e.addControl(i,new $)),this.availableRights.forEach(i=>e.addControl(i,new $)),this.form=e}patchData(e){super.patchData(e),e&&e.roles?.forEach(i=>{this.form?.get(i)?.setValue(!0)})}static{this.\u0275fac=function(i){return new(i||t)(f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),fS=(()=>{class t extends G{constructor(e,i,n,a,S){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.unitService=a,this.b2bUserService=S}save(e,i){return e.get("orgUnit")?.enable(),super.save(e,i)}load(e){return this.b2bUserService.get(e)}update(e,i){return this.b2bUserService.getLoadingStatus(e)}create(e){return this.b2bUserService.getLoadingStatus("")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}static{this.\u0275fac=function(i){return new(i||t)(f(gS),f(fe),f(Yd),f(xe),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cc=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.b2bUserService=i,this.name$=this.item$.pipe(C(n=>n?.name))}getParamKey(){return De.userCode}getItem(e){return this.b2bUserService.get(e)}getError(e){return this.b2bUserService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hS=(()=>{class t extends Dt{build(){let e=new Ue({});e.setControl("customerId",new $("")),e.setControl("titleCode",new $("")),e.setControl("firstName",new $("",Q.required)),e.setControl("lastName",new $("",Q.required)),e.setControl("email",new $("",[Q.required,qe.emailValidator])),e.setControl("orgUnit",new Ue({uid:new $(void 0,Q.required)})),e.setControl("roles",new jc([])),e.setControl("isAssignedToApprovers",new $(!1)),e.get("roles")?.valueChanges.subscribe(i=>{i.includes(je.APPROVER)?e.get("isAssignedToApprovers")?.enable():(e.get("isAssignedToApprovers")?.disable(),e.get("isAssignedToApprovers")?.reset())}),this.form=e}patchData(e){if(super.patchData(e),e){let i=this.form?.get("roles"),n=this.form?.get("email");e.roles?.forEach(a=>{i.value.includes(a)||i.push(new $(a))}),e.displayUid&&n&&n.setValue(e.displayUid)}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bi=(()=>{class t extends G{constructor(e,i,n,a){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.userService=a}load(e){return this.userService.load(e),this.userService.get(e)}update(e,i){return delete i.approvers,this.userService.update(e,i),this.userService.getLoadingStatus(e)}create(e){return this.userService.create(e),this.userService.getLoadingStatus(e.uid??"")}getDetailsRoute(){return"orgUserDetails"}launchDetails(e){e.customerId!==null&&super.launchDetails(e)}static{this.\u0275fac=function(i){return new(i||t)(f(cc),f(fe),f(hS),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vS=(()=>{class t{constructor(e,i,n,a){this.itemService=e,this.formService=i,this.userService=n,this.userItemService=a,this.form$=this.itemService.current$.pipe(q(S=>{this.item||(this.item=S),this.item?.roles?.join()!==S?.roles?.join()&&(this.item=L(L({},this.item),S))}),C(S=>this.formService.getForm(S))),this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}save(e){e.disable();let i=[...this.availableRoles,...this.availableRights].filter(n=>!!e.get(n)?.value);this.userItemService.update(this.item?.customerId??"",{roles:i}).pipe(Je(1),j(n=>n.status===mt.SUCCESS)).subscribe(n=>{this.notify(L(L({},this.item),n.item)),e.enable()})}notify(e){this.messageService.add({message:{key:"orgUnitUserRoles.messages.rolesUpdated",params:{item:e}}})}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(Yd),A(Pe),A(bi))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-user-roles"]],viewQuery:function(i,n){if(i&1&&Di(we,5,we),i&2){let a;Ri(a=Bi())&&(n.messageService=a.first)}},hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:fS}])],decls:2,vars:3,consts:[["card",""],[3,"submit",4,"ngIf"],[3,"submit"],["i18nRoot","orgUnitUserRoles",3,"previous","cxFocus"],["actions","","routerLink","../../"],[3,"click"],["main","",1,"details",3,"formGroup"],[1,"full-width"],[1,"label-content","required"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",3,"change","formControlName"],[1,"form-check-label"]],template:function(i,n){i&1&&(v(0,Tv,18,16,"form",1),c(1,"async")),i&2&&s("ngIf",p(1,1,n.form$))},dependencies:[ei,K,ft,Dn,Br,dt,ut,Tr,V,Ct,Ut,ze,ce,N],encapsulation:2,changeDetection:0})}}return t})(),_S=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,Bn,se,Ce,Y,It,$e]})}}return t})(),SS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[mS,_S]})}}return t})(),tt=function(t){return t[t.EXPANDED=0]="EXPANDED",t[t.COLLAPSED=1]="COLLAPSED",t}(tt||{}),pc=(()=>{class t{constructor(){this.minimalExpanded=1,this.globalToggle$=new Zi(void 0),this.treeToggle$=new Zi(new Map)}initialize(e,i){i&&this.expandUntilActiveNode(e,i)}collapseAll(){this.globalToggle$.next(tt.COLLAPSED),this.treeToggle$.next(new Map)}expandAll(){this.globalToggle$.next(tt.EXPANDED),this.treeToggle$.next(new Map)}isExpanded(e,i){let n=this.treeToggle$.value?.get(e);return this.globalToggle$.value===tt.COLLAPSED&&n!==tt.EXPANDED?!1:n===tt.EXPANDED||(this.globalToggle$.value===tt.EXPANDED||i<this.minimalExpanded)&&n!==tt.COLLAPSED}toggle(e){let i=this.treeToggle$.value;i.set(e.id??"",this.isExpanded(e.id??"",e.depthLevel)?tt.COLLAPSED:tt.EXPANDED),this.treeToggle$.next(i)}expandUntilActiveNode(e,i){let n=(h,y)=>!!h.children?.find(z=>z.id===y||n(z,y)),a=(h,y=[])=>(n(h,i)&&y.push(h.id??""),h.children?.forEach(z=>{a(z,y)}),y),S=this.treeToggle$.value;a(e).forEach(h=>{S.get(h)!==tt.EXPANDED&&S.set(h,tt.EXPANDED)}),S!==this.treeToggle$.value&&this.treeToggle$.next(S)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),xS=(()=>{class t{constructor(e,i){this.unitTreeService=e,this.orgUnitService=i,this.isUpdatingUnitAllowed=this.orgUnitService?this.orgUnitService.isUpdatingUnitAllowed():!0}expandAll(){this.unitTreeService.expandAll()}collapseAll(){this.unitTreeService.collapseAll()}static{this.\u0275fac=function(i){return new(i||t)(A(pc),A(xe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-list"]],decls:8,vars:7,consts:[[3,"hideAddButton"],["actions",""],[1,"link",3,"click"]],template:function(i,n){i&1&&(d(0,"cx-org-list",0),de(1,1),d(2,"button",2),W("click",function(){return n.expandAll()}),m(3),c(4,"cxTranslate"),l(),d(5,"button",2),W("click",function(){return n.collapseAll()}),m(6),c(7,"cxTranslate"),l(),ue(),l()),i&2&&(s("hideAddButton",!n.isUpdatingUnitAllowed),o(3),x(" ",p(4,3,"orgUnit.tree.expandAll")," "),o(3),x(" ",p(7,5,"orgUnit.tree.collapseAll")," "))},dependencies:[yi,N],encapsulation:2,changeDetection:0})}}return t})(),Qd=(()=>{class t extends me{get depthLevel(){return this.model.depthLevel}constructor(e,i){super(e),this.outlet=e,this.unitTreeService=i,this.elementRef=_e(vc,{optional:!0}),this.routingService=_e(fe,{optional:!0}),this.featureConfigService=_e(St,{optional:!0}),Ti("a11yUnitsListKeyboardControls")}get combinedName(){return this.property?`${this.property} (${this.count})`:""}get expanded(){return this.model.expanded}get count(){return this.model.count}toggleItem(e){e.preventDefault(),e.stopPropagation(),this.unitTreeService.toggle(this.model)}get isSwitchable(){return this.count>0}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;let h=this.outlet.context,{_field:e,_options:i,_type:n,_i18nRoot:a}=h;return fr(h,["_field","_options","_type","_i18nRoot"])}onKeydown(e){if(!this.featureConfigService?.isEnabled("a11yUnitsListKeyboardControls"))return;let n=(this.elementRef?.nativeElement.closest("table")).querySelectorAll("cx-org-toggle-link-cell a"),a=Array.from(n).findIndex(S=>S===e.target);switch(e.key){case"ArrowDown":this.onArrowDown(e,a,n);break;case"ArrowUp":this.onArrowUp(e,a,n);break;case"ArrowRight":this.onArrowRight(e);break;case"ArrowLeft":this.onArrowLeft(e);break;case" ":case"Enter":this.onSpace(e,n);break}}onSpace(e,i){e.preventDefault(),i.forEach(n=>{n.tabIndex=-1}),e.target.tabIndex=0,this.routingService?.go({cxRoute:this.route,params:this.routeModel}).then(()=>{this.restoreFocus()})}onArrowDown(e,i,n){e.preventDefault(),n[i+1]?.focus()}onArrowUp(e,i,n){e.preventDefault(),n[i+-1]?.focus()}onArrowRight(e){!this.expanded&&this.isSwitchable&&(this.toggleItem(e),this.restoreFocus())}onArrowLeft(e){this.expanded&&this.isSwitchable&&(this.toggleItem(e),this.restoreFocus())}restoreFocus(){let e=document.activeElement?.id||"";this.unitTreeService.treeToggle$.pipe(Je(1)).subscribe(()=>{setTimeout(()=>{document.getElementById(e)?.focus()},0)})}static{this.\u0275fac=function(i){return new(i||t)(A(di),A(pc))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-toggle-link-cell"]],hostVars:2,hostBindings:function(i,n){i&2&&xc("--cx-depth-level",n.depthLevel)},features:[Ae],decls:1,vars:1,consts:[["class","hide-focus-border","role","treeitem",3,"id","routerLink","keydown",4,"ngIf"],["role","treeitem",1,"hide-focus-border",3,"keydown","id","routerLink"],["class","button tree-item-toggle","type","button","tabindex","-1",3,"click",4,"ngIf"],[1,"text",3,"title"],["type","button","tabindex","-1",1,"button","tree-item-toggle",3,"click"],[3,"type"]],template:function(i,n){i&1&&v(0,Lv,5,12,"a",0),i&2&&s("ngIf",n.hasItem)},dependencies:[K,V,ui,he,N],encapsulation:2,changeDetection:0})}}return t})(),CS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Ce,Y,mi,Zt]})}}return t})(),Ke=(()=>{class t extends me{constructor(e,i){super(i),this.b2bUserService=e,this.outlet=i,this.availableRoles=this.b2bUserService.getAllRoles().map(n=>n.toString()),this.availableRights=this.b2bUserService.getAllRights().map(n=>n.toString()),this.b2bUserModel=super.model}hasRight(e){return(e.roles??[]).some(i=>this.availableRights.includes(i))}static{this.\u0275fac=function(i){return new(i||t)(A(Pe),A(di))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-details-cell"]],features:[Ae],decls:1,vars:1,consts:[["details",""],[4,"ngIf"],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"property","full-width"],[1,"value"],[4,"ngFor","ngForOf"],["class","property",4,"ngIf"],[3,"innerText",4,"ngIf"],[3,"innerText"]],template:function(i,n){i&1&&v(0,Vv,5,4,"ng-container",1),i&2&&s("ngIf",n.b2bUserModel)},dependencies:[ei,K,Ft,V,N,he],encapsulation:2,changeDetection:0})}}return t})(),Wd=(()=>{class t extends me{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-details-cell"]],features:[Ae],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(i,n){if(i&1&&(v(0,Kv,22,24,"ng-template",null,0,Se),d(2,"button",1),m(3),l()),i&2){let a=X(1);o(2),s("cxPopover",a)("cxPopoverOptions",oe(3,$i)),o(),x(" ",n.model.name,`
`)}},dependencies:[K,Ft,V,N,he],encapsulation:2,changeDetection:0})}}return t})(),US=(()=>{class t extends ot{getParamKey(){return"childUnitCode"}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),IS=(()=>{class t extends Ki{constructor(e,i,n,a){super(e,i,n,a),this.currentItemService=e,this.routingService=i,this.formService=n,this.unitService=a}save(e,i){return e.get("parentOrgUnit")?.enable(),super.save(e,i)}getDetailsRoute(){return"orgUnitChildren"}buildRouteParams(e){return{uid:e.parentOrgUnit?.uid}}static{this.\u0275fac=function(i){return new(i||t)(f(US),f(fe),f($d),f(xe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ES=(()=>{class t{constructor(e){this.unitService=e,this.unitKey$=this.unitService.key$}static{this.\u0275fac=function(i){return new(i||t)(A(ot))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-child-create"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:Ki,useExisting:IS}])],decls:1,vars:1,consts:[["i18nRoot","orgUnit.children",3,"createChildUnit"]],template:function(i,n){i&1&&_(0,"cx-org-unit-form",0),i&2&&s("createChildUnit",!0)},dependencies:[Wa],encapsulation:2,changeDetection:0})}}return t})();var yS=(()=>{class t extends Sn{save(e,i){return e.get("unit")?.enable(),super.save(e,i)}getDetailsRoute(){return"orgUnitCostCenters"}buildRouteParams(e){return{uid:e.unit?.uid}}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bS=(()=>{class t{constructor(e){this.unitService=e,this.unitKey$=this.unitService.key$}static{this.\u0275fac=function(i){return new(i||t)(A(ot))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-cost-center-create"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:Sn,useExisting:yS}])],decls:2,vars:3,consts:[[3,"unitKey"]],template:function(i,n){i&1&&(_(0,"cx-org-cost-center-form",0),c(1,"async")),i&2&&s("unitKey",p(1,1,n.unitKey$))},dependencies:[Qa,ce],encapsulation:2,changeDetection:0})}}return t})();var AS=(()=>{class t extends bi{constructor(){super(...arguments),this.featureConfigService=_e(St,{optional:!0})}save(e,i){return e.get("orgUnit")?.enable(),super.save(e,i)}getDetailsRoute(){return"orgUnitUserList"}buildRouteParams(e){return{uid:e.orgUnit?.uid}}launchDetails(e){let i=this.getDetailsRoute(),n=this.buildRouteParams(e);i&&e&&Object.keys(e).length>0&&this.routingService.go({cxRoute:i,params:n})}create(e){return this.featureConfigService?.isEnabled("fixMyCompanyUnitUserCreation")?(e.customerId="new",this.userService.create(e),this.userService.getLoadingStatus(e.customerId??"")):super.create(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xa=(()=>{class t{set unitKey(e){e&&(this.form?.get("orgUnit.uid")?.setValue(e),this.form?.get("orgUnit")?.disable())}constructor(e,i,n,a){this.itemService=e,this.unitService=i,this.userProfileFacade=n,this.b2bUserService=a,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(q(S=>{S&&S.length===1&&this.form?.get("orgUnit.uid")?.setValue(S[0]?.id)})),this.titles$=this.userProfileFacade.getTitles(),this.availableRoles=this.b2bUserService.getAllRoles(),this.availableRights=this.b2bUserService.getAllRights()}ngOnInit(){this.unitService.loadList()}updateRoles(e){let{checked:i,value:n}=e.target;i?this.roles.push(new $(n)):this.roles.removeAt(this.roles.value.indexOf(n))}get roles(){return this.form?.get("roles")}get isAssignedToApprovers(){return this.form?.get("isAssignedToApprovers")}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(xe),A(kr),A(Pe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[Z([{provide:G,useExisting:bi},{provide:Ye,useExisting:cc}])],decls:2,vars:1,consts:[["i18nRoot","orgUser"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","firstName",1,"form-control",3,"placeholder"],["type","text","required","","formControlName","lastName",1,"form-control",3,"placeholder"],["type","email","required","","formControlName","email",1,"form-control",3,"placeholder"],["required","true","formArrayName","roles",1,"full-width"],["class","form-check",4,"ngFor","ngForOf"],["required","true",1,"full-width"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["class","full-width",4,"ngIf"],[3,"translationParams","control"],[3,"control"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","value","checked","disabled"],[1,"form-check-label"],[1,"full-width"],["type","checkbox","formControlName","isAssignedToApprovers",1,"form-check-input"]],template:function(i,n){i&1&&(d(0,"cx-org-form",0),v(1,s_,54,63,"ng-container",1),l()),i&2&&(o(),s("ngIf",n.form))},dependencies:[ei,K,Ei,Mt,Pt,Br,dt,ut,Lt,Ct,Ut,Gc,Ot,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),DS=(()=>{class t{constructor(e){this.unitService=e,this.unitKey$=this.unitService.key$}static{this.\u0275fac=function(i){return new(i||t)(A(ot))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-unit-user-create"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:bi,useExisting:AS}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.users",3,"unitKey"]],template:function(i,n){i&1&&(_(0,"cx-org-user-form",0),c(1,"async")),i&2&&s("unitKey",p(1,1,n.unitKey$))},dependencies:[Xa,ce],encapsulation:2,changeDetection:0})}}return t})(),RS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Ht,Et,Ce,Y,It,wt,lt]})}}return t})();var BS=(()=>{class t extends zt{constructor(e,i){super(e),this.currentItemService=i}getParams(){return this.currentItemService.item$}static{this.\u0275fac=function(i){return new(i||t)(f(xt),f(Vd))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),TS=(()=>{class t extends ne{constructor(e,i,n,a){super(e),this.tableService=e,this.unitService=i,this.unitItemService=n,this.unitTreeService=a,this.tableType=D.UNIT}load(){return this.unitService.getTree().pipe(E(e=>this.unitItemService.key$.pipe(C(i=>(e&&this.unitTreeService.initialize(e,i),e)))),E(e=>this.unitTreeService.treeToggle$.pipe(C(()=>e))),C(e=>this.convertListItem(e)))}convertListItem(e,i=0,n={totalResults:0}){let a=[];if(!e)return;let S=ke(L({},e),{count:e.children?.length??0,expanded:this.unitTreeService.isExpanded(e.id??"",i),depthLevel:i,uid:e.id??"",children:[...e.children??[]].sort((h,y)=>(h.name??"").localeCompare(y.name??""))});return a.push(S),n.totalResults++,S.children?.forEach(h=>{let y=this.convertListItem(h,i+1,n)?.values;S.expanded&&y&&y.length>0&&(a=a.concat(y))}),{values:a,pagination:n}}key(){return"uid"}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(xe),f(Ki),f(pc))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PS=(()=>{class t extends zt{constructor(e,i){super(e),this.currentItemService=i}getParams(){return this.currentItemService.item$}static{this.\u0275fac=function(i){return new(i||t)(f(xt),f(ot))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),LS={cmsComponents:{ManageUnitsListComponent:{component:xS,providers:[{provide:ne,useExisting:TS},{provide:G,useExisting:Ki}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.list",resolver:PS}}},children:[{path:"create",component:Wa,canActivate:[dn]},{path:`:${De.unitCode}`,component:q1,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.details"}},children:[{path:"edit",component:Wa,canActivate:[dn]},{path:"children",component:sS,canActivate:[dn],data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.children"}},children:[{path:"create",component:ES}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.approvers"}},children:[{path:"",component:iS},{path:"assign",component:nS}]},{path:"users",component:uS,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.users"}},children:[{path:"create",component:DS,canActivate:[xi]},{path:`:${De.userCode}/roles`,component:vS,canActivate:[xi]}]},{path:"cost-centers",component:pS,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.costCenters"}},children:[{path:"create",component:bS}]},{path:"addresses",component:W1,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addresses",resolver:BS}},children:[{path:"create",component:yd},{path:`:${De.addressCode}`,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addressDetails"}},children:[{path:"",component:Z1},{path:"edit",component:yd}]}]}]}]},guards:[pi,qt]}}};function MS(){return _e(li).a11yOrganizationLinkableCells?FS:OS}var FS={table:{[D.UNIT]:{cells:["name"],options:{layout:Mi.VERTICAL,cells:{name:{dataComponent:Qd,linkable:!0},active:{dataComponent:nt},uid:{dataComponent:me}}},[Lr.lg]:{cells:["name","active","uid"]}},[D.UNIT_USERS]:{cells:["name","roles"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Ke},roles:{dataComponent:Zd}}}},[D.UNIT_CHILDREN]:{cells:["name","active"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Wd},active:{dataComponent:nt}}}},[D.UNIT_APPROVERS]:{cells:["name","orgUnit","actions"],options:{cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe},orgUnit:{dataComponent:Ze}}}},[D.UNIT_ASSIGNED_APPROVERS]:{cells:["name","orgUnit","actions"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe},orgUnit:{dataComponent:Ze}}}},[D.UNIT_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:mr}},pagination:{pageSize:Le}}},[D.UNIT_ADDRESS]:{cells:["formattedAddress"],options:{pagination:{pageSize:Le},cells:{formattedAddress:{dataComponent:Kd,linkable:!0}}}}}},OS={table:{[D.UNIT]:{cells:["name"],options:{layout:Mi.VERTICAL,cells:{name:{dataComponent:Qd},active:{dataComponent:nt},uid:{dataComponent:me}}},[Lr.lg]:{cells:["name","active","uid"]}},[D.UNIT_USERS]:{cells:["name","roles"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Ke},roles:{dataComponent:Zd}}}},[D.UNIT_CHILDREN]:{cells:["name","active"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Wd},active:{dataComponent:nt,linkable:!1}}}},[D.UNIT_APPROVERS]:{cells:["name","orgUnit","actions"],options:{cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe},orgUnit:{dataComponent:Ze,linkable:!1}}}},[D.UNIT_ASSIGNED_APPROVERS]:{cells:["name","orgUnit","actions"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe},orgUnit:{dataComponent:Ze,linkable:!1}}}},[D.UNIT_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:mr}},pagination:{pageSize:Le}}},[D.UNIT_ADDRESS]:{cells:["formattedAddress"],options:{pagination:{pageSize:Le},cells:{formattedAddress:{dataComponent:Kd}}}}}},wS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Tt(LS),si(MS)],imports:[se,CS,K1,H1,aS,rS,SS,lS,eS]})}}return t})(),lc=(()=>{class t extends Ye{constructor(e,i){super(e),this.routingService=e,this.userGroupService=i}getParamKey(){return De.userGroupCode}getItem(e){return this.userGroupService.get(e)}getError(e){return this.userGroupService.getErrorState(e)}static{this.\u0275fac=function(i){return new(i||t)(f(fe),f(Si))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),NS=(()=>{class t extends Dt{build(){let e=new Ue({});e.setControl("uid",new $("",[Q.required,qe.noSpecialCharacters])),e.setControl("name",new $("",Q.required)),e.setControl("orgUnit",new Ue({uid:new $(void 0,Q.required)})),this.form=e}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),dc=(()=>{class t extends G{constructor(e,i,n,a){super(e,i,n),this.currentItemService=e,this.routingService=i,this.formService=n,this.userGroupService=a}load(e){return this.userGroupService.load(e),this.userGroupService.get(e)}update(e,i){return this.userGroupService.update(e,i),this.userGroupService.getLoadingStatus(i.uid??"")}delete(e){return this.launchList(),this.userGroupService.delete(e),this.userGroupService.getLoadingStatus(e)}create(e){return this.userGroupService.create(e),this.userGroupService.getLoadingStatus(e.uid??"")}getDetailsRoute(){return"orgUserGroupDetails"}launchList(){this.routingService.go({cxRoute:"orgUserGroup"})}static{this.\u0275fac=function(i){return new(i||t)(f(lc),f(fe),f(NS),f(Si))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),GS=(()=>{class t{constructor(e){this.itemService=e,this.model$=this.itemService.key$.pipe(E(i=>this.itemService.load(i)),kt({})),this.isInEditMode$=this.itemService.isInEditMode$}static{this.\u0275fac=function(i){return new(i||t)(A(G))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-group-details"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:dc}])],decls:2,vars:3,consts:[["i18nRoot","orgUserGroup.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUserGroup.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUserGroup"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],[4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(i,n){i&1&&(v(0,d_,29,33,"cx-org-card",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.model$))},dependencies:[K,ft,V,oi,Fd,zi,ze,ce,he,N],encapsulation:2,changeDetection:0})}}return t})(),kS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,se,Ce,Y,Od,qi,$e]})}}return t})(),bd=(()=>{class t{constructor(e,i){this.itemService=e,this.unitService=i,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(q(n=>{n&&n.length===1&&this.form?.get("orgUnit.uid")?.setValue(n[0]?.id)}))}ngOnInit(){this.unitService.loadList()}createUidWithName(e,i){gr(e,i)}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(xe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-group-form"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:dc}])],decls:2,vars:1,consts:[["i18nRoot","orgUserGroup"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],[3,"translationParams","control"],[3,"control"]],template:function(i,n){i&1&&(d(0,"cx-org-form",0),v(1,__,26,34,"ng-container",1),l()),i&2&&(o(),s("ngIf",n.form))},dependencies:[K,Mt,Pt,dt,ut,Lt,Ct,Ut,Ot,Ei,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),jS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Et,Ce,Y,It,wt,Ht,lt]})}}return t})(),Xd=(()=>{class t extends rt{constructor(e,i,n){super(e),this.tableService=e,this.userGroupService=i,this.permissionService=n,this.tableType=D.USER_GROUP_PERMISSIONS,this._domainType=D.PERMISSION}load(e,i){return this.userGroupService.getAvailableOrderApprovalPermissions(i,e)}assign(e,i){return this.userGroupService.assignPermission(e,i),this.permissionService.getLoadingStatus(i)}unassign(e,i){return this.userGroupService.unassignPermission(e,i),this.permissionService.getLoadingStatus(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Si),f(_i))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$S=(()=>{class t extends Xd{constructor(){super(...arguments),this.tableType=D.USER_GROUP_ASSIGNED_PERMISSIONS}load(e,i){return super.load(e,i).pipe(C(n=>this.filterSelected(n)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-group-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:$S}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list")(1,"a",0),m(2),c(3,"cxTranslate"),l()()),i&2&&(o(2),x(" ",p(3,1,"organization.assign")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),zS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-group-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:Xd}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"a",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("previous",!1),o(2),x(" ",p(3,2,"organization.done")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),qS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,se,Xe]})}}return t})(),Kt=(()=>{class t extends me{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-permission-details-cell"]],features:[Ae],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"]],template:function(i,n){if(i&1&&(v(0,I_,28,27,"ng-template",null,0,Se),d(2,"button",1),m(3),l()),i&2){let a=X(1);o(2),s("cxPopover",a)("cxPopoverOptions",oe(3,$i)),o(),x(" ",n.model.code,`
`)}},dependencies:[K,Ft,V,N,he],encapsulation:2,changeDetection:0})}}return t})(),KS=(()=>{class t extends ne{constructor(e,i){super(e),this.tableService=e,this.userGroupService=i,this.tableType=D.USER_GROUP}key(){return"uid"}load(e){return this.userGroupService.getList(e).pipe(j(Vt),C(i=>this.convertUserGroups(i)))}convertUserGroups({pagination:e,sorts:i,values:n}){return{pagination:e,sorts:i,values:n.map(S=>ke(L({},S),{unit:S.orgUnit}))}}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Si))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HS=(()=>{class t extends zt{constructor(e,i){super(e),this.currentItemService=i}getParams(){return this.currentItemService.item$}static{this.\u0275fac=function(i){return new(i||t)(f(xt),f(lc))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ja=(()=>{class t extends rt{constructor(e,i,n){super(e),this.tableService=e,this.userGroupService=i,this.userService=n,this.tableType=D.USER_GROUP_USERS,this._domainType=D.USER}load(e,i){return this.userGroupService.getAvailableOrgCustomers(i,e)}assign(e,i){return this.userGroupService.assignMember(e,i),this.userService.getLoadingStatus(i)}unassign(e,i){return this.userGroupService.unassignMember(e,i),this.userService.getLoadingStatus(i)}unassignAllMembers(e){return this.userGroupService.unassignAllMembers(e),this.userGroupService.getLoadingStatus(e)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Si),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ZS=(()=>{class t extends Ja{constructor(){super(...arguments),this.tableType=D.USER_GROUP_ASSIGNED_USERS}load(e,i){return super.load(e,i).pipe(C(n=>this.filterSelected(n)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YS=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-group-assigned-user-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:ZS}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list")(1,"a",0),m(2),c(3,"cxTranslate"),l()()),i&2&&(o(2),x(" ",p(3,1,"organization.assign")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),QS=(()=>{class t{constructor(e,i){this.currentUserGroupService=e,this.userGroupUserListService=i}unassignAll(){this.currentUserGroupService.key$.pipe(st(),E(e=>this.userGroupUserListService.unassignAllMembers(e).pipe(Je(1),j(i=>i.status===mt.SUCCESS)))).subscribe(e=>{this.notify(e.item)})}notify(e){this.subList.messageService.add({message:{key:"orgUserGroupUsers.unassignAllConfirmation",params:{item:e}}})}static{this.\u0275fac=function(i){return new(i||t)(A(lc),A(Ja))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-group-user-list"]],viewQuery:function(i,n){if(i&1&&Di(E_,5),i&2){let a;Ri(a=Bi())&&(n.subList=a.first)}},hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:Ja}])],decls:8,vars:7,consts:[["subList",""],[3,"previous"],["actions","",1,"link",3,"click"],["actions","","routerLink","../",1,"link"]],template:function(i,n){if(i&1){let a=ge();d(0,"cx-org-sub-list",1,0)(2,"button",2),W("click",function(){return pe(a),le(n.unassignAll())}),m(3),c(4,"cxTranslate"),l(),d(5,"a",3),m(6),c(7,"cxTranslate"),l()()}i&2&&(s("previous",!1),o(3),x(" ",p(4,3,"orgUserGroupUsers.unassignAll")," "),o(3),x(" ",p(7,5,"organization.done")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),WS={cmsComponents:{ManageUserGroupsListComponent:{component:yi,providers:[{provide:ne,useExisting:KS},{provide:G,useExisting:dc}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.list",resolver:HS}}},children:[{path:"create",component:bd},{path:`:${De.userGroupCode}`,component:GS,data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.details"}},children:[{path:"edit",component:bd},{path:"users",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.users"}},children:[{path:"",component:YS},{path:"assign",component:QS}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.permissions"}},children:[{path:"",component:VS},{path:"assign",component:zS}]}]}]},guards:[pi,qt]}}};function XS(){return _e(li).a11yOrganizationLinkableCells?JS:ex}var JS={table:{[D.USER_GROUP]:{cells:["name","uid","unit"],options:{dataComponent:me,cells:{name:{dataComponent:Rt,linkable:!0},uid:{dataComponent:me},unit:{dataComponent:Ze}}}},[D.USER_GROUP_ASSIGNED_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe}},pagination:{pageSize:Le}}},[D.USER_GROUP_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe}}}},[D.USER_GROUP_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:{dataComponent:Fe}}}},[D.USER_GROUP_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:{dataComponent:Fe}},pagination:{pageSize:Le}}}}},ex={table:{[D.USER_GROUP]:{cells:["name","uid","unit"],options:{dataComponent:me,cells:{name:{dataComponent:Rt},uid:{dataComponent:me},unit:{dataComponent:Ze}}}},[D.USER_GROUP_ASSIGNED_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe}},pagination:{pageSize:Le}}},[D.USER_GROUP_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:{dataComponent:Fe}}}},[D.USER_GROUP_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:{dataComponent:Fe}}}},[D.USER_GROUP_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:{dataComponent:Fe}},pagination:{pageSize:Le}}}}},tx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,Y,se,Xe]})}}return t})(),ix=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Tt(WS),si(XS)],imports:[ur,kS,jS,qS,tx]})}}return t})(),Jd=(()=>{class t extends rt{constructor(e,i){super(e),this.tableService=e,this.userService=i,this.tableType=D.USER_APPROVERS,this._domainType=D.USER_GROUP}load(e,i){return this.userService.getApprovers(i,e)}assign(e,i){return this.userService.assignApprover(e,i),this.userService.getLoadingStatus(i)}unassign(e,i){return this.userService.unassignApprover(e,i),this.userService.getLoadingStatus(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nx=(()=>{class t extends Jd{constructor(){super(...arguments),this.tableType=D.USER_ASSIGNED_APPROVERS}load(e,i){return super.load(e,i).pipe(C(n=>this.filterSelected(n)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:nx}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list")(1,"a",0),m(2),c(3,"cxTranslate"),l()()),i&2&&(o(2),x(" ",p(3,1,"organization.assign")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),ox=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:Jd}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"button",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("previous",!1),o(2),x(" ",p(3,2,"organization.done")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),sx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Zt,Y,se,Xe]})}}return t})(),ax=(()=>{class t extends Dt{constructor(){super(...arguments),this.featureConfigService=_e(St)}build(){let e=this.featureConfigService?.isEnabled("formErrorsDescriptiveMessages")?[qe.passwordValidator]:qe.passwordValidators,i=new Ue({});i.setControl("customerId",new $("")),i.setControl("password",new $("",[Q.required,...e])),i.setControl("confirmPassword",new $("",[Q.required,...e])),i.setValidators(qe.passwordsMustMatch("password","confirmPassword")),this.form=i}getForm(e){return this.form=null,super.getForm(e)}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cx=(()=>{class t{constructor(e,i,n){this.itemService=e,this.formService=i,this.messageService=n,this.form$=this.itemService.current$.pipe(C(a=>this.formService.getForm(a)))}save(e){this.itemService.current$.pipe(st(),E(i=>this.itemService.save(e,e.value.customerId).pipe(Je(1),j(n=>n.status===mt.SUCCESS),C(n=>L(L({},i),n.item))))).subscribe(i=>{this.notify(i),this.itemService.launchDetails(i)})}notify(e){this.messageService.add({message:{key:"orgUser.messages.updatePassword",params:{item:e}}})}static{this.\u0275fac=function(i){return new(i||t)(A(bi),A(ax),A(we))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-change-password-form"]],hostAttrs:[1,"content-wrapper"],decls:2,vars:3,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"submit","formGroup"],["i18nRoot","orgUser.password",3,"previous","cxFocus"],["actions","",1,"button","primary"],["actions","","routerLink","../","type","button",1,"link"],["main","",1,"details"],[1,"full-width"],[1,"label-content"],["required","true","type","password","name","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","password","name","confirmPassword","formControlName","confirmPassword","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"translationParams","control"],[3,"control"]],template:function(i,n){i&1&&(v(0,R_,27,33,"form",0),c(1,"async")),i&2&&s("ngIf",p(1,1,n.form$))},dependencies:[K,V,Dn,Pt,dt,ut,Lt,Ct,Ut,Ot,ft,ze,Hc,pt,ce,N],encapsulation:2,changeDetection:0})}}return t})(),px=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,se,Et,Ce,Y,It,wt,ht,$e,Zc,lt]})}}return t})(),lx=(()=>{class t{constructor(e,i){this.itemService=e,this.b2bUserService=i,this.model$=this.itemService.key$.pipe(E(n=>this.itemService.load(n)),kt({})),this.isInEditMode$=this.itemService.isInEditMode$,this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed(),this.availableRoles=this.b2bUserService.getAllRoles().map(n=>n.toString()),this.availableRights=this.b2bUserService.getAllRights().map(n=>n.toString())}hasRight(e){return(e.roles??[]).some(i=>this.availableRights.includes(i))}static{this.\u0275fac=function(i){return new(i||t)(A(G),A(Pe))}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-details"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:G,useExisting:bi}])],decls:2,vars:3,consts:[["showOrgUnitValueWithoutNavigation",""],["i18nRoot","orgUser.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUser.details",3,"cxFocus"],["actions","","class","link edit",3,"disabled","routerLink",4,"ngIf"],["actions","","key","customerId","i18nRoot","orgUser",4,"ngIf"],["info","","i18nRoot","orgUser"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"property","full-width"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","value",3,"routerLink",4,"ngIf","ngIfElse"],["class","link",3,"disabled","routerLink",4,"ngIf"],["main","",1,"link-list"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","customerId","i18nRoot","orgUser"],[3,"innerText",4,"ngIf"],[3,"innerText"],[1,"value",3,"routerLink"],[1,"orgUnit"],[1,"link",3,"routerLink"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(i,n){i&1&&(v(0,Z_,36,26,"cx-org-card",1),c(1,"async")),i&2&&s("ngIf",p(1,1,n.model$))},dependencies:[ei,K,ft,V,oi,vn,zi,Yt,ze,ce,he,N],encapsulation:2,changeDetection:0})}}return t})(),dx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[H,ht,se,Ce,Y,_n,qi,Qt,$e]})}}return t})(),eu=(()=>{class t extends rt{constructor(e,i,n){super(e),this.tableService=e,this.userService=i,this.permissionService=n,this.tableType=D.USER_PERMISSIONS,this._domainType=D.PERMISSION}load(e,i){return this.userService.getPermissions(i,e)}assign(e,i){return this.userService.assignPermission(e,i),this.permissionService.getLoadingStatus(i)}unassign(e,i){return this.userService.unassignPermission(e,i),this.permissionService.getLoadingStatus(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Pe),f(_i))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ux=(()=>{class t extends eu{constructor(){super(...arguments),this.tableType=D.USER_ASSIGNED_PERMISSIONS}load(e,i){return super.load(e,i).pipe(C(n=>this.filterSelected(n)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:ux}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list")(1,"a",0),m(2),c(3,"cxTranslate"),l()()),i&2&&(o(2),x(" ",p(3,1,"organization.assign")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),gx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:eu}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"button",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("previous",!1),o(2),x(" ",p(3,2,"organization.done")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),fx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Zt,Y,se,Xe]})}}return t})(),tu=(()=>{class t extends rt{constructor(e,i,n){super(e),this.tableService=e,this.userService=i,this.userGroupService=n,this.tableType=D.USER_USER_GROUPS,this._domainType=D.USER_GROUP}load(e,i){return this.userService.getUserGroups(i,e)}assign(e,i){return this.userService.assignUserGroup(e,i),this.userGroupService.getLoadingStatus(i)}unassign(e,i){return this.userService.unassignUserGroup(e,i),this.userGroupService.getLoadingStatus(i)}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Pe),f(Si))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hx=(()=>{class t extends tu{constructor(){super(...arguments),this.tableType=D.USER_ASSIGNED_USER_GROUPS}load(e,i){return super.load(e,i).pipe(j(n=>!!n),C(n=>this.filterSelected(n)))}static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-assigned-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:hx}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list")(1,"a",0),m(2),c(3,"cxTranslate"),l()()),i&2&&(o(2),x(" ",p(3,1,"organization.assign")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),_x=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[Z([{provide:ne,useExisting:tu}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(i,n){i&1&&(d(0,"cx-org-sub-list",0)(1,"button",1),m(2),c(3,"cxTranslate"),l()()),i&2&&(s("previous",!1),o(2),x(" ",p(3,2,"organization.done")," "))},dependencies:[V,Me,N],encapsulation:2,changeDetection:0})}}return t})(),Sx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Zt,Y,se,Xe]})}}return t})(),dr=(()=>{class t extends me{static{this.\u0275fac=(()=>{let e;return function(n){return(e||(e=ee(t)))(n||t)}})()}static{this.\u0275cmp=R({type:t,selectors:[["cx-org-user-group-details-cell"]],features:[Ae],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(i,n){if(i&1&&(v(0,Q_,21,22,"ng-template",null,0,Se),d(2,"button",1),m(3),l()),i&2){let a=X(1);o(2),s("cxPopover",a)("cxPopoverOptions",oe(3,$i)),o(),x(" ",n.model==null?null:n.model.name,`
`)}},dependencies:[Ft,V,N,he],encapsulation:2,changeDetection:0})}}return t})(),xx=(()=>{class t extends ne{constructor(e,i){super(e),this.tableService=e,this.userService=i,this.tableType=D.USER}key(){return"customerId"}load(e){return this.userService.getList(e).pipe(j(Vt),C(i=>this.convertUsers(i)))}convertUsers({pagination:e,sorts:i,values:n}){let a=this.userService.getAllRoles();return{pagination:e,sorts:i,values:n.map(h=>ke(L({},h),{unit:h.orgUnit,roles:h.roles?.filter(y=>a.includes(y))}))}}static{this.\u0275fac=function(i){return new(i||t)(f(Te),f(Pe))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Cx=(()=>{class t extends zt{constructor(e,i){super(e),this.currentItemService=i}getParams(){return this.currentItemService.item$}static{this.\u0275fac=function(i){return new(i||t)(f(xt),f(cc))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ux={cmsComponents:{ManageUsersListComponent:{component:yi,providers:[{provide:ne,useExisting:xx},{provide:G,useExisting:bi}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.list",resolver:Cx}}},children:[{path:"create",component:Xa,canActivate:[xi]},{path:`:${De.userCode}`,component:lx,data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.details"}},children:[{path:"edit",component:Xa,canActivate:[xi]},{path:"change-password",component:cx,canActivate:[xi]},{path:"user-groups",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.userGroups"}},children:[{path:"",component:vx},{path:"assign",component:_x}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.approvers"}},children:[{path:"",component:rx},{path:"assign",component:ox}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.permissions"}},children:[{path:"",component:mx},{path:"assign",component:gx}]}]}]},guards:[pi,qt]}}};function Ix(){return _e(li).a11yOrganizationLinkableCells?Ex:yx}var it={dataComponent:Fe},ji={pageSize:Le},Ex={table:{[D.USER]:{cells:["name","active","uid","roles","unit"],options:{cells:{name:{dataComponent:Rt,linkable:!0},active:{dataComponent:nt},uid:{dataComponent:me},roles:{dataComponent:kd},unit:{dataComponent:Ze}}}},[D.USER_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:it}}},[D.USER_ASSIGNED_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:it},pagination:ji}},[D.USER_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:it}}},[D.USER_ASSIGNED_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:it},pagination:ji}},[D.USER_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:it}}},[D.USER_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:it},pagination:ji}}}},yx={table:{[D.USER]:{cells:["name","active","uid","roles","unit"],options:{cells:{name:{dataComponent:Rt},active:{dataComponent:nt},uid:{dataComponent:me},roles:{dataComponent:kd},unit:{dataComponent:Ze}}}},[D.USER_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:it}}},[D.USER_ASSIGNED_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:Ke},actions:it},pagination:ji}},[D.USER_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:it}}},[D.USER_ASSIGNED_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:it},pagination:ji}},[D.USER_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:it}}},[D.USER_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Kt},actions:it},pagination:ji}}}},bx=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Tt(Ux),si(Ix)],imports:[Zt,px,dx,RS,fx,Sx,sx]})}}return t})(),iu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[v1,L1,wS,ix,bx,z1]})}}return t})();var Ax=(()=>{class t{constructor(e,i,n){this.http=e,this.occEndpoints=i,this.converter=n}load(e,i){return this.http.get(this.getBudgetEndpoint(e,i)).pipe(this.converter.pipeable(Gi))}loadList(e,i){return this.http.get(this.getBudgetsEndpoint(e,i)).pipe(this.converter.pipeable(ar))}create(e,i){let n=this.converter.convert(i,cr);return this.http.post(this.getBudgetsEndpoint(e),n).pipe(this.converter.pipeable(Gi))}update(e,i,n){let a=this.converter.convert(n,cr);return this.http.patch(this.getBudgetEndpoint(e,i),a).pipe(this.converter.pipeable(Gi))}getBudgetEndpoint(e,i){return this.occEndpoints.buildUrl("budget",{urlParams:{userId:e,budgetCode:i}})}getBudgetsEndpoint(e,i){return this.occEndpoints.buildUrl("budgets",{urlParams:{userId:e},queryParams:i})}static{this.\u0275fac=function(i){return new(i||t)(f(ti),f(ci),f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Dx=(()=>{class t{constructor(e,i,n){this.http=e,this.occEndpoints=i,this.converter=n}load(e,i){return this.http.get(this.getCostCenterEndpoint(e,i)).pipe(this.converter.pipeable(yn))}loadList(e,i){return this.http.get(this.getAllCostCentersEndpoint(e,i)).pipe(this.converter.pipeable(Mc))}create(e,i){return i=this.converter.convert(i,yr),this.http.post(this.getCostCentersEndpoint(e),i).pipe(this.converter.pipeable(yn))}update(e,i,n){return n=this.converter.convert(n,yr),this.http.patch(this.getCostCenterEndpoint(e,i),n).pipe(this.converter.pipeable(yn))}loadBudgets(e,i,n){return this.http.get(this.getBudgetsEndpoint(e,i,n)).pipe(this.converter.pipeable(ar))}assignBudget(e,i,n){return this.http.post(this.getBudgetsEndpoint(e,i,{budgetCode:n}),null)}unassignBudget(e,i,n){return this.http.delete(this.getBudgetEndpoint(e,i,n))}getCostCenterEndpoint(e,i){return this.occEndpoints.buildUrl("costCenter",{urlParams:{userId:e,costCenterCode:i}})}getCostCentersEndpoint(e,i){return this.occEndpoints.buildUrl("costCenters",{urlParams:{userId:e},queryParams:i})}getAllCostCentersEndpoint(e,i){return this.occEndpoints.buildUrl("costCentersAll",{urlParams:{userId:e},queryParams:i})}getBudgetsEndpoint(e,i,n){return this.occEndpoints.buildUrl("costCenterBudgets",{urlParams:{userId:e,costCenterCode:i},queryParams:n})}getBudgetEndpoint(e,i,n){return this.occEndpoints.buildUrl("costCenterBudget",{urlParams:{userId:e,costCenterCode:i,budgetCode:n}})}static{this.\u0275fac=function(i){return new(i||t)(f(ti),f(ci),f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Rx=(()=>{class t{constructor(e,i,n){this.http=e,this.occEndpoints=i,this.converter=n}load(e,i){return this.http.get(this.getOrgUnitEndpoint(e,i)).pipe(this.converter.pipeable(un))}create(e,i){return this.http.post(this.getOrgUnitsEndpoint(e),i).pipe(this.converter.pipeable(un))}update(e,i,n){return n=this.converter.convert(n,Ud),this.http.patch(this.getOrgUnitEndpoint(e,i),n).pipe(this.converter.pipeable(un))}loadTree(e){return this.http.get(this.getOrgUnitsTreeEndpoint(e)).pipe(this.converter.pipeable($a))}loadList(e){return this.http.get(this.getAvailableOrgUnitsEndpoint(e)).pipe(this.converter.pipeable(Va))}loadApprovalProcesses(e){return this.http.get(this.getOrgUnitsApprovalProcessesEndpoint(e)).pipe(this.converter.pipeable(za))}loadUsers(e,i,n,a){return this.http.get(this.getUsersEndpoint(e,i,n,a)).pipe(this.converter.pipeable(Ni))}assignRole(e,i,n){return this.http.post(this.getRolesEndpoint(e,i,{roleId:n}),null)}unassignRole(e,i,n){return this.http.delete(this.getRoleEndpoint(e,i,n))}assignApprover(e,i,n,a){return this.http.post(this.getApproversEndpoint(e,i,n,{roleId:a}),null)}unassignApprover(e,i,n,a){return this.http.delete(this.getApproverEndpoint(e,i,n,a))}loadAddresses(e,i){return this.http.get(this.getAddressesEndpoint(e,i)).pipe(this.converter.pipeable(Oc))}createAddress(e,i,n){return n=this.converter.convert(n,br),this.http.post(this.getAddressesEndpoint(e,i),n).pipe(this.converter.pipeable(bn))}updateAddress(e,i,n,a){return a=this.converter.convert(a,br),this.http.patch(this.getAddressEndpoint(e,i,n),a).pipe(this.converter.pipeable(bn))}deleteAddress(e,i,n){return this.http.delete(this.getAddressEndpoint(e,i,n)).pipe(this.converter.pipeable(bn))}getOrgUnitEndpoint(e,i){return this.occEndpoints.buildUrl("orgUnit",{urlParams:{userId:e,orgUnitId:i}})}getOrgUnitsEndpoint(e){return this.occEndpoints.buildUrl("orgUnits",{urlParams:{userId:e}})}getAvailableOrgUnitsEndpoint(e){return this.occEndpoints.buildUrl("orgUnitsAvailable",{urlParams:{userId:e}})}getOrgUnitsTreeEndpoint(e){return this.occEndpoints.buildUrl("orgUnitsTree",{urlParams:{userId:e}})}getOrgUnitsApprovalProcessesEndpoint(e){return this.occEndpoints.buildUrl("orgUnitsApprovalProcesses",{urlParams:{userId:e}})}getUsersEndpoint(e,i,n,a){return this.occEndpoints.buildUrl("orgUnitUsers",{urlParams:{userId:e,orgUnitId:i,roleId:n},queryParams:a})}getRolesEndpoint(e,i,n){return this.occEndpoints.buildUrl("orgUnitUserRoles",{urlParams:{userId:e,orgCustomerId:i},queryParams:n})}getRoleEndpoint(e,i,n){return this.occEndpoints.buildUrl("orgUnitUserRole",{urlParams:{userId:e,orgCustomerId:i,roleId:n}})}getApproversEndpoint(e,i,n,a){return this.occEndpoints.buildUrl("orgUnitApprovers",{urlParams:{userId:e,orgUnitId:i,orgCustomerId:n},queryParams:a})}getApproverEndpoint(e,i,n,a){return this.occEndpoints.buildUrl("orgUnitApprover",{urlParams:{userId:e,orgUnitId:i,orgCustomerId:n,roleId:a}})}getAddressesEndpoint(e,i){return this.occEndpoints.buildUrl("orgUnitsAddresses",{urlParams:{userId:e,orgUnitId:i}})}getAddressEndpoint(e,i,n){return this.occEndpoints.buildUrl("orgUnitsAddress",{urlParams:{userId:e,orgUnitId:i,addressId:n}})}static{this.\u0275fac=function(i){return new(i||t)(f(ti),f(ci),f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Bx=(()=>{class t{constructor(e,i,n){this.http=e,this.occEndpoints=i,this.converter=n}load(e,i){return this.http.get(this.getUserGroupEndpoint(e,i)).pipe(this.converter.pipeable(Ci))}loadList(e,i){return this.http.get(this.getUserGroupsEndpoint(e,i)).pipe(this.converter.pipeable(pr))}loadAvailableOrderApprovalPermissions(e,i,n){return this.http.get(this.getPermissionsEndpoint(e,i,n)).pipe(this.converter.pipeable(mn))}loadAvailableOrgCustomers(e,i,n){return this.http.get(this.getAvailableCustomersEndpoint(e,i,n)).pipe(this.converter.pipeable(Ni))}create(e,i){return i=this.converter.convert(i,Za),this.http.post(this.getUserGroupsEndpoint(e),i).pipe(this.converter.pipeable(Ci))}delete(e,i){return this.http.delete(this.getUserGroupEndpoint(e,i)).pipe(this.converter.pipeable(Ci))}update(e,i,n){return n=this.converter.convert(n,Za),this.http.patch(this.getUserGroupEndpoint(e,i),n).pipe(this.converter.pipeable(Ci))}assignMember(e,i,n){return this.http.post(this.getMembersEndpoint(e,i,{orgCustomerId:n}),null)}assignOrderApprovalPermission(e,i,n){return this.http.post(this.getOrderApprovalPermissionsEndpoint(e,i,{orderApprovalPermissionCode:n}),null)}unassignMember(e,i,n){return this.http.delete(this.getMemberEndpoint(e,i,n))}unassignAllMembers(e,i){return this.http.delete(this.getMembersEndpoint(e,i))}unassignOrderApprovalPermission(e,i,n){return this.http.delete(this.getOrderApprovalPermissionEndpoint(e,i,n))}getUserGroupEndpoint(e,i){return this.occEndpoints.buildUrl("userGroup",{urlParams:{userId:e,userGroupId:i}})}getUserGroupsEndpoint(e,i){return this.occEndpoints.buildUrl("userGroups",{urlParams:{userId:e},queryParams:i})}getAvailableCustomersEndpoint(e,i,n){return this.occEndpoints.buildUrl("userGroupAvailableOrgCustomers",{urlParams:{userId:e,userGroupId:i},queryParams:n})}getPermissionsEndpoint(e,i,n){return this.occEndpoints.buildUrl("userGroupAvailableOrderApprovalPermissions",{urlParams:{userId:e,userGroupId:i},queryParams:n})}getMemberEndpoint(e,i,n){return this.occEndpoints.buildUrl("userGroupMember",{urlParams:{userId:e,userGroupId:i,orgCustomerId:n}})}getMembersEndpoint(e,i,n){return this.occEndpoints.buildUrl("userGroupMembers",{urlParams:{userId:e,userGroupId:i},queryParams:n})}getOrderApprovalPermissionsEndpoint(e,i,n){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermissions",{urlParams:{userId:e,userGroupId:i},queryParams:n})}getOrderApprovalPermissionEndpoint(e,i,n){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermission",{urlParams:{userId:e,userGroupId:i,orderApprovalPermissionCode:n}})}static{this.\u0275fac=function(i){return new(i||t)(f(ti),f(ci),f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Tx=(()=>{class t{constructor(e,i,n){this.http=e,this.occEndpoints=i,this.converter=n}load(e,i){return this.http.get(this.getPermissionEndpoint(e,i)).pipe(this.converter.pipeable(ki))}loadList(e,i){return this.http.get(this.getPermissionsEndpoint(e,i)).pipe(this.converter.pipeable(mn))}create(e,i){return i=this.converter.convert(i,Ha),this.http.post(this.getPermissionsEndpoint(e),i).pipe(this.converter.pipeable(ki))}update(e,i,n){return n=this.converter.convert(n,Ha),this.http.patch(this.getPermissionEndpoint(e,i),n).pipe(this.converter.pipeable(ki))}loadTypes(){return this.http.get(this.getPermissionTypesEndpoint()).pipe(this.converter.pipeable(Ka))}getPermissionEndpoint(e,i){return this.occEndpoints.buildUrl("permission",{urlParams:{userId:e,orderApprovalPermissionCode:i}})}getPermissionsEndpoint(e,i){return this.occEndpoints.buildUrl("permissions",{urlParams:{userId:e},queryParams:i})}getPermissionTypesEndpoint(){return this.occEndpoints.buildUrl("orderApprovalPermissionTypes")}static{this.\u0275fac=function(i){return new(i||t)(f(ti),f(ci),f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Px=(()=>{class t{constructor(e,i,n){this.http=e,this.occEndpoints=i,this.converter=n}load(e,i){return this.http.get(this.getB2BUserEndpoint(e,i)).pipe(this.converter.pipeable(wi))}loadList(e,i){return this.http.get(this.getB2BUsersEndpoint(e,i)).pipe(this.converter.pipeable(Ni))}create(e,i){return i=this.converter.convert(i,sr),this.http.post(this.getB2BUsersEndpoint(e),i).pipe(this.converter.pipeable(wi))}update(e,i,n){return n=this.converter.convert(n,sr),this.http.patch(this.getB2BUserEndpoint(e,i),n).pipe(this.converter.pipeable(wi))}loadApprovers(e,i,n){return this.http.get(this.getApproversEndpoint(e,i,n)).pipe(this.converter.pipeable(Ni))}assignApprover(e,i,n){return this.http.post(this.getApproverEndpoint(e,i,n),null)}unassignApprover(e,i,n){return this.http.delete(this.getApproverEndpoint(e,i,n))}loadPermissions(e,i,n){return this.http.get(this.getPermissionsEndpoint(e,i,n)).pipe(this.converter.pipeable(mn))}assignPermission(e,i,n){return this.http.post(this.getPermissionEndpoint(e,i,n),null)}unassignPermission(e,i,n){return this.http.delete(this.getPermissionEndpoint(e,i,n))}loadUserGroups(e,i,n){return this.http.get(this.getUserGroupsEndpoint(e,i,n)).pipe(this.converter.pipeable(pr))}assignUserGroup(e,i,n){return this.http.post(this.getUserGroupEndpoint(e,i,n),null)}unassignUserGroup(e,i,n){return this.http.delete(this.getUserGroupEndpoint(e,i,n))}getB2BUserEndpoint(e,i){return this.occEndpoints.buildUrl("b2bUser",{urlParams:{userId:e,orgCustomerId:i}})}getB2BUsersEndpoint(e,i){return this.occEndpoints.buildUrl("b2bUsers",{urlParams:{userId:e},queryParams:i})}getApproverEndpoint(e,i,n){return this.occEndpoints.buildUrl("b2bUserApprover",{urlParams:{userId:e,orgCustomerId:i,approverId:n}})}getApproversEndpoint(e,i,n){return this.occEndpoints.buildUrl("b2bUserApprovers",{urlParams:{userId:e,orgCustomerId:i},queryParams:n})}getPermissionEndpoint(e,i,n){return this.occEndpoints.buildUrl("b2bUserPermission",{urlParams:{userId:e,orgCustomerId:i,premissionId:n}})}getPermissionsEndpoint(e,i,n){return this.occEndpoints.buildUrl("b2bUserPermissions",{urlParams:{userId:e,orgCustomerId:i},queryParams:n})}getUserGroupEndpoint(e,i,n){return this.occEndpoints.buildUrl("b2bUserUserGroup",{urlParams:{userId:e,orgCustomerId:i,userGroupId:n}})}getUserGroupsEndpoint(e,i,n){return this.occEndpoints.buildUrl("b2bUserUserGroups",{urlParams:{userId:e,orgCustomerId:i},queryParams:n})}static{this.\u0275fac=function(i){return new(i||t)(f(ti),f(ci),f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac})}}return t})(),Lx={backend:{occ:{endpoints:{budgets:"/users/${userId}/budgets",budget:"/users/${userId}/budgets/${budgetCode}",orgUnitsAvailable:"/users/${userId}/availableOrgUnitNodes",orgUnitsTree:"/users/${userId}/orgUnitsRootNodeTree",orgUnitsApprovalProcesses:"/users/${userId}/orgUnitsAvailableApprovalProcesses",orgUnits:"/users/${userId}/orgUnits",orgUnit:"/users/${userId}/orgUnits/${orgUnitId}",orgUnitUsers:"/users/${userId}/orgUnits/${orgUnitId}/availableUsers/${roleId}",orgUnitApprovers:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles",orgUnitApprover:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitUserRoles:"/users/${userId}/orgCustomers/${orgCustomerId}/roles",orgUnitUserRole:"/users/${userId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitsAddresses:"/users/${userId}/orgUnits/${orgUnitId}/addresses",orgUnitsAddress:"/users/${userId}/orgUnits/${orgUnitId}/addresses/${addressId}",userGroups:"/users/${userId}/orgUnitUserGroups",userGroup:"/users/${userId}/orgUnitUserGroups/${userGroupId}",userGroupAvailableOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrderApprovalPermissions",userGroupAvailableOrgCustomers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrgCustomers",userGroupMembers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members",userGroupMember:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members/${orgCustomerId}",userGroupOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions",userGroupOrderApprovalPermission:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions/${orderApprovalPermissionCode}",costCenters:"/costcenters",costCenter:"/costcenters/${costCenterCode}",costCentersAll:"/costcentersall",costCenterBudgets:"/costcenters/${costCenterCode}/budgets",costCenterBudget:"/costcenters/${costCenterCode}/budgets/${budgetCode}",permissions:"/users/${userId}/orderApprovalPermissions",permission:"/users/${userId}/orderApprovalPermissions/${orderApprovalPermissionCode}",orderApprovalPermissionTypes:"/orderApprovalPermissionTypes",b2bUsers:"/users/${userId}/orgCustomers",b2bUser:"/users/${userId}/orgCustomers/${orgCustomerId}",b2bUserApprovers:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers",b2bUserApprover:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers/${approverId}",b2bUserUserGroups:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups",b2bUserUserGroup:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups/${userGroupId}",b2bUserPermissions:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions",b2bUserPermission:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions/${premissionId}"}}}},Mx=(()=>{class t{constructor(){}convert(e,i){return i===void 0&&(i=L({},e)),e.startDate&&(i.startDate=Yi.convertDateToDatetime(e.startDate)),e.endDate&&(i.endDate=Yi.convertDateToDatetime(e.endDate,!0)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fx=(()=>{class t{constructor(){}convert(e,i){return i===void 0&&(i=L({},e)),i.email=e?.uid,i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ox=(()=>{class t{constructor(){}convert(e,i){return i===void 0&&(i=L({},e)),delete i.isAssignedToApprovers,i.active===!1&&(i.roles=[]),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wx=(()=>{class t{constructor(e){this.converter=e}convert(e,i){return i===void 0&&(i=L({},e)),i.values=e.budgets?.map(n=>L({},this.converter.convert(n,Gi)))??[],i}static{this.\u0275fac=function(i){return new(i||t)(f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Nx=(()=>{class t{convert(e,i){return i===void 0&&(i=L({},e)),e.startDate&&(i.startDate=Yi.convertDatetimeToDate(e.startDate)),e.endDate&&(i.endDate=Yi.convertDatetimeToDate(e.endDate)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Gx=(()=>{class t{constructor(){}convert(e,i){return i===void 0&&(i=[...e.approvalProcesses]),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kx=(()=>{class t{convert(e,i){return i===void 0&&(i=[...e.unitNodes]),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jx=(()=>{class t{convert(e,i){return i===void 0&&(i=L({},e)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$x=(()=>{class t{convert(e,i){return i===void 0&&(i=L({},e)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Vx=(()=>{class t{constructor(e){this.converter=e}convert(e,i){return i===void 0&&(i=L({},e)),i.values=e.orderApprovalPermissions?.map(n=>L({},this.converter.convert(n,ki)))??[],i}static{this.\u0275fac=function(i){return new(i||t)(f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zx=(()=>{class t{convert(e,i){return i===void 0&&(i=L({},e)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qx=(()=>{class t{constructor(e){this.converter=e}convert(e,i){return i=e.orderApprovalPermissionTypes?.map(n=>this.converter.convert(n,qa)),i??[]}static{this.\u0275fac=function(i){return new(i||t)(f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Kx=(()=>{class t{constructor(){}convert(e,i){return i===void 0&&(i=L({},e)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hx=(()=>{class t{constructor(e){this.converter=e}convert(e,i){return i===void 0&&(i=L({},e)),i.values=e.orgUnitUserGroups.map(n=>L({},this.converter.convert(n,Ci))),i}static{this.\u0275fac=function(i){return new(i||t)(f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zx=(()=>{class t{constructor(){}convert(e,i){return i===void 0&&(i=L({},e)),i}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yx=(()=>{class t{constructor(e){this.converter=e}convert(e,i){return i===void 0&&(i=L({},e)),i.values=e.users.map(n=>L({},this.converter.convert(n,wi))),i}static{this.\u0275fac=function(i){return new(i||t)(f(et))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({providers:[Tt(Lx),{provide:Ji,useClass:Ax},{provide:Gi,useExisting:Nx,multi:!0},{provide:cr,useExisting:Mx,multi:!0},{provide:ar,useExisting:wx,multi:!0},{provide:tn,useClass:Rx},{provide:un,useExisting:$x,multi:!0},{provide:$a,useExisting:jx,multi:!0},{provide:Va,useExisting:kx,multi:!0},{provide:za,useExisting:Gx,multi:!0},{provide:rn,useClass:Bx},{provide:Ci,useExisting:Zx,multi:!0},{provide:pr,useExisting:Hx,multi:!0},{provide:nn,useClass:Tx},{provide:ki,useExisting:zx,multi:!0},{provide:mn,useExisting:Vx,multi:!0},{provide:qa,useExisting:Kx,multi:!0},{provide:Ka,useExisting:qx,multi:!0},{provide:en,useClass:Dx},{provide:Xi,useClass:Px},{provide:wi,useExisting:Fx,multi:!0},{provide:sr,useExisting:Ox,multi:!0},{provide:Ni,useExisting:Yx,multi:!0}],imports:[H,Fc]})}}return t})();var ZC=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=T({type:t})}static{this.\u0275inj=B({imports:[Cd.forRoot(),nu,iu]})}}return t})();export{qt as a,Gm as b,G as c,ne as d,yi as e,Zt as f,D as g,xS as h,Qd as i,TS as j,ZC as k};
