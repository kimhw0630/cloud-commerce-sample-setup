import{ga as g,ha as h}from"./chunk-FKA4XEVN.js";import{Cd as C,Dg as G,G as u,Gd as l,Hd as m,Ie as i,Je as f,Uf as b,Vf as A,f as E,hf as S,if as R,kf as r,lf as M,of as T,qa as o,ra as v,ta as c,yd as y,za as p}from"./chunk-ZJZHXN4F.js";var te=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=o({token:e,factory:function(t){let d=null;return t?d=new(t||e):d=c(C),d},providedIn:"root"})}}return e})(),j=5e3,O=255,x=10,ie=1,se="MMMM d, YYYY h:mm aa",N=5,_={customerTicketing:{attachmentRestrictions:{maxSize:x,allowedTypes:[".pdf",".txt",".png",".jpg",".jpeg",".gif",".doc",".docx",".html",".htm",".zip"]},inputCharactersLimit:j,inputCharactersLimitForSubject:O,listViewPageSize:N}},D={routing:{routes:{supportTickets:{paths:["my-account/support-tickets"]},supportTicketDetails:{paths:["my-account/support-ticket/:ticketCode"],paramsMapping:{ticketCode:"ticketCode"}}}}},k="customerTicketing",F="customerTicketingCore",I=(()=>{class e extends i{static{this.type="GetTicketQueryResetEvent"}}return e})(),a=(()=>{class e extends i{static{this.type="GetTicketQueryReloadEvent"}}return e})(),w=(()=>{class e extends i{static{this.type="GetTicketsQueryResetEvents"}}return e})(),Q=(()=>{class e extends i{static{this.type="GetTicketsQueryReloadEvents"}}return e})(),L=(()=>{class e extends i{static{this.type="NewMessageEvent"}}return e})(),U=(()=>{class e extends i{static{this.type="TicketReopenedEvent"}}return e})(),P=(()=>{class e extends i{static{this.type="TicketClosedEvent"}}return e})(),Y=(()=>{class e extends i{static{this.type="GetTicketCategoryQueryResetEvent"}}return e})(),ne=(()=>{class e extends i{static{this.type="GetTicketCategoryQueryReloadEvent"}}return e})(),H=(()=>{class e extends i{static{this.type="GetTicketAssociatedObjectsQueryResetEvent"}}return e})(),ce=(()=>{class e extends i{static{this.type="GetTicketAssociatedObjectsQueryReloadEvent"}}return e})(),X=(()=>{class e extends i{static{this.type="TicketCreatedEvent"}}return e})();var q=(()=>{class e extends i{static{this.type="UploadAttachmentSuccessEvent"}}return e})(),z=(()=>{class e{constructor(n,t){this.eventService=n,this.globalMessageService=t,this.subscriptions=new E,this.onLanguageAndCurrencySetEvent(),this.onLoginAndLogoutEvent(),this.onTicketCreatedEvent(),this.onNewMessage(),this.onTicketClosed(),this.onTicketReopened(),this.onUploadAttachmentSucess()}onTicketCreatedEvent(){this.subscriptions.add(this.eventService.get(X).subscribe(()=>{this.globalMessageService.add({key:"createCustomerTicket.ticketCreated"},r.MSG_TYPE_CONFIRMATION),this.eventService.dispatch({},Q)}))}onLanguageAndCurrencySetEvent(){this.subscriptions.add(u(this.eventService.get(b),this.eventService.get(A)).subscribe(()=>{this.eventService.dispatch({},Q),this.eventService.dispatch({},a)}))}onLoginAndLogoutEvent(){this.subscriptions.add(u(this.eventService.get(S),this.eventService.get(R)).subscribe(()=>{this.eventService.dispatch({},I),this.eventService.dispatch({},w),this.eventService.dispatch({},Y),this.eventService.dispatch({},H)}))}onNewMessage(){this.subscriptions.add(this.eventService.get(L).subscribe(()=>{this.eventService.dispatch({},a)}))}onTicketClosed(){this.subscriptions.add(this.eventService.get(P).subscribe(()=>{this.eventService.dispatch({},I),this.globalMessageService.add({key:"customerTicketingDetails.requestClosed"},r.MSG_TYPE_CONFIRMATION)}))}onTicketReopened(){this.subscriptions.add(this.eventService.get(U).subscribe(()=>{this.eventService.dispatch({},a),this.globalMessageService.add({key:"customerTicketingDetails.requestReopened"},r.MSG_TYPE_CONFIRMATION)}))}onUploadAttachmentSucess(){this.subscriptions.add(this.eventService.get(q).subscribe(()=>{this.eventService.dispatch({},a)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(t){return new(t||e)(c(f),c(M))}}static{this.\u0275prov=o({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),V=(()=>{class e{constructor(n){}static{this.\u0275fac=function(t){return new(t||e)(c(z))}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=v({})}}return e})();function K(){return{featureModules:{[k]:{cmsComponents:["SupportTicketHistoryComponent","SupportTicketUpdateComponent","SupportTicketDetailsComponent","SupportTicketReopenComponent","SupportTicketCloseComponent","MyAccountViewRequestsComponent"]},[F]:k}}}var oe=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=v({providers:[m(K),l(D),l(_)],imports:[V,y.forChild([{path:null,canActivate:[T,h],component:g,data:{cxRoute:"supportTicketDetails"}},{path:null,canActivate:[T,h],component:g,data:{cxRoute:"supportTickets"}}])]})}}return e})(),re=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=o({token:e,factory:()=>G({facade:e,feature:k,methods:["getTicketState","getTicket","getTicketsState","getTickets","createTicketEvent","getTicketCategoriesState","getTicketCategories","getTicketAssociatedObjectsState","getTicketAssociatedObjects","createTicket","uploadAttachment","downloadAttachment"]}),providedIn:"root"})}}return e})();export{te as a,j as b,O as c,x as d,ie as e,se as f,k as g,I as h,a as i,w as j,Q as k,L as l,U as m,P as n,Y as o,ne as p,H as q,ce as r,X as s,q as t,oe as u,re as v};
