var oF=Object.create;var Sg=Object.defineProperty,sF=Object.defineProperties,aF=Object.getOwnPropertyDescriptor,cF=Object.getOwnPropertyDescriptors,uF=Object.getOwnPropertyNames,cu=Object.getOwnPropertySymbols,BD=Object.getPrototypeOf,Ig=Object.prototype.hasOwnProperty,VD=Object.prototype.propertyIsEnumerable,lF=Reflect.get;var $D=(e,r,t)=>r in e?Sg(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,v=(e,r)=>{for(var t in r||={})Ig.call(r,t)&&$D(e,t,r[t]);if(cu)for(var t of cu(r))VD.call(r,t)&&$D(e,t,r[t]);return e},w=(e,r)=>sF(e,cF(r));var HD=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Dg=(e,r)=>{var t={};for(var n in e)Ig.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&cu)for(var n of cu(e))r.indexOf(n)<0&&VD.call(e,n)&&(t[n]=e[n]);return t};var zD=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var dF=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of uF(r))!Ig.call(e,i)&&i!==t&&Sg(e,i,{get:()=>r[i],enumerable:!(n=aF(r,i))||n.enumerable});return e};var fF=(e,r,t)=>(t=e!=null?oF(BD(e)):{},dF(r||!e||!e.__esModule?Sg(t,"default",{value:e,enumerable:!0}):t,e));var A7=(e,r,t)=>lF(BD(e),t,r);var ot=(e,r,t)=>new Promise((n,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(e,r)).next())});var a_=zD((wi,s_)=>{"use strict";var lf=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,df=function(){function e(){this.fetch=!1,this.DOMException=lf.DOMException}return e.prototype=lf,new e}();(function(e){var r=function(t){var n=typeof e<"u"&&e||typeof self<"u"&&self||typeof n<"u"&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function o(b){return b&&DataView.prototype.isPrototypeOf(b)}if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(b){return b&&s.indexOf(Object.prototype.toString.call(b))>-1};function c(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function u(b){return typeof b!="string"&&(b=String(b)),b}function l(b){var O={next:function(){var ne=b.shift();return{done:ne===void 0,value:ne}}};return i.iterable&&(O[Symbol.iterator]=function(){return O}),O}function d(b){this.map={},b instanceof d?b.forEach(function(O,ne){this.append(ne,O)},this):Array.isArray(b)?b.forEach(function(O){this.append(O[0],O[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(O){this.append(O,b[O])},this)}d.prototype.append=function(b,O){b=c(b),O=u(O);var ne=this.map[b];this.map[b]=ne?ne+", "+O:O},d.prototype.delete=function(b){delete this.map[c(b)]},d.prototype.get=function(b){return b=c(b),this.has(b)?this.map[b]:null},d.prototype.has=function(b){return this.map.hasOwnProperty(c(b))},d.prototype.set=function(b,O){this.map[c(b)]=u(O)},d.prototype.forEach=function(b,O){for(var ne in this.map)this.map.hasOwnProperty(ne)&&b.call(O,this.map[ne],ne,this)},d.prototype.keys=function(){var b=[];return this.forEach(function(O,ne){b.push(ne)}),l(b)},d.prototype.values=function(){var b=[];return this.forEach(function(O){b.push(O)}),l(b)},d.prototype.entries=function(){var b=[];return this.forEach(function(O,ne){b.push([ne,O])}),l(b)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function h(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function m(b){return new Promise(function(O,ne){b.onload=function(){O(b.result)},b.onerror=function(){ne(b.error)}})}function C(b){var O=new FileReader,ne=m(O);return O.readAsArrayBuffer(b),ne}function D(b){var O=new FileReader,ne=m(O);return O.readAsText(b),ne}function A(b){for(var O=new Uint8Array(b),ne=new Array(O.length),ye=0;ye<O.length;ye++)ne[ye]=String.fromCharCode(O[ye]);return ne.join("")}function N(b){if(b.slice)return b.slice(0);var O=new Uint8Array(b.byteLength);return O.set(new Uint8Array(b)),O.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:i.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:i.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():i.arrayBuffer&&i.blob&&o(b)?(this._bodyArrayBuffer=N(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||a(b))?this._bodyArrayBuffer=N(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var b=h(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=h(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(C)}),this.text=function(){var b=h(this);if(b)return b;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(fe)}),this.json=function(){return this.text().then(JSON.parse)},this}var Y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Z(b){var O=b.toUpperCase();return Y.indexOf(O)>-1?O:b}function X(b,O){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var ne=O.body;if(b instanceof X){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,O.headers||(this.headers=new d(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!ne&&b._bodyInit!=null&&(ne=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new d(O.headers)),this.method=Z(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var ye=/([?&])_=[^&]*/;if(ye.test(this.url))this.url=this.url.replace(ye,"$1_="+new Date().getTime());else{var Ae=/\?/;this.url+=(Ae.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}X.prototype.clone=function(){return new X(this,{body:this._bodyInit})};function fe(b){var O=new FormData;return b.trim().split("&").forEach(function(ne){if(ne){var ye=ne.split("="),Ae=ye.shift().replace(/\+/g," "),he=ye.join("=").replace(/\+/g," ");O.append(decodeURIComponent(Ae),decodeURIComponent(he))}}),O}function Te(b){var O=new d,ne=b.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ye){return ye.indexOf(`
`)===0?ye.substr(1,ye.length):ye}).forEach(function(ye){var Ae=ye.split(":"),he=Ae.shift().trim();if(he){var Rr=Ae.join(":").trim();O.append(he,Rr)}}),O}x.call(X.prototype);function He(b,O){if(!(this instanceof He))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new d(O.headers),this.url=O.url||"",this._initBody(b)}x.call(He.prototype),He.prototype.clone=function(){return new He(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},He.error=function(){var b=new He(null,{status:0,statusText:""});return b.type="error",b};var Ni=[301,302,303,307,308];He.redirect=function(b,O){if(Ni.indexOf(O)===-1)throw new RangeError("Invalid status code");return new He(null,{status:O,headers:{location:b}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(O,ne){this.message=O,this.name=ne;var ye=Error(O);this.stack=ye.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Yn(b,O){return new Promise(function(ne,ye){var Ae=new X(b,O);if(Ae.signal&&Ae.signal.aborted)return ye(new t.DOMException("Aborted","AbortError"));var he=new XMLHttpRequest;function Rr(){he.abort()}he.onload=function(){var ze={status:he.status,statusText:he.statusText,headers:Te(he.getAllResponseHeaders()||"")};ze.url="responseURL"in he?he.responseURL:ze.headers.get("X-Request-URL");var ln="response"in he?he.response:he.responseText;setTimeout(function(){ne(new He(ln,ze))},0)},he.onerror=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},he.ontimeout=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},he.onabort=function(){setTimeout(function(){ye(new t.DOMException("Aborted","AbortError"))},0)};function vt(ze){try{return ze===""&&n.location.href?n.location.href:ze}catch{return ze}}he.open(Ae.method,vt(Ae.url),!0),Ae.credentials==="include"?he.withCredentials=!0:Ae.credentials==="omit"&&(he.withCredentials=!1),"responseType"in he&&(i.blob?he.responseType="blob":i.arrayBuffer&&Ae.headers.get("Content-Type")&&Ae.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(he.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof d)?Object.getOwnPropertyNames(O.headers).forEach(function(ze){he.setRequestHeader(ze,u(O.headers[ze]))}):Ae.headers.forEach(function(ze,ln){he.setRequestHeader(ln,ze)}),Ae.signal&&(Ae.signal.addEventListener("abort",Rr),he.onreadystatechange=function(){he.readyState===4&&Ae.signal.removeEventListener("abort",Rr)}),he.send(typeof Ae._bodyInit>"u"?null:Ae._bodyInit)})}return Yn.polyfill=!0,n.fetch||(n.fetch=Yn,n.Headers=d,n.Request=X,n.Response=He),t.Headers=d,t.Request=X,t.Response=He,t.fetch=Yn,t}({})})(df);df.fetch.ponyfill=!0;delete df.fetch.polyfill;var As=lf.fetch?lf:df;wi=As.fetch;wi.default=As.fetch;wi.fetch=As.fetch;wi.Headers=As.Headers;wi.Request=As.Request;wi.Response=As.Response;s_.exports=wi});var u_=zD((oC,c_)=>{"use strict";var ff;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?ff=global.fetch:typeof window<"u"&&window.fetch?ff=window.fetch:ff=fetch);typeof HD<"u"&&typeof window>"u"&&(Sc=ff||a_(),Sc.default&&(Sc=Sc.default),oC.default=Sc,c_.exports=oC.default);var Sc});function W(e){return typeof e=="function"}function si(e){let t=e(n=>{Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var uu=si(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Mr(e,r){if(e){let t=e.indexOf(r);0<=t&&e.splice(t,1)}}var Ee=class e{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:n}=this;if(W(n))try{n()}catch(o){r=o instanceof uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{GD(o)}catch(s){r=r??[],s instanceof uu?r=[...r,...s.errors]:r.push(s)}}if(r)throw new uu(r)}}add(r){var t;if(r&&r!==this)if(this.closed)GD(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}}_hasParent(r){let{_parentage:t}=this;return t===r||Array.isArray(t)&&t.includes(r)}_addParent(r){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r}_removeParent(r){let{_parentage:t}=this;t===r?this._parentage=null:Array.isArray(t)&&Mr(t,r)}remove(r){let{_finalizers:t}=this;t&&Mr(t,r),r instanceof e&&r._removeParent(this)}};Ee.EMPTY=(()=>{let e=new Ee;return e.closed=!0,e})();var bg=Ee.EMPTY;function lu(e){return e instanceof Ee||e&&"closed"in e&&W(e.remove)&&W(e.add)&&W(e.unsubscribe)}function GD(e){W(e)?e():e.unsubscribe()}var Rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Oo={setTimeout(e,r,...t){let{delegate:n}=Oo;return n?.setTimeout?n.setTimeout(e,r,...t):setTimeout(e,r,...t)},clearTimeout(e){let{delegate:r}=Oo;return(r?.clearTimeout||clearTimeout)(e)},delegate:void 0};function du(e){Oo.setTimeout(()=>{let{onUnhandledError:r}=Rn;if(r)r(e);else throw e})}function xt(){}var WD=wg("C",void 0,void 0);function qD(e){return wg("E",void 0,e)}function YD(e){return wg("N",e,void 0)}function wg(e,r,t){return{kind:e,value:r,error:t}}var Pi=null;function xo(e){if(Rn.useDeprecatedSynchronousErrorHandling){let r=!Pi;if(r&&(Pi={errorThrown:!1,error:null}),e(),r){let{errorThrown:t,error:n}=Pi;if(Pi=null,t)throw n}}else e()}function KD(e){Rn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=e)}var Fi=class extends Ee{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,lu(r)&&r.add(this)):this.destination=gF}static create(r,t,n){return new _r(r,t,n)}next(r){this.isStopped?Ag(YD(r),this):this._next(r)}error(r){this.isStopped?Ag(qD(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?Ag(WD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hF=Function.prototype.bind;function Tg(e,r){return hF.call(e,r)}var Rg=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:t}=this;if(t.next)try{t.next(r)}catch(n){fu(n)}}error(r){let{partialObserver:t}=this;if(t.error)try{t.error(r)}catch(n){fu(n)}else fu(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(t){fu(t)}}},_r=class extends Fi{constructor(r,t,n){super();let i;if(W(r)||!r)i={next:r??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&Rn.useDeprecatedNextContext?(o=Object.create(r),o.unsubscribe=()=>this.unsubscribe(),i={next:r.next&&Tg(r.next,o),error:r.error&&Tg(r.error,o),complete:r.complete&&Tg(r.complete,o)}):i=r}this.destination=new Rg(i)}};function fu(e){Rn.useDeprecatedSynchronousErrorHandling?KD(e):du(e)}function pF(e){throw e}function Ag(e,r){let{onStoppedNotification:t}=Rn;t&&Oo.setTimeout(()=>t(e,r))}var gF={closed:!0,next:xt,error:pF,complete:xt};var No=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(e){return e}function Mg(...e){return _g(e)}function _g(e){return e.length===0?et:e.length===1?e[0]:function(t){return e.reduce((n,i)=>i(n),t)}}var V=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,i){let o=vF(t)?t:new _r(t,n,i);return xo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return n=ZD(n),new n((i,o)=>{let s=new _r({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)}[No](){return this}pipe(...t){return _g(t)(this)}toPromise(t){return t=ZD(t),new t((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return e.create=r=>new e(r),e})();function ZD(e){var r;return(r=e??Rn.Promise)!==null&&r!==void 0?r:Promise}function mF(e){return e&&W(e.next)&&W(e.error)&&W(e.complete)}function vF(e){return e&&e instanceof Fi||mF(e)&&lu(e)}var QD=si(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let n=new hu(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new QD}next(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(t)}})}error(t){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:n,isStopped:i,observers:o}=this;return n||i?bg:(this.currentObservers=null,o.push(t),new Ee(()=>{this.currentObservers=null,Mr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:n,thrownError:i,isStopped:o}=this;n?t.error(i):o&&t.complete()}asObservable(){let t=new V;return t.source=this,t}}return e.create=(r,t)=>new hu(r,t),e})(),hu=class extends ie{constructor(r,t){super(),this.destination=r,this.source=t}next(r){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.next)===null||n===void 0||n.call(t,r)}error(r){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.error)===null||n===void 0||n.call(t,r)}complete(){var r,t;(t=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||t===void 0||t.call(r)}_subscribe(r){var t,n;return(n=(t=this.source)===null||t===void 0?void 0:t.subscribe(r))!==null&&n!==void 0?n:bg}};var Re=class extends ie{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let t=super._subscribe(r);return!t.closed&&r.next(this._value),t}getValue(){let{hasError:r,thrownError:t,_value:n}=this;if(r)throw t;return this._throwIfClosed(),n}next(r){super.next(this._value=r)}};var ea={now(){return(ea.delegate||Date).now()},delegate:void 0};var Zt=class extends ie{constructor(r=1/0,t=1/0,n=ea){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){let{isStopped:t,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(n.push(r),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!r.closed;s+=n?1:2)r.next(o[s]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){let{_bufferSize:r,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*r;if(r<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=t.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var pu=class extends Ee{constructor(r,t){super()}schedule(r,t=0){return this}};var ta={setInterval(e,r,...t){let{delegate:n}=ta;return n?.setInterval?n.setInterval(e,r,...t):setInterval(e,r,...t)},clearInterval(e){let{delegate:r}=ta;return(r?.clearInterval||clearInterval)(e)},delegate:void 0};var Kn=class extends pu{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){var n;if(this.closed)return this;this.state=r;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(r,t,n=0){return ta.setInterval(r.flush.bind(r,this),n)}recycleAsyncId(r,t,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&ta.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(r,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let n=!1,i;try{this.work(r)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:r,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Mr(n,this),r!=null&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}};var gu=class extends Kn{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}schedule(r,t=0){return t>0?super.schedule(r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this)}execute(r,t){return t>0||this.closed?super.execute(r,t):this._execute(r,t)}requestAsyncId(r,t,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(r,t,n):(r.flush(this),0)}};var Po=class e{constructor(r,t=e.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,n){return new this.schedulerActionCtor(this,r).schedule(n,t)}};Po.now=ea.now;var Zn=class extends Po{constructor(r,t=Po.now){super(r,t),this.actions=[],this._active=!1}flush(r){let{actions:t}=this;if(this._active){t.push(r);return}let n;this._active=!0;do if(n=r.execute(r.state,r.delay))break;while(r=t.shift());if(this._active=!1,n){for(;r=t.shift();)r.unsubscribe();throw n}}};var mu=class extends Zn{};var Or=new mu(gu);var ge=new V(e=>e.complete());function wt(e,r,t,n=0,i=!1){let o=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function Og(e){return W(e?.lift)}function k(e){return r=>{if(Og(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(e,r,t,n,i){return new na(e,r,t,n,i)}var na=class extends Fi{constructor(r,t,n,i,o,s){super(r),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){r.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){r.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){r.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function Qt(e,r=0){return k((t,n)=>{t.subscribe(P(n,i=>wt(n,e,()=>n.next(i),r),()=>wt(n,e,()=>n.complete(),r),i=>wt(n,e,()=>n.error(i),r)))})}function vu(e){return e&&W(e.schedule)}function xg(e){return e[e.length-1]}function ai(e){return W(xg(e))?e.pop():void 0}function Qn(e){return vu(xg(e))?e.pop():void 0}function JD(e,r){return typeof xg(e)=="number"?e.pop():r}function cZ(e,r,t,n){var i=arguments.length,o=i<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(r,t,o):s(r,t))||o);return i>3&&o&&Object.defineProperty(r,t,o),o}function uZ(e,r){return function(t,n){r(t,n,e)}}function eb(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,r||[])).next())})}function XD(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e){return this instanceof Li?(this.v=e,this):new Li(e)}function tb(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,d)}}function a(m,C){n[m]&&(i[m]=function(D){return new Promise(function(A,N){o.push([m,D,A,N])>1||c(m,D)})},C&&(i[m]=C(i[m])))}function c(m,C){try{u(n[m](C))}catch(D){h(o[0][3],D)}}function u(m){m.value instanceof Li?Promise.resolve(m.value.v).then(l,d):h(o[0][2],m)}function l(m){c("next",m)}function d(m){c("throw",m)}function h(m,C){m(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function nb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof XD=="function"?XD(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Fo=e=>e&&typeof e.length=="number"&&typeof e!="function";function yu(e){return W(e?.then)}function Eu(e){return W(e[No])}function Cu(e){return Symbol.asyncIterator&&W(e?.[Symbol.asyncIterator])}function Su(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iu=yF();function Du(e){return W(e?.[Iu])}function bu(e){return tb(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:n,done:i}=yield Li(t.read());if(i)return yield Li(void 0);yield yield Li(n)}}finally{t.releaseLock()}})}function wu(e){return W(e?.getReader)}function G(e){if(e instanceof V)return e;if(e!=null){if(Eu(e))return EF(e);if(Fo(e))return CF(e);if(yu(e))return SF(e);if(Cu(e))return rb(e);if(Du(e))return IF(e);if(wu(e))return DF(e)}throw Su(e)}function EF(e){return new V(r=>{let t=e[No]();if(W(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function CF(e){return new V(r=>{for(let t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function SF(e){return new V(r=>{e.then(t=>{r.closed||(r.next(t),r.complete())},t=>r.error(t)).then(null,du)})}function IF(e){return new V(r=>{for(let t of e)if(r.next(t),r.closed)return;r.complete()})}function rb(e){return new V(r=>{bF(e,r).catch(t=>r.error(t))})}function DF(e){return rb(bu(e))}function bF(e,r){var t,n,i,o;return eb(this,void 0,void 0,function*(){try{for(t=nb(e);n=yield t.next(),!n.done;){let s=n.value;if(r.next(s),r.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}r.complete()})}function Tu(e,r=0){return k((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),r))})}function ib(e,r){return G(e).pipe(Tu(r),Qt(r))}function ob(e,r){return G(e).pipe(Tu(r),Qt(r))}function sb(e,r){return new V(t=>{let n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}function ab(e,r){return new V(t=>{let n;return wt(t,r,()=>{n=e[Iu](),wt(t,r,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>W(n?.return)&&n.return()})}function Au(e,r){if(!e)throw new Error("Iterable cannot be null");return new V(t=>{wt(t,r,()=>{let n=e[Symbol.asyncIterator]();wt(t,r,()=>{n.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function cb(e,r){return Au(bu(e),r)}function ub(e,r){if(e!=null){if(Eu(e))return ib(e,r);if(Fo(e))return sb(e,r);if(yu(e))return ob(e,r);if(Cu(e))return Au(e,r);if(Du(e))return ab(e,r);if(wu(e))return cb(e,r)}throw Su(e)}function me(e,r){return r?ub(e,r):G(e)}function I(...e){let r=Qn(e);return me(e,r)}function y(e,r){return k((t,n)=>{let i=0;t.subscribe(P(n,o=>{n.next(e.call(r,o,i++))}))})}var{isArray:wF}=Array,{getPrototypeOf:TF,prototype:AF,keys:RF}=Object;function Ru(e){if(e.length===1){let r=e[0];if(wF(r))return{args:r,keys:null};if(MF(r)){let t=RF(r);return{args:t.map(n=>r[n]),keys:t}}}return{args:e,keys:null}}function MF(e){return e&&typeof e=="object"&&TF(e)===AF}var{isArray:_F}=Array;function OF(e,r){return _F(r)?e(...r):e(r)}function Lo(e){return y(r=>OF(e,r))}function Mu(e,r){return e.reduce((t,n,i)=>(t[n]=r[i],t),{})}function Fe(...e){let r=Qn(e),t=ai(e),{args:n,keys:i}=Ru(e);if(n.length===0)return me([],r);let o=new V(xF(n,r,i?s=>Mu(i,s):et));return t?o.pipe(Lo(t)):o}function xF(e,r,t=et){return n=>{lb(r,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lb(r,()=>{let u=me(e[c],r),l=!1;u.subscribe(P(n,d=>{o[c]=d,l||(l=!0,a--),a||n.next(t(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function lb(e,r,t){e?wt(t,e,r):r()}function db(e,r,t,n,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&r.complete()},m=D=>u<n?C(D):c.push(D),C=D=>{o&&r.next(D),u++;let A=!1;G(t(D,l++)).subscribe(P(r,N=>{i?.(N),o?m(N):r.next(N)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<n;){let N=c.shift();s?wt(r,s,()=>C(N)):C(N)}h()}catch(N){r.error(N)}}))};return e.subscribe(P(r,m,()=>{d=!0,h()})),()=>{a?.()}}function z(e,r,t=1/0){return W(r)?z((n,i)=>y((o,s)=>r(n,o,i,s))(G(e(n,i))),t):(typeof r=="number"&&(t=r),k((n,i)=>db(n,i,e,t)))}var Jt=new Zn(Kn),fb=Jt;function _u(e){return e instanceof Date&&!isNaN(e)}function Xt(e=0,r,t=fb){let n=-1;return r!=null&&(vu(r)?t=r:n=r),new V(i=>{let o=_u(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Jn(e=1/0){return z(et,e)}function dn(...e){let r=Qn(e),t=JD(e,1/0),n=e;return n.length?n.length===1?G(n[0]):Jn(t)(me(n,r)):ge}function R(e,r){return k((t,n)=>{let i=0;t.subscribe(P(n,o=>e.call(r,o,i++)&&n.next(o)))})}function F(e){return k((r,t)=>{let n=null,i=!1,o;n=r.subscribe(P(t,void 0,void 0,s=>{o=G(e(s,F(e)(r))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}function NF(e){return k((r,t)=>{let n=!1,i=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let a=i;i=null,t.next(a)}};r.subscribe(P(t,a=>{o?.unsubscribe(),n=!0,i=a,o=P(t,s,xt),G(e(a)).subscribe(o)},()=>{s(),t.complete()},void 0,()=>{i=o=null}))})}function re(e){return e<=0?()=>ge:k((r,t)=>{let n=0;r.subscribe(P(t,i=>{++n<=e&&(t.next(i),e<=n&&t.complete())}))})}function hb(){return Jn(1)}function Xn(...e){return hb()(me(e,Qn(e)))}function ra(){return k((e,r)=>{e.subscribe(P(r,xt))})}function ia(e){return y(()=>e)}function Ou(e,r){return r?t=>Xn(r.pipe(re(1),ra()),t.pipe(Ou(e))):z((t,n)=>G(e(t,n)).pipe(re(1),ia(t)))}function er(e,r=Jt){let t=Xt(e,r);return Ou(()=>t)}function PF(e,r){return k((t,n)=>{let i=new Set;t.subscribe(P(n,o=>{let s=e?e(o):o;i.has(s)||(i.add(s),n.next(o))})),r&&G(r).subscribe(P(n,()=>i.clear(),xt))})}function fn(e,r=et){return e=e??FF,k((t,n)=>{let i,o=!0;t.subscribe(P(n,s=>{let a=r(s);(o||!e(i,a))&&(o=!1,i=a,n.next(s))}))})}function FF(e,r){return e===r}function LF(e,r){return fn((t,n)=>r?r(t[e],n[e]):t[e]===n[e])}var Mn=si(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ci(e){return k((r,t)=>{let n=!1;r.subscribe(P(t,i=>{n=!0,t.next(i)},()=>{n||t.next(e),t.complete()}))})}function xu(e=kF){return k((r,t)=>{let n=!1;r.subscribe(P(t,i=>{n=!0,t.next(i)},()=>n?t.complete():t.error(e())))})}function kF(){return new Mn}function Nt(e,r){let t=arguments.length>=2;return n=>n.pipe(e?R((i,o)=>e(i,o,n)):et,re(1),t?ci(r):xu(()=>new Mn))}function ko(e={}){let{connector:r=()=>new ie,resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),s=c=void 0,l=d=!1},C=()=>{let D=s;m(),D?.unsubscribe()};return k((D,A)=>{u++,!d&&!l&&h();let N=c=c??r();A.add(()=>{u--,u===0&&!d&&!l&&(a=Ng(C,i))}),N.subscribe(A),!s&&u>0&&(s=new _r({next:x=>N.next(x),error:x=>{d=!0,h(),a=Ng(m,t,x),N.error(x)},complete:()=>{l=!0,h(),a=Ng(m,n),N.complete()}}),G(D).subscribe(s))})(o)}}function Ng(e,r,...t){if(r===!0){e();return}if(r===!1)return;let n=new _r({next:()=>{n.unsubscribe(),e()}});return G(r(...t)).subscribe(n)}function st(e,r,t){let n,i=!1;return e&&typeof e=="object"?{bufferSize:n=1/0,windowTime:r=1/0,refCount:i=!1,scheduler:t}=e:n=e??1/0,ko({connector:()=>new Zt(n,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Pg(e){return R((r,t)=>e<=t)}function tr(...e){let r=Qn(e);return k((t,n)=>{(r?Xn(e,t,r):Xn(e,t)).subscribe(n)})}function _(e,r){return k((t,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();t.subscribe(P(n,c=>{i?.unsubscribe();let u=0,l=o++;G(e(c,l)).subscribe(i=P(n,d=>n.next(r?r(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function UF(e,r=!1){return k((t,n)=>{let i=0;t.subscribe(P(n,o=>{let s=e(o,i++);(s||r)&&n.next(o),!s&&n.complete()}))})}function L(e,r,t){let n=W(e)||r||t?{next:e,error:r,complete:t}:e;return n?k((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(P(o,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),o.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),o.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):et}function Uo(){return k((e,r)=>{let t=null;e._refCount++;let n=P(r,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),r.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}var ui=class extends V{constructor(r,t){super(),this.source=r,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Og(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Ee;let t=this.getSubject();r.add(this.source.subscribe(P(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Ee.EMPTY)}return r}refCount(){return Uo()(this)}};var jo={schedule(e){let r=requestAnimationFrame,t=cancelAnimationFrame,{delegate:n}=jo;n&&(r=n.requestAnimationFrame,t=n.cancelAnimationFrame);let i=r(o=>{t=void 0,e(o)});return new Ee(()=>t?.(i))},requestAnimationFrame(...e){let{delegate:r}=jo;return(r?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:r}=jo;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var jF=1,Fg,Lg={};function pb(e){return e in Lg?(delete Lg[e],!0):!1}var gb={setImmediate(e){let r=jF++;return Lg[r]=!0,Fg||(Fg=Promise.resolve()),Fg.then(()=>pb(r)&&e()),r},clearImmediate(e){pb(e)}};var{setImmediate:$F,clearImmediate:BF}=gb,oa={setImmediate(...e){let{delegate:r}=oa;return(r?.setImmediate||$F)(...e)},clearImmediate(e){let{delegate:r}=oa;return(r?.clearImmediate||BF)(e)},delegate:void 0};var Nu=class extends Kn{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return n!==null&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=oa.setImmediate(r.flush.bind(r,void 0))))}recycleAsyncId(r,t,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);let{actions:o}=r;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(oa.clearImmediate(t),r._scheduled===t&&(r._scheduled=void 0))}};var Pu=class extends Zn{flush(r){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw i}}};var kg=new Pu(Nu);var Fu=class extends Kn{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return n!==null&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=jo.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,t,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);let{actions:o}=r;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(jo.cancelAnimationFrame(t),r._scheduled=void 0)}};var Lu=class extends Zn{flush(r){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw i}}};var VF=new Lu(Fu);function Pt(e,r){let t=W(e)?e:()=>e,n=i=>i.error(t());return new V(r?i=>r.schedule(n,0,i):n)}var li=class e{constructor(r,t,n){this.kind=r,this.value=t,this.error=n,this.hasValue=r==="N"}observe(r){return Ug(this,r)}do(r,t,n){let{kind:i,value:o,error:s}=this;return i==="N"?r?.(o):i==="E"?t?.(s):n?.()}accept(r,t,n){var i;return W((i=r)===null||i===void 0?void 0:i.next)?this.observe(r):this.do(r,t,n)}toObservable(){let{kind:r,value:t,error:n}=this,i=r==="N"?I(t):r==="E"?Pt(()=>n):r==="C"?ge:0;if(!i)throw new TypeError(`Unexpected notification kind ${r}`);return i}static createNext(r){return new e("N",r)}static createError(r){return new e("E",void 0,r)}static createComplete(){return e.completeNotification}};li.completeNotification=new li("C");function Ug(e,r){var t,n,i;let{kind:o,value:s,error:a}=e;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=r.next)===null||t===void 0||t.call(r,s):o==="E"?(n=r.error)===null||n===void 0||n.call(r,a):(i=r.complete)===null||i===void 0||i.call(r)}function ki(e){return!!e&&(e instanceof V||W(e.lift)&&W(e.subscribe))}function nr(e,r){let t=typeof r=="object";return new Promise((n,i)=>{let o=!1,s;e.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?n(s):t?n(r.defaultValue):i(new Mn)}})})}var ku=si(e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function sa(e,r){let{first:t,each:n,with:i=HF,scheduler:o=r??Jt,meta:s=null}=_u(e)?{first:e}:typeof e=="number"?{each:e}:e;if(t==null&&n==null)throw new TypeError("No timeout provided.");return k((a,c)=>{let u,l,d=null,h=0,m=C=>{l=wt(c,o,()=>{try{u.unsubscribe(),G(i({meta:s,lastValue:d,seen:h})).subscribe(c)}catch(D){c.error(D)}},C)};u=a.subscribe(P(c,C=>{l?.unsubscribe(),h++,c.next(d=C),n>0&&m(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),d=null})),!h&&m(t!=null?typeof t=="number"?t:+t-o.now():n)})}function HF(e){throw new ku(e)}function Ze(e){return new V(r=>{G(e()).subscribe(r)})}var zF={connector:()=>new ie,resetOnDisconnect:!0};function Uu(e,r=zF){let t=null,{connector:n,resetOnDisconnect:i=!0}=r,o=n(),s=new V(a=>o.subscribe(a));return s.connect=()=>((!t||t.closed)&&(t=Ze(()=>e).subscribe(o),i&&t.add(()=>o=n())),t),s}function aa(...e){let r=ai(e),{args:t,keys:n}=Ru(e),i=new V(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;G(t[l]).subscribe(P(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(n?Mu(n,a):a),o.complete())}))}});return r?i.pipe(Lo(r)):i}var GF=["addListener","removeListener"],WF=["addEventListener","removeEventListener"],qF=["on","off"];function ca(e,r,t,n){if(W(t)&&(n=t,t=void 0),n)return ca(e,r,t).pipe(Lo(n));let[i,o]=ZF(e)?WF.map(s=>a=>e[s](r,a,t)):YF(e)?GF.map(mb(e,r)):KF(e)?qF.map(mb(e,r)):[];if(!i&&Fo(e))return z(s=>ca(s,r,t))(G(e));if(!i)throw new TypeError("Invalid event target");return new V(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function mb(e,r){return t=>n=>e[t](r,n)}function YF(e){return W(e.addListener)&&W(e.removeListener)}function KF(e){return W(e.on)&&W(e.off)}function ZF(e){return W(e.addEventListener)&&W(e.removeEventListener)}function ua(e,r,t){return Ze(()=>e()?r:t)}function QF(e=0,r=Jt){return e<0&&(e=0),Xt(e,e,r)}var jg=new V(xt);var{isArray:JF}=Array;function ju(e){return e.length===1&&JF(e[0])?e[0]:e}function $g(...e){return e=ju(e),e.length===1?G(e[0]):new V(XF(e))}function XF(e){return r=>{let t=[];for(let n=0;t&&!r.closed&&n<e.length;n++)t.push(G(e[n]).subscribe(P(r,i=>{if(t){for(let o=0;o<t.length;o++)o!==n&&t[o].unsubscribe();t=null}r.next(i)})))}}function Ui(e,r){return new V(t=>{let n=e(),i=r(n);return(i?G(i):ge).subscribe(t),()=>{n&&n.unsubscribe()}})}function ji(...e){let r=ai(e),t=ju(e);return t.length?new V(n=>{let i=t.map(()=>[]),o=t.map(()=>!1);n.add(()=>{i=o=null});for(let s=0;!n.closed&&s<t.length;s++)G(t[s]).subscribe(P(n,a=>{if(i[s].push(a),i.every(c=>c.length)){let c=i.map(u=>u.shift());n.next(r?r(...c):c),i.some((u,l)=>!u.length&&o[l])&&n.complete()}},()=>{o[s]=!0,!i[s].length&&n.complete()}));return()=>{i=o=null}}):ge}function la(e){return k((r,t)=>{let n=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};r.subscribe(P(t,u=>{n=!0,i=u,o||G(e(u)).subscribe(o=P(t,a,c))},()=>{s=!0,(!n||!o||o.closed)&&t.complete()}))})}function $u(e,r=Jt){return la(()=>Xt(e,r))}function da(e,r=null){return r=r??e,k((t,n)=>{let i=[],o=0;t.subscribe(P(n,s=>{let a=null;o++%r===0&&i.push([]);for(let c of i)c.push(s),e<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)Mr(i,c),n.next(c)},()=>{for(let s of i)n.next(s);n.complete()},void 0,()=>{i=null}))})}function vb(e,r,t,n,i){return(o,s)=>{let a=t,c=r,u=0;o.subscribe(P(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),n&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function je(e,r){return W(r)?z(e,r,1):z(e,1)}function yb(e){return new V(r=>e.subscribe(r))}var eL={connector:()=>new ie};function Bu(e,r=eL){let{connector:t}=r;return k((n,i)=>{let o=t();G(e(yb(o))).subscribe(i),i.add(n.subscribe(o))})}function $i(e,r=Jt){return k((t,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,n.next(u)}};function c(){let u=s+e,l=r.now();if(l<u){i=this.schedule(void 0,u-l),n.add(i);return}a()}t.subscribe(P(n,u=>{o=u,s=r.now(),i||(i=r.schedule(c,e),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function Bg(){return k((e,r)=>{e.subscribe(P(r,t=>Ug(t,r)))})}function Eb(...e){return r=>Xn(r,I(...e))}function tL(e,r){return k((t,n)=>{let i=0;t.subscribe(P(n,o=>{e.call(r,o,i++,t)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function rr(e,r){return r?t=>t.pipe(rr((n,i)=>G(e(n,i)).pipe(y((o,s)=>r(n,o,i,s))))):k((t,n)=>{let i=0,o=null,s=!1;t.subscribe(P(n,a=>{o||(o=P(n,void 0,()=>{o=null,s&&n.complete()}),G(e(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}function _n(e){return k((r,t)=>{try{r.subscribe(t)}finally{t.add(e)}})}function xr(e,r,t,n){return k((i,o)=>{let s;!r||typeof r=="function"?s=r:{duration:t,element:s,connector:n}=r;let a=new Map,c=C=>{a.forEach(C),C(o)},u=C=>c(D=>D.error(C)),l=0,d=!1,h=new na(o,C=>{try{let D=e(C),A=a.get(D);if(!A){a.set(D,A=n?n():new ie);let N=m(D,A);if(o.next(N),t){let x=P(A,()=>{A.complete(),x?.unsubscribe()},void 0,void 0,()=>a.delete(D));h.add(G(t(N)).subscribe(x))}}A.next(s?s(C):C)}catch(D){u(D)}},()=>c(C=>C.complete()),u,()=>a.clear(),()=>(d=!0,l===0));i.subscribe(h);function m(C,D){let A=new V(N=>{l++;let x=D.subscribe(N);return()=>{x.unsubscribe(),--l===0&&d&&h.unsubscribe()}});return A.key=C,A}})}function $o(e){return e<=0?()=>ge:k((r,t)=>{let n=[];r.subscribe(P(t,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(let i of n)t.next(i);t.complete()},void 0,()=>{n=null}))})}function Vg(e,r){let t=arguments.length>=2;return n=>n.pipe(e?R((i,o)=>e(i,o,n)):et,$o(1),t?ci(r):xu(()=>new Mn))}function Hg(){return k((e,r)=>{e.subscribe(P(r,t=>{r.next(li.createNext(t))},()=>{r.next(li.createComplete()),r.complete()},t=>{r.next(li.createError(t)),r.complete()}))})}function Cb(e,r){let t=W(e)?e:()=>e;return W(r)?Bu(r,{connector:t}):n=>new ui(n,t)}function fa(){return k((e,r)=>{let t,n=!1;e.subscribe(P(r,i=>{let o=t;t=i,n&&r.next([o,i]),n=!0}))})}function zg(...e){let r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return y(t=>{let n=t;for(let i=0;i<r;i++){let o=n?.[e[i]];if(typeof o<"u")n=o;else return}return n})}function nL(e){return e?r=>Bu(e)(r):r=>Cb(new ie)(r)}function Gg(e=1/0){let r;e&&typeof e=="object"?r=e:r={count:e};let{count:t=1/0,delay:n,resetOnSuccess:i=!1}=r;return t<=0?et:k((o,s)=>{let a=0,c,u=()=>{let l=!1;c=o.subscribe(P(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let m=typeof n=="number"?Xt(n):G(n(d,a)),C=P(s,()=>{C.unsubscribe(),h()},()=>{s.complete()});m.subscribe(C)}else h()}else s.error(d)})),l&&(c.unsubscribe(),c=null,u())};u()})}function Bi(e,r){return k(vb(e,r,arguments.length>=2,!0))}function Vu(e){return k((r,t)=>{let n=!1,i=0;r.subscribe(P(t,o=>(n||(n=!e(o,i++)))&&t.next(o)))})}function ha(e){return k((r,t)=>{G(e).subscribe(P(t,()=>t.complete(),xt)),!t.closed&&r.subscribe(t)})}function Sb(e,r){return k((t,n)=>{let{leading:i=!0,trailing:o=!1}=r??{},s=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,o&&(m(),u&&n.complete())},d=()=>{c=null,u&&n.complete()},h=C=>c=G(e(C)).subscribe(P(n,l,d)),m=()=>{if(s){s=!1;let C=a;a=null,n.next(C),!u&&h(C)}};t.subscribe(P(n,C=>{s=!0,a=C,!(c&&!c.closed)&&(i?m():h(C))},()=>{u=!0,!(o&&s&&c&&!c.closed)&&n.complete()}))})}function rL(e,r=Jt,t){let n=Xt(e,r);return Sb(()=>n,t)}function at(...e){let r=ai(e);return k((t,n)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let c=0;c<i;c++)G(e[c]).subscribe(P(n,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(et))&&(s=null))},xt));t.subscribe(P(n,c=>{if(a){let u=[c,...o];n.next(r?r(...u):u)}}))})}function Ib(e,r){return Object.is(e,r)}var ct=null,Hu=!1,zu=1,Nr=Symbol("SIGNAL");function ve(e){let r=ct;return ct=e,r}var Wu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yg(e){if(Hu)throw new Error("");if(ct===null)return;ct.consumerOnSignalRead(e);let r=ct.nextProducerIndex++;if(Bo(ct),r<ct.producerNode.length&&ct.producerNode[r]!==e&&pa(ct)){let t=ct.producerNode[r];qu(t,ct.producerIndexOfThis[r])}ct.producerNode[r]!==e&&(ct.producerNode[r]=e,ct.producerIndexOfThis[r]=pa(ct)?Ab(e,ct,r):0),ct.producerLastReadVersion[r]=e.version}function iL(){zu++}function Db(e){if(!(pa(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===zu)){if(!e.producerMustRecompute(e)&&!Qg(e)){e.dirty=!1,e.lastCleanEpoch=zu;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=zu}}function bb(e){if(e.liveConsumerNode===void 0)return;let r=Hu;Hu=!0;try{for(let t of e.liveConsumerNode)t.dirty||oL(t)}finally{Hu=r}}function wb(){return ct?.consumerAllowSignalWrites!==!1}function oL(e){e.dirty=!0,bb(e),e.consumerMarkedDirty?.(e)}function Kg(e){return e&&(e.nextProducerIndex=0),ve(e)}function Zg(e,r){if(ve(r),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(pa(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)qu(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Qg(e){Bo(e);for(let r=0;r<e.producerNode.length;r++){let t=e.producerNode[r],n=e.producerLastReadVersion[r];if(n!==t.version||(Db(t),n!==t.version))return!0}return!1}function Tb(e){if(Bo(e),pa(e))for(let r=0;r<e.producerNode.length;r++)qu(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ab(e,r,t){if(Rb(e),Bo(e),e.liveConsumerNode.length===0)for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=Ab(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(r)-1}function qu(e,r){if(Rb(e),Bo(e),e.liveConsumerNode.length===1)for(let n=0;n<e.producerNode.length;n++)qu(e.producerNode[n],e.producerIndexOfThis[n]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[r],i=e.liveConsumerNode[r];Bo(i),i.producerIndexOfThis[n]=r}}function pa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Bo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Rb(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Mb(e){let r=Object.create(sL);r.computation=e;let t=()=>{if(Db(r),Yg(r),r.value===Gu)throw r.error;return r.value};return t[Nr]=r,t}var Wg=Symbol("UNSET"),qg=Symbol("COMPUTING"),Gu=Symbol("ERRORED"),sL=w(v({},Wu),{value:Wg,dirty:!0,error:null,equal:Ib,producerMustRecompute(e){return e.value===Wg||e.value===qg},producerRecomputeValue(e){if(e.value===qg)throw new Error("Detected cycle in computations.");let r=e.value;e.value=qg;let t=Kg(e),n;try{n=e.computation()}catch(i){n=Gu,e.error=i}finally{Zg(e,t)}if(r!==Wg&&r!==Gu&&n!==Gu&&e.equal(r,n)){e.value=r;return}e.value=n,e.version++}});function aL(){throw new Error}var _b=aL;function Ob(){_b()}function xb(e){_b=e}var cL=null;function Nb(e){let r=Object.create(Fb);r.value=e;let t=()=>(Yg(r),r.value);return t[Nr]=r,t}function Jg(e,r){wb()||Ob(),e.equal(e.value,r)||(e.value=r,uL(e))}function Pb(e,r){wb()||Ob(),Jg(e,r(e.value))}var Fb=w(v({},Wu),{equal:Ib,value:void 0});function uL(e){e.version++,iL(),bb(e),cL?.()}var Aw="https://g.co/ng/security#xss",B=class extends Error{constructor(r,t){super(Rl(r,t)),this.code=r}};function Rl(e,r){return`${`NG0${Math.abs(e)}`}${r?": "+r:""}`}function Aa(e){return{toString:e}.toString()}var Yu="__parameters__";function lL(e){return function(...t){if(e){let n=e(...t);for(let i in n)this[i]=n[i]}}}function Ev(e,r,t){return Aa(()=>{let n=lL(r);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Yu)?c[Yu]:Object.defineProperty(c,Yu,{value:[]})[Yu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var We=globalThis;function Me(e){for(let r in e)if(e[r]===Me)return r;throw Error("Could not find renamed property on target object.")}function dL(e,r){for(let t in r)r.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function kt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(kt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let r=e.toString();if(r==null)return""+r;let t=r.indexOf(`
`);return t===-1?r:r.substring(0,t)}function pm(e,r){return e==null||e===""?r===null?"":r:r==null||r===""?e:e+" "+r}var fL=Me({__forward_ref__:Me});function Rw(e){return e.__forward_ref__=Rw,e.toString=function(){return kt(this())},e}function Ft(e){return Mw(e)?e():e}function Mw(e){return typeof e=="function"&&e.hasOwnProperty(fL)&&e.__forward_ref__===Rw}function p(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function U(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ml(e){return Lb(e,Ow)||Lb(e,xw)}function _w(e){return Ml(e)!==null}function Lb(e,r){return e.hasOwnProperty(r)?e[r]:null}function hL(e){let r=e&&(e[Ow]||e[xw]);return r||null}function kb(e){return e&&(e.hasOwnProperty(Ub)||e.hasOwnProperty(pL))?e[Ub]:null}var Ow=Me({\u0275prov:Me}),Ub=Me({\u0275inj:Me}),xw=Me({ngInjectableDef:Me}),pL=Me({ngInjectorDef:Me}),S=class{constructor(r,t){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=p({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nw(e){return e&&!!e.\u0275providers}var gL=Me({\u0275cmp:Me}),mL=Me({\u0275dir:Me}),vL=Me({\u0275pipe:Me}),yL=Me({\u0275mod:Me}),al=Me({\u0275fac:Me}),ga=Me({__NG_ELEMENT_ID__:Me}),jb=Me({__NG_ENV_ID__:Me});function Lt(e){return typeof e=="string"?e:e==null?"":String(e)}function EL(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Lt(e)}function CL(e,r){let t=r?`. Dependency path: ${r.join(" > ")} > ${e}`:"";throw new B(-200,e)}function Cv(e,r){throw new B(-201,!1)}var le=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(le||{}),gm;function Pw(){return gm}function Ht(e){let r=gm;return gm=e,r}function Fw(e,r,t){let n=Ml(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(t&le.Optional)return null;if(r!==void 0)return r;Cv(e,"Injector")}var SL={},va=SL,mm="__NG_DI_FLAG__",cl="ngTempTokenPath",IL="ngTokenPath",DL=/\n/gm,bL="\u0275",$b="__source",Wo;function wL(){return Wo}function di(e){let r=Wo;return Wo=e,r}function TL(e,r=le.Default){if(Wo===void 0)throw new B(-203,!1);return Wo===null?Fw(e,void 0,r):Wo.get(e,r&le.Optional?null:void 0,r)}function f(e,r=le.Default){return(Pw()||TL)(Ft(e),r)}function E(e,r=le.Default){return f(e,_l(r))}function _l(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function vm(e){let r=[];for(let t=0;t<e.length;t++){let n=Ft(e[t]);if(Array.isArray(n)){if(n.length===0)throw new B(900,!1);let i,o=le.Default;for(let s=0;s<n.length;s++){let a=n[s],c=AL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}r.push(f(i,o))}else r.push(f(n))}return r}function Sv(e,r){return e[mm]=r,e.prototype[mm]=r,e}function AL(e){return e[mm]}function RL(e,r,t,n){let i=e[cl];throw r[$b]&&i.unshift(r[$b]),e.message=ML(`
`+e.message,i,t,n),e[IL]=i,e[cl]=null,e}function ML(e,r,t,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==bL?e.slice(2):e;let i=kt(r);if(Array.isArray(r))i=r.map(kt).join(" -> ");else if(typeof r=="object"){let o=[];for(let s in r)if(r.hasOwnProperty(s)){let a=r[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):kt(a)))}i=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${i}]: ${e.replace(DL,`
  `)}`}var Iv=Sv(Ev("Inject",e=>({token:e})),-1),gn=Sv(Ev("Optional"),8);var Ol=Sv(Ev("SkipSelf"),4);function Gi(e,r){let t=e.hasOwnProperty(al);return t?e[al]:null}function _L(e,r,t){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=r[n];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function OL(e){return e.flat(Number.POSITIVE_INFINITY)}function Dv(e,r){e.forEach(t=>Array.isArray(t)?Dv(t,r):r(t))}function Lw(e,r,t){r>=e.length?e.push(t):e.splice(r,0,t)}function ul(e,r){return r>=e.length-1?e.pop():e.splice(r,1)[0]}function xL(e,r){let t=[];for(let n=0;n<e;n++)t.push(r);return t}function NL(e,r,t,n){let i=e.length;if(i==r)e.push(t,n);else if(i===1)e.push(n,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>r;){let o=i-2;e[i]=e[o],i--}e[r]=t,e[r+1]=n}}function Ra(e,r,t){let n=Ma(e,r);return n>=0?e[n|1]=t:(n=~n,NL(e,n,r,t)),n}function Xg(e,r){let t=Ma(e,r);if(t>=0)return e[t|1]}function Ma(e,r){return PL(e,r,1)}function PL(e,r,t){let n=0,i=e.length>>t;for(;i!==n;){let o=n+(i-n>>1),s=e[o<<t];if(r===s)return o<<t;s>r?i=o:n=o+1}return~(i<<t)}var Yo={},zt=[],sr=new S(""),kw=new S("",-1),Uw=new S(""),ll=class{get(r,t=va){if(t===va){let n=new Error(`NullInjectorError: No provider for ${kt(r)}!`);throw n.name="NullInjectorError",n}return t}},jw=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(jw||{}),ar=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ar||{}),hn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(hn||{});function FL(e,r,t){let n=e.length;for(;;){let i=e.indexOf(r,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=r.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}t=i+1}}function ym(e,r,t){let n=0;for(;n<t.length;){let i=t[n];if(typeof i=="number"){if(i!==0)break;n++;let o=t[n++],s=t[n++],a=t[n++];e.setAttribute(r,s,a,o)}else{let o=i,s=t[++n];LL(o)?e.setProperty(r,o,s):e.setAttribute(r,o,s),n++}}return n}function $w(e){return e===3||e===4||e===6}function LL(e){return e.charCodeAt(0)===64}function ya(e,r){if(!(r===null||r.length===0))if(e===null||e.length===0)e=r.slice();else{let t=-1;for(let n=0;n<r.length;n++){let i=r[n];typeof i=="number"?t=i:t===0||(t===-1||t===2?Bb(e,t,i,null,r[++n]):Bb(e,t,i,null,null))}}return e}function Bb(e,r,t,n,i){let o=0,s=e.length;if(r===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===r){s=-1;break}else if(a>r){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(n===null){i!==null&&(e[o+1]=i);return}else if(n===e[o+1]){e[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,r),o=s+1),e.splice(o++,0,t),n!==null&&e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}var Bw="ng-template";function kL(e,r,t,n){let i=0;if(n){for(;i<r.length&&typeof r[i]=="string";i+=2)if(r[i]==="class"&&FL(r[i+1].toLowerCase(),t,0)!==-1)return!0}else if(bv(e))return!1;if(i=r.indexOf(1,i),i>-1){let o;for(;++i<r.length&&typeof(o=r[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function bv(e){return e.type===4&&e.value!==Bw}function UL(e,r,t){let n=e.type===4&&!t?Bw:e.value;return r===n}function jL(e,r,t){let n=4,i=e.attrs,o=i!==null?VL(i):0,s=!1;for(let a=0;a<r.length;a++){let c=r[a];if(typeof c=="number"){if(!s&&!On(n)&&!On(c))return!1;if(s&&On(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!UL(e,c,t)||c===""&&r.length===1){if(On(n))return!1;s=!0}}else if(n&8){if(i===null||!kL(e,i,c,t)){if(On(n))return!1;s=!0}}else{let u=r[++a],l=$L(c,i,bv(e),t);if(l===-1){if(On(n))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),n&2&&u!==d){if(On(n))return!1;s=!0}}}}return On(n)||s}function On(e){return(e&1)===0}function $L(e,r,t,n){if(r===null)return-1;let i=0;if(n||!t){let o=!1;for(;i<r.length;){let s=r[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=r[++i];for(;typeof a=="string";)a=r[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HL(r,e)}function Vw(e,r,t=!1){for(let n=0;n<r.length;n++)if(jL(e,r[n],t))return!0;return!1}function BL(e){let r=e.attrs;if(r!=null){let t=r.indexOf(5);if(!(t&1))return r[t+1]}return null}function VL(e){for(let r=0;r<e.length;r++){let t=e[r];if($w(t))return r}return e.length}function HL(e,r){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let n=e[t];if(typeof n=="number")return-1;if(n===r)return t;t++}return-1}function zL(e,r){e:for(let t=0;t<r.length;t++){let n=r[t];if(e.length===n.length){for(let i=0;i<e.length;i++)if(e[i]!==n[i])continue e;return!0}}return!1}function Vb(e,r){return e?":not("+r.trim()+")":r}function GL(e){let r=e[0],t=1,n=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(n&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!On(s)&&(r+=Vb(o,i),i=""),n=s,o=o||!On(n);t++}return i!==""&&(r+=Vb(o,i)),r}function WL(e){return e.map(GL).join(",")}function qL(e){let r=[],t=[],n=1,i=2;for(;n<e.length;){let o=e[n];if(typeof o=="string")i===2?o!==""&&r.push(o,e[++n]):i===8&&t.push(o);else{if(!On(i))break;i=o}n++}return{attrs:r,classes:t}}function Hw(e){return Aa(()=>{let r=Yw(e),t=w(v({},r),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===jw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ar.Emulated,styles:e.styles||zt,_:null,schemas:e.schemas||null,tView:null,id:""});Kw(t);let n=e.dependencies;return t.directiveDefs=zb(n,!1),t.pipeDefs=zb(n,!0),t.id=ZL(t),t})}function YL(e){return hi(e)||zw(e)}function KL(e){return e!==null}function j(e){return Aa(()=>({type:e.type,bootstrap:e.bootstrap||zt,declarations:e.declarations||zt,imports:e.imports||zt,exports:e.exports||zt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Hb(e,r){if(e==null)return Yo;let t={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],o,s,a=hn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),r?(t[o]=a!==hn.None?[n,a]:n,r[o]=s):t[o]=n}return t}function Ut(e){return Aa(()=>{let r=Yw(e);return Kw(r),r})}function Gt(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function hi(e){return e[gL]||null}function zw(e){return e[mL]||null}function Gw(e){return e[vL]||null}function Ww(e){let r=hi(e)||zw(e)||Gw(e);return r!==null?r.standalone:!1}function qw(e,r){let t=e[yL]||null;if(!t&&r===!0)throw new Error(`Type ${kt(e)} does not have '\u0275mod' property.`);return t}function Yw(e){let r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:e.inputs||Yo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||zt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hb(e.inputs,r),outputs:Hb(e.outputs),debugInfo:null}}function Kw(e){e.features?.forEach(r=>r(e))}function zb(e,r){if(!e)return null;let t=r?Gw:YL;return()=>(typeof e=="function"?e():e).map(n=>t(n)).filter(KL)}function ZL(e){let r=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of t)r=Math.imul(31,r)+i.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function ur(e){return{\u0275providers:e}}function QL(...e){return{\u0275providers:Zw(!0,e),\u0275fromNgModule:!0}}function Zw(e,...r){let t=[],n=new Set,i,o=s=>{t.push(s)};return Dv(r,s=>{let a=s;Em(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&Qw(i,o),t}function Qw(e,r){for(let t=0;t<e.length;t++){let{ngModule:n,providers:i}=e[t];wv(i,o=>{r(o,n)})}}function Em(e,r,t,n){if(e=Ft(e),!e)return!1;let i=null,o=kb(e),s=!o&&hi(e);if(!o&&!s){let c=e.ngModule;if(o=kb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Em(u,r,t,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let u;try{Dv(o.imports,l=>{Em(l,r,t,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Qw(u,r)}if(!a){let u=Gi(i)||(()=>new i);r({provide:i,useFactory:u,deps:zt},i),r({provide:Uw,useValue:i,multi:!0},i),r({provide:sr,useValue:()=>f(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;wv(c,l=>{r(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function wv(e,r){for(let t of e)Nw(t)&&(t=t.\u0275providers),Array.isArray(t)?wv(t,r):r(t)}var JL=Me({provide:String,useValue:Me});function Jw(e){return e!==null&&typeof e=="object"&&JL in e}function XL(e){return!!(e&&e.useExisting)}function ek(e){return!!(e&&e.useFactory)}function Ko(e){return typeof e=="function"}function tk(e){return!!e.useClass}var xl=new S(""),tl={},nk={},em;function Tv(){return em===void 0&&(em=new ll),em}var Tt=class{},Ea=class extends Tt{get destroyed(){return this._destroyed}constructor(r,t,n,i){super(),this.parent=t,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sm(r,s=>this.processProvider(s)),this.records.set(kw,Vo(void 0,this)),i.has("environment")&&this.records.set(Tt,Vo(void 0,this));let o=this.records.get(xl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Uw,zt,le.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let r=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();let t=di(this),n=Ht(void 0),i;try{return r()}finally{di(t),Ht(n)}}get(r,t=va,n=le.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(jb))return r[jb](this);n=_l(n);let i,o=di(this),s=Ht(void 0);try{if(!(n&le.SkipSelf)){let c=this.records.get(r);if(c===void 0){let u=ak(r)&&Ml(r);u&&this.injectableDefInScope(u)?c=Vo(Cm(r),tl):c=null,this.records.set(r,c)}if(c!=null)return this.hydrate(r,c)}let a=n&le.Self?Tv():this.parent;return t=n&le.Optional&&t===va?null:t,a.get(r,t)}catch(a){if(a.name==="NullInjectorError"){if((a[cl]=a[cl]||[]).unshift(kt(r)),o)throw a;return RL(a,r,"R3InjectorError",this.source)}else throw a}finally{Ht(s),di(o)}}resolveInjectorInitializers(){let r=ve(null),t=di(this),n=Ht(void 0),i;try{let o=this.get(sr,zt,le.Self);for(let s of o)s()}finally{di(t),Ht(n),ve(r)}}toString(){let r=[],t=this.records;for(let n of t.keys())r.push(kt(n));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(r){r=Ft(r);let t=Ko(r)?r:Ft(r&&r.provide),n=ik(r);if(!Ko(r)&&r.multi===!0){let i=this.records.get(t);i||(i=Vo(void 0,tl,!0),i.factory=()=>vm(i.multi),this.records.set(t,i)),t=r,i.multi.push(r)}this.records.set(t,n)}hydrate(r,t){let n=ve(null);try{return t.value===tl&&(t.value=nk,t.value=t.factory()),typeof t.value=="object"&&t.value&&sk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(n)}}injectableDefInScope(r){if(!r.providedIn)return!1;let t=Ft(r.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(r){let t=this._onDestroyHooks.indexOf(r);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cm(e){let r=Ml(e),t=r!==null?r.factory:Gi(e);if(t!==null)return t;if(e instanceof S)throw new B(204,!1);if(e instanceof Function)return rk(e);throw new B(204,!1)}function rk(e){if(e.length>0)throw new B(204,!1);let t=hL(e);return t!==null?()=>t.factory(e):()=>new e}function ik(e){if(Jw(e))return Vo(void 0,e.useValue);{let r=Xw(e);return Vo(r,tl)}}function Xw(e,r,t){let n;if(Ko(e)){let i=Ft(e);return Gi(i)||Cm(i)}else if(Jw(e))n=()=>Ft(e.useValue);else if(ek(e))n=()=>e.useFactory(...vm(e.deps||[]));else if(XL(e))n=()=>f(Ft(e.useExisting));else{let i=Ft(e&&(e.useClass||e.provide));if(ok(e))n=()=>new i(...vm(e.deps));else return Gi(i)||Cm(i)}return n}function Vo(e,r,t=!1){return{factory:e,value:r,multi:t?[]:void 0}}function ok(e){return!!e.deps}function sk(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ak(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function Sm(e,r){for(let t of e)Array.isArray(t)?Sm(t,r):t&&Nw(t)?Sm(t.\u0275providers,r):r(t)}function kn(e,r){e instanceof Ea&&e.assertNotDestroyed();let t,n=di(e),i=Ht(void 0);try{return r()}finally{di(n),Ht(i)}}function eT(){return Pw()!==void 0||wL()!=null}function _a(e){if(!eT())throw new B(-203,!1)}function ck(e){let r=We.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function uk(e){return typeof e=="function"}var Ur=0,oe=1,Q=2,Et=3,xn=4,tn=5,Ca=6,Sa=7,Nn=8,Zo=9,Pn=10,Oe=11,Ia=12,Gb=13,rs=14,Fn=15,Oa=16,Ho=17,Pr=18,Nl=19,tT=20,fi=21,tm=22,Wi=23,At=25,nT=1;var qi=7,dl=8,Qo=9,en=10,Av=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Av||{});function Hi(e){return Array.isArray(e)&&typeof e[nT]=="object"}function jr(e){return Array.isArray(e)&&e[nT]===!0}function Rv(e){return(e.flags&4)!==0}function Pl(e){return e.componentOffset>-1}function Fl(e){return(e.flags&1)===1}function pi(e){return!!e.template}function lk(e){return(e[Q]&512)!==0}var Im=class{constructor(r,t,n){this.previousValue=r,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}};function rT(e,r,t,n){r!==null?r.applyValueToInputSignal(r,n):e[t]=n}function mi(){return iT}function iT(e){return e.type.prototype.ngOnChanges&&(e.setInput=fk),dk}mi.ngInherit=!0;function dk(){let e=sT(this),r=e?.current;if(r){let t=e.previous;if(t===Yo)e.previous=r;else for(let n in r)t[n]=r[n];e.current=null,this.ngOnChanges(r)}}function fk(e,r,t,n,i){let o=this.declaredInputs[n],s=sT(e)||hk(e,{previous:Yo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Im(u&&u.currentValue,t,c===Yo),rT(e,r,i,t)}var oT="__ngSimpleChanges__";function sT(e){return e[oT]||null}function hk(e,r){return e[oT]=r}var Wb=null;var ir=function(e,r,t){Wb?.(e,r,t)},pk="svg",gk="math",mk=!1;function vk(){return mk}function cr(e){for(;Array.isArray(e);)e=e[Ur];return e}function aT(e,r){return cr(r[e])}function mn(e,r){return cr(r[e.index])}function cT(e,r){return e.data[r]}function xa(e,r){return e[r]}function vi(e,r){let t=r[e];return Hi(t)?t:t[Ur]}function yk(e){return(e[Q]&4)===4}function Mv(e){return(e[Q]&128)===128}function Ek(e){return jr(e[Et])}function Jo(e,r){return r==null?null:e[r]}function uT(e){e[Ho]=0}function Ck(e){e[Q]&1024||(e[Q]|=1024,Mv(e)&&Da(e))}function Sk(e,r){for(;e>0;)r=r[rs],e--;return r}function _v(e){return!!(e[Q]&9216||e[Wi]?.dirty)}function Dm(e){e[Pn].changeDetectionScheduler?.notify(1),_v(e)?Da(e):e[Q]&64&&(vk()?(e[Q]|=1024,Da(e)):e[Pn].changeDetectionScheduler?.notify())}function Da(e){e[Pn].changeDetectionScheduler?.notify();let r=ba(e);for(;r!==null&&!(r[Q]&8192||(r[Q]|=8192,!Mv(r)));)r=ba(r)}function lT(e,r){if((e[Q]&256)===256)throw new B(911,!1);e[fi]===null&&(e[fi]=[]),e[fi].push(r)}function Ik(e,r){if(e[fi]===null)return;let t=e[fi].indexOf(r);t!==-1&&e[fi].splice(t,1)}function ba(e){let r=e[Et];return jr(r)?r[Et]:r}var se={lFrame:vT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dk(){return se.lFrame.elementDepthCount}function bk(){se.lFrame.elementDepthCount++}function wk(){se.lFrame.elementDepthCount--}function dT(){return se.bindingsEnabled}function fT(){return se.skipHydrationRootTNode!==null}function Tk(e){return se.skipHydrationRootTNode===e}function Ak(){se.skipHydrationRootTNode=null}function q(){return se.lFrame.lView}function Pe(){return se.lFrame.tView}function Yoe(e){return se.lFrame.contextLView=e,e[Nn]}function Koe(e){return se.lFrame.contextLView=null,e}function Rt(){let e=hT();for(;e!==null&&e.type===64;)e=e.parent;return e}function hT(){return se.lFrame.currentTNode}function Rk(){let e=se.lFrame,r=e.currentTNode;return e.isParent?r:r.parent}function to(e,r){let t=se.lFrame;t.currentTNode=e,t.isParent=r}function Ov(){return se.lFrame.isParent}function xv(){se.lFrame.isParent=!1}function Mk(){return se.lFrame.contextLView}function vn(){let e=se.lFrame,r=e.bindingRootIndex;return r===-1&&(r=e.bindingRootIndex=e.tView.bindingStartIndex),r}function Nv(){return se.lFrame.bindingIndex}function _k(e){return se.lFrame.bindingIndex=e}function Na(){return se.lFrame.bindingIndex++}function Pa(e){let r=se.lFrame,t=r.bindingIndex;return r.bindingIndex=r.bindingIndex+e,t}function Ok(){return se.lFrame.inI18n}function xk(e,r){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=e,bm(r)}function Nk(){return se.lFrame.currentDirectiveIndex}function bm(e){se.lFrame.currentDirectiveIndex=e}function Pk(e){let r=se.lFrame.currentDirectiveIndex;return r===-1?null:e[r]}function pT(){return se.lFrame.currentQueryIndex}function Pv(e){se.lFrame.currentQueryIndex=e}function Fk(e){let r=e[oe];return r.type===2?r.declTNode:r.type===1?e[tn]:null}function gT(e,r,t){if(t&le.SkipSelf){let i=r,o=e;for(;i=i.parent,i===null&&!(t&le.Host);)if(i=Fk(o),i===null||(o=o[rs],i.type&10))break;if(i===null)return!1;r=i,e=o}let n=se.lFrame=mT();return n.currentTNode=r,n.lView=e,!0}function Fv(e){let r=mT(),t=e[oe];se.lFrame=r,r.currentTNode=t.firstChild,r.lView=e,r.tView=t,r.contextLView=e,r.bindingIndex=t.bindingStartIndex,r.inI18n=!1}function mT(){let e=se.lFrame,r=e===null?null:e.child;return r===null?vT(e):r}function vT(e){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=r),r}function yT(){let e=se.lFrame;return se.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ET=yT;function Lv(){let e=yT();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Lk(e){return(se.lFrame.contextLView=Sk(e,se.lFrame.contextLView))[Nn]}function lr(){return se.lFrame.selectedIndex}function Yi(e){se.lFrame.selectedIndex=e}function no(){let e=se.lFrame;return cT(e.tView,e.selectedIndex)}function kk(){return se.lFrame.currentNamespace}var CT=!0;function Ll(){return CT}function kl(e){CT=e}function Uk(e,r,t){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=r.type.prototype;if(n){let s=iT(r);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Ul(e,r){for(let t=r.directiveStart,n=r.directiveEnd;t<n;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),l!=null&&(e.destroyHooks??=[]).push(t,l)}}function nl(e,r,t){ST(e,r,3,t)}function rl(e,r,t,n){(e[Q]&3)===t&&ST(e,r,t,n)}function nm(e,r){let t=e[Q];(t&3)===r&&(t&=16383,t+=1,e[Q]=t)}function ST(e,r,t,n){let i=n!==void 0?e[Ho]&65535:0,o=n??-1,s=r.length-1,a=0;for(let c=i;c<s;c++)if(typeof r[c+1]=="number"){if(a=r[c],n!=null&&a>=n)break}else r[c]<0&&(e[Ho]+=65536),(a<o||o==-1)&&(jk(e,t,r,c),e[Ho]=(e[Ho]&4294901760)+c+2),c++}function qb(e,r){ir(4,e,r);let t=ve(null);try{r.call(e)}finally{ve(t),ir(5,e,r)}}function jk(e,r,t,n){let i=t[n]<0,o=t[n+1],s=i?-t[n]:t[n],a=e[s];i?e[Q]>>14<e[Ho]>>16&&(e[Q]&3)===r&&(e[Q]+=16384,qb(a,o)):qb(a,o)}var qo=-1,Ki=class{constructor(r,t,n){this.factory=r,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}};function $k(e){return e instanceof Ki}function Bk(e){return(e.flags&8)!==0}function Vk(e){return(e.flags&16)!==0}function IT(e){return e!==qo}function fl(e){return e&32767}function Hk(e){return e>>16}function hl(e,r){let t=Hk(e),n=r;for(;t>0;)n=n[rs],t--;return n}var wm=!0;function pl(e){let r=wm;return wm=e,r}var zk=256,DT=zk-1,bT=5,Gk=0,or={};function Wk(e,r,t){let n;typeof t=="string"?n=t.charCodeAt(0)||0:t.hasOwnProperty(ga)&&(n=t[ga]),n==null&&(n=t[ga]=Gk++);let i=n&DT,o=1<<i;r.data[e+(i>>bT)]|=o}function gl(e,r){let t=wT(e,r);if(t!==-1)return t;let n=r[oe];n.firstCreatePass&&(e.injectorIndex=r.length,rm(n.data,e),rm(r,null),rm(n.blueprint,null));let i=kv(e,r),o=e.injectorIndex;if(IT(i)){let s=fl(i),a=hl(i,r),c=a[oe].data;for(let u=0;u<8;u++)r[o+u]=a[s+u]|c[s+u]}return r[o+8]=i,o}function rm(e,r){e.push(0,0,0,0,0,0,0,0,r)}function wT(e,r){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||r[e.injectorIndex+8]===null?-1:e.injectorIndex}function kv(e,r){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,n=null,i=r;for(;i!==null;){if(n=_T(i),n===null)return qo;if(t++,i=i[rs],n.injectorIndex!==-1)return n.injectorIndex|t<<16}return qo}function Tm(e,r,t){Wk(e,r,t)}function qk(e,r){if(r==="class")return e.classes;if(r==="style")return e.styles;let t=e.attrs;if(t){let n=t.length,i=0;for(;i<n;){let o=t[i];if($w(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof t[i]=="string";)i++;else{if(o===r)return t[i+1];i=i+2}}}return null}function TT(e,r,t){if(t&le.Optional||e!==void 0)return e;Cv(r,"NodeInjector")}function AT(e,r,t,n){if(t&le.Optional&&n===void 0&&(n=null),!(t&(le.Self|le.Host))){let i=e[Zo],o=Ht(void 0);try{return i?i.get(r,n,t&le.Optional):Fw(r,n,t&le.Optional)}finally{Ht(o)}}return TT(n,r,t)}function RT(e,r,t,n=le.Default,i){if(e!==null){if(r[Q]&2048&&!(n&le.Self)){let s=Qk(e,r,t,n,or);if(s!==or)return s}let o=MT(e,r,t,n,or);if(o!==or)return o}return AT(r,t,n,i)}function MT(e,r,t,n,i){let o=Kk(t);if(typeof o=="function"){if(!gT(r,e,n))return n&le.Host?TT(i,t,n):AT(r,t,n,i);try{let s;if(s=o(n),s==null&&!(n&le.Optional))Cv(t);else return s}finally{ET()}}else if(typeof o=="number"){let s=null,a=wT(e,r),c=qo,u=n&le.Host?r[Fn][tn]:null;for((a===-1||n&le.SkipSelf)&&(c=a===-1?kv(e,r):r[a+8],c===qo||!Kb(n,!1)?a=-1:(s=r[oe],a=fl(c),r=hl(c,r)));a!==-1;){let l=r[oe];if(Yb(o,a,l.data)){let d=Yk(a,r,t,s,n,u);if(d!==or)return d}c=r[a+8],c!==qo&&Kb(n,r[oe].data[a+8]===u)&&Yb(o,a,r)?(s=l,a=fl(c),r=hl(c,r)):a=-1}}return i}function Yk(e,r,t,n,i,o){let s=r[oe],a=s.data[e+8],c=n==null?Pl(a)&&wm:n!=s&&(a.type&3)!==0,u=i&le.Host&&o===a,l=il(a,s,t,c,u);return l!==null?Zi(r,s,l,a):or}function il(e,r,t,n,i){let o=e.providerIndexes,s=r.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,d=n?a:a+l,h=i?a+l:u;for(let m=d;m<h;m++){let C=s[m];if(m<c&&t===C||m>=c&&C.type===t)return m}if(i){let m=s[c];if(m&&pi(m)&&m.type===t)return c}return null}function Zi(e,r,t,n){let i=e[t],o=r.data;if($k(i)){let s=i;s.resolving&&CL(EL(o[t]));let a=pl(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Ht(s.injectImpl):null,l=gT(e,n,le.Default);try{i=e[t]=s.factory(void 0,o,e,n),r.firstCreatePass&&t>=n.directiveStart&&Uk(t,o[t],r)}finally{u!==null&&Ht(u),pl(a),s.resolving=!1,ET()}}return i}function Kk(e){if(typeof e=="string")return e.charCodeAt(0)||0;let r=e.hasOwnProperty(ga)?e[ga]:void 0;return typeof r=="number"?r>=0?r&DT:Zk:r}function Yb(e,r,t){let n=1<<e;return!!(t[r+(e>>bT)]&n)}function Kb(e,r){return!(e&le.Self)&&!(e&le.Host&&r)}var zi=class{constructor(r,t){this._tNode=r,this._lView=t}get(r,t,n){return RT(this._tNode,this._lView,r,_l(n),t)}};function Zk(){return new zi(Rt(),q())}function qe(e){return Aa(()=>{let r=e.prototype.constructor,t=r[al]||Am(r),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let o=i[al]||Am(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Am(e){return Mw(e)?()=>{let r=Am(Ft(e));return r&&r()}:Gi(e)}function Qk(e,r,t,n,i){let o=e,s=r;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=MT(o,s,t,n|le.Self,or);if(a!==or)return a;let c=o.parent;if(!c){let u=s[tT];if(u){let l=u.get(t,or,n);if(l!==or)return l}c=_T(s),s=s[rs]}o=c}return i}function _T(e){let r=e[oe],t=r.type;return t===2?r.declTNode:t===1?e[tn]:null}function Uv(e){return qk(Rt(),e)}function Zb(e,r=null,t=null,n){let i=OT(e,r,t,n);return i.resolveInjectorInitializers(),i}function OT(e,r=null,t=null,n,i=new Set){let o=[t||zt,QL(e)];return n=n||(typeof e=="object"?void 0:kt(e)),new Ea(o,r||Tv(),n||null,i)}var Qe=(()=>{class e{static{this.THROW_IF_NOT_FOUND=va}static{this.NULL=new ll}static create(t,n){if(Array.isArray(t))return Zb({name:""},n,t,"");{let i=t.name??"";return Zb({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=p({token:e,providedIn:"any",factory:()=>f(kw)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var Jk="ngOriginalError";function im(e){return e[Jk]}var ut=class{constructor(){this._console=console}handleError(r){let t=this._findOriginalError(r);this._console.error("ERROR",r),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(r){let t=r&&im(r);for(;t&&im(t);)t=im(t);return t||null}},xT=new S("",{providedIn:"root",factory:()=>E(ut).handleError.bind(void 0)}),yi=(()=>{class e{static{this.__NG_ELEMENT_ID__=Xk}static{this.__NG_ENV_ID__=t=>t}}return e})(),Rm=class extends yi{constructor(r){super(),this._lView=r}onDestroy(r){return lT(this._lView,r),()=>Ik(this._lView,r)}};function Xk(){return new Rm(q())}function eU(){return is(Rt(),q())}function is(e,r){return new dr(mn(e,r))}var dr=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=eU}}return e})();function tU(e){return e instanceof dr?e.nativeElement:e}var Mm=class extends ie{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,eT()&&(this.destroyRef=E(yi,{optional:!0})??void 0)}emit(r){let t=ve(null);try{super.next(r)}finally{ve(t)}}subscribe(r,t,n){let i=r,o=t||(()=>null),s=n;if(r&&typeof r=="object"){let c=r;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=om(o),i&&(i=om(i)),s&&(s=om(s)));let a=super.subscribe({next:i,error:o,complete:s});return r instanceof Ee&&r.add(a),a}};function om(e){return r=>{setTimeout(e,void 0,r)}}var yt=Mm;function nU(){return this._results[Symbol.iterator]()}var _m=class e{get changes(){return this._changes??=new yt}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=nU)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,t){return this._results.reduce(r,t)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,t){this.dirty=!1;let n=OL(r);(this._changesDetected=!_L(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function NT(e){return(e.flags&128)===128}var PT=new Map,rU=0;function iU(){return rU++}function oU(e){PT.set(e[Nl],e)}function sU(e){PT.delete(e[Nl])}var Qb="__ngContext__";function gi(e,r){Hi(r)?(e[Qb]=r[Nl],oU(r)):e[Qb]=r}function FT(e){return kT(e[Ia])}function LT(e){return kT(e[xn])}function kT(e){for(;e!==null&&!jr(e);)e=e[xn];return e}var Om;function UT(e){Om=e}function jv(){if(Om!==void 0)return Om;if(typeof document<"u")return document;throw new B(210,!1)}var Fa=new S("",{providedIn:"root",factory:()=>aU}),aU="ng",$v=new S(""),$e=new S("",{providedIn:"platform",factory:()=>"unknown"});var Bv=new S("",{providedIn:"root",factory:()=>jv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function cU(){let e=new La;return E($e)==="browser"&&(e.store=uU(jv(),E(Fa))),e}var La=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=p({token:e,providedIn:"root",factory:cU})}get(t,n){return this.store[t]!==void 0?this.store[t]:n}set(t,n){this.store[t]=n}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,n){this.onSerializeCallbacks[t]=n}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(n){console.warn("Exception in onSerialize callback: ",n)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function uU(e,r){let t=e.getElementById(r+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+r,n)}return{}}var lU="h",dU="b";var fU=()=>null;function Vv(e,r,t=!1){return fU(e,r,t)}var jT=!1,hU=new S("",{providedIn:"root",factory:()=>jT});var Ku;function pU(){if(Ku===void 0&&(Ku=null,We.trustedTypes))try{Ku=We.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ku}function jl(e){return pU()?.createHTML(e)||e}var Zu;function $T(){if(Zu===void 0&&(Zu=null,We.trustedTypes))try{Zu=We.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zu}function Jb(e){return $T()?.createHTML(e)||e}function Xb(e){return $T()?.createScriptURL(e)||e}var Fr=class{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Aw})`}},xm=class extends Fr{getTypeName(){return"HTML"}},Nm=class extends Fr{getTypeName(){return"Style"}},Pm=class extends Fr{getTypeName(){return"Script"}},Fm=class extends Fr{getTypeName(){return"URL"}},Lm=class extends Fr{getTypeName(){return"ResourceURL"}};function Wt(e){return e instanceof Fr?e.changingThisBreaksApplicationSecurity:e}function fr(e,r){let t=gU(e);if(t!=null&&t!==r){if(t==="ResourceURL"&&r==="URL")return!0;throw new Error(`Required a safe ${r}, got a ${t} (see ${Aw})`)}return t===r}function gU(e){return e instanceof Fr&&e.getTypeName()||null}function BT(e){return new xm(e)}function VT(e){return new Nm(e)}function HT(e){return new Pm(e)}function zT(e){return new Fm(e)}function GT(e){return new Lm(e)}function mU(e){let r=new Um(e);return vU()?new km(r):r}var km=class{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{let t=new window.DOMParser().parseFromString(jl(r),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(r):(t.removeChild(t.firstChild),t)}catch{return null}}},Um=class{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){let t=this.inertDocument.createElement("template");return t.innerHTML=jl(r),t}};function vU(){try{return!!new window.DOMParser().parseFromString(jl(""),"text/html")}catch{return!1}}var yU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $l(e){return e=String(e),e.match(yU)?e:"unsafe:"+e}function $r(e){let r={};for(let t of e.split(","))r[t]=!0;return r}function ka(...e){let r={};for(let t of e)for(let n in t)t.hasOwnProperty(n)&&(r[n]=!0);return r}var WT=$r("area,br,col,hr,img,wbr"),qT=$r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YT=$r("rp,rt"),EU=ka(YT,qT),CU=ka(qT,$r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),SU=ka(YT,$r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ew=ka(WT,CU,SU,EU),KT=$r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),IU=$r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),DU=$r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),bU=ka(KT,IU,DU),wU=$r("script,style,template"),jm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let t=r.firstChild,n=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild){i.push(t),t=RU(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=AU(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(r){let t=tw(r).toLowerCase();if(!ew.hasOwnProperty(t))return this.sanitizedSomething=!0,!wU.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let n=r.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!bU.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;KT[a]&&(c=$l(c)),this.buf.push(" ",s,'="',nw(c),'"')}return this.buf.push(">"),!0}endElement(r){let t=tw(r).toLowerCase();ew.hasOwnProperty(t)&&!WT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(r){this.buf.push(nw(r))}};function TU(e,r){return(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function AU(e){let r=e.nextSibling;if(r&&e!==r.previousSibling)throw ZT(r);return r}function RU(e){let r=e.firstChild;if(r&&TU(e,r))throw ZT(r);return r}function tw(e){let r=e.nodeName;return typeof r=="string"?r:"FORM"}function ZT(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var MU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_U=/([^\#-~ |!])/g;function nw(e){return e.replace(/&/g,"&amp;").replace(MU,function(r){let t=r.charCodeAt(0),n=r.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(_U,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Qu;function Hv(e,r){let t=null;try{Qu=Qu||mU(e);let n=r?String(r):"";t=Qu.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=t.innerHTML,t=Qu.getInertBodyElement(n)}while(n!==o);let a=new jm().sanitizeChildren(rw(t)||t);return jl(a)}finally{if(t){let n=rw(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function rw(e){return"content"in e&&OU(e)?e.content:null}function OU(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var yn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(yn||{});function Zoe(e){let r=Bl();return r?Jb(r.sanitize(yn.HTML,e)||""):fr(e,"HTML")?Jb(Wt(e)):Hv(jv(),Lt(e))}function Qoe(e){let r=Bl();return r?r.sanitize(yn.STYLE,e)||"":fr(e,"Style")?Wt(e):Lt(e)}function xU(e){let r=Bl();return r?r.sanitize(yn.URL,e)||"":fr(e,"URL")?Wt(e):$l(Lt(e))}function NU(e){let r=Bl();if(r)return Xb(r.sanitize(yn.RESOURCE_URL,e)||"");if(fr(e,"ResourceURL"))return Xb(Wt(e));throw new B(904,!1)}function PU(e,r){return r==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||r==="href"&&(e==="base"||e==="link")?NU:xU}function QT(e,r,t){return PU(r,t)(e)}function Bl(){let e=q();return e&&e[Pn].sanitizer}var FU=/^>|^->|<!--|-->|--!>|<!-$/g,LU=/(<|>)/g,kU="\u200B$1\u200B";function UU(e){return e.replace(FU,r=>r.replace(LU,kU))}function Joe(e){return e.ownerDocument.defaultView}function Xoe(e){return e.ownerDocument}function JT(e){return e instanceof Function?e():e}function jU(e){return(e??E(Qe)).get($e)==="browser"}var Lr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Lr||{}),$U;function zv(e,r){return $U(e,r)}function zo(e,r,t,n,i){if(n!=null){let o,s=!1;jr(n)?o=n:Hi(n)&&(s=!0,n=n[Ur]);let a=cr(n);e===0&&t!==null?i==null?i0(r,t,a):ml(r,t,a,i||null,!0):e===1&&t!==null?ml(r,t,a,i||null,!0):e===2?nj(r,a,s):e===3&&r.destroyNode(a),o!=null&&ij(r,e,o,t,i)}}function BU(e,r){return e.createText(r)}function VU(e,r,t){e.setValue(r,t)}function HU(e,r){return e.createComment(UU(r))}function XT(e,r,t){return e.createElement(r,t)}function zU(e,r){e0(e,r),r[Ur]=null,r[tn]=null}function GU(e,r,t,n,i,o){n[Ur]=i,n[tn]=r,Hl(e,n,t,1,i,o)}function e0(e,r){r[Pn].changeDetectionScheduler?.notify(1),Hl(e,r,r[Oe],2,null,null)}function WU(e){let r=e[Ia];if(!r)return sm(e[oe],e);for(;r;){let t=null;if(Hi(r))t=r[Ia];else{let n=r[en];n&&(t=n)}if(!t){for(;r&&!r[xn]&&r!==e;)Hi(r)&&sm(r[oe],r),r=r[Et];r===null&&(r=e),Hi(r)&&sm(r[oe],r),t=r&&r[xn]}r=t}}function qU(e,r,t,n){let i=en+n,o=t.length;n>0&&(t[i-1][xn]=r),n<o-en?(r[xn]=t[i],Lw(t,en+n,r)):(t.push(r),r[xn]=null),r[Et]=t;let s=r[Oa];s!==null&&t!==s&&YU(s,r);let a=r[Pr];a!==null&&a.insertView(e),Dm(r),r[Q]|=128}function YU(e,r){let t=e[Qo],i=r[Et][Et][Fn];r[Fn]!==i&&(e[Q]|=Av.HasTransplantedViews),t===null?e[Qo]=[r]:t.push(r)}function t0(e,r){let t=e[Qo],n=t.indexOf(r);t.splice(n,1)}function $m(e,r){if(e.length<=en)return;let t=en+r,n=e[t];if(n){let i=n[Oa];i!==null&&i!==e&&t0(i,n),r>0&&(e[t-1][xn]=n[xn]);let o=ul(e,en+r);zU(n[oe],n);let s=o[Pr];s!==null&&s.detachView(o[oe]),n[Et]=null,n[xn]=null,n[Q]&=-129}return n}function n0(e,r){if(!(r[Q]&256)){let t=r[Oe];t.destroyNode&&Hl(e,r,t,3,null,null),WU(r)}}function sm(e,r){if(r[Q]&256)return;let t=ve(null);try{r[Q]&=-129,r[Q]|=256,r[Wi]&&Tb(r[Wi]),ZU(e,r),KU(e,r),r[oe].type===1&&r[Oe].destroy();let n=r[Oa];if(n!==null&&jr(r[Et])){n!==r[Et]&&t0(n,r);let i=r[Pr];i!==null&&i.detachView(e)}sU(r)}finally{ve(t)}}function KU(e,r){let t=e.cleanup,n=r[Sa];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[t[o+1]];t[o].call(s)}n!==null&&(r[Sa]=null);let i=r[fi];if(i!==null){r[fi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function ZU(e,r){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let n=0;n<t.length;n+=2){let i=r[t[n]];if(!(i instanceof Ki)){let o=t[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,i,o);try{o.call(i)}finally{ir(5,i,o)}}}}}function r0(e,r,t){return QU(e,r.parent,t)}function QU(e,r,t){let n=r;for(;n!==null&&n.type&40;)r=n,n=r.parent;if(n===null)return t[Ur];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=e.data[n.directiveStart+i];if(o===ar.None||o===ar.Emulated)return null}return mn(n,t)}}function ml(e,r,t,n,i){e.insertBefore(r,t,n,i)}function i0(e,r,t){e.appendChild(r,t)}function iw(e,r,t,n,i){n!==null?ml(e,r,t,n,i):i0(e,r,t)}function JU(e,r,t,n){e.removeChild(r,t,n)}function Gv(e,r){return e.parentNode(r)}function XU(e,r){return e.nextSibling(r)}function o0(e,r,t){return tj(e,r,t)}function ej(e,r,t){return e.type&40?mn(e,t):null}var tj=ej,ow;function Vl(e,r,t,n){let i=r0(e,n,r),o=r[Oe],s=n.parent||r[tn],a=o0(s,n,r);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)iw(o,i,t[c],a,!1);else iw(o,i,t,a,!1);ow!==void 0&&ow(o,n,r,t,i)}function ol(e,r){if(r!==null){let t=r.type;if(t&3)return mn(r,e);if(t&4)return Bm(-1,e[r.index]);if(t&8){let n=r.child;if(n!==null)return ol(e,n);{let i=e[r.index];return jr(i)?Bm(-1,i):cr(i)}}else{if(t&32)return zv(r,e)()||cr(e[r.index]);{let n=s0(e,r);if(n!==null){if(Array.isArray(n))return n[0];let i=ba(e[Fn]);return ol(i,n)}else return ol(e,r.next)}}}return null}function s0(e,r){if(r!==null){let n=e[Fn][tn],i=r.projection;return n.projection[i]}return null}function Bm(e,r){let t=en+e+1;if(t<r.length){let n=r[t],i=n[oe].firstChild;if(i!==null)return ol(n,i)}return r[qi]}function nj(e,r,t){let n=Gv(e,r);n&&JU(e,n,r,t)}function Wv(e,r,t,n,i,o,s){for(;t!=null;){let a=n[t.index],c=t.type;if(s&&r===0&&(a&&gi(cr(a),n),t.flags|=2),(t.flags&32)!==32)if(c&8)Wv(e,r,t.child,n,i,o,!1),zo(r,e,i,a,o);else if(c&32){let u=zv(t,n),l;for(;l=u();)zo(r,e,i,l,o);zo(r,e,i,a,o)}else c&16?a0(e,r,n,t,i,o):zo(r,e,i,a,o);t=s?t.projectionNext:t.next}}function Hl(e,r,t,n,i,o){Wv(t,n,e.firstChild,r,i,o,!1)}function rj(e,r,t){let n=r[Oe],i=r0(e,t,r),o=t.parent||r[tn],s=o0(o,t,r);a0(n,0,r,t,i,s)}function a0(e,r,t,n,i,o){let s=t[Fn],c=s[tn].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];zo(r,e,i,l,o)}else{let u=c,l=s[Et];NT(n)&&(u.flags|=128),Wv(e,r,u,l,i,o,!0)}}function ij(e,r,t,n,i){let o=t[qi],s=cr(t);o!==s&&zo(r,e,n,o,i);for(let a=en;a<t.length;a++){let c=t[a];Hl(c[oe],c,e,r,n,o)}}function oj(e,r,t,n,i){if(r)i?e.addClass(t,n):e.removeClass(t,n);else{let o=n.indexOf("-")===-1?void 0:Lr.DashCase;i==null?e.removeStyle(t,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Lr.Important),e.setStyle(t,n,i,o))}}function sj(e,r,t){e.setAttribute(r,"style",t)}function c0(e,r,t){t===""?e.removeAttribute(r,"class"):e.setAttribute(r,"class",t)}function u0(e,r,t){let{mergedAttrs:n,classes:i,styles:o}=t;n!==null&&ym(e,r,n),i!==null&&c0(e,r,i),o!==null&&sj(e,r,o)}var nt={};function ese(e=1){l0(Pe(),q(),lr()+e,!1)}function l0(e,r,t,n){if(!n)if((r[Q]&3)===3){let o=e.preOrderCheckHooks;o!==null&&nl(r,o,t)}else{let o=e.preOrderHooks;o!==null&&rl(r,o,0,t)}Yi(t)}function J(e,r=le.Default){let t=q();if(t===null)return f(e,r);let n=Rt();return RT(n,t,Ft(e),r)}function d0(){let e="invalid";throw new Error(e)}function f0(e,r,t,n,i,o){let s=ve(null);try{let a=null;i&hn.SignalBased&&(a=r[n][Nr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&hn.HasDecoratorInputTransform&&(o=e.inputTransforms[n].call(r,o)),e.setInput!==null?e.setInput(r,a,o,t,n):rT(r,a,n,o)}finally{ve(s)}}function aj(e,r){let t=e.hostBindingOpCodes;if(t!==null)try{for(let n=0;n<t.length;n++){let i=t[n];if(i<0)Yi(~i);else{let o=i,s=t[++n],a=t[++n];xk(s,o);let c=r[o];a(2,c)}}}finally{Yi(-1)}}function zl(e,r,t,n,i,o,s,a,c,u,l){let d=r.blueprint.slice();return d[Ur]=i,d[Q]=n|4|128|8|64,(u!==null||e&&e[Q]&2048)&&(d[Q]|=2048),uT(d),d[Et]=d[rs]=e,d[Nn]=t,d[Pn]=s||e&&e[Pn],d[Oe]=a||e&&e[Oe],d[Zo]=c||e&&e[Zo]||null,d[tn]=o,d[Nl]=iU(),d[Ca]=l,d[tT]=u,d[Fn]=r.type==2?e[Fn]:d,d}function os(e,r,t,n,i){let o=e.data[r];if(o===null)o=cj(e,r,t,n,i),Ok()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=n,o.attrs=i;let s=Rk();o.injectorIndex=s===null?-1:s.injectorIndex}return to(o,!0),o}function cj(e,r,t,n,i){let o=hT(),s=Ov(),a=s?o:o&&o.parent,c=e.data[r]=pj(e,a,t,r,n,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function h0(e,r,t,n){if(t===0)return-1;let i=r.length;for(let o=0;o<t;o++)r.push(n),e.blueprint.push(n),e.data.push(null);return i}function p0(e,r,t,n,i){let o=lr(),s=n&2;try{Yi(-1),s&&r.length>At&&l0(e,r,At,!1),ir(s?2:0,i),t(n,i)}finally{Yi(o),ir(s?3:1,i)}}function qv(e,r,t){if(Rv(r)){let n=ve(null);try{let i=r.directiveStart,o=r.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(n)}}}function Yv(e,r,t){dT()&&(Cj(e,r,t,mn(t,r)),(t.flags&64)===64&&v0(e,r,t))}function Kv(e,r,t=mn){let n=r.localNames;if(n!==null){let i=r.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?t(r,e):e[s];e[i++]=a}}}function g0(e){let r=e.tView;return r===null||r.incompleteFirstPass?e.tView=Zv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):r}function Zv(e,r,t,n,i,o,s,a,c,u,l){let d=At+n,h=d+i,m=uj(d,h),C=typeof u=="function"?u():u;return m[oe]={type:e,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:r,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:l}}function uj(e,r){let t=[];for(let n=0;n<r;n++)t.push(n<e?null:nt);return t}function lj(e,r,t,n){let o=n.get(hU,jT)||t===ar.ShadowDom,s=e.selectRootElement(r,o);return dj(s),s}function dj(e){fj(e)}var fj=()=>null;function hj(e,r,t,n){let i=C0(r);i.push(t),e.firstCreatePass&&S0(e).push(n,i.length-1)}function pj(e,r,t,n,i,o){let s=r?r.injectorIndex:-1,a=0;return fT()&&(a|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sw(e,r,t,n,i){for(let o in r){if(!r.hasOwnProperty(o))continue;let s=r[o];if(s===void 0)continue;n??={};let a,c=hn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}e===0?aw(n,t,u,a,c):aw(n,t,u,a)}return n}function aw(e,r,t,n,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(r,n):o=e[t]=[r,n],i!==void 0&&o.push(i)}function gj(e,r,t){let n=r.directiveStart,i=r.directiveEnd,o=e.data,s=r.attrs,a=[],c=null,u=null;for(let l=n;l<i;l++){let d=o[l],h=t?t.get(d):null,m=h?h.inputs:null,C=h?h.outputs:null;c=sw(0,d.inputs,l,c,m),u=sw(1,d.outputs,l,u,C);let D=c!==null&&s!==null&&!bv(r)?Oj(c,l,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(r.flags|=8),c.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=a,r.inputs=c,r.outputs=u}function mj(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ss(e,r,t,n,i,o,s,a){let c=mn(r,t),u=r.inputs,l;!a&&u!=null&&(l=u[n])?(Jv(e,t,l,n,i),Pl(r)&&vj(t,r.index)):r.type&3?(n=mj(n),i=s!=null?s(i,r.value||"",n):i,o.setProperty(c,n,i)):r.type&12}function vj(e,r){let t=vi(r,e);t[Q]&16||(t[Q]|=64)}function Qv(e,r,t,n){if(dT()){let i=n===null?null:{"":-1},o=Ij(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&m0(e,r,t,s,i,a),i&&Dj(t,n,i)}t.mergedAttrs=ya(t.mergedAttrs,t.attrs)}function m0(e,r,t,n,i,o){for(let u=0;u<n.length;u++)Tm(gl(t,r),e,n[u].type);wj(t,e.data.length,n.length);for(let u=0;u<n.length;u++){let l=n[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=h0(e,r,n.length,null);for(let u=0;u<n.length;u++){let l=n[u];t.mergedAttrs=ya(t.mergedAttrs,l.hostAttrs),Tj(e,t,r,c,l),bj(c,l,i),l.contentQueries!==null&&(t.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(t.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}gj(e,t,o)}function yj(e,r,t,n,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~r.index;Ej(s)!=a&&s.push(a),s.push(t,n,o)}}function Ej(e){let r=e.length;for(;r>0;){let t=e[--r];if(typeof t=="number"&&t<0)return t}return 0}function Cj(e,r,t,n){let i=t.directiveStart,o=t.directiveEnd;Pl(t)&&Aj(r,t,e.data[i+t.componentOffset]),e.firstCreatePass||gl(t,r),gi(n,r);let s=t.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],u=Zi(r,e,a,t);if(gi(u,r),s!==null&&_j(r,a-i,u,c,t,s),pi(c)){let l=vi(t.index,r);l[Nn]=Zi(r,e,a,t)}}}function v0(e,r,t){let n=t.directiveStart,i=t.directiveEnd,o=t.index,s=Nk();try{Yi(o);for(let a=n;a<i;a++){let c=e.data[a],u=r[a];bm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Sj(c,u)}}finally{Yi(-1),bm(s)}}function Sj(e,r){e.hostBindings!==null&&e.hostBindings(1,r)}function Ij(e,r){let t=e.directiveRegistry,n=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(Vw(r,s.selectors,!1))if(n||(n=[]),pi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let c=a.length;Vm(e,r,c)}else n.unshift(s),Vm(e,r,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function Vm(e,r,t){r.componentOffset=t,(e.components??=[]).push(r.index)}function Dj(e,r,t){if(r){let n=e.localNames=[];for(let i=0;i<r.length;i+=2){let o=t[r[i+1]];if(o==null)throw new B(-301,!1);n.push(r[i],o)}}}function bj(e,r,t){if(t){if(r.exportAs)for(let n=0;n<r.exportAs.length;n++)t[r.exportAs[n]]=e;pi(r)&&(t[""]=e)}}function wj(e,r,t){e.flags|=1,e.directiveStart=r,e.directiveEnd=r+t,e.providerIndexes=r}function Tj(e,r,t,n,i){e.data[n]=i;let o=i.factory||(i.factory=Gi(i.type,!0)),s=new Ki(o,pi(i),J);e.blueprint[n]=s,t[n]=s,yj(e,r,n,h0(e,t,i.hostVars,nt),i)}function Aj(e,r,t){let n=mn(r,e),i=g0(t),o=e[Pn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Gl(e,zl(e,i,null,s,n,r,null,o.createRenderer(n,t),null,null,null));e[r.index]=a}function Rj(e,r,t,n,i,o){let s=mn(e,r);Mj(r[Oe],s,o,e.value,t,n,i)}function Mj(e,r,t,n,i,o,s){if(o==null)e.removeAttribute(r,i,t);else{let a=s==null?Lt(o):s(o,n||"",i);e.setAttribute(r,i,a,t)}}function _j(e,r,t,n,i,o){let s=o[r];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];f0(n,t,c,u,l,d)}}function Oj(e,r,t){let n=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){n===null&&(n=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===r){n.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return n}function y0(e,r,t,n){return[e,!0,0,r,null,n,null,t,null,null]}function E0(e,r){let t=e.contentQueries;if(t!==null){let n=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Pv(o),a.contentQueries(2,r[s],s)}}}finally{ve(n)}}}function Gl(e,r){return e[Ia]?e[Gb][xn]=r:e[Ia]=r,e[Gb]=r,r}function Hm(e,r,t){Pv(0);let n=ve(null);try{r(e,t)}finally{ve(n)}}function C0(e){return e[Sa]||(e[Sa]=[])}function S0(e){return e.cleanup||(e.cleanup=[])}function I0(e,r){let t=e[Zo],n=t?t.get(ut,null):null;n&&n.handleError(r)}function Jv(e,r,t,n,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=r[s],l=e.data[s];f0(l,u,n,a,c,i)}}function Wl(e,r,t){let n=aT(r,e);VU(e[Oe],n,t)}function xj(e,r){let t=vi(r,e),n=t[oe];Nj(n,t);let i=t[Ur];i!==null&&t[Ca]===null&&(t[Ca]=Vv(i,t[Zo])),Xv(n,t,t[Nn])}function Nj(e,r){for(let t=r.length;t<e.blueprint.length;t++)r.push(e.blueprint[t])}function Xv(e,r,t){Fv(r);try{let n=e.viewQuery;n!==null&&Hm(1,n,t);let i=e.template;i!==null&&p0(e,r,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),r[Pr]?.finishViewCreation(e),e.staticContentQueries&&E0(e,r),e.staticViewQueries&&Hm(2,e.viewQuery,t);let o=e.components;o!==null&&Pj(r,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{r[Q]&=-5,Lv()}}function Pj(e,r){for(let t=0;t<r.length;t++)xj(e,r[t])}function Fj(e,r,t,n){let i=ve(null);try{let o=r.tView,a=e[Q]&4096?4096:16,c=zl(e,o,t,a,null,r,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=e[r.index];c[Oa]=u;let l=e[Pr];return l!==null&&(c[Pr]=l.createEmbeddedView(o)),Xv(o,c,t),c}finally{ve(i)}}function cw(e,r){return!r||r.firstChild===null||NT(e)}function Lj(e,r,t,n=!0){let i=r[oe];if(qU(i,r,e,t),n){let s=Bm(t,e),a=r[Oe],c=Gv(a,e[qi]);c!==null&&GU(i,e[tn],a,r,c,s)}let o=r[Ca];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vl(e,r,t,n,i=!1){for(;t!==null;){let o=r[t.index];o!==null&&n.push(cr(o)),jr(o)&&kj(o,n);let s=t.type;if(s&8)vl(e,r,t.child,n);else if(s&32){let a=zv(t,r),c;for(;c=a();)n.push(c)}else if(s&16){let a=s0(r,t);if(Array.isArray(a))n.push(...a);else{let c=ba(r[Fn]);vl(c[oe],c,a,n,!0)}}t=i?t.projectionNext:t.next}return n}function kj(e,r){for(let t=en;t<e.length;t++){let n=e[t],i=n[oe].firstChild;i!==null&&vl(n[oe],n,i,r)}e[qi]!==e[Ur]&&r.push(e[qi])}var D0=[];function Uj(e){return e[Wi]??jj(e)}function jj(e){let r=D0.pop()??Object.create(Bj);return r.lView=e,r}function $j(e){e.lView[Wi]!==e&&(e.lView=null,D0.push(e))}var Bj=w(v({},Wu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Da(e.lView)},consumerOnSignalRead(){this.lView[Wi]=this}}),b0=100;function w0(e,r=!0,t=0){let n=e[Pn],i=n.rendererFactory,o=!1;o||i.begin?.();try{Vj(e,t)}catch(s){throw r&&I0(e,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function Vj(e,r){zm(e,r);let t=0;for(;_v(e);){if(t===b0)throw new B(103,!1);t++,zm(e,1)}}function Hj(e,r,t,n){let i=r[Q];if((i&256)===256)return;let o=!1;!o&&r[Pn].inlineEffectRunner?.flush(),Fv(r);let s=null,a=null;!o&&zj(e)&&(a=Uj(r),s=Kg(a));try{uT(r),_k(e.bindingStartIndex),t!==null&&p0(e,r,t,2,n);let c=(i&3)===3;if(!o)if(c){let d=e.preOrderCheckHooks;d!==null&&nl(r,d,null)}else{let d=e.preOrderHooks;d!==null&&rl(r,d,0,null),nm(r,0)}if(Gj(r),T0(r,0),e.contentQueries!==null&&E0(e,r),!o)if(c){let d=e.contentCheckHooks;d!==null&&nl(r,d)}else{let d=e.contentHooks;d!==null&&rl(r,d,1),nm(r,1)}aj(e,r);let u=e.components;u!==null&&R0(r,u,0);let l=e.viewQuery;if(l!==null&&Hm(2,l,n),!o)if(c){let d=e.viewCheckHooks;d!==null&&nl(r,d)}else{let d=e.viewHooks;d!==null&&rl(r,d,2),nm(r,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),r[tm]){for(let d of r[tm])d();r[tm]=null}o||(r[Q]&=-73)}catch(c){throw Da(r),c}finally{a!==null&&(Zg(a,s),$j(a)),Lv()}}function zj(e){return e.type!==2}function T0(e,r){for(let t=FT(e);t!==null;t=LT(t))for(let n=en;n<t.length;n++){let i=t[n];A0(i,r)}}function Gj(e){for(let r=FT(e);r!==null;r=LT(r)){if(!(r[Q]&Av.HasTransplantedViews))continue;let t=r[Qo];for(let n=0;n<t.length;n++){let i=t[n],o=i[Et];Ck(i)}}}function Wj(e,r,t){let n=vi(r,e);A0(n,t)}function A0(e,r){Mv(e)&&zm(e,r)}function zm(e,r){let n=e[oe],i=e[Q],o=e[Wi],s=!!(r===0&&i&16);if(s||=!!(i&64&&r===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qg(o)),o&&(o.dirty=!1),e[Q]&=-9217,s)Hj(n,e,n.template,e[Nn]);else if(i&8192){T0(e,1);let a=n.components;a!==null&&R0(e,a,1)}}function R0(e,r,t){for(let n=0;n<r.length;n++)Wj(e,r[n],t)}function ey(e){for(e[Pn].changeDetectionScheduler?.notify();e;){e[Q]|=64;let r=ba(e);if(lk(e)&&!r)return e;e=r}return null}var Qi=class{get rootNodes(){let r=this._lView,t=r[oe];return vl(t,r,t.firstChild,[])}constructor(r,t,n=!0){this._lView=r,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(r){this._lView[Nn]=r}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[Et];if(jr(r)){let t=r[dl],n=t?t.indexOf(this):-1;n>-1&&($m(r,n),ul(t,n))}this._attachedToViewContainer=!1}n0(this._lView[oe],this._lView)}onDestroy(r){lT(this._lView,r)}markForCheck(){ey(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Dm(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,w0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,e0(this._lView[oe],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=r,Dm(this._lView)}},Ln=(()=>{class e{static{this.__NG_ELEMENT_ID__=Kj}}return e})(),qj=Ln,Yj=class extends qj{constructor(r,t,n){super(),this._declarationLView=r,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,t){return this.createEmbeddedViewImpl(r,t)}createEmbeddedViewImpl(r,t,n){let i=Fj(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:t,dehydratedView:n});return new Qi(i)}};function Kj(){return ql(Rt(),q())}function ql(e,r){return e.type&4?new Yj(r,e,is(e,r)):null}var nse=new RegExp(`^(\\d+)*(${dU}|${lU})*(.*)`);var Zj=()=>null;function uw(e,r){return Zj(e,r)}var yl=class{},Gm=class{},El=class{};function Qj(e){let r=Error(`No component factory found for ${kt(e)}.`);return r[Jj]=e,r}var Jj="ngComponent";var Wm=class{resolveComponentFactory(r){throw Qj(r)}},Yl=(()=>{class e{static{this.NULL=new Wm}}return e})(),Ji=class{},as=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Xj()}}return e})();function Xj(){let e=q(),r=Rt(),t=vi(r.index,e);return(Hi(t)?t:e)[Oe]}var e1=(()=>{class e{static{this.\u0275prov=p({token:e,providedIn:"root",factory:()=>null})}}return e})(),am={};var lw=new Set;function cs(e){lw.has(e)||(lw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function dw(...e){}function t1(){let e=typeof We.requestAnimationFrame=="function",r=We[e?"requestAnimationFrame":"setTimeout"],t=We[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&t){let n=r[Zone.__symbol__("OriginalDelegate")];n&&(r=n);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:t}}var Ce=class e{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&t,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=t1().nativeRequestAnimationFrame,i1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new B(909,!1)}run(r,t,n){return this._inner.run(r,t,n)}runTask(r,t,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,r,n1,dw,dw);try{return o.runTask(s,t,n)}finally{o.cancelTask(s)}}runGuarded(r,t,n){return this._inner.runGuarded(r,t,n)}runOutsideAngular(r){return this._outer.run(r)}},n1={};function ty(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function r1(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(We,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,qm(e),e.isCheckStableRunning=!0,ty(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),qm(e))}function i1(e){let r=()=>{r1(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,o,s,a)=>{if(o1(a))return t.invokeTask(i,o,s,a);try{return fw(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&r(),hw(e)}},onInvoke:(t,n,i,o,s,a,c)=>{try{return fw(e),t.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&r(),hw(e)}},onHasTask:(t,n,i,o)=>{t.hasTask(i,o),n===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,qm(e),ty(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function qm(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function fw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hw(e){e._nesting--,ty(e)}var Ym=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(r,t,n){return r.apply(t,n)}runGuarded(r,t,n){return r.apply(t,n)}runOutsideAngular(r){return r()}runTask(r,t,n,i){return r.apply(t,n)}};function o1(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}function s1(e="zone.js",r){return e==="noop"?new Ym:e==="zone.js"?new Ce(r):e}var Go=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Go||{}),a1={destroy(){}};function Kl(e,r){!r&&_a(Kl);let t=r?.injector??E(Qe);if(!jU(t))return a1;cs("NgAfterNextRender");let n=t.get(ny),i=n.handler??=new Zm,o=r?.phase??Go.MixedReadWrite,s=()=>{i.unregister(c),a()},a=t.get(yi).onDestroy(s),c=kn(t,()=>new Km(o,()=>{s(),e()}));return i.register(c),{destroy:s}}var Km=class{constructor(r,t){this.phase=r,this.callbackFn=t,this.zone=E(Ce),this.errorHandler=E(ut,{optional:!0}),E(yl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}},Zm=class{constructor(){this.executingCallbacks=!1,this.buckets={[Go.EarlyRead]:new Set,[Go.Write]:new Set,[Go.MixedReadWrite]:new Set,[Go.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(let r of Object.values(this.buckets))for(let t of r)t.invoke();this.executingCallbacks=!1;for(let r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(let r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}},ny=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let n of t)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=p({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Cl(e,r,t){let n=t?e.styles:null,i=t?e.classes:null,o=0;if(r!==null)for(let s=0;s<r.length;s++){let a=r[s];if(typeof a=="number")o=a;else if(o==1)i=pm(i,a);else if(o==2){let c=a,u=r[++s];n=pm(n,c+": "+u+";")}}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=i:e.classesWithoutHost=i}var Sl=class extends Yl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let t=hi(r);return new Xo(t,this.ngModule)}};function pw(e){let r=[];for(let t in e){if(!e.hasOwnProperty(t))continue;let n=e[t];n!==void 0&&r.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return r}function c1(e){let r=e.toLowerCase();return r==="svg"?pk:r==="math"?gk:null}var Qm=class{constructor(r,t){this.injector=r,this.parentInjector=t}get(r,t,n){n=_l(n);let i=this.injector.get(r,am,n);return i!==am||t===am?i:this.parentInjector.get(r,t,n)}},Xo=class extends El{get inputs(){let r=this.componentDef,t=r.inputTransforms,n=pw(r.inputs);if(t!==null)for(let i of n)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return n}get outputs(){return pw(this.componentDef.outputs)}constructor(r,t){super(),this.componentDef=r,this.ngModule=t,this.componentType=r.type,this.selector=WL(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!t}create(r,t,n,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Qm(r,s):r,c=a.get(Ji,null);if(c===null)throw new B(407,!1);let u=a.get(e1,null),l=a.get(ny,null),d=a.get(yl,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",D=n?lj(m,n,this.componentDef.encapsulation,a):XT(m,C,c1(C)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let N=null;D!==null&&(N=Vv(D,a,!0));let x=Zv(0,null,null,1,0,null,null,null,null,null,null),Y=zl(null,x,null,A,null,null,h,m,a,null,N);Fv(Y);let Z,X;try{let fe=this.componentDef,Te,He=null;fe.findHostDirectiveDefs?(Te=[],He=new Map,fe.findHostDirectiveDefs(fe,Te,He),Te.push(fe)):Te=[fe];let Ni=u1(Y,D),Yn=l1(Ni,D,fe,Te,Y,h,m);X=cT(x,At),D&&h1(m,fe,D,n),t!==void 0&&p1(X,this.ngContentSelectors,t),Z=f1(Yn,fe,Te,He,Y,[g1]),Xv(x,Y,null)}finally{Lv()}return new Jm(this.componentType,Z,is(X,Y),Y,X)}finally{ve(o)}}},Jm=class extends Gm{constructor(r,t,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Qi(i,void 0,!1),this.componentType=r}setInput(r,t){let n=this._tNode.inputs,i;if(n!==null&&(i=n[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),t))return;let o=this._rootLView;Jv(o[oe],o,i,r,t),this.previousInputValues.set(r,t);let s=vi(this._tNode.index,o);ey(s)}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function u1(e,r){let t=e[oe],n=At;return e[n]=r,os(t,n,2,"#host",null)}function l1(e,r,t,n,i,o,s){let a=i[oe];d1(n,e,r,s);let c=null;r!==null&&(c=Vv(r,i[Zo]));let u=o.rendererFactory.createRenderer(r,t),l=16;t.signals?l=4096:t.onPush&&(l=64);let d=zl(i,g0(t),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&Vm(a,e,n.length-1),Gl(i,d),i[e.index]=d}function d1(e,r,t,n){for(let i of e)r.mergedAttrs=ya(r.mergedAttrs,i.hostAttrs);r.mergedAttrs!==null&&(Cl(r,r.mergedAttrs,!0),t!==null&&u0(n,t,r))}function f1(e,r,t,n,i,o){let s=Rt(),a=i[oe],c=mn(s,i);m0(a,i,s,t,null,n);for(let l=0;l<t.length;l++){let d=s.directiveStart+l,h=Zi(i,a,d,s);gi(h,i)}v0(a,i,s),c&&gi(c,i);let u=Zi(i,a,s.directiveStart+s.componentOffset,s);if(e[Nn]=i[Nn]=u,o!==null)for(let l of o)l(u,r);return qv(a,s,i),u}function h1(e,r,t,n){if(n)ym(e,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=qL(r.selectors[0]);i&&ym(e,t,i),o&&o.length>0&&c0(e,t,o.join(" "))}}function p1(e,r,t){let n=e.projection=[];for(let i=0;i<r.length;i++){let o=t[i];n.push(o!=null?Array.from(o):null)}}function g1(){let e=Rt();Ul(q()[oe],e)}var qt=(()=>{class e{static{this.__NG_ELEMENT_ID__=m1}}return e})();function m1(){let e=Rt();return _0(e,q())}var v1=qt,M0=class extends v1{constructor(r,t,n){super(),this._lContainer=r,this._hostTNode=t,this._hostLView=n}get element(){return is(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){let r=kv(this._hostTNode,this._hostLView);if(IT(r)){let t=hl(r,this._hostLView),n=fl(r),i=t[oe].data[n+8];return new zi(i,t)}else return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let t=gw(this._lContainer);return t!==null&&t[r]||null}get length(){return this._lContainer.length-en}createEmbeddedView(r,t,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=uw(this._lContainer,r.ssrId),a=r.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,cw(this._hostTNode,s)),a}createComponent(r,t,n,i,o){let s=r&&!uk(r),a;if(s)a=t;else{let C=t||{};a=C.index,n=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let c=s?r:new Xo(hi(r)),u=n||this.parentInjector;if(!o&&c.ngModule==null){let D=(s?u:this.parentInjector).get(Tt,null);D&&(o=D)}let l=hi(c.componentType??{}),d=uw(this._lContainer,l?.id??null),h=d?.firstChild??null,m=c.create(u,i,h,o);return this.insertImpl(m.hostView,a,cw(this._hostTNode,d)),m}insert(r,t){return this.insertImpl(r,t,!0)}insertImpl(r,t,n){let i=r._lView;if(Ek(i)){let a=this.indexOf(r);if(a!==-1)this.detach(a);else{let c=i[Et],u=new M0(c,c[tn],c[Et]);u.detach(u.indexOf(r))}}let o=this._adjustIndex(t),s=this._lContainer;return Lj(s,i,o,n),r.attachToViewContainerRef(),Lw(cm(s),o,r),r}move(r,t){return this.insert(r,t)}indexOf(r){let t=gw(this._lContainer);return t!==null?t.indexOf(r):-1}remove(r){let t=this._adjustIndex(r,-1),n=$m(this._lContainer,t);n&&(ul(cm(this._lContainer),t),n0(n[oe],n))}detach(r){let t=this._adjustIndex(r,-1),n=$m(this._lContainer,t);return n&&ul(cm(this._lContainer),t)!=null?new Qi(n):null}_adjustIndex(r,t=0){return r??this.length+t}};function gw(e){return e[dl]}function cm(e){return e[dl]||(e[dl]=[])}function _0(e,r){let t,n=r[e.index];return jr(n)?t=n:(t=y0(n,r,null,e),r[e.index]=t,Gl(r,t)),E1(t,r,e,n),new M0(t,e,r)}function y1(e,r){let t=e[Oe],n=t.createComment(""),i=mn(r,e),o=Gv(t,i);return ml(t,o,n,XU(t,i),!1),n}var E1=I1,C1=()=>!1;function S1(e,r,t){return C1(e,r,t)}function I1(e,r,t,n){if(e[qi])return;let i;t.type&8?i=cr(n):i=y1(r,t),e[qi]=i}var Xm=class e{constructor(r){this.queryList=r,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},ev=class e{constructor(r=[]){this.queries=r}createEmbeddedView(r){let t=r.queries;if(t!==null){let n=r.contentQueries!==null?r.contentQueries[0]:t.length,i=[];for(let o=0;o<n;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let t=0;t<this.queries.length;t++)ry(r,t).matches!==null&&this.queries[t].setDirty()}},Il=class{constructor(r,t,n=null){this.flags=t,this.read=n,typeof r=="string"?this.predicate=_1(r):this.predicate=r}},tv=class e{constructor(r=[]){this.queries=r}elementStart(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(r,t)}elementEnd(r){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(r)}embeddedTView(r){let t=null;for(let n=0;n<this.length;n++){let i=t!==null?t.length:0,o=this.getByIndex(n).embeddedTView(r,i);o&&(o.indexInDeclarationView=n,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(r,t)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}},nv=class e{constructor(r,t=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(r,t){this.isApplyingToNode(t)&&this.matchTNode(r,t)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,t){this.elementStart(r,t)}embeddedTView(r,t){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,t),new e(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,n=r.parent;for(;n!==null&&n.type&8&&n.index!==t;)n=n.parent;return t===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(r,t){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(r,t,D1(t,o)),this.matchTNodeWithReadOption(r,t,il(t,r,o,!1,!1))}else n===Ln?t.type&4&&this.matchTNodeWithReadOption(r,t,-1):this.matchTNodeWithReadOption(r,t,il(t,r,n,!1,!1))}matchTNodeWithReadOption(r,t,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===dr||i===qt||i===Ln&&t.type&4)this.addMatch(t.index,-2);else{let o=il(t,r,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(r,t){this.matches===null?this.matches=[r,t]:this.matches.push(r,t)}};function D1(e,r){let t=e.localNames;if(t!==null){for(let n=0;n<t.length;n+=2)if(t[n]===r)return t[n+1]}return null}function b1(e,r){return e.type&11?is(e,r):e.type&4?ql(e,r):null}function w1(e,r,t,n){return t===-1?b1(r,e):t===-2?T1(e,r,n):Zi(e,e[oe],t,r)}function T1(e,r,t){if(t===dr)return is(r,e);if(t===Ln)return ql(r,e);if(t===qt)return _0(r,e)}function O0(e,r,t,n){let i=r[Pr].queries[n];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(w1(r,l,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function rv(e,r,t,n){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=O0(e,r,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)n.push(s[a/2]);else{let u=o[a+1],l=r[-c];for(let d=en;d<l.length;d++){let h=l[d];h[Oa]===h[Et]&&rv(h[oe],h,u,n)}if(l[Qo]!==null){let d=l[Qo];for(let h=0;h<d.length;h++){let m=d[h];rv(m[oe],m,u,n)}}}}}return n}function A1(e,r){return e[Pr].queries[r].queryList}function x0(e,r,t){let n=new _m((t&4)===4);return hj(e,r,n,n.destroy),(r[Pr]??=new ev).queries.push(new Xm(n))-1}function R1(e,r,t){let n=Pe();return n.firstCreatePass&&(N0(n,new Il(e,r,t),-1),(r&2)===2&&(n.staticViewQueries=!0)),x0(n,q(),r)}function M1(e,r,t,n){let i=Pe();if(i.firstCreatePass){let o=Rt();N0(i,new Il(r,t,n),o.index),O1(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return x0(i,q(),t)}function _1(e){return e.split(",").map(r=>r.trim())}function N0(e,r,t){e.queries===null&&(e.queries=new tv),e.queries.track(new nv(r,t))}function O1(e,r){let t=e.contentQueries||(e.contentQueries=[]),n=t.length?t[t.length-1]:-1;r!==n&&t.push(e.queries.length-1,r)}function ry(e,r){return e.queries.getByIndex(r)}function x1(e,r){let t=e[oe],n=ry(t,r);return n.crossesNgTemplate?rv(t,e,r,[]):O0(t,e,n,r)}function N1(e){return typeof e=="function"&&e[Nr]!==void 0}function iy(e,r){cs("NgSignals");let t=Nb(e),n=t[Nr];return r?.equal&&(n.equal=r.equal),t.set=i=>Jg(n,i),t.update=i=>Pb(n,i),t.asReadonly=P1.bind(t),t}function P1(){let e=this[Nr];if(e.readonlyFn===void 0){let r=()=>this();r[Nr]=e,e.readonlyFn=r}return e.readonlyFn}function P0(e){return N1(e)&&typeof e.set=="function"}function F1(e){let r=[],t=new Map;function n(i){let o=t.get(i);if(!o){let s=e(i);t.set(i,o=s.then(j1))}return o}return Dl.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(n(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(n(d).then(m=>{a[u+h]=m,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(n(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>$1(o));r.push(c)}),k1(),Promise.all(r).then(()=>{})}var Dl=new Map,L1=new Set;function k1(){let e=Dl;return Dl=new Map,e}function U1(){return Dl.size===0}function j1(e){return typeof e=="string"?e:e.text()}function $1(e){L1.delete(e)}function B1(e){return Object.getPrototypeOf(e.prototype).constructor}function V1(e){let r=B1(e.type),t=!0,n=[e];for(;r;){let i;if(pi(e))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new B(903,!1);i=r.\u0275dir}if(i){if(t){n.push(i);let s=e;s.inputs=Ju(e.inputs),s.inputTransforms=Ju(e.inputTransforms),s.declaredInputs=Ju(e.declaredInputs),s.outputs=Ju(e.outputs);let a=i.hostBindings;a&&q1(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&G1(e,c),u&&W1(e,u),H1(e,i),dL(e.outputs,i.outputs),pi(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===V1&&(t=!1)}}r=Object.getPrototypeOf(r)}z1(n)}function H1(e,r){for(let t in r.inputs){if(!r.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let n=r.inputs[t];if(n!==void 0&&(e.inputs[t]=n,e.declaredInputs[t]=r.declaredInputs[t],r.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!r.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=r.inputTransforms[i]}}}function z1(e){let r=0,t=null;for(let n=e.length-1;n>=0;n--){let i=e[n];i.hostVars=r+=i.hostVars,i.hostAttrs=ya(i.hostAttrs,t=ya(t,i.hostAttrs))}}function Ju(e){return e===Yo?{}:e===zt?[]:e}function G1(e,r){let t=e.viewQuery;t?e.viewQuery=(n,i)=>{r(n,i),t(n,i)}:e.viewQuery=r}function W1(e,r){let t=e.contentQueries;t?e.contentQueries=(n,i,o)=>{r(n,i,o),t(n,i,o)}:e.contentQueries=r}function q1(e,r){let t=e.hostBindings;t?e.hostBindings=(n,i)=>{r(n,i),t(n,i)}:e.hostBindings=r}function oy(e){let r=e.inputConfig,t={};for(let n in r)if(r.hasOwnProperty(n)){let i=r[n];Array.isArray(i)&&i[3]&&(t[n]=i[3])}e.inputTransforms=t}var kr=class{},Xi=class{};function F0(e,r){return new wa(e,r??null,[])}var wa=class extends kr{constructor(r,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sl(this);let i=qw(r);this._bootstrapComponents=JT(i.bootstrap),this._r3Injector=OT(r,t,[{provide:kr,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver},...n],kt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},bl=class extends Xi{constructor(r){super(),this.moduleType=r}create(r){return new wa(this.moduleType,r,[])}};function Y1(e,r,t){return new wa(e,r,t)}var iv=class extends kr{constructor(r){super(),this.componentFactoryResolver=new Sl(this),this.instance=null;let t=new Ea([...r.providers,{provide:kr,useValue:this},{provide:Yl,useValue:this.componentFactoryResolver}],r.parent||Tv(),r.debugName,new Set(["environment"]));this.injector=t,r.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function Zl(e,r,t=null){return new iv({providers:e,parent:r,debugName:t,runEnvironmentInitializers:!0}).injector}var ro=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function L0(e){return sy(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function K1(e,r){if(Array.isArray(e))for(let t=0;t<e.length;t++)r(e[t]);else{let t=e[Symbol.iterator](),n;for(;!(n=t.next()).done;)r(n.value)}}function sy(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ei(e,r,t){return e[r]=t}function Ql(e,r){return e[r]}function pn(e,r,t){let n=e[r];return Object.is(n,t)?!1:(e[r]=t,!0)}function es(e,r,t,n){let i=pn(e,r,t);return pn(e,r+1,n)||i}function ay(e,r,t,n,i){let o=es(e,r,t,n);return pn(e,r+2,i)||o}function Ua(e,r,t,n,i,o){let s=es(e,r,t,n);return es(e,r+2,i,o)||s}function Z1(e){return(e.flags&32)===32}function Q1(e,r,t,n,i,o,s,a,c){let u=r.consts,l=os(r,e,4,s||null,Jo(u,a));Qv(r,t,l,Jo(u,c)),Ul(r,l);let d=l.tView=Zv(2,l,n,i,o,r.directiveRegistry,r.pipeRegistry,null,r.schemas,u,null);return r.queries!==null&&(r.queries.template(r,l),d.queries=r.queries.embeddedTView(l)),l}function J1(e,r,t,n,i,o,s,a){let c=q(),u=Pe(),l=e+At,d=u.firstCreatePass?Q1(l,u,c,r,t,n,i,o,s):u.data[l];to(d,!1);let h=X1(u,c,d,e);Ll()&&Vl(u,c,h,d),gi(h,c);let m=y0(h,c,h,d);return c[l]=m,Gl(c,m),S1(m,d,c),Fl(d)&&Yv(u,c,d),s!=null&&Kv(c,d,a),J1}var X1=e$;function e$(e,r,t,n){return kl(!0),r[Oe].createComment("")}function cy(e,r,t,n){let i=q(),o=Na();if(pn(i,o,r)){let s=Pe(),a=no();Rj(a,i,e,r,t,n)}return cy}function uy(e,r,t,n){return pn(e,Na(),t)?r+Lt(t)+n:nt}function k0(e,r,t,n,i,o){let s=Nv(),a=es(e,s,t,i);return Pa(2),a?r+Lt(t)+n+Lt(i)+o:nt}function U0(e,r,t,n,i,o,s,a){let c=Nv(),u=ay(e,c,t,i,s);return Pa(3),u?r+Lt(t)+n+Lt(i)+o+Lt(s)+a:nt}function t$(e,r,t,n,i,o,s,a,c,u){let l=Nv(),d=Ua(e,l,t,i,s,c);return Pa(4),d?r+Lt(t)+n+Lt(i)+o+Lt(s)+a+Lt(c)+u:nt}function Xu(e,r){return e<<17|r<<2}function eo(e){return e>>17&32767}function n$(e){return(e&2)==2}function r$(e,r){return e&131071|r<<17}function ov(e){return e|2}function ts(e){return(e&131068)>>2}function um(e,r){return e&-131069|r<<2}function i$(e){return(e&1)===1}function sv(e){return e|1}function o$(e,r,t,n,i,o){let s=o?r.classBindings:r.styleBindings,a=eo(s),c=ts(s);e[n]=t;let u=!1,l;if(Array.isArray(t)){let d=t;l=d[1],(l===null||Ma(d,l)>0)&&(u=!0)}else l=t;if(i)if(c!==0){let h=eo(e[a+1]);e[n+1]=Xu(h,a),h!==0&&(e[h+1]=um(e[h+1],n)),e[a+1]=r$(e[a+1],n)}else e[n+1]=Xu(a,0),a!==0&&(e[a+1]=um(e[a+1],n)),a=n;else e[n+1]=Xu(c,0),a===0?a=n:e[c+1]=um(e[c+1],n),c=n;u&&(e[n+1]=ov(e[n+1])),mw(e,l,n,!0),mw(e,l,n,!1),s$(r,l,e,n,o),s=Xu(a,c),o?r.classBindings=s:r.styleBindings=s}function s$(e,r,t,n,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof r=="string"&&Ma(o,r)>=0&&(t[n+1]=sv(t[n+1]))}function mw(e,r,t,n){let i=e[t+1],o=r===null,s=n?eo(i):ts(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];a$(c,r)&&(a=!0,e[s+1]=n?sv(u):ov(u)),s=n?eo(u):ts(u)}a&&(e[t+1]=n?ov(i):sv(i))}function a$(e,r){return e===null||r==null||(Array.isArray(e)?e[1]:e)===r?!0:Array.isArray(e)&&typeof r=="string"?Ma(e,r)>=0:!1}var tt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function j0(e){return e.substring(tt.key,tt.keyEnd)}function c$(e){return e.substring(tt.value,tt.valueEnd)}function u$(e){return V0(e),$0(e,ns(e,0,tt.textEnd))}function $0(e,r){let t=tt.textEnd;return t===r?-1:(r=tt.keyEnd=d$(e,tt.key=r,t),ns(e,r,t))}function l$(e){return V0(e),B0(e,ns(e,0,tt.textEnd))}function B0(e,r){let t=tt.textEnd,n=tt.key=ns(e,r,t);return t===n?-1:(n=tt.keyEnd=f$(e,n,t),n=vw(e,n,t,58),n=tt.value=ns(e,n,t),n=tt.valueEnd=h$(e,n,t),vw(e,n,t,59))}function V0(e){tt.key=0,tt.keyEnd=0,tt.value=0,tt.valueEnd=0,tt.textEnd=e.length}function ns(e,r,t){for(;r<t&&e.charCodeAt(r)<=32;)r++;return r}function d$(e,r,t){for(;r<t&&e.charCodeAt(r)>32;)r++;return r}function f$(e,r,t){let n;for(;r<t&&((n=e.charCodeAt(r))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)r++;return r}function vw(e,r,t,n){return r=ns(e,r,t),r<t&&r++,r}function h$(e,r,t){let n=-1,i=-1,o=-1,s=r,a=s;for(;s<t;){let c=e.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=yw(e,c,s,t):r===s-4&&o===85&&i===82&&n===76&&c===40?a=s=yw(e,41,s,t):c>32&&(a=s),o=i,i=n,n=c&-33}return a}function yw(e,r,t,n){let i=-1,o=t;for(;o<n;){let s=e.charCodeAt(o++);if(s==r&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function p$(e,r,t){let n=q(),i=Na();if(pn(n,i,r)){let o=Pe(),s=no();ss(o,s,n,e,r,n[Oe],t,!1)}return p$}function av(e,r,t,n,i){let o=r.inputs,s=i?"class":"style";Jv(e,t,o[s],s,n)}function H0(e,r,t){return G0(e,r,t,!1),H0}function g$(e,r){return G0(e,r,null,!0),g$}function ise(e){ly(Y0,m$,e,!1)}function m$(e,r){for(let t=l$(r);t>=0;t=B0(r,t))Y0(e,j0(r),c$(r))}function ose(e){ly(I$,z0,e,!0)}function z0(e,r){for(let t=u$(r);t>=0;t=$0(r,t))Ra(e,j0(r),!0)}function G0(e,r,t,n){let i=q(),o=Pe(),s=Pa(2);if(o.firstUpdatePass&&q0(o,e,s,n),r!==nt&&pn(i,s,r)){let a=o.data[lr()];K0(o,a,i,i[Oe],e,i[s+1]=b$(r,t),n,s)}}function ly(e,r,t,n){let i=Pe(),o=Pa(2);i.firstUpdatePass&&q0(i,null,o,n);let s=q();if(t!==nt&&pn(s,o,t)){let a=i.data[lr()];if(Z0(a,n)&&!W0(i,o)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=pm(c,t||"")),av(i,a,s,t,n)}else D$(i,a,s,s[Oe],s[o+1],s[o+1]=S$(e,r,t),n,o)}}function W0(e,r){return r>=e.expandoStartIndex}function q0(e,r,t,n){let i=e.data;if(i[t+1]===null){let o=i[lr()],s=W0(e,t);Z0(o,n)&&r===null&&!s&&(r=!1),r=v$(i,o,r,n),o$(i,o,r,t,s,n)}}function v$(e,r,t,n){let i=Pk(e),o=n?r.residualClasses:r.residualStyles;if(i===null)(n?r.classBindings:r.styleBindings)===0&&(t=lm(null,e,r,t,n),t=Ta(t,r.attrs,n),o=null);else{let s=r.directiveStylingLast;if(s===-1||e[s]!==i)if(t=lm(i,e,r,t,n),o===null){let c=y$(e,r,n);c!==void 0&&Array.isArray(c)&&(c=lm(null,e,r,c[1],n),c=Ta(c,r.attrs,n),E$(e,r,n,c))}else o=C$(e,r,n)}return o!==void 0&&(n?r.residualClasses=o:r.residualStyles=o),t}function y$(e,r,t){let n=t?r.classBindings:r.styleBindings;if(ts(n)!==0)return e[eo(n)]}function E$(e,r,t,n){let i=t?r.classBindings:r.styleBindings;e[eo(i)]=n}function C$(e,r,t){let n,i=r.directiveEnd;for(let o=1+r.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;n=Ta(n,s,t)}return Ta(n,r.attrs,t)}function lm(e,r,t,n,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=r[a],n=Ta(n,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),n}function Ta(e,r,t){let n=t?1:2,i=-1;if(r!==null)for(let o=0;o<r.length;o++){let s=r[o];typeof s=="number"?i=s:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ra(e,s,t?!0:r[++o]))}return e===void 0?null:e}function S$(e,r,t){if(t==null||t==="")return zt;let n=[],i=Wt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(n,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(n,o,i[o]);else typeof i=="string"&&r(n,i);return n}function Y0(e,r,t){Ra(e,r,Wt(t))}function I$(e,r,t){let n=String(r);n!==""&&!n.includes(" ")&&Ra(e,n,t)}function D$(e,r,t,n,i,o,s,a){i===nt&&(i=zt);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,C=null,D;l===d?(c+=2,u+=2,h!==m&&(C=d,D=m)):d===null||l!==null&&l<d?(c+=2,C=l):(u+=2,C=d,D=m),C!==null&&K0(e,r,t,n,C,D,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}function K0(e,r,t,n,i,o,s,a){if(!(r.type&3))return;let c=e.data,u=c[a+1],l=i$(u)?Ew(c,r,t,i,ts(u),s):void 0;if(!wl(l)){wl(o)||n$(u)&&(o=Ew(c,null,t,i,a,s));let d=aT(lr(),t);oj(n,s,d,i,o)}}function Ew(e,r,t,n,i,o){let s=r===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=t[i+1];h===nt&&(h=d?zt:void 0);let m=d?Xg(h,n):l===n?h:void 0;if(u&&!wl(m)&&(m=Xg(c,n)),wl(m)&&(a=m,s))return a;let C=e[i+1];i=s?eo(C):ts(C)}if(r!==null){let c=o?r.residualClasses:r.residualStyles;c!=null&&(a=Xg(c,n))}return a}function wl(e){return e!==void 0}function b$(e,r){return e==null||e===""||(typeof r=="string"?e=e+r:typeof e=="object"&&(e=kt(Wt(e)))),e}function Z0(e,r){return(e.flags&(r?8:16))!==0}function sse(e,r,t){let n=q(),i=uy(n,e,r,t);ly(Ra,z0,i,!0)}function w$(e,r,t,n,i,o){let s=r.consts,a=Jo(s,i),c=os(r,e,2,n,a);return Qv(r,t,c,Jo(s,o)),c.attrs!==null&&Cl(c,c.attrs,!1),c.mergedAttrs!==null&&Cl(c,c.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,c),c}function Q0(e,r,t,n){let i=q(),o=Pe(),s=At+e,a=i[Oe],c=o.firstCreatePass?w$(s,o,i,r,t,n):o.data[s],u=T$(o,i,c,a,r,e);i[s]=u;let l=Fl(c);return to(c,!0),u0(a,u,c),!Z1(c)&&Ll()&&Vl(o,i,u,c),Dk()===0&&gi(u,i),bk(),l&&(Yv(o,i,c),qv(o,c,i)),n!==null&&Kv(i,c),Q0}function J0(){let e=Rt();Ov()?xv():(e=e.parent,to(e,!1));let r=e;Tk(r)&&Ak(),wk();let t=Pe();return t.firstCreatePass&&(Ul(t,e),Rv(e)&&t.queries.elementEnd(e)),r.classesWithoutHost!=null&&Bk(r)&&av(t,r,q(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&Vk(r)&&av(t,r,q(),r.stylesWithoutHost,!1),J0}function dy(e,r,t,n){return Q0(e,r,t,n),J0(),dy}var T$=(e,r,t,n,i,o)=>(kl(!0),XT(n,i,kk()));function A$(e,r,t,n,i){let o=r.consts,s=Jo(o,n),a=os(r,e,8,"ng-container",s);s!==null&&Cl(a,s,!0);let c=Jo(o,i);return Qv(r,t,a,c),r.queries!==null&&r.queries.elementStart(r,a),a}function X0(e,r,t){let n=q(),i=Pe(),o=e+At,s=i.firstCreatePass?A$(o,i,n,r,t):i.data[o];to(s,!0);let a=M$(i,n,s,e);return n[o]=a,Ll()&&Vl(i,n,a,s),gi(a,n),Fl(s)&&(Yv(i,n,s),qv(i,s,n)),t!=null&&Kv(n,s),X0}function eA(){let e=Rt(),r=Pe();return Ov()?xv():(e=e.parent,to(e,!1)),r.firstCreatePass&&(Ul(r,e),Rv(e)&&r.queries.elementEnd(e)),eA}function R$(e,r,t){return X0(e,r,t),eA(),R$}var M$=(e,r,t,n)=>(kl(!0),HU(r[Oe],""));function ase(){return q()}function _$(e,r,t){let n=q(),i=Na();if(pn(n,i,r)){let o=Pe(),s=no();ss(o,s,n,e,r,n[Oe],t,!0)}return _$}var Vi=void 0;function O$(e){let r=e,t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var x$=["en",[["a","p"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vi,"{1} 'at' {0}",Vi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",O$],dm={};function Yt(e){let r=N$(e),t=Cw(r);if(t)return t;let n=r.split("-")[0];if(t=Cw(n),t)return t;if(n==="en")return x$;throw new B(701,!1)}function Cw(e){return e in dm||(dm[e]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[e]),dm[e]}var Be=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Be||{});function N$(e){return e.toLowerCase().replace(/_/g,"-")}var Tl="en-US";var P$=Tl;function F$(e){typeof e=="string"&&(P$=e.toLowerCase().replace(/_/g,"-"))}function fy(e,r,t,n){let i=q(),o=Pe(),s=Rt();return tA(o,i,i[Oe],s,e,r,n),fy}function L$(e,r,t,n){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===n){let a=r[Sa],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function tA(e,r,t,n,i,o,s){let a=Fl(n),u=e.firstCreatePass&&S0(e),l=r[Nn],d=C0(r),h=!0;if(n.type&3||s){let D=mn(n,r),A=s?s(D):D,N=d.length,x=s?Z=>s(cr(Z[n.index])):n.index,Y=null;if(!s&&a&&(Y=L$(e,r,i,n.index)),Y!==null){let Z=Y.__ngLastListenerFn__||Y;Z.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,h=!1}else{o=Iw(n,r,l,o,!1);let Z=t.listen(A,i,o);d.push(o,Z),u&&u.push(i,x,N,N+1)}}else o=Iw(n,r,l,o,!1);let m=n.outputs,C;if(h&&m!==null&&(C=m[i])){let D=C.length;if(D)for(let A=0;A<D;A+=2){let N=C[A],x=C[A+1],X=r[N][x].subscribe(o),fe=d.length;d.push(o,X),u&&u.push(i,n.index,fe,-(fe+1))}}}function Sw(e,r,t,n){let i=ve(null);try{return ir(6,r,t),t(n)!==!1}catch(o){return I0(e,o),!1}finally{ir(7,r,t),ve(i)}}function Iw(e,r,t,n,i){return function o(s){if(s===Function)return n;let a=e.componentOffset>-1?vi(e.index,r):r;ey(a);let c=Sw(r,t,n,s),u=o.__ngNextListenerFn__;for(;u;)c=Sw(r,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function cse(e=1){return Lk(e)}function k$(e,r){let t=null,n=BL(e);for(let i=0;i<r.length;i++){let o=r[i];if(o==="*"){t=i;continue}if(n===null?Vw(e,o,!0):zL(n,o))return i}return t}function use(e){let r=q()[Fn][tn];if(!r.projection){let t=e?e.length:1,n=r.projection=xL(t,null),i=n.slice(),o=r.child;for(;o!==null;){let s=e?k$(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function lse(e,r=0,t){let n=q(),i=Pe(),o=os(i,At+e,16,null,t||null);o.projection===null&&(o.projection=r),xv(),(!n[Ca]||fT())&&(o.flags&32)!==32&&rj(i,n,o)}function U$(e,r,t){return nA(e,"",r,"",t),U$}function nA(e,r,t,n,i){let o=q(),s=uy(o,r,t,n);if(s!==nt){let a=Pe(),c=no();ss(a,c,o,e,s,o[Oe],i,!1)}return nA}function j$(e,r,t,n,i,o,s){let a=q(),c=k0(a,r,t,n,i,o);if(c!==nt){let u=Pe(),l=no();ss(u,l,a,e,c,a[Oe],s,!1)}return j$}function $$(e,r,t,n,i,o,s,a,c){let u=q(),l=U0(u,r,t,n,i,o,s,a);if(l!==nt){let d=Pe(),h=no();ss(d,h,u,e,l,u[Oe],c,!1)}return $$}function rA(e,r,t,n){M1(e,r,t,n)}function dse(e,r,t){R1(e,r,t)}function iA(e){let r=q(),t=Pe(),n=pT();Pv(n+1);let i=ry(t,n);if(e.dirty&&yk(r)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=x1(r,n);e.reset(o,tU),e.notifyOnChanges()}return!0}return!1}function oA(){return A1(q(),pT())}function B$(e,r,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),r[t]=n}function fse(e){let r=Mk();return xa(r,At+e)}function hse(e,r=""){let t=q(),n=Pe(),i=e+At,o=n.firstCreatePass?os(n,i,1,r,null):n.data[i],s=V$(n,t,o,r,e);t[i]=s,Ll()&&Vl(n,t,s,o),to(o,!1)}var V$=(e,r,t,n,i)=>(kl(!0),BU(r[Oe],n));function H$(e){return sA("",e,""),H$}function sA(e,r,t){let n=q(),i=uy(n,e,r,t);return i!==nt&&Wl(n,lr(),i),sA}function z$(e,r,t,n,i){let o=q(),s=k0(o,e,r,t,n,i);return s!==nt&&Wl(o,lr(),s),z$}function G$(e,r,t,n,i,o,s){let a=q(),c=U0(a,e,r,t,n,i,o,s);return c!==nt&&Wl(a,lr(),c),G$}function W$(e,r,t,n,i,o,s,a,c){let u=q(),l=t$(u,e,r,t,n,i,o,s,a,c);return l!==nt&&Wl(u,lr(),l),W$}function q$(e,r,t){P0(r)&&(r=r());let n=q(),i=Na();if(pn(n,i,r)){let o=Pe(),s=no();ss(o,s,n,e,r,n[Oe],t,!1)}return q$}function pse(e,r){let t=P0(e);return t&&e.set(r),t}function Y$(e,r){let t=q(),n=Pe(),i=Rt();return tA(n,t,t[Oe],i,e,r),Y$}function K$(e,r,t){let n=Pe();if(n.firstCreatePass){let i=pi(e);cv(t,n.data,n.blueprint,i,!0),cv(r,n.data,n.blueprint,i,!1)}}function cv(e,r,t,n,i){if(e=Ft(e),Array.isArray(e))for(let o=0;o<e.length;o++)cv(e[o],r,t,n,i);else{let o=Pe(),s=q(),a=Rt(),c=Ko(e)?e:Ft(e.provide),u=Xw(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ko(e)||!e.multi){let m=new Ki(u,i,J),C=hm(c,r,i?l:l+h,d);C===-1?(Tm(gl(a,s),o,c),fm(o,e,r.length),r.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[C]=m,s[C]=m)}else{let m=hm(c,r,l+h,d),C=hm(c,r,l,l+h),D=m>=0&&t[m],A=C>=0&&t[C];if(i&&!A||!i&&!D){Tm(gl(a,s),o,c);let N=J$(i?Q$:Z$,t.length,i,n,u);!i&&A&&(t[C].providerFactory=N),fm(o,e,r.length,0),r.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else{let N=aA(t[i?C:m],u,!i&&n);fm(o,e,m>-1?m:C,N)}!i&&n&&A&&t[C].componentProviders++}}}function fm(e,r,t,n){let i=Ko(r),o=tk(r);if(i||o){let c=(o?Ft(r.useClass):r).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&r.multi){let l=u.indexOf(t);l===-1?u.push(t,[n,c]):u[l+1].push(n,c)}else u.push(t,c)}}}function aA(e,r,t){return t&&e.componentProviders++,e.multi.push(r)-1}function hm(e,r,t,n){for(let i=t;i<n;i++)if(r[i]===e)return i;return-1}function Z$(e,r,t,n){return uv(this.multi,[])}function Q$(e,r,t,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zi(t,t[oe],this.providerFactory.index,n);o=a.slice(0,s),uv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],uv(i,o);return o}function uv(e,r){for(let t=0;t<e.length;t++){let n=e[t];r.push(n())}return r}function J$(e,r,t,n,i){let o=new Ki(e,t,J);return o.multi=[],o.index=r,o.componentProviders=0,aA(o,i,n&&!t),o}function gse(e,r=[]){return t=>{t.providersResolver=(n,i)=>K$(n,i?i(e):e,r)}}var X$=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let n=Zw(!1,t.type),i=n.length>0?Zl([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=p({token:e,providedIn:"environment",factory:()=>new e(f(Tt))})}}return e})();function cA(e){cs("NgStandalone"),e.getStandaloneInjector=r=>r.get(X$).getOrCreateStandaloneInjector(e)}function mse(e,r,t){let n=vn()+e,i=q();return i[n]===nt?Ei(i,n,t?r.call(t):r()):Ql(i,n)}function vse(e,r,t,n){return uA(q(),vn(),e,r,t,n)}function yse(e,r,t,n,i){return lA(q(),vn(),e,r,t,n,i)}function Ese(e,r,t,n,i,o){return dA(q(),vn(),e,r,t,n,i,o)}function Cse(e,r,t,n,i,o,s){return fA(q(),vn(),e,r,t,n,i,o,s)}function Sse(e,r,t,n,i,o,s,a){let c=vn()+e,u=q(),l=Ua(u,c,t,n,i,o);return pn(u,c+4,s)||l?Ei(u,c+5,a?r.call(a,t,n,i,o,s):r(t,n,i,o,s)):Ql(u,c+5)}function Ise(e,r,t,n,i,o,s,a,c){let u=vn()+e,l=q(),d=Ua(l,u,t,n,i,o);return es(l,u+4,s,a)||d?Ei(l,u+6,c?r.call(c,t,n,i,o,s,a):r(t,n,i,o,s,a)):Ql(l,u+6)}function Dse(e,r,t,n,i,o,s,a,c,u){let l=vn()+e,d=q(),h=Ua(d,l,t,n,i,o);return ay(d,l+4,s,a,c)||h?Ei(d,l+7,u?r.call(u,t,n,i,o,s,a,c):r(t,n,i,o,s,a,c)):Ql(d,l+7)}function Jl(e,r){let t=e[r];return t===nt?void 0:t}function uA(e,r,t,n,i,o){let s=r+t;return pn(e,s,i)?Ei(e,s+1,o?n.call(o,i):n(i)):Jl(e,s+1)}function lA(e,r,t,n,i,o,s){let a=r+t;return es(e,a,i,o)?Ei(e,a+2,s?n.call(s,i,o):n(i,o)):Jl(e,a+2)}function dA(e,r,t,n,i,o,s,a){let c=r+t;return ay(e,c,i,o,s)?Ei(e,c+3,a?n.call(a,i,o,s):n(i,o,s)):Jl(e,c+3)}function fA(e,r,t,n,i,o,s,a,c){let u=r+t;return Ua(e,u,i,o,s,a)?Ei(e,u+4,c?n.call(c,i,o,s,a):n(i,o,s,a)):Jl(e,u+4)}function bse(e,r){let t=Pe(),n,i=e+At;t.firstCreatePass?(n=eB(r,t.pipeRegistry),t.data[i]=n,n.onDestroy&&(t.destroyHooks??=[]).push(i,n.onDestroy)):n=t.data[i];let o=n.factory||(n.factory=Gi(n.type,!0)),s,a=Ht(J);try{let c=pl(!1),u=o();return pl(c),B$(t,q(),i,u),u}finally{Ht(a)}}function eB(e,r){if(r)for(let t=r.length-1;t>=0;t--){let n=r[t];if(e===n.name)return n}}function wse(e,r,t){let n=e+At,i=q(),o=xa(i,n);return Xl(i,n)?uA(i,vn(),r,o.transform,t,o):o.transform(t)}function Tse(e,r,t,n){let i=e+At,o=q(),s=xa(o,i);return Xl(o,i)?lA(o,vn(),r,s.transform,t,n,s):s.transform(t,n)}function Ase(e,r,t,n,i){let o=e+At,s=q(),a=xa(s,o);return Xl(s,o)?dA(s,vn(),r,a.transform,t,n,i,a):a.transform(t,n,i)}function Rse(e,r,t,n,i,o){let s=e+At,a=q(),c=xa(a,s);return Xl(a,s)?fA(a,vn(),r,c.transform,t,n,i,o,c):c.transform(t,n,i,o)}function Xl(e,r){return e[oe].data[r].pure}function Mse(e,r){return ql(e,r)}var el=null;function tB(e){el!==null&&(e.defaultEncapsulation!==el.defaultEncapsulation||e.preserveWhitespaces!==el.preserveWhitespaces)||(el=e)}var ed=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var hy=new S(""),ja=new S(""),td=(()=>{class e{constructor(t,n,i){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,py||(nB(i),i.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>n.updateCb&&n.updateCb(t)?(clearTimeout(n.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,i){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},n)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,n,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,i){return[]}static{this.\u0275fac=function(n){return new(n||e)(f(Ce),f(nd),f(ja))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),nd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return py?.findTestabilityInTree(this,t,n)??null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function nB(e){py=e}var py;function us(e){return!!e&&typeof e.then=="function"}function gy(e){return!!e&&typeof e.subscribe=="function"}var Ct=new S(""),hA=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=E(Ct,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(us(o))t.push(o);else if(gy(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(i=>{this.reject(i)}),t.length===0&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ls=new S("");function rB(){xb(()=>{throw new B(600,!1)})}function iB(e){return e.isBoundToModule}function oB(e,r,t){try{let n=t();return us(n)?n.catch(i=>{throw r.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw r.runOutsideAngular(()=>e.handleError(n)),n}}function pA(e,r){return Array.isArray(r)?r.reduce(pA,e):v(v({},e),r)}var io=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(xT),this.afterRenderEffectManager=E(ny),this.externalTestViews=new Set,this.beforeRender=new ie,this.afterTick=new ie,this.componentTypes=[],this.components=[],this.isStable=E(ro).hasPendingTasks.pipe(y(t=>!t)),this._injector=E(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){let i=t instanceof El;if(!this._injector.get(hA).done){let h=!i&&Ww(t),m=!1;throw new B(405,m)}let s;i?s=t:s=this._injector.get(Yl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=iB(s)?void 0:this._injector.get(kr),c=n||s.selector,u=s.create(Qe.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(hy,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),sl(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new B(101,!1);let n=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,ve(n)}}detectChangesInAttachedViews(t){let n=0,i=this.afterRenderEffectManager;for(;;){if(n===b0)throw new B(103,!1);if(t){let o=n===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)sB(s,o,a)}if(n++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>lv(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>lv(o))))break}}attachView(t){let n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){let n=t;sl(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let n=this._injector.get(ls,[]);[...this._bootstrapListeners,...n].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sl(e,r){let t=e.indexOf(r);t>-1&&e.splice(t,1)}function sB(e,r,t){!r&&!lv(e)||aB(e,t,r)}function lv(e){return _v(e)}function aB(e,r,t){let n;t?(n=0,e[Q]|=1024):e[Q]&64?n=0:n=1,w0(e,r,n)}var dv=class{constructor(r,t){this.ngModuleFactory=r,this.componentFactories=t}},ds=(()=>{class e{compileModuleSync(t){return new bl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let n=this.compileModuleSync(t),i=qw(t),o=JT(i.declarations).reduce((s,a)=>{let c=hi(a);return c&&s.push(new Xo(c)),s},[]);return new dv(n,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cB=new S("");function uB(e,r,t){let n=new bl(t);return Promise.resolve(n)}function Dw(e){for(let r=e.length-1;r>=0;r--)if(e[r]!==void 0)return e[r]}var lB=(()=>{class e{constructor(){this.zone=E(Ce),this.applicationRef=E(io)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dB(e){return[{provide:Ce,useFactory:e},{provide:sr,multi:!0,useFactory:()=>{let r=E(lB,{optional:!0});return()=>r.initialize()}},{provide:sr,multi:!0,useFactory:()=>{let r=E(pB);return()=>{r.initialize()}}},{provide:xT,useFactory:fB}]}function fB(){let e=E(Ce),r=E(ut);return t=>e.runOutsideAngular(()=>r.handleError(t))}function hB(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var pB=(()=>{class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=E(Ce),this.pendingTasks=E(ro)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function gB(){return typeof $localize<"u"&&$localize.locale||Tl}var $a=new S("",{providedIn:"root",factory:()=>E($a,le.Optional|le.SkipSelf)||gB()});var gA=new S(""),mA=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){let i=s1(n?.ngZone,hB({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return i.run(()=>{let o=Y1(t.moduleType,this.injector,dB(()=>i)),s=o.injector.get(ut,null);return i.runOutsideAngular(()=>{let a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{sl(this._modules,o),a.unsubscribe()})}),oB(s,i,()=>{let a=o.injector.get(hA);return a.runInitializers(),a.donePromise.then(()=>{let c=o.injector.get($a,Tl);return F$(c||Tl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,n=[]){let i=pA({},n);return uB(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){let n=t.injector.get(io);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());let t=this._injector.get(gA,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(n){return new(n||e)(f(Qe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ma=null,vA=new S("");function mB(e){if(ma&&!ma.get(vA,!1))throw new B(400,!1);rB(),ma=e;let r=e.get(mA);return EB(e),r}function my(e,r,t=[]){let n=`Platform: ${r}`,i=new S(n);return(o=[])=>{let s=yA();if(!s||s.injector.get(vA,!1)){let a=[...t,...o,{provide:i,useValue:!0}];e?e(a):mB(vB(a,n))}return yB(i)}}function vB(e=[],r){return Qe.create({name:r,providers:[{provide:xl,useValue:"platform"},{provide:gA,useValue:new Set([()=>ma=null])},...e]})}function yB(e){let r=yA();if(!r)throw new B(401,!1);return r}function yA(){return ma?.get(mA)??null}function EB(e){e.get($v,null)?.forEach(t=>t())}function pe(){return!1}var Br=(()=>{class e{static{this.__NG_ELEMENT_ID__=CB}}return e})();function CB(e){return SB(Rt(),q(),(e&16)===16)}function SB(e,r,t){if(Pl(e)&&!t){let n=vi(e.index,r);return new Qi(n,n)}else if(e.type&47){let n=r[Fn];return new Qi(n,r)}return null}var fv=class{constructor(){}supports(r){return L0(r)}create(r){return new hv(r)}},IB=(e,r)=>r,hv=class{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||IB}forEachItem(r){let t;for(t=this._itHead;t!==null;t=t._next)r(t)}forEachOperation(r){let t=this._itHead,n=this._removalsHead,i=0,o=null;for(;t||n;){let s=!n||t&&t.currentIndex<bw(n,i,o)?t:n,a=bw(s,i,o),c=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let m=h<o.length?o[h]:o[h]=0,C=m+h;l<=C&&C<u&&(o[h]=m+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&r(s,a,c)}}forEachPreviousItem(r){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t)}forEachMovedItem(r){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t)}forEachIdentityChange(r){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)r(t)}diff(r){if(r==null&&(r=[]),!L0(r))throw new B(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._itHead,n=!1,i,o,s;if(Array.isArray(r)){this.length=r.length;for(let a=0;a<this.length;a++)o=r[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),n=!0):(n&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,K1(r,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),n=!0):(n&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=r,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;r!==null;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;r!==null;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,t,n,i){let o;return r===null?o=this._itTail:(o=r._prev,this._remove(r)),r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._reinsertAfter(r,o,i)):(r=this._linkedRecords===null?null:this._linkedRecords.get(n,i),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._moveAfter(r,o,i)):r=this._addAfter(new pv(t,n),o,i)),r}_verifyReinsertion(r,t,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?r=this._reinsertAfter(o,r._prev,i):r.currentIndex!=i&&(r.currentIndex=i,this._addToMoves(r,i)),r}_truncate(r){for(;r!==null;){let t=r._next;this._addToRemovals(this._unlink(r)),r=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,t,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(r);let i=r._prevRemoved,o=r._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(r,t,n),this._addToMoves(r,n),r}_moveAfter(r,t,n){return this._unlink(r),this._insertAfter(r,t,n),this._addToMoves(r,n),r}_addAfter(r,t,n){return this._insertAfter(r,t,n),this._additionsTail===null?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,t,n){let i=t===null?this._itHead:t._next;return r._next=i,r._prev=t,i===null?this._itTail=r:i._prev=r,t===null?this._itHead=r:t._next=r,this._linkedRecords===null&&(this._linkedRecords=new Al),this._linkedRecords.put(r),r.currentIndex=n,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){this._linkedRecords!==null&&this._linkedRecords.remove(r);let t=r._prev,n=r._next;return t===null?this._itHead=n:t._next=n,n===null?this._itTail=t:n._prev=t,r}_addToMoves(r,t){return r.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Al),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,t){return r.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}},pv=class{constructor(r,t){this.item=r,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gv=class{constructor(){this._head=null,this._tail=null}add(r){this._head===null?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,t){let n;for(n=this._head;n!==null;n=n._nextDup)if((t===null||t<=n.currentIndex)&&Object.is(n.trackById,r))return n;return null}remove(r){let t=r._prevDup,n=r._nextDup;return t===null?this._head=n:t._nextDup=n,n===null?this._tail=t:n._prevDup=t,this._head===null}},Al=class{constructor(){this.map=new Map}put(r){let t=r.trackById,n=this.map.get(t);n||(n=new gv,this.map.set(t,n)),n.add(r)}get(r,t){let n=r,i=this.map.get(n);return i?i.get(r,t):null}remove(r){let t=r.trackById;return this.map.get(t).remove(r)&&this.map.delete(t),r}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bw(e,r,t){let n=e.previousIndex;if(n===null)return n;let i=0;return t&&n<t.length&&(i=t[n]),n+r+i}var mv=class{constructor(){}supports(r){return r instanceof Map||sy(r)}create(){return new vv}},vv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(r){let t;for(t=this._mapHead;t!==null;t=t._next)r(t)}forEachPreviousItem(r){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)r(t)}forEachChangedItem(r){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t)}diff(r){if(!r)r=new Map;else if(!(r instanceof Map||sy(r)))throw new B(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(r,(n,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,t){if(r){let n=r._prev;return t._next=r,t._prev=n,r._prev=t,n&&(n._next=t),r===this._mapHead&&(this._mapHead=t),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(r,t){if(this._records.has(r)){let i=this._records.get(r);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new yv(r);return this._records.set(r,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;r!==null;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;r!=null;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,t){Object.is(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,this._addToChanges(r))}_addToAdditions(r){this._additionsHead===null?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){this._changesHead===null?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,t){r instanceof Map?r.forEach(t):Object.keys(r).forEach(n=>t(r[n],n))}},yv=class{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ww(){return new vy([new fv])}var vy=(()=>{class e{static{this.\u0275prov=p({token:e,providedIn:"root",factory:ww})}constructor(t){this.factories=t}static create(t,n){if(n!=null){let i=n.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ww()),deps:[[e,new Ol,new gn]]}}find(t){let n=this.factories.find(i=>i.supports(t));if(n!=null)return n;throw new B(901,!1)}}return e})();function Tw(){return new yy([new mv])}var yy=(()=>{class e{static{this.\u0275prov=p({token:e,providedIn:"root",factory:Tw})}constructor(t){this.factories=t}static create(t,n){if(n){let i=n.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Tw()),deps:[[e,new Ol,new gn]]}}find(t){let n=this.factories.find(i=>i.supports(t));if(n)return n;throw new B(901,!1)}}return e})();var EA=my(null,"core",[]),CA=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(io))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function Ba(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function rd(e,r){cs("NgSignals");let t=Mb(e);return r?.equal&&(t[Nr].equal=r.equal),t}function id(e){let r=ve(null);try{return e()}finally{ve(r)}}function SA(e){let r=hi(e);if(!r)return null;let t=new Xo(r);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}var NA=null;function Ci(){return NA}function PA(e){NA??=e}var hd=class{};var Le=new S(""),Oy=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>E(DB),providedIn:"platform"})}}return e})(),vd=new S(""),DB=(()=>{class e extends Oy{constructor(){super(),this._doc=E(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ci().getBaseHref(this._doc)}onPopState(t){let n=Ci().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){let n=Ci().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,i){this._history.pushState(t,n,i)}replaceState(t,n,i){this._history.replaceState(t,n,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function xy(e,r){if(e.length==0)return r;if(r.length==0)return e;let t=0;return e.endsWith("/")&&t++,r.startsWith("/")&&t++,t==2?e+r.substring(1):t==1?e+r:e+"/"+r}function IA(e){let r=e.match(/#|\?|$/),t=r&&r.index||e.length,n=t-(e[t-1]==="/"?1:0);return e.slice(0,n)+e.slice(t)}function zr(e){return e&&e[0]!=="?"?"?"+e:e}var Wr=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>E(Ny),providedIn:"root"})}}return e})(),FA=new S(""),Ny=(()=>{class e extends Wr{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??E(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xy(this._baseHref,t)}path(t=!1){let n=this._platformLocation.pathname+zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${n}${i}`:n}pushState(t,n,i,o){let s=this.prepareExternalUrl(i+zr(o));this._platformLocation.pushState(t,n,s)}replaceState(t,n,i,o){let s=this.prepareExternalUrl(i+zr(o));this._platformLocation.replaceState(t,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Oy),f(FA,8))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LA=(()=>{class e extends Wr{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){let n=xy(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,i,o){let s=this.prepareExternalUrl(i+zr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,n,s)}replaceState(t,n,i,o){let s=this.prepareExternalUrl(i+zr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Oy),f(FA,8))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),pr=(()=>{class e{constructor(t){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let n=this._locationStrategy.getBaseHref();this._basePath=TB(IA(DA(n))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+zr(n))}normalize(t){return e.stripTrailingSlash(wB(this._basePath,DA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",i=null){this._locationStrategy.pushState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zr(n)),i)}replaceState(t,n="",i=null){this._locationStrategy.replaceState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+zr(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(i=>i(t,n))}subscribe(t,n,i){return this._subject.subscribe({next:t,error:n,complete:i})}static{this.normalizeQueryParams=zr}static{this.joinWithSlash=xy}static{this.stripTrailingSlash=IA}static{this.\u0275fac=function(n){return new(n||e)(f(Wr))}}static{this.\u0275prov=p({token:e,factory:()=>bB(),providedIn:"root"})}}return e})();function bB(){return new pr(f(Wr))}function wB(e,r){if(!e||!r.startsWith(e))return r;let t=r.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:r}function DA(e){return e.replace(/\/index.html$/,"")}function TB(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var kA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Py=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Py||{});var jt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(jt||{}),_e=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(_e||{}),nn=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(nn||{}),Mt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yd(e){return Yt(e)[Be.LocaleId]}function AB(e,r,t){let n=Yt(e),i=[n[Be.DayPeriodsFormat],n[Be.DayPeriodsStandalone]],o=En(i,r);return En(o,t)}function RB(e,r,t){let n=Yt(e),i=[n[Be.DaysFormat],n[Be.DaysStandalone]],o=En(i,r);return En(o,t)}function MB(e,r,t){let n=Yt(e),i=[n[Be.MonthsFormat],n[Be.MonthsStandalone]],o=En(i,r);return En(o,t)}function _B(e,r){let n=Yt(e)[Be.Eras];return En(n,r)}function od(e,r){let t=Yt(e);return En(t[Be.DateFormat],r)}function sd(e,r){let t=Yt(e);return En(t[Be.TimeFormat],r)}function ad(e,r){let n=Yt(e)[Be.DateTimeFormat];return En(n,r)}function hr(e,r){let t=Yt(e),n=t[Be.NumberSymbols][r];if(typeof n>"u"){if(r===Mt.CurrencyDecimal)return t[Be.NumberSymbols][Mt.Decimal];if(r===Mt.CurrencyGroup)return t[Be.NumberSymbols][Mt.Group]}return n}function UA(e,r){return Yt(e)[Be.NumberFormats][r]}function OB(e){return Yt(e)[Be.Currencies]}function jA(e){if(!e[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xB(e){let r=Yt(e);return jA(r),(r[Be.ExtraData][2]||[]).map(n=>typeof n=="string"?Ey(n):[Ey(n[0]),Ey(n[1])])}function NB(e,r,t){let n=Yt(e);jA(n);let i=[n[Be.ExtraData][0],n[Be.ExtraData][1]],o=En(i,r)||[];return En(o,t)||[]}function En(e,r){for(let t=r;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Ey(e){let[r,t]=e.split(":");return{hours:+r,minutes:+t}}function Yse(e,r,t="en"){let n=OB(t)[e]||kA[e]||[],i=n[1];return r==="narrow"&&typeof i=="string"?i:n[0]||e}var PB=2;function FB(e){let r,t=kA[e];return t&&(r=t[2]),typeof r=="number"?r:PB}var LB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cd={},kB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Gr=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Gr||{}),Ie=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Ie||{}),Se=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Se||{});function UB(e,r,t,n){let i=qB(e);r=Hr(t,r)||r;let s=[],a;for(;r;)if(a=kB.exec(r),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;r=l}else{s.push(r);break}let c=i.getTimezoneOffset();n&&(c=BA(n,c),i=WB(i,n,!0));let u="";return s.forEach(l=>{let d=zB(l);u+=d?d(i,t,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function pd(e,r,t){let n=new Date(0);return n.setFullYear(e,r,t),n.setHours(0,0,0),n}function Hr(e,r){let t=yd(e);if(cd[t]??={},cd[t][r])return cd[t][r];let n="";switch(r){case"shortDate":n=od(e,nn.Short);break;case"mediumDate":n=od(e,nn.Medium);break;case"longDate":n=od(e,nn.Long);break;case"fullDate":n=od(e,nn.Full);break;case"shortTime":n=sd(e,nn.Short);break;case"mediumTime":n=sd(e,nn.Medium);break;case"longTime":n=sd(e,nn.Long);break;case"fullTime":n=sd(e,nn.Full);break;case"short":let i=Hr(e,"shortTime"),o=Hr(e,"shortDate");n=ud(ad(e,nn.Short),[i,o]);break;case"medium":let s=Hr(e,"mediumTime"),a=Hr(e,"mediumDate");n=ud(ad(e,nn.Medium),[s,a]);break;case"long":let c=Hr(e,"longTime"),u=Hr(e,"longDate");n=ud(ad(e,nn.Long),[c,u]);break;case"full":let l=Hr(e,"fullTime"),d=Hr(e,"fullDate");n=ud(ad(e,nn.Full),[l,d]);break}return n&&(cd[t][r]=n),n}function ud(e,r){return r&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return r!=null&&n in r?r[n]:t})),e}function Un(e,r,t="-",n,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<r;)s="0"+s;return n&&(s=s.slice(s.length-r)),o+s}function jB(e,r){return Un(e,3).substring(0,r)}function Je(e,r,t=0,n=!1,i=!1){return function(o,s){let a=$B(e,o);if((t>0||a>-t)&&(a+=t),e===Ie.Hours)a===0&&t===-12&&(a=12);else if(e===Ie.FractionalSeconds)return jB(a,r);let c=hr(s,Mt.MinusSign);return Un(a,r,c,n,i)}}function $B(e,r){switch(e){case Ie.FullYear:return r.getFullYear();case Ie.Month:return r.getMonth();case Ie.Date:return r.getDate();case Ie.Hours:return r.getHours();case Ie.Minutes:return r.getMinutes();case Ie.Seconds:return r.getSeconds();case Ie.FractionalSeconds:return r.getMilliseconds();case Ie.Day:return r.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function xe(e,r,t=jt.Format,n=!1){return function(i,o){return BB(i,o,e,r,t,n)}}function BB(e,r,t,n,i,o){switch(t){case Se.Months:return MB(r,i,n)[e.getMonth()];case Se.Days:return RB(r,i,n)[e.getDay()];case Se.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let u=xB(r),l=NB(r,i,n),d=u.findIndex(h=>{if(Array.isArray(h)){let[m,C]=h,D=s>=m.hours&&a>=m.minutes,A=s<C.hours||s===C.hours&&a<C.minutes;if(m.hours<C.hours){if(D&&A)return!0}else if(D||A)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return AB(r,i,n)[s<12?0:1];case Se.Eras:return _B(r,n)[e.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function ld(e){return function(r,t,n){let i=-1*n,o=hr(t,Mt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Gr.Short:return(i>=0?"+":"")+Un(s,2,o)+Un(Math.abs(i%60),2,o);case Gr.ShortGMT:return"GMT"+(i>=0?"+":"")+Un(s,1,o);case Gr.Long:return"GMT"+(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);case Gr.Extended:return n===0?"Z":(i>=0?"+":"")+Un(s,2,o)+":"+Un(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var VB=0,fd=4;function HB(e){let r=pd(e,VB,1).getDay();return pd(e,0,1+(r<=fd?fd:fd+7)-r)}function $A(e){let r=e.getDay(),t=r===0?-3:fd-r;return pd(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Cy(e,r=!1){return function(t,n){let i;if(r){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=$A(t),s=HB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Un(i,e,hr(n,Mt.MinusSign))}}function dd(e,r=!1){return function(t,n){let o=$A(t).getFullYear();return Un(o,e,hr(n,Mt.MinusSign),r)}}var Sy={};function zB(e){if(Sy[e])return Sy[e];let r;switch(e){case"G":case"GG":case"GGG":r=xe(Se.Eras,_e.Abbreviated);break;case"GGGG":r=xe(Se.Eras,_e.Wide);break;case"GGGGG":r=xe(Se.Eras,_e.Narrow);break;case"y":r=Je(Ie.FullYear,1,0,!1,!0);break;case"yy":r=Je(Ie.FullYear,2,0,!0,!0);break;case"yyy":r=Je(Ie.FullYear,3,0,!1,!0);break;case"yyyy":r=Je(Ie.FullYear,4,0,!1,!0);break;case"Y":r=dd(1);break;case"YY":r=dd(2,!0);break;case"YYY":r=dd(3);break;case"YYYY":r=dd(4);break;case"M":case"L":r=Je(Ie.Month,1,1);break;case"MM":case"LL":r=Je(Ie.Month,2,1);break;case"MMM":r=xe(Se.Months,_e.Abbreviated);break;case"MMMM":r=xe(Se.Months,_e.Wide);break;case"MMMMM":r=xe(Se.Months,_e.Narrow);break;case"LLL":r=xe(Se.Months,_e.Abbreviated,jt.Standalone);break;case"LLLL":r=xe(Se.Months,_e.Wide,jt.Standalone);break;case"LLLLL":r=xe(Se.Months,_e.Narrow,jt.Standalone);break;case"w":r=Cy(1);break;case"ww":r=Cy(2);break;case"W":r=Cy(1,!0);break;case"d":r=Je(Ie.Date,1);break;case"dd":r=Je(Ie.Date,2);break;case"c":case"cc":r=Je(Ie.Day,1);break;case"ccc":r=xe(Se.Days,_e.Abbreviated,jt.Standalone);break;case"cccc":r=xe(Se.Days,_e.Wide,jt.Standalone);break;case"ccccc":r=xe(Se.Days,_e.Narrow,jt.Standalone);break;case"cccccc":r=xe(Se.Days,_e.Short,jt.Standalone);break;case"E":case"EE":case"EEE":r=xe(Se.Days,_e.Abbreviated);break;case"EEEE":r=xe(Se.Days,_e.Wide);break;case"EEEEE":r=xe(Se.Days,_e.Narrow);break;case"EEEEEE":r=xe(Se.Days,_e.Short);break;case"a":case"aa":case"aaa":r=xe(Se.DayPeriods,_e.Abbreviated);break;case"aaaa":r=xe(Se.DayPeriods,_e.Wide);break;case"aaaaa":r=xe(Se.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":r=xe(Se.DayPeriods,_e.Abbreviated,jt.Standalone,!0);break;case"bbbb":r=xe(Se.DayPeriods,_e.Wide,jt.Standalone,!0);break;case"bbbbb":r=xe(Se.DayPeriods,_e.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":r=xe(Se.DayPeriods,_e.Abbreviated,jt.Format,!0);break;case"BBBB":r=xe(Se.DayPeriods,_e.Wide,jt.Format,!0);break;case"BBBBB":r=xe(Se.DayPeriods,_e.Narrow,jt.Format,!0);break;case"h":r=Je(Ie.Hours,1,-12);break;case"hh":r=Je(Ie.Hours,2,-12);break;case"H":r=Je(Ie.Hours,1);break;case"HH":r=Je(Ie.Hours,2);break;case"m":r=Je(Ie.Minutes,1);break;case"mm":r=Je(Ie.Minutes,2);break;case"s":r=Je(Ie.Seconds,1);break;case"ss":r=Je(Ie.Seconds,2);break;case"S":r=Je(Ie.FractionalSeconds,1);break;case"SS":r=Je(Ie.FractionalSeconds,2);break;case"SSS":r=Je(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=ld(Gr.Short);break;case"ZZZZZ":r=ld(Gr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=ld(Gr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=ld(Gr.Long);break;default:return null}return Sy[e]=r,r}function BA(e,r){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?r:t}function GB(e,r){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+r),e}function WB(e,r,t){let n=t?-1:1,i=e.getTimezoneOffset(),o=BA(r,i);return GB(e,n*(o-i))}function qB(e){if(bA(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return pd(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(LB))return YB(n)}let r=new Date(e);if(!bA(r))throw new Error(`Unable to convert "${e}" into a date`);return r}function YB(e){let r=new Date(0),t=0,n=0,i=e[8]?r.setUTCFullYear:r.setFullYear,o=e[8]?r.setUTCHours:r.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),i.call(r,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-n,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(r,s,a,c,u),r}function bA(e){return e instanceof Date&&!isNaN(e.valueOf())}var KB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,wA=22,gd=".",Va="0",ZB=";",QB=",",Iy="#",TA="\xA4";function VA(e,r,t,n,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=hr(t,Mt.Infinity);else{let u=eV(e);s&&(u=XB(u));let l=r.minInt,d=r.minFrac,h=r.maxFrac;if(o){let x=o.match(KB);if(x===null)throw new Error(`${o} is not a valid digit info`);let Y=x[1],Z=x[3],X=x[5];Y!=null&&(l=Dy(Y)),Z!=null&&(d=Dy(Z)),X!=null?h=Dy(X):Z!=null&&d>h&&(h=d)}tV(u,d,h);let m=u.digits,C=u.integerLen,D=u.exponent,A=[];for(c=m.every(x=>!x);C<l;C++)m.unshift(0);for(;C<0;C++)m.unshift(0);C>0?A=m.splice(C,m.length):(A=m,m=[0]);let N=[];for(m.length>=r.lgSize&&N.unshift(m.splice(-r.lgSize,m.length).join(""));m.length>r.gSize;)N.unshift(m.splice(-r.gSize,m.length).join(""));m.length&&N.unshift(m.join("")),a=N.join(hr(t,n)),A.length&&(a+=hr(t,i)+A.join("")),D&&(a+=hr(t,Mt.Exponential)+"+"+D)}return e<0&&!c?a=r.negPre+a+r.negSuf:a=r.posPre+a+r.posSuf,a}function Kse(e,r,t,n,i){let o=UA(r,Py.Currency),s=HA(o,hr(r,Mt.MinusSign));return s.minFrac=FB(n),s.maxFrac=s.minFrac,VA(e,s,r,Mt.CurrencyGroup,Mt.CurrencyDecimal,i).replace(TA,t).replace(TA,"").trim()}function JB(e,r,t){let n=UA(r,Py.Decimal),i=HA(n,hr(r,Mt.MinusSign));return VA(e,i,r,Mt.Group,Mt.Decimal,t)}function HA(e,r="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(ZB),i=n[0],o=n[1],s=i.indexOf(gd)!==-1?i.split(gd):[i.substring(0,i.lastIndexOf(Va)+1),i.substring(i.lastIndexOf(Va)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Iy));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===Va?t.minFrac=t.maxFrac=l+1:d===Iy?t.maxFrac=l+1:t.posSuf+=d}let u=a.split(QB);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let l=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(Iy);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+l).replace(/'/g,"")}else t.negPre=r+t.posPre,t.negSuf=t.posSuf;return t}function XB(e){if(e.digits[0]===0)return e;let r=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(r===0?e.digits.push(0,0):r===1&&e.digits.push(0),e.integerLen+=2),e}function eV(e){let r=Math.abs(e)+"",t=0,n,i,o,s,a;for((i=r.indexOf(gd))>-1&&(r=r.replace(gd,"")),(o=r.search(/e/i))>0?(i<0&&(i=o),i+=+r.slice(o+1),r=r.substring(0,o)):i<0&&(i=r.length),o=0;r.charAt(o)===Va;o++);if(o===(a=r.length))n=[0],i=1;else{for(a--;r.charAt(a)===Va;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(r.charAt(o))}return i>wA&&(n=n.splice(0,wA-1),t=i-1,i=1),{digits:n,exponent:t,integerLen:i}}function tV(e,r,t){if(r>t)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${t}).`);let n=e.digits,i=n.length-e.integerLen,o=Math.min(Math.max(r,i),t),s=o+e.integerLen,a=n[s];if(s>0){n.splice(Math.max(e.integerLen,s));for(let d=s;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),e.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let d=1;d<s;d++)n[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let c=o!==0,u=r+e.integerLen,l=n.reduceRight(function(d,h,m,C){return h=h+d,C[m]=h<10?h:h-10,c&&(C[m]===0&&m>=u?C.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),e.integerLen++)}function Dy(e){let r=parseInt(e);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+e);return r}function Ed(e,r){r=encodeURIComponent(r);for(let t of e.split(";")){let n=t.indexOf("="),[i,o]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(i.trim()===r)return decodeURIComponent(o)}return null}var by=/\s+/,AA=[],Zse=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=AA,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(by):AA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(by):t}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let n of t)this._updateState(n,!0);else if(t!=null)for(let n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==n&&(i.changed=!0,i.enabled=n),i.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let n=t[0],i=t[1];i.changed?(this._toggleClass(n,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),i.touched=!1}}_toggleClass(t,n){t=t.trim(),t.length>0&&t.split(by).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(n){return new(n||e)(J(dr),J(as))}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngClass",""]],inputs:{klass:[hn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})(),Qse=(()=>{class e{constructor(t){this._viewContainerRef=t,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0||t.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let n=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=F0(this.ngComponentOutletNgModule,RA(n)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(RA(n)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:n,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[n,i]of this._inputsUsed)i?(t.setInput(n,this.ngComponentOutletInputs[n]),this._inputsUsed.set(n,!1)):(t.setInput(n,void 0),this._inputsUsed.delete(n))}static{this.\u0275fac=function(n){return new(n||e)(J(qt))}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[mi]})}}return e})();function RA(e){return e.get(kr).injector}var wy=class{constructor(r,t,n,i){this.$implicit=r,this.ngForOf=t,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Jse=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,i){this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let n=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)n.createEmbeddedView(this._template,new wy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let a=n.get(o);n.move(a,s),MA(a,i)}});for(let i=0,o=n.length;i<o;i++){let a=n.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=n.get(i.currentIndex);MA(o,i)})}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(J(qt),J(Ln),J(vy))}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function MA(e,r){e.context.$implicit=r.item}var Xse=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new Ty,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_A("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_A("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(J(qt),J(Ln))}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),Ty=class{constructor(){this.$implicit=null,this.ngIf=null}};function _A(e,r){if(!!!(!r||r.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${kt(r)}'.`)}var nV=!0,md=class{constructor(r,t){this._viewContainerRef=r,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}},zA=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let n=nV?t===this._ngSwitch:t==this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let n of this._defaultViews)n.enforceState(t)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return e})(),eae=(()=>{class e{constructor(t,n,i){this.ngSwitch=i,i._addCase(),this._view=new md(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(n){return new(n||e)(J(qt),J(Ln),J(zA,9))}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return e})(),tae=(()=>{class e{constructor(t,n,i){i._addDefault(new md(t,n))}static{this.\u0275fac=function(n){return new(n||e)(J(qt),J(Ln),J(zA,9))}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return e})();var nae=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,i):!1,get:(t,n,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,i)}})}static{this.\u0275fac=function(n){return new(n||e)(J(qt))}}static{this.\u0275dir=Ut({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[mi]})}}return e})();function hs(e,r){return new B(2100,!1)}var Ay=class{createSubscription(r,t){return id(()=>r.subscribe({next:t,error:n=>{throw n}}))}dispose(r){id(()=>r.unsubscribe())}},Ry=class{createSubscription(r,t){return r.then(t,n=>{throw n})}dispose(r){}},rV=new Ry,iV=new Ay,rae=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(us(t))return rV;if(gy(t))return iV;throw hs(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(n){return new(n||e)(J(Br,16))}}static{this.\u0275pipe=Gt({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),iae=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw hs(e,t);return t.toLowerCase()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=Gt({name:"lowercase",type:e,pure:!0,standalone:!0})}}return e})(),oV=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,oae=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw hs(e,t);return t.replace(oV,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=Gt({name:"titlecase",type:e,pure:!0,standalone:!0})}}return e})();var sV="mediumDate",aV=new S(""),cV=new S(""),GA=(()=>{class e{constructor(t,n,i){this.locale=t,this.defaultTimezone=n,this.defaultOptions=i}transform(t,n,i,o){if(t==null||t===""||t!==t)return null;try{let s=n??this.defaultOptions?.dateFormat??sV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return UB(t,s,o||this.locale,a)}catch(s){throw hs(e,s.message)}}static{this.\u0275fac=function(n){return new(n||e)(J($a,16),J(aV,24),J(cV,24))}}static{this.\u0275pipe=Gt({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var sae=(()=>{class e{transform(t){return JSON.stringify(t,null,2)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=Gt({name:"json",type:e,pure:!1,standalone:!0})}}return e})();function uV(e,r){return{key:e,value:r}}var aae=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=OA}transform(t,n=OA){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=n!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(uV(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static{this.\u0275fac=function(n){return new(n||e)(J(yy,16))}}static{this.\u0275pipe=Gt({name:"keyvalue",type:e,pure:!1,standalone:!0})}}return e})();function OA(e,r){let t=e.key,n=r.key;if(t===n)return 0;if(t===void 0)return 1;if(n===void 0)return-1;if(t===null)return 1;if(n===null)return-1;if(typeof t=="string"&&typeof n=="string")return t<n?-1:1;if(typeof t=="number"&&typeof n=="number")return t-n;if(typeof t=="boolean"&&typeof n=="boolean")return t<n?-1:1;let i=String(t),o=String(n);return i==o?0:i<o?-1:1}var WA=(()=>{class e{constructor(t){this._locale=t}transform(t,n,i){if(!lV(t))return null;i||=this._locale;try{let o=dV(t);return JB(o,i,n)}catch(o){throw hs(e,o.message)}}static{this.\u0275fac=function(n){return new(n||e)(J($a,16))}}static{this.\u0275pipe=Gt({name:"number",type:e,pure:!0,standalone:!0})}}return e})();function lV(e){return!(e==null||e===""||e!==e)}function dV(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var cae=(()=>{class e{transform(t,n,i){if(t==null)return null;if(!this.supports(t))throw hs(e,t);return t.slice(n,i)}supports(t){return typeof t=="string"||Array.isArray(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=Gt({name:"slice",type:e,pure:!1,standalone:!0})}}return e})();var Ye=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),Fy="browser",fV="server";function jn(e){return e===Fy}function oo(e){return e===fV}var qA=(()=>{class e{static{this.\u0275prov=p({token:e,providedIn:"root",factory:()=>jn(E($e))?new My(E(Le),window):new _y})}}return e})(),My=class{constructor(r,t){this.document=r,this.window=t,this.offset=()=>[0,0]}setOffset(r){Array.isArray(r)?this.offset=()=>r:this.offset=r}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){let t=hV(this.document,r);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r}scrollToElement(r){let t=r.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}};function hV(e,r){let t=e.getElementById(r)||e.getElementsByName(r)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(r)||o.querySelector(`[name="${r}"]`);if(s)return s}i=n.nextNode()}}return null}var _y=class{setOffset(r){}getScrollPosition(){return[0,0]}scrollToPosition(r){}scrollToAnchor(r){}setHistoryScrollRestoration(r){}},fs=class{};var za=class{},Ga=class{},de=class e{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let i=t.slice(0,n),o=i.toLowerCase(),s=t.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,t){return this.clone({name:r,value:t,op:"a"})}set(r,t){return this.clone({name:r,value:t,op:"s"})}delete(r,t){return this.clone({name:r,value:t,op:"d"})}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t))})}clone(r){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t}applyUpdate(r){let t=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,t);let i=(r.op==="a"?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":let o=r.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(r,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=r.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(r,i)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)))}};var jy=class{encodeKey(r){return YA(r)}encodeValue(r){return YA(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function pV(e,r){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,o)),r.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var gV=/%(\d[a-f0-9])/gi,mV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YA(e){return encodeURIComponent(e).replace(gV,(r,t)=>mV[t]??r)}function Cd(e){return`${e}`}var Ge=class e{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new jy,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=pV(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(t=>{let n=r.fromObject[t],i=Array.isArray(n)?n.map(Cd):[Cd(n)];this.map.set(t,i)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let t=this.map.get(r);return t?t[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,t){return this.clone({param:r,value:t,op:"a"})}appendAll(r){let t=[];return Object.keys(r).forEach(n=>{let i=r[n];Array.isArray(i)?i.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(r,t){return this.clone({param:r,value:t,op:"s"})}delete(r,t){return this.clone({param:r,value:t,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let t=this.encoder.encodeKey(r);return this.map.get(r).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let t=(r.op==="a"?this.map.get(r.param):void 0)||[];t.push(Cd(r.value)),this.map.set(r.param,t);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],i=n.indexOf(Cd(r.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}},Wa=class{constructor(r){this.defaultValue=r}},ps=class{constructor(){this.map=new Map}set(r,t){return this.map.set(r,t),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function vV(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function KA(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function ZA(e){return typeof Blob<"u"&&e instanceof Blob}function QA(e){return typeof FormData<"u"&&e instanceof FormData}function yV(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ha=class e{constructor(r,t,n,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let o;if(vV(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new de,this.context??=new ps,!this.params)this.params=new Ge,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||KA(this.body)||ZA(this.body)||QA(this.body)||yV(this.body)?this.body:this.body instanceof Ge?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||QA(this.body)?null:ZA(this.body)?this.body.type||null:KA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ge?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let t=r.method||this.method,n=r.url||this.url,i=r.responseType||this.responseType,o=r.transferCache??this.transferCache,s=r.body!==void 0?r.body:this.body,a=r.withCredentials??this.withCredentials,c=r.reportProgress??this.reportProgress,u=r.headers||this.headers,l=r.params||this.params,d=r.context??this.context;return r.setHeaders!==void 0&&(u=Object.keys(r.setHeaders).reduce((h,m)=>h.set(m,r.setHeaders[m]),u)),r.setParams&&(l=Object.keys(r.setParams).reduce((h,m)=>h.set(m,r.setParams[m]),l)),new e(t,n,s,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},gr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(gr||{}),qa=class{constructor(r,t=Ya.Ok,n="OK"){this.headers=r.headers||new de,this.status=r.status!==void 0?r.status:t,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},Sd=class e extends qa{constructor(r={}){super(r),this.type=gr.ResponseHeader}clone(r={}){return new e({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},so=class e extends qa{constructor(r={}){super(r),this.type=gr.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new e({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},_t=class extends qa{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Ya=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Ya||{});function ky(e,r){return{body:r,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var ke=(()=>{class e{constructor(t){this.handler=t}request(t,n,i={}){let o;if(t instanceof Ha)o=t;else{let c;i.headers instanceof de?c=i.headers:c=new de(i.headers);let u;i.params&&(i.params instanceof Ge?u=i.params:u=new Ge({fromObject:i.params})),o=new Ha(t,n,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=I(o).pipe(je(c=>this.handler.handle(c)));if(t instanceof Ha||i.observe==="events")return s;let a=s.pipe(R(c=>c instanceof so));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(y(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(y(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(y(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(y(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new Ge().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,i={}){return this.request("PATCH",t,ky(i,n))}post(t,n,i={}){return this.request("POST",t,ky(i,n))}put(t,n,i={}){return this.request("PUT",t,ky(i,n))}static{this.\u0275fac=function(n){return new(n||e)(f(za))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),EV=/^\)\]\}',?\n/,CV="X-Request-URL";function JA(e){if(e.url)return e.url;let r=CV.toLocaleLowerCase();return e.headers.get(r)}var Uy=(()=>{class e{constructor(){this.fetchImpl=E($y,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=E(Ce)}handle(t){return new V(n=>{let i=new AbortController;return this.doRequest(t,i.signal,n).then(By,o=>n.error(new _t({error:o}))),()=>i.abort()})}doRequest(t,n,i){return ot(this,null,function*(){let o=this.createRequestInit(t),s;try{let m=this.fetchImpl(t.urlWithParams,v({signal:n},o));SV(m),i.next({type:gr.Sent}),s=yield m}catch(m){i.error(new _t({error:m,status:m.status??0,statusText:m.statusText,url:t.urlWithParams,headers:m.headers}));return}let a=new de(s.headers),c=s.statusText,u=JA(s)??t.urlWithParams,l=s.status,d=null;if(t.reportProgress&&i.next(new Sd({headers:a,status:l,statusText:c,url:u})),s.body){let m=s.headers.get("content-length"),C=[],D=s.body.getReader(),A=0,N,x,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>ot(this,null,function*(){for(;;){let{done:X,value:fe}=yield D.read();if(X)break;if(C.push(fe),A+=fe.length,t.reportProgress){x=t.responseType==="text"?(x??"")+(N??=new TextDecoder).decode(fe,{stream:!0}):void 0;let Te=()=>i.next({type:gr.DownloadProgress,total:m?+m:void 0,loaded:A,partialText:x});Y?Y.run(Te):Te()}}}));let Z=this.concatChunks(C,A);try{let X=s.headers.get("Content-Type")??"";d=this.parseBody(t,Z,X)}catch(X){i.error(new _t({error:X,headers:new de(s.headers),status:s.status,statusText:s.statusText,url:JA(s)??t.urlWithParams}));return}}l===0&&(l=d?Ya.Ok:0),l>=200&&l<300?(i.next(new so({body:d,headers:a,status:l,statusText:c,url:u})),i.complete()):i.error(new _t({error:d,headers:a,status:l,statusText:c,url:u}))})}parseBody(t,n,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(n).replace(EV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:i});case"arraybuffer":return n.buffer}}createRequestInit(t){let n={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>n[o]=s.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){let o=t.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:i}}concatChunks(t,n){let i=new Uint8Array(n),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),$y=class{};function By(){}function SV(e){e.then(By,By)}function rR(e,r){return r(e)}function IV(e,r){return(t,n)=>r.intercept(t,{handle:i=>e(i,n)})}function DV(e,r,t){return(n,i)=>kn(t,()=>r(n,o=>e(o,i)))}var rn=new S(""),Vy=new S(""),bV=new S(""),iR=new S("");function wV(){let e=null;return(r,t)=>{e===null&&(e=(E(rn,{optional:!0})??[]).reduceRight(IV,rR));let n=E(ro),i=n.add();return e(r,t).pipe(_n(()=>n.remove(i)))}}var XA=(()=>{class e extends za{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=E(ro);let i=E(iR,{optional:!0});this.backend=i??t}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Vy),...this.injector.get(bV,[])]));this.chain=i.reduceRight((o,s)=>DV(o,s,this.injector),rR)}let n=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(_n(()=>this.pendingTasks.remove(n)))}static{this.\u0275fac=function(n){return new(n||e)(f(Ga),f(Tt))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();var TV=/^\)\]\}',?\n/;function AV(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var eR=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new B(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?me(n.\u0275loadImpl()):I(null)).pipe(_(()=>new V(o=>{let s=n.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,A)=>s.setRequestHeader(D,A.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let D=s.statusText||"OK",A=new de(s.getAllResponseHeaders()),N=AV(s)||t.url;return c=new Sd({headers:A,status:s.status,statusText:D,url:N}),c},l=()=>{let{headers:D,status:A,statusText:N,url:x}=u(),Y=null;A!==Ya.NoContent&&(Y=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=Y?Ya.Ok:0);let Z=A>=200&&A<300;if(t.responseType==="json"&&typeof Y=="string"){let X=Y;Y=Y.replace(TV,"");try{Y=Y!==""?JSON.parse(Y):null}catch(fe){Y=X,Z&&(Z=!1,Y={error:fe,text:Y})}}Z?(o.next(new so({body:Y,headers:D,status:A,statusText:N,url:x||void 0})),o.complete()):o.error(new _t({error:Y,headers:D,status:A,statusText:N,url:x||void 0}))},d=D=>{let{url:A}=u(),N=new _t({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(N)},h=!1,m=D=>{h||(o.next(u()),h=!0);let A={type:gr.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},C=D=>{let A={type:gr.UploadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),o.next(A)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:gr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(n){return new(n||e)(f(fs))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),oR=new S(""),RV="XSRF-TOKEN",MV=new S("",{providedIn:"root",factory:()=>RV}),_V="X-XSRF-TOKEN",OV=new S("",{providedIn:"root",factory:()=>_V}),Id=class{},xV=(()=>{class e{constructor(t,n,i){this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ed(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f($e),f(MV))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function NV(e,r){let t=e.url.toLowerCase();if(!E(oR)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return r(e);let n=E(Id).getToken(),i=E(OV);return n!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),r(e)}var Hy=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Hy||{});function sR(e,r){return{\u0275kind:e,\u0275providers:r}}function Cae(...e){let r=[ke,eR,XA,{provide:za,useExisting:XA},{provide:Ga,useExisting:eR},{provide:Vy,useValue:NV,multi:!0},{provide:oR,useValue:!0},{provide:Id,useClass:xV}];for(let t of e)r.push(...t.\u0275providers);return ur(r)}var tR=new S("");function Sae(){return sR(Hy.LegacyInterceptors,[{provide:tR,useFactory:wV},{provide:Vy,useExisting:tR,multi:!0}])}function Iae(){return sR(Hy.Fetch,[Uy,{provide:Ga,useExisting:Uy},{provide:iR,useExisting:Uy}])}var Wy=class extends hd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qy=class e extends Wy{static makeCurrent(){PA(new e)}onAndCancel(r,t,n){return r.addEventListener(t,n),()=>{r.removeEventListener(t,n)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,t){return t=t||this.getDefaultDocument(),t.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return t==="window"?window:t==="document"?r:t==="body"?r.body:null}getBaseHref(r){let t=PV();return t==null?null:FV(t)}resetBaseElement(){Ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ed(document.cookie,r)}},Ka=null;function PV(){return Ka=Ka||document.querySelector("base"),Ka?Ka.getAttribute("href"):null}function FV(e){return new URL(e,document.baseURI).pathname}var Yy=class{addToWindow(r){We.getAngularTestability=(n,i=!0)=>{let o=r.findTestabilityInTree(n,i);if(o==null)throw new B(5103,!1);return o},We.getAllAngularTestabilities=()=>r.getAllTestabilities(),We.getAllAngularRootElements=()=>r.getAllRootElements();let t=n=>{let i=We.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&n()};i.forEach(a=>{a.whenStable(s)})};We.frameworkStabilizers||(We.frameworkStabilizers=[]),We.frameworkStabilizers.push(t)}findTestabilityInTree(r,t,n){if(t==null)return null;let i=r.getTestability(t);return i??(n?Ci().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null)}},LV=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Ky=new S(""),dR=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,i){return this._findPluginFor(n).addEventListener(t,n,i)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(o=>o.supports(t)),!n)throw new B(5101,!1);return this._eventNameToPlugin.set(t,n),n}static{this.\u0275fac=function(n){return new(n||e)(f(Ky),f(Ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Dd=class{constructor(r){this._doc=r}},zy="ng-app-id",fR=(()=>{class e{constructor(t,n,i,o={}){this.doc=t,this.appId=n,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oo(o),this.resetHostNodes()}addStyles(t){for(let n of t)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(t){for(let n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){let n=this.styleRef;n.get(t)?.elements?.forEach(i=>i.remove()),n.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${zy}="${this.appId}"]`);if(t?.length){let n=new Map;return t.forEach(i=>{i.textContent!=null&&n.set(i.textContent,i)}),n}return null}changeUsageCount(t,n){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=n,o.usage}return i.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){let i=this.styleNodesInDOM,o=i?.get(n);if(o?.parentNode===t)return i.delete(n),o.removeAttribute(zy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(zy,this.appId),t.appendChild(s),s}}addStyleToHost(t,n){let i=this.getStyleElement(t,n),o=this.styleRef,s=o.get(n)?.elements;s?s.push(i):o.set(n,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Fa),f(Bv,8),f($e))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Gy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qy=/%COMP%/g,hR="%COMP%",kV=`_nghost-${hR}`,UV=`_ngcontent-${hR}`,jV=!0,$V=new S("",{providedIn:"root",factory:()=>jV});function BV(e){return UV.replace(Qy,e)}function VV(e){return kV.replace(Qy,e)}function pR(e,r){return r.map(t=>t.replace(Qy,e))}var cR=(()=>{class e{constructor(t,n,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=oo(a),this.defaultRenderer=new Za(t,s,c,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===ar.ShadowDom&&(n=w(v({},n),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(t,n);return i instanceof bd?i.applyToHost(t):i instanceof Qa&&i.applyStyles(),i}getOrCreateRenderer(t,n){let i=this.rendererByCompId,o=i.get(n.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(n.encapsulation){case ar.Emulated:o=new bd(c,u,n,this.appId,l,s,a,d);break;case ar.ShadowDom:return new Zy(c,u,t,n,s,a,this.nonce,d);default:o=new Qa(c,u,n,l,s,a,d);break}i.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||e)(f(dR),f(fR),f(Fa),f($V),f(Le),f($e),f(Ce),f(Bv))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Za=class{constructor(r,t,n,i){this.eventManager=r,this.doc=t,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,t){return t?this.doc.createElementNS(Gy[t]||t,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,t){(uR(r)?r.content:r).appendChild(t)}insertBefore(r,t,n){r&&(uR(r)?r.content:r).insertBefore(t,n)}removeChild(r,t){r&&r.removeChild(t)}selectRootElement(r,t){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new B(-5104,!1);return t||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,n,i){if(i){t=i+":"+t;let o=Gy[i];o?r.setAttributeNS(o,t,n):r.setAttribute(t,n)}else r.setAttribute(t,n)}removeAttribute(r,t,n){if(n){let i=Gy[n];i?r.removeAttributeNS(i,t):r.removeAttribute(`${n}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,n,i){i&(Lr.DashCase|Lr.Important)?r.style.setProperty(t,n,i&Lr.Important?"important":""):r.style[t]=n}removeStyle(r,t,n){n&Lr.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,n){r!=null&&(r[t]=n)}setValue(r,t){r.nodeValue=t}listen(r,t,n){if(typeof r=="string"&&(r=Ci().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${t}`);return this.eventManager.addEventListener(r,t,this.decoratePreventDefault(n))}decoratePreventDefault(r){return t=>{if(t==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(t)):r(t))===!1&&t.preventDefault()}}};function uR(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Zy=class extends Za{constructor(r,t,n,i,o,s,a,c){super(r,o,s,c),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=pR(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,n){return super.insertBefore(this.nodeOrShadowRoot(r),t,n)}removeChild(r,t){return super.removeChild(this.nodeOrShadowRoot(r),t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qa=class extends Za{constructor(r,t,n,i,o,s,a,c){super(r,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?pR(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bd=class extends Qa{constructor(r,t,n,i,o,s,a,c){let u=i+"-"+n.id;super(r,t,n,o,s,a,c,u),this.contentAttr=BV(u),this.hostAttr=VV(u)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,t){let n=super.createElement(r,t);return super.setAttribute(n,this.contentAttr,""),n}},HV=(()=>{class e extends Dd{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,i){return t.addEventListener(n,i,!1),()=>this.removeEventListener(t,n,i)}removeEventListener(t,n,i){return t.removeEventListener(n,i)}static{this.\u0275fac=function(n){return new(n||e)(f(Le))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),lR=["alt","control","meta","shift"],zV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},GV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},WV=(()=>{class e extends Dd{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,n,i){let o=e.parseEventName(n),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ci().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let n=t.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),lR.forEach(u=>{let l=n.indexOf(u);l>-1&&(n.splice(l,1),s+=u+".")}),s+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,n){let i=zV[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),lR.forEach(s=>{if(s!==i){let a=GV[s];a(t)&&(o+=s+".")}}),o+=i,o===n)}static eventCallback(t,n,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>n(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(n){return new(n||e)(f(Le))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function qV(){qy.makeCurrent()}function YV(){return new ut}function KV(){return UT(document),document}var ZV=[{provide:$e,useValue:Fy},{provide:$v,useValue:qV,multi:!0},{provide:Le,useFactory:KV,deps:[]}],Pae=my(EA,"browser",ZV),QV=new S(""),JV=[{provide:ja,useClass:Yy,deps:[]},{provide:hy,useClass:td,deps:[Ce,nd,ja]},{provide:td,useClass:td,deps:[Ce,nd,ja]}],XV=[{provide:xl,useValue:"root"},{provide:ut,useFactory:YV,deps:[]},{provide:Ky,useClass:HV,multi:!0,deps:[Le,Ce,$e]},{provide:Ky,useClass:WV,multi:!0,deps:[Le]},cR,fR,dR,{provide:Ji,useExisting:cR},{provide:fs,useClass:LV,deps:[]},[]],Fae=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Fa,useValue:t.appId}]}}static{this.\u0275fac=function(n){return new(n||e)(f(QV,12))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[...XV,...JV],imports:[Ye,CA]})}}return e})(),Jy=(()=>{class e{constructor(t){this._doc=t,this._dom=Ci()}addTag(t,n=!1){return t?this._getOrCreateElement(t,n):null}addTags(t,n=!1){return t?t.reduce((i,o)=>(o&&i.push(this._getOrCreateElement(o,n)),i),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];let n=this._doc.querySelectorAll(`meta[${t}]`);return n?[].slice.call(n):[]}updateTag(t,n){if(!t)return null;n=n||this._parseSelector(t);let i=this.getTag(n);return i?this._setMetaElementAttributes(t,i):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,n=!1){if(!n){let s=this._parseSelector(t),a=this.getTags(s).filter(c=>this._containsAttributes(t,c))[0];if(a!==void 0)return a}let i=this._dom.createElement("meta");return this._setMetaElementAttributes(t,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}_setMetaElementAttributes(t,n){return Object.keys(t).forEach(i=>n.setAttribute(this._getMetaKeyMap(i),t[i])),n}_parseSelector(t){let n=t.name?"name":"property";return`${n}="${t[n]}"`}_containsAttributes(t,n){return Object.keys(t).every(i=>n.getAttribute(this._getMetaKeyMap(i))===t[i])}_getMetaKeyMap(t){return eH[t]||t}static{this.\u0275fac=function(n){return new(n||e)(f(Le))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eH={httpEquiv:"http-equiv"},gR=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(n){return new(n||e)(f(Le))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var tH=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(nH),i},providedIn:"root"})}}return e})(),nH=(()=>{class e extends tH{constructor(t){super(),this._doc=t}sanitize(t,n){if(n==null)return null;switch(t){case yn.NONE:return n;case yn.HTML:return fr(n,"HTML")?Wt(n):Hv(this._doc,String(n)).toString();case yn.STYLE:return fr(n,"Style")?Wt(n):n;case yn.SCRIPT:if(fr(n,"Script"))return Wt(n);throw new B(5200,!1);case yn.URL:return fr(n,"URL")?Wt(n):$l(String(n));case yn.RESOURCE_URL:if(fr(n,"ResourceURL"))return Wt(n);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(t){return BT(t)}bypassSecurityTrustStyle(t){return VT(t)}bypassSecurityTrustScript(t){return HT(t)}bypassSecurityTrustUrl(t){return zT(t)}bypassSecurityTrustResourceUrl(t){return GT(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Le))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xy(e,r){let t=!r?.manualCleanup;t&&!r?.injector&&_a(Xy);let n=t?r?.injector?.get(yi)??E(yi):null,i;r?.requireSync?i=iy({kind:0}):i=iy({kind:1,value:r?.initialValue});let o=e.subscribe({next:s=>i.set({kind:1,value:s}),error:s=>{if(r?.rejectErrors)throw s;i.set({kind:2,error:s})}});return n?.onDestroy(o.unsubscribe.bind(o)),rd(()=>{let s=i();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new B(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var rE={};function Si(e,r){if(rE[e]=(rE[e]||0)+1,typeof r=="function")return eE(e,(...n)=>w(v({},r(...n)),{type:e}));switch(r?r._as:"empty"){case"empty":return eE(e,()=>({type:e}));case"props":return eE(e,n=>w(v({},n),{type:e}));default:throw new Error("Unexpected config.")}}function ms(){return{_as:"props",_p:void 0}}function eE(e,r){return Object.defineProperty(r,"type",{value:e,writable:!1})}var Rd="@ngrx/store/init",qr=(()=>{class e extends Re{constructor(){super({type:Rd})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),iH=[qr],OR=new S("@ngrx/store Internal Root Guard"),mR=new S("@ngrx/store Internal Initial State"),aE=new S("@ngrx/store Initial State"),xR=new S("@ngrx/store Reducer Factory"),vR=new S("@ngrx/store Internal Reducer Factory Provider"),NR=new S("@ngrx/store Initial Reducers"),tE=new S("@ngrx/store Internal Initial Reducers"),yR=new S("@ngrx/store Store Features"),ER=new S("@ngrx/store Internal Store Reducers"),nE=new S("@ngrx/store Internal Feature Reducers"),CR=new S("@ngrx/store Internal Feature Configs"),PR=new S("@ngrx/store Internal Store Features"),SR=new S("@ngrx/store Internal Feature Reducers Token"),FR=new S("@ngrx/store Feature Reducers"),IR=new S("@ngrx/store User Provided Meta Reducers"),gs=new S("@ngrx/store Meta Reducers"),DR=new S("@ngrx/store Internal Resolved Meta Reducers"),bR=new S("@ngrx/store User Runtime Checks Config"),wR=new S("@ngrx/store Internal User Runtime Checks Config"),ao=new S("@ngrx/store Internal Runtime Checks"),cE=new S("@ngrx/store Check if Action types are unique"),oH=new S("@ngrx/store Root Store Provider"),sH=new S("@ngrx/store Feature State Provider");function co(e,r={}){let t=Object.keys(e),n={};for(let o=0;o<t.length;o++){let s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}let i=Object.keys(n);return function(s,a){s=s===void 0?r:s;let c=!1,u={};for(let l=0;l<i.length;l++){let d=i[l],h=n[d],m=s[d],C=h(m,a);u[d]=C,c=c||C!==m}return c?u:s}}function aH(e,r){return Object.keys(e).filter(t=>t!==r).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{})}function LR(...e){return function(r){if(e.length===0)return r;let t=e[e.length-1];return e.slice(0,-1).reduceRight((i,o)=>o(i),t(r))}}function kR(e,r){return Array.isArray(r)&&r.length>0&&(e=LR.apply(null,[...r,e])),(t,n)=>{let i=e(t);return(o,s)=>(o=o===void 0?n:o,i(o,s))}}function cH(e){let r=Array.isArray(e)&&e.length>0?LR(...e):t=>t;return(t,n)=>(t=r(t),(i,o)=>(i=i===void 0?n:i,t(i,o)))}var Ja=class extends V{},wd=class extends qr{},uH="@ngrx/store/update-reducers",Td=(()=>{class e extends Re{get currentReducers(){return this.reducers}constructor(t,n,i,o){super(o(i,n)),this.dispatcher=t,this.initialState=n,this.reducers=i,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let n=t.reduce((i,{reducers:o,reducerFactory:s,metaReducers:a,initialState:c,key:u})=>{let l=typeof o=="function"?cH(a)(o,c):kR(s,a)(o,c);return i[u]=l,i},{});this.addReducers(n)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(n=>n.key))}addReducer(t,n){this.addReducers({[t]:n})}addReducers(t){this.reducers=v(v({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(n=>{this.reducers=aH(this.reducers,n)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:uH,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(n){return new(n||e)(f(wd),f(aE),f(NR),f(xR))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),lH=[Td,{provide:Ja,useExisting:Td},{provide:wd,useExisting:qr}],Xa=(()=>{class e extends ie{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),dH=[Xa],Ad=class extends V{},TR=(()=>{class e extends Re{static{this.INIT=Rd}constructor(t,n,i,o){super(o);let a=t.pipe(Qt(Or)).pipe(at(n)),c={state:o},u=a.pipe(Bi(fH,c));this.stateSubscription=u.subscribe(({state:l,action:d})=>{this.next(l),i.next(d)}),this.state=Xy(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(n){return new(n||e)(f(qr),f(Ja),f(Xa),f(aE))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function fH(e={state:void 0},[r,t]){let{state:n}=e;return{state:t(n,r),action:r}}var hH=[TR,{provide:Ad,useExisting:TR}],ce=(()=>{class e extends V{constructor(t,n,i){super(),this.actionsObserver=n,this.reducerManager=i,this.source=t,this.state=t.state}select(t,...n){return M.call(null,t,...n)(this)}selectSignal(t,n){return rd(()=>t(this.state()),n)}lift(t){let n=new e(this,this.actionsObserver,this.reducerManager);return n.operator=t,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,n){this.reducerManager.addReducer(t,n)}removeReducer(t){this.reducerManager.removeReducer(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Ad),f(qr),f(Td))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),pH=[ce];function M(e,r,...t){return function(i){let o;if(typeof e=="string"){let s=[r,...t].filter(Boolean);o=i.pipe(zg(e,...s))}else if(typeof e=="function")o=i.pipe(y(s=>e(s,r)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(fn())}}var uE="https://ngrx.io/guide/store/configuration/runtime-checks";function AR(e){return e===void 0}function RR(e){return e===null}function UR(e){return Array.isArray(e)}function gH(e){return typeof e=="string"}function mH(e){return typeof e=="boolean"}function vH(e){return typeof e=="number"}function jR(e){return typeof e=="object"&&e!==null}function yH(e){return jR(e)&&!UR(e)}function EH(e){if(!yH(e))return!1;let r=Object.getPrototypeOf(e);return r===Object.prototype||r===null}function iE(e){return typeof e=="function"}function CH(e){return iE(e)&&e.hasOwnProperty("\u0275cmp")}function SH(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var IH=!1;function lE(){return IH}function MR(e,r){return e===r}function DH(e,r,t){for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return!0;return!1}function $R(e,r=MR,t=MR){let n=null,i=null,o;function s(){n=null,i=null}function a(l=void 0){o={result:l}}function c(){o=void 0}function u(){if(o!==void 0)return o.result;if(!n)return i=e.apply(null,arguments),n=arguments,i;if(!DH(arguments,n,r))return i;let l=e.apply(null,arguments);return n=arguments,t(i,l)?i:(i=l,l)}return{memoized:u,reset:s,setResult:a,clearResult:c}}function T(...e){return wH($R)(...e)}function bH(e,r,t,n){if(t===void 0){let o=r.map(s=>s(e));return n.memoized.apply(null,o)}let i=r.map(o=>o(e,t));return n.memoized.apply(null,[...i,t])}function wH(e,r={stateFn:bH}){return function(...t){let n=t;if(Array.isArray(n[0])){let[l,...d]=n;n=[...l,...d]}else n.length===1&&TH(n[0])&&(n=AH(n[0]));let i=n.slice(0,n.length-1),o=n[n.length-1],s=i.filter(l=>l.release&&typeof l.release=="function"),a=e(function(...l){return o.apply(null,l)}),c=$R(function(l,d){return r.stateFn.apply(null,[l,i,d,a])});function u(){c.reset(),a.reset(),s.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Cn(e){return T(r=>{let t=r[e];return!lE()&&pe()&&!(e in r)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},r=>r)}function TH(e){return!!e&&typeof e=="object"&&Object.values(e).every(r=>typeof r=="function")}function AH(e){let r=Object.values(e),t=Object.keys(e),n=(...i)=>t.reduce((o,s,a)=>w(v({},o),{[s]:i[a]}),{});return[...r,n]}function RH(e){return e instanceof S?E(e):e}function MH(e,r){return r.map((t,n)=>{if(e[n]instanceof S){let i=E(e[n]);return{key:t.key,reducerFactory:i.reducerFactory?i.reducerFactory:co,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return t})}function _H(e){return e.map(r=>r instanceof S?E(r):r)}function BR(e){return typeof e=="function"?e():e}function OH(e,r){return e.concat(r)}function xH(){if(E(ce,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function NH(e,r){return function(t,n){let i=r.action(n)?oE(n):n,o=e(t,i);return r.state()?oE(o):o}}function oE(e){Object.freeze(e);let r=iE(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&SH(e,t)&&(!r||t!=="caller"&&t!=="callee"&&t!=="arguments")){let n=e[t];(jR(n)||iE(n))&&!Object.isFrozen(n)&&oE(n)}}),e}function PH(e,r){return function(t,n){if(r.action(n)){let o=sE(n);_R(o,"action")}let i=e(t,n);if(r.state()){let o=sE(i);_R(o,"state")}return i}}function sE(e,r=[]){return(AR(e)||RR(e))&&r.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,i)=>{if(n)return n;let o=e[i];return CH(o)?n:AR(o)||RR(o)||vH(o)||mH(o)||gH(o)||UR(o)?!1:EH(o)?sE(o,[...r,i]):{path:[...r,i],value:o}},!1)}function _R(e,r){if(e===!1)return;let t=e.path.join("."),n=new Error(`Detected unserializable ${r} at "${t}". ${uE}#strict${r}serializability`);throw n.value=e.value,n.unserializablePath=t,n}function FH(e,r){return function(t,n){if(r.action(n)&&!Ce.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${uE}#strictactionwithinngzone`);return e(t,n)}}function LH(e){return pe()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function kH({strictActionSerializability:e,strictStateSerializability:r}){return t=>e||r?PH(t,{action:n=>e&&!dE(n),state:()=>r}):t}function UH({strictActionImmutability:e,strictStateImmutability:r}){return t=>e||r?NH(t,{action:n=>e&&!dE(n),state:()=>r}):t}function dE(e){return e.type.startsWith("@ngrx")}function jH({strictActionWithinNgZone:e}){return r=>e?FH(r,{action:t=>e&&!dE(t)}):r}function $H(e){return[{provide:wR,useValue:e},{provide:bR,useFactory:BH,deps:[wR]},{provide:ao,deps:[bR],useFactory:LH},{provide:gs,multi:!0,deps:[ao],useFactory:UH},{provide:gs,multi:!0,deps:[ao],useFactory:kH},{provide:gs,multi:!0,deps:[ao],useFactory:jH}]}function VR(){return[{provide:cE,multi:!0,deps:[ao],useFactory:VH}]}function BH(e){return e}function VH(e){if(!e.strictActionTypeUniqueness)return;let r=Object.entries(rE).filter(([,t])=>t>1).map(([t])=>t);if(r.length)throw new Error(`Action types are registered more than once, ${r.map(t=>`"${t}"`).join(", ")}. ${uE}#strictactiontypeuniqueness`)}function HH(e={},r={}){return[{provide:OR,useFactory:xH},{provide:mR,useValue:r.initialState},{provide:aE,useFactory:BR,deps:[mR]},{provide:tE,useValue:e},{provide:ER,useExisting:e instanceof S?e:tE},{provide:NR,deps:[tE,[new Iv(ER)]],useFactory:RH},{provide:IR,useValue:r.metaReducers?r.metaReducers:[]},{provide:DR,deps:[gs,IR],useFactory:OH},{provide:vR,useValue:r.reducerFactory?r.reducerFactory:co},{provide:xR,deps:[vR,DR],useFactory:kR},iH,lH,dH,hH,pH,$H(r.runtimeChecks),VR()]}function zH(e,r,t={}){return[{provide:CR,multi:!0,useValue:e instanceof Object?{}:t},{provide:yR,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(t instanceof S)&&t.reducerFactory?t.reducerFactory:co,metaReducers:!(t instanceof S)&&t.metaReducers?t.metaReducers:[],initialState:!(t instanceof S)&&t.initialState?t.initialState:void 0}},{provide:PR,deps:[CR,yR],useFactory:MH},{provide:nE,multi:!0,useValue:e instanceof Object?e.reducer:r},{provide:SR,multi:!0,useExisting:r instanceof S?r:nE},{provide:FR,multi:!0,deps:[nE,[new Iv(SR)]],useFactory:_H},VR()]}var ec=(()=>{class e{constructor(t,n,i,o,s,a){}static{this.\u0275fac=function(n){return new(n||e)(f(qr),f(Ja),f(Xa),f(ce),f(OR,8),f(cE,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),Md=(()=>{class e{constructor(t,n,i,o,s){this.features=t,this.featureReducers=n,this.reducerManager=i;let a=t.map((c,u)=>{let d=n.shift()[u];return w(v({},c),{reducers:d,initialState:BR(c.initialState)})});i.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(n){return new(n||e)(f(PR),f(FR),f(Td),f(ec),f(cE,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),$n=(()=>{class e{static forRoot(t,n){return{ngModule:ec,providers:[...HH(t,n)]}}static forFeature(t,n,i={}){return{ngModule:Md,providers:[...zH(t,n,i)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function Kae(...e){let r=e.pop(),t=e.map(n=>n.type);return{reducer:r,types:t}}function Zae(e,...r){let t=new Map;for(let n of r)for(let i of n.types){let o=t.get(i);if(o){let s=(a,c)=>n.reducer(o(a,c),c);t.set(i,s)}else t.set(i,n.reducer)}return function(n=e,i){let o=t.get(i.type);return o?o(n,i):n}}var GH={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Od="__@ngrx/effects_create__";function H(e,r={}){let t=r.functional?e:e(),n=v(v({},GH),r);return Object.defineProperty(t,Od,{value:n}),t}function WH(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(Od)?e[n][Od].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][Od];return v({propertyName:n},i)})}function qH(e){return WH(e)}function WR(e){return Object.getPrototypeOf(e)}function YH(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function qR(e){return typeof e=="function"}function HR(e){return e.filter(qR)}function KH(e){return e instanceof S||qR(e)}function ZH(e,r,t){let n=WR(e),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=qH(e).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof e[a]=="function"?e[a]():e[a],d=u?t(l,r):l;return c===!1?d.pipe(ra()):d.pipe(Hg()).pipe(y(m=>({effect:e[a],notification:m,propertyName:a,sourceName:o,sourceInstance:e})))});return dn(...s)}var QH=10;function YR(e,r,t=QH){return e.pipe(F(n=>(r&&r.handleError(n),t<=1?e:YR(e,r,t-1))))}var De=(()=>{class e extends V{constructor(t){super(),t&&(this.source=t)}lift(t){let n=new e;return n.source=this,n.operator=t,n}static{this.\u0275fac=function(n){return new(n||e)(f(Xa))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $(...e){return R(r=>e.some(t=>typeof t=="string"?t===r.type:t.type===r.type))}var KR=new S("@ngrx/effects Internal Root Guard"),_d=new S("@ngrx/effects User Provided Effects"),hE=new S("@ngrx/effects Internal Root Effects"),ZR=new S("@ngrx/effects Internal Root Effects Instances"),zR=new S("@ngrx/effects Internal Feature Effects"),QR=new S("@ngrx/effects Internal Feature Effects Instance Groups"),JH=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>YR}),JR="@ngrx/effects/init",sce=Si(JR);function XH(e,r){if(e.notification.kind==="N"){let t=e.notification.value;!e2(t)&&r.handleError(new Error(`Effect ${t2(e)} dispatched an invalid action: ${n2(t)}`))}}function e2(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function t2({propertyName:e,sourceInstance:r,sourceName:t}){let n=typeof r[e]=="function";return!!t?`"${t}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function n2(e){try{return JSON.stringify(e)}catch{return e}}var r2="ngrxOnIdentifyEffects";function i2(e){return pE(e,r2)}var o2="ngrxOnRunEffects";function s2(e){return pE(e,o2)}var a2="ngrxOnInitEffects";function c2(e){return pE(e,a2)}function pE(e,r){return e&&r in e&&typeof e[r]=="function"}var XR=(()=>{class e extends ie{constructor(t,n){super(),this.errorHandler=t,this.effectsErrorHandler=n}addEffects(t){this.next(t)}toActions(){return this.pipe(xr(t=>YH(t)?WR(t):t),z(t=>t.pipe(xr(u2))),z(t=>{let n=t.pipe(rr(o=>l2(this.errorHandler,this.effectsErrorHandler)(o)),y(o=>(XH(o,this.errorHandler),o.notification)),R(o=>o.kind==="N"&&o.value!=null),Bg()),i=t.pipe(re(1),R(c2),y(o=>o.ngrxOnInitEffects()));return dn(n,i)}))}static{this.\u0275fac=function(n){return new(n||e)(f(ut),f(JH))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function u2(e){return i2(e)?e.ngrxOnIdentifyEffects():""}function l2(e,r){return t=>{let n=ZH(t,e,r);return s2(t)?t.ngrxOnRunEffects(n):n}}var eM=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,n){this.effectSources=t,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(n){return new(n||e)(f(XR),f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tM=(()=>{class e{constructor(t,n,i,o,s,a,c){this.sources=t,n.start();for(let u of o)t.addEffects(u);i.dispatch({type:JR})}addEffects(t){this.sources.addEffects(t)}static{this.\u0275fac=function(n){return new(n||e)(f(XR),f(eM),f(ce),f(ZR),f(ec,8),f(Md,8),f(KR,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),d2=(()=>{class e{constructor(t,n,i,o){let s=n.flat();for(let a of s)t.addEffects(a)}static{this.\u0275fac=function(n){return new(n||e)(f(tM),f(QR),f(ec,8),f(Md,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),Bn=(()=>{class e{static forFeature(...t){let n=t.flat(),i=HR(n);return{ngModule:d2,providers:[i,{provide:zR,multi:!0,useValue:n},{provide:_d,multi:!0,useValue:[]},{provide:QR,multi:!0,useFactory:GR,deps:[zR,_d]}]}}static forRoot(...t){let n=t.flat(),i=HR(n);return{ngModule:tM,providers:[i,{provide:hE,useValue:[n]},{provide:KR,useFactory:f2},{provide:_d,multi:!0,useValue:[]},{provide:ZR,useFactory:GR,deps:[hE,_d]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function GR(e,r){let t=[];for(let n of e)t.push(...n);for(let n of r)t.push(...n);return t.map(n=>KH(n)?E(n):n)}function f2(){let e=E(eM,{optional:!0,skipSelf:!0}),r=E(hE,{self:!0});if(!(r.length===1&&r[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ee="primary",hc=Symbol("RouteTitle"),EE=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t[0]:t}return null}getAll(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ss(e){return new EE(e)}function p2(e,r,t){let n=t.path.split("/");if(n.length>e.length||t.pathMatch==="full"&&(r.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function g2(e,r){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!mr(e[t],r[t]))return!1;return!0}function mr(e,r){let t=e?CE(e):void 0,n=r?CE(r):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!dM(e[i],r[i]))return!1;return!0}function CE(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function dM(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;let t=[...e].sort(),n=[...r].sort();return t.every((i,o)=>n[o]===i)}else return e===r}function fM(e){return e.length>0?e[e.length-1]:null}function bi(e){return ki(e)?e:us(e)?me(Promise.resolve(e)):I(e)}var m2={exact:pM,subset:gM},hM={exact:v2,subset:y2,ignored:()=>!0};function nM(e,r,t){return m2[t.paths](e.root,r.root,t.matrixParams)&&hM[t.queryParams](e.queryParams,r.queryParams)&&!(t.fragment==="exact"&&e.fragment!==r.fragment)}function v2(e,r){return mr(e,r)}function pM(e,r,t){if(!lo(e.segments,r.segments)||!Pd(e.segments,r.segments,t)||e.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!e.children[n]||!pM(e.children[n],r.children[n],t))return!1;return!0}function y2(e,r){return Object.keys(r).length<=Object.keys(e).length&&Object.keys(r).every(t=>dM(e[t],r[t]))}function gM(e,r,t){return mM(e,r,r.segments,t)}function mM(e,r,t,n){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!lo(i,t)||r.hasChildren()||!Pd(i,t,n))}else if(e.segments.length===t.length){if(!lo(e.segments,t)||!Pd(e.segments,t,n))return!1;for(let i in r.children)if(!e.children[i]||!gM(e.children[i],r.children[i],n))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!lo(e.segments,i)||!Pd(e.segments,i,n)||!e.children[ee]?!1:mM(e.children[ee],r,o,n)}}function Pd(e,r,t){return r.every((n,i)=>hM[t](e[i].parameters,n.parameters))}var Ii=class{constructor(r=new be([],{}),t={},n=null){this.root=r,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){return S2.serialize(this)}},be=class{constructor(r,t){this.segments=r,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fd(this)}},uo=class{constructor(r,t){this.path=r,this.parameters=t}get parameterMap(){return this._parameterMap??=Ss(this.parameters),this._parameterMap}toString(){return yM(this)}};function E2(e,r){return lo(e,r)&&e.every((t,n)=>mr(t.parameters,r[n].parameters))}function lo(e,r){return e.length!==r.length?!1:e.every((t,n)=>t.path===r[n].path)}function C2(e,r){let t=[];return Object.entries(e.children).forEach(([n,i])=>{n===ee&&(t=t.concat(r(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==ee&&(t=t.concat(r(i,n)))}),t}var po=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>new fo,providedIn:"root"})}}return e})(),fo=class{parse(r){let t=new IE(r);return new Ii(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(r){let t=`/${tc(r.root,!0)}`,n=b2(r.queryParams),i=typeof r.fragment=="string"?`#${I2(r.fragment)}`:"";return`${t}${n}${i}`}},S2=new fo;function Fd(e){return e.segments.map(r=>yM(r)).join("/")}function tc(e,r){if(!e.hasChildren())return Fd(e);if(r){let t=e.children[ee]?tc(e.children[ee],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ee&&n.push(`${i}:${tc(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=C2(e,(n,i)=>i===ee?[tc(e.children[ee],!1)]:[`${i}:${tc(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[ee]!=null?`${Fd(e)}/${t[0]}`:`${Fd(e)}/(${t.join("//")})`}}function vM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xd(e){return vM(e).replace(/%3B/gi,";")}function I2(e){return encodeURI(e)}function SE(e){return vM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ld(e){return decodeURIComponent(e)}function rM(e){return Ld(e.replace(/\+/g,"%20"))}function yM(e){return`${SE(e.path)}${D2(e.parameters)}`}function D2(e){return Object.entries(e).map(([r,t])=>`;${SE(r)}=${SE(t)}`).join("")}function b2(e){let r=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(i=>`${xd(t)}=${xd(i)}`).join("&"):`${xd(t)}=${xd(n)}`).filter(t=>t);return r.length?`?${r.join("&")}`:""}var w2=/^[^\/()?;#]+/;function gE(e){let r=e.match(w2);return r?r[0]:""}var T2=/^[^\/()?;=#]+/;function A2(e){let r=e.match(T2);return r?r[0]:""}var R2=/^[^=?&#]+/;function M2(e){let r=e.match(R2);return r?r[0]:""}var _2=/^[^&#]+/;function O2(e){let r=e.match(_2);return r?r[0]:""}var IE=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(n[ee]=new be(r,t)),n}parseSegment(){let r=gE(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(r),new uo(Ld(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let t=A2(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let i=gE(this.remaining);i&&(n=i,this.capture(n))}r[Ld(t)]=Ld(n)}parseQueryParam(r){let t=M2(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=O2(this.remaining);s&&(n=s,this.capture(n))}let i=rM(t),o=rM(n);if(r.hasOwnProperty(i)){let s=r[i];Array.isArray(s)||(s=[s],r[i]=s),s.push(o)}else r[i]=o}parseParens(r){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=gE(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=ee);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ee]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new B(4011,!1)}};function EM(e){return e.segments.length>0?new be([],{[ee]:e}):e}function CM(e){let r={};for(let[n,i]of Object.entries(e.children)){let o=CM(i);if(n===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))r[s]=a;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let t=new be(e.segments,r);return x2(t)}function x2(e){if(e.numberOfChildren===1&&e.children[ee]){let r=e.children[ee];return new be(e.segments.concat(r.segments),r.children)}return e}function Is(e){return e instanceof Ii}function N2(e,r,t=null,n=null){let i=SM(e);return IM(i,r,t,n)}function SM(e){let r;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new be(o.url,s);return o===e&&(r=a),a}let n=t(e.root),i=EM(n);return r??i}function IM(e,r,t,n){let i=e;for(;i.parent;)i=i.parent;if(r.length===0)return mE(i,i,i,t,n);let o=P2(r);if(o.toRoot())return mE(i,i,new be([],{}),t,n);let s=F2(o,i,e),a=s.processChildren?ic(s.segmentGroup,s.index,o.commands):bM(s.segmentGroup,s.index,o.commands);return mE(i,s.segmentGroup,a,t,n)}function kd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ac(e){return typeof e=="object"&&e!=null&&e.outlets}function mE(e,r,t,n,i){let o={};n&&Object.entries(n).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===r?s=t:s=DM(e,r,t);let a=EM(CM(s));return new Ii(a,o,i)}function DM(e,r,t){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===r?n[i]=t:n[i]=DM(o,r,t)}),new be(e.segments,n)}var Ud=class{constructor(r,t,n){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=n,r&&n.length>0&&kd(n[0]))throw new B(4003,!1);let i=n.find(ac);if(i&&i!==fM(n))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function P2(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ud(!0,0,e);let r=0,t=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?r++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ud(t,r,n)}var Es=class{constructor(r,t,n){this.segmentGroup=r,this.processChildren=t,this.index=n}};function F2(e,r,t){if(e.isAbsolute)return new Es(r,!0,0);if(!t)return new Es(r,!1,NaN);if(t.parent===null)return new Es(t,!0,0);let n=kd(e.commands[0])?0:1,i=t.segments.length-1+n;return L2(t,i,e.numberOfDoubleDots)}function L2(e,r,t){let n=e,i=r,o=t;for(;o>i;){if(o-=i,n=n.parent,!n)throw new B(4005,!1);i=n.segments.length}return new Es(n,!1,i-o)}function k2(e){return ac(e[0])?e[0].outlets:{[ee]:e}}function bM(e,r,t){if(e??=new be([],{}),e.segments.length===0&&e.hasChildren())return ic(e,r,t);let n=U2(e,r,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new be(e.segments.slice(0,n.pathIndex),{});return o.children[ee]=new be(e.segments.slice(n.pathIndex),e.children),ic(o,0,i)}else return n.match&&i.length===0?new be(e.segments,{}):n.match&&!e.hasChildren()?DE(e,r,t):n.match?ic(e,0,i):DE(e,r,t)}function ic(e,r,t){if(t.length===0)return new be(e.segments,{});{let n=k2(t),i={};if(Object.keys(n).some(o=>o!==ee)&&e.children[ee]&&e.numberOfChildren===1&&e.children[ee].segments.length===0){let o=ic(e.children[ee],r,t);return new be(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=bM(e.children[o],r,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new be(e.segments,i)}}function U2(e,r,t){let n=0,i=r,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=t.length)return o;let s=e.segments[i],a=t[n];if(ac(a))break;let c=`${a}`,u=n<t.length-1?t[n+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!oM(c,u,s))return o;n+=2}else{if(!oM(c,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function DE(e,r,t){let n=e.segments.slice(0,r),i=0;for(;i<t.length;){let o=t[i];if(ac(o)){let c=j2(o.outlets);return new be(n,c)}if(i===0&&kd(t[0])){let c=e.segments[r];n.push(new uo(c.path,iM(t[0]))),i++;continue}let s=ac(o)?o.outlets[ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&kd(a)?(n.push(new uo(s,iM(a))),i+=2):(n.push(new uo(s,{})),i++)}return new be(n,{})}function j2(e){let r={};return Object.entries(e).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[t]=DE(new be([],{}),0,n))}),r}function iM(e){let r={};return Object.entries(e).forEach(([t,n])=>r[t]=`${n}`),r}function oM(e,r,t){return e==t.path&&mr(r,t.parameters)}var oc="imperative",dt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(dt||{}),Sn=class{constructor(r,t){this.id=r,this.url=t}},In=class extends Sn{constructor(r,t,n="imperative",i=null){super(r,t),this.type=dt.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},lt=class extends Sn{constructor(r,t,n){super(r,t),this.urlAfterRedirects=n,this.type=dt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(sn||{}),jd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(jd||{}),Dn=class extends Sn{constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i,this.type=dt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends Sn{constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i,this.type=dt.NavigationSkipped}},vr=class extends Sn{constructor(r,t,n,i){super(r,t),this.error=n,this.target=i,this.type=dt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ho=class extends Sn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=dt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bE=class extends Sn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=dt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wE=class extends Sn{constructor(r,t,n,i,o){super(r,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=dt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},TE=class extends Sn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=dt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},AE=class extends Sn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=dt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},RE=class{constructor(r){this.route=r,this.type=dt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ME=class{constructor(r){this.route=r,this.type=dt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_E=class{constructor(r){this.snapshot=r,this.type=dt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},OE=class{constructor(r){this.snapshot=r,this.type=dt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xE=class{constructor(r){this.snapshot=r,this.type=dt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},NE=class{constructor(r){this.snapshot=r,this.type=dt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$d=class{constructor(r,t,n){this.routerEvent=r,this.position=t,this.anchor=n,this.type=dt.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},cc=class{},uc=class{constructor(r){this.url=r}};var PE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pc,this.attachRef=null}},pc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){let i=this.getOrCreateContext(t);i.outlet=n,this.contexts.set(t,i)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new PE,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bd=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null}children(r){let t=FE(r,this._root);return t?t.children.map(n=>n.value):[]}firstChild(r){let t=FE(r,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(r){let t=LE(r,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return LE(r,this._root).map(t=>t.value)}};function FE(e,r){if(e===r.value)return r;for(let t of r.children){let n=FE(e,t);if(n)return n}return null}function LE(e,r){if(e===r.value)return[r];for(let t of r.children){let n=LE(e,t);if(n.length)return n.unshift(r),n}return[]}var on=class{constructor(r,t){this.value=r,this.children=t}toString(){return`TreeNode(${this.value})`}};function ys(e){let r={};return e&&e.children.forEach(t=>r[t.value.outlet]=t),r}var Vd=class extends Bd{constructor(r,t){super(r),this.snapshot=t,WE(this,r)}toString(){return this.snapshot.toString()}};function wM(e){let r=$2(e),t=new Re([new uo("",{})]),n=new Re({}),i=new Re({}),o=new Re({}),s=new Re(""),a=new Yr(t,n,o,s,i,ee,e,r.root);return a.snapshot=r.root,new Vd(new on(a,[]),r)}function $2(e){let r={},t={},n={},i="",o=new lc([],r,n,i,t,ee,e,null,{});return new Hd("",new on(o,[]))}var Yr=class{constructor(r,t,n,i,o,s,a,c){this.urlSubject=r,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(y(u=>u[hc]))??I(void 0),this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(y(r=>Ss(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(y(r=>Ss(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function GE(e,r,t="emptyOnly"){let n,{routeConfig:i}=e;return r!==null&&(t==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:v(v({},r.params),e.params),data:v(v({},r.data),e.data),resolve:v(v(v(v({},e.data),r.data),i?.data),e._resolvedData)}:n={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&AM(i)&&(n.resolve[hc]=i.title),n}var lc=class{get title(){return this.data?.[hc]}constructor(r,t,n,i,o,s,a,c,u){this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${t}')`}},Hd=class extends Bd{constructor(r,t){super(t),this.url=r,WE(this,t)}toString(){return TM(this._root)}};function WE(e,r){r.value._routerState=e,r.children.forEach(t=>WE(e,t))}function TM(e){let r=e.children.length>0?` { ${e.children.map(TM).join(", ")} } `:"";return`${e.value}${r}`}function vE(e){if(e.snapshot){let r=e.snapshot,t=e._futureSnapshot;e.snapshot=t,mr(r.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),r.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),mr(r.params,t.params)||e.paramsSubject.next(t.params),g2(r.url,t.url)||e.urlSubject.next(t.url),mr(r.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function kE(e,r){let t=mr(e.params,r.params)&&E2(e.url,r.url),n=!e.parent!=!r.parent;return t&&!n&&(!e.parent||kE(e.parent,r.parent))}function AM(e){return typeof e.title=="string"||e.title===null}var B2=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=E(pc),this.location=E(qt),this.changeDetector=E(Br),this.environmentInjector=E(Tt),this.inputBinder=E(Yd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:i}=t.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new UE(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=Ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mi]})}}return e})(),UE=class e{__ngOutletInjector(r){return new e(this.route,this.childContexts,r)}constructor(r,t,n){this.route=r,this.childContexts=t,this.parent=n}get(r,t){return r===Yr?this.route:r===pc?this.childContexts:this.parent.get(r,t)}},Yd=new S(""),sM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:n}=t,i=Fe([n.queryParams,n.params,n.data]).pipe(_(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?I(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(t);return}let s=SA(n.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function V2(e,r,t){let n=dc(e,r._root,t?t._root:void 0);return new Vd(n,r)}function dc(e,r,t){if(t&&e.shouldReuseRoute(r.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=r.value;let i=H2(e,r,t);return new on(n,i)}else{if(e.shouldAttach(r.value)){let o=e.retrieve(r.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(a=>dc(e,a)),s}}let n=z2(r.value),i=r.children.map(o=>dc(e,o));return new on(n,i)}}function H2(e,r,t){return r.children.map(n=>{for(let i of t.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return dc(e,n,i);return dc(e,n)})}function z2(e){return new Yr(new Re(e.url),new Re(e.params),new Re(e.queryParams),new Re(e.fragment),new Re(e.data),e.outlet,e.component,e)}var RM="ngNavigationCancelingError";function MM(e,r){let{redirectTo:t,navigationBehaviorOptions:n}=Is(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=_M(!1,sn.Redirect);return i.url=t,i.navigationBehaviorOptions=n,i}function _M(e,r){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[RM]=!0,t.cancellationCode=r,t}function G2(e){return OM(e)&&Is(e.url)}function OM(e){return!!e&&e[RM]}var W2=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Hw({type:e,selectors:[["ng-component"]],standalone:!0,features:[cA],decls:1,vars:0,template:function(n,i){n&1&&dy(0,"router-outlet")},dependencies:[B2],encapsulation:2})}}return e})();function q2(e,r){return e.providers&&!e._injector&&(e._injector=Zl(e.providers,r,`Route: ${e.path}`)),e._injector??r}function qE(e){let r=e.children&&e.children.map(qE),t=r?w(v({},e),{children:r}):v({},e);return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=W2),t}function yr(e){return e.outlet||ee}function Y2(e,r){let t=e.filter(n=>yr(n)===r);return t.push(...e.filter(n=>yr(n)!==r)),t}function gc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let r=e.parent;r;r=r.parent){let t=r.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var K2=(e,r,t,n)=>y(i=>(new jE(r,i.targetRouterState,i.currentRouterState,t,n).activate(e),i)),jE=class{constructor(r,t,n,i,o){this.routeReuseStrategy=r,this.futureState=t,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(r){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,r),vE(this.futureState.root),this.activateChildRoutes(t,n,r)}deactivateChildRoutes(r,t,n){let i=ys(t);r.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(r,t,s.children)}else this.deactivateChildRoutes(r,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t)}detachAndStoreRouteSubtree(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=ys(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:a})}}deactivateRouteAndOutlet(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=ys(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,t,n){let i=ys(t);r.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new NE(o.value.snapshot))}),r.children.length&&this.forwardEvent(new OE(r.value.snapshot))}activateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(vE(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,t,s.children)}else this.activateChildRoutes(r,t,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vE(a.route.value),this.activateChildRoutes(r,null,s.children)}else{let a=gc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(r,null,s.children)}}else this.activateChildRoutes(r,null,n)}},zd=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},Cs=class{constructor(r,t){this.component=r,this.route=t}};function Z2(e,r,t){let n=e._root,i=r?r._root:null;return nc(n,i,t,[n.value])}function Q2(e){let r=e.routeConfig?e.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:e,guards:r}}function bs(e,r){let t=Symbol(),n=r.get(e,t);return n===t?typeof e=="function"&&!_w(e)?e:r.get(e):n}function nc(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ys(r);return e.children.forEach(s=>{J2(s,o[s.value.outlet],t,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>sc(a,t.getContext(s),i)),i}function J2(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=r?r.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=X2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new zd(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?nc(e,r,a?a.children:null,n,i):nc(e,r,t,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cs(a.outlet.component,s))}else s&&sc(r,a,i),i.canActivateChecks.push(new zd(n)),o.component?nc(e,null,a?a.children:null,n,i):nc(e,null,t,n,i);return i}function X2(e,r,t){if(typeof t=="function")return t(e,r);switch(t){case"pathParamsChange":return!lo(e.url,r.url);case"pathParamsOrQueryParamsChange":return!lo(e.url,r.url)||!mr(e.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kE(e,r)||!mr(e.queryParams,r.queryParams);case"paramsChange":default:return!kE(e,r)}}function sc(e,r,t){let n=ys(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?r?sc(s,r.children.getContext(o),t):sc(s,null,t):sc(s,r,t)}),i.component?r&&r.outlet&&r.outlet.isActivated?t.canDeactivateChecks.push(new Cs(r.outlet.component,i)):t.canDeactivateChecks.push(new Cs(null,i)):t.canDeactivateChecks.push(new Cs(null,i))}function mc(e){return typeof e=="function"}function ez(e){return typeof e=="boolean"}function tz(e){return e&&mc(e.canLoad)}function nz(e){return e&&mc(e.canActivate)}function rz(e){return e&&mc(e.canActivateChild)}function iz(e){return e&&mc(e.canDeactivate)}function oz(e){return e&&mc(e.canMatch)}function xM(e){return e instanceof Mn||e?.name==="EmptyError"}var Nd=Symbol("INITIAL_VALUE");function Ds(){return _(e=>Fe(e.map(r=>r.pipe(re(1),tr(Nd)))).pipe(y(r=>{for(let t of r)if(t!==!0){if(t===Nd)return Nd;if(t===!1||t instanceof Ii)return t}return!0}),R(r=>r!==Nd),re(1)))}function sz(e,r){return z(t=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?I(w(v({},t),{guardsResult:!0})):az(s,n,i,e).pipe(z(a=>a&&ez(a)?cz(n,o,e,r):I(a)),y(a=>w(v({},t),{guardsResult:a})))})}function az(e,r,t,n){return me(e).pipe(z(i=>hz(i.component,i.route,t,r,n)),Nt(i=>i!==!0,!0))}function cz(e,r,t,n){return me(r).pipe(je(i=>Xn(lz(i.route.parent,n),uz(i.route,n),fz(e,i.path,t),dz(e,i.route,t))),Nt(i=>i!==!0,!0))}function uz(e,r){return e!==null&&r&&r(new xE(e)),I(!0)}function lz(e,r){return e!==null&&r&&r(new _E(e)),I(!0)}function dz(e,r,t){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let i=n.map(o=>Ze(()=>{let s=gc(r)??t,a=bs(o,s),c=nz(a)?a.canActivate(r,e):kn(s,()=>a(r,e));return bi(c).pipe(Nt())}));return I(i).pipe(Ds())}function fz(e,r,t){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(s=>Q2(s)).filter(s=>s!==null).map(s=>Ze(()=>{let a=s.guards.map(c=>{let u=gc(s.node)??t,l=bs(c,u),d=rz(l)?l.canActivateChild(n,e):kn(u,()=>l(n,e));return bi(d).pipe(Nt())});return I(a).pipe(Ds())}));return I(o).pipe(Ds())}function hz(e,r,t,n,i){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return I(!0);let s=o.map(a=>{let c=gc(r)??i,u=bs(a,c),l=iz(u)?u.canDeactivate(e,r,t,n):kn(c,()=>u(e,r,t,n));return bi(l).pipe(Nt())});return I(s).pipe(Ds())}function pz(e,r,t,n){let i=r.canLoad;if(i===void 0||i.length===0)return I(!0);let o=i.map(s=>{let a=bs(s,e),c=tz(a)?a.canLoad(r,t):kn(e,()=>a(r,t));return bi(c)});return I(o).pipe(Ds(),NM(n))}function NM(e){return Mg(L(r=>{if(Is(r))throw MM(e,r)}),y(r=>r===!0))}function gz(e,r,t,n){let i=r.canMatch;if(!i||i.length===0)return I(!0);let o=i.map(s=>{let a=bs(s,e),c=oz(a)?a.canMatch(r,t):kn(e,()=>a(r,t));return bi(c)});return I(o).pipe(Ds(),NM(n))}var fc=class{constructor(r){this.segmentGroup=r||null}},Gd=class extends Error{constructor(r){super(),this.urlTree=r}};function vs(e){return Pt(new fc(e))}function mz(e){return Pt(new B(4e3,!1))}function vz(e){return Pt(_M(!1,sn.GuardRejected))}var $E=class{constructor(r,t){this.urlSerializer=r,this.urlTree=t}lineralizeSegments(r,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return I(n);if(i.numberOfChildren>1||!i.children[ee])return mz(r.redirectTo);i=i.children[ee]}}applyRedirectCommands(r,t,n){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),r,n);if(t.startsWith("/"))throw new Gd(i);return i}applyRedirectCreateUrlTree(r,t,n,i){let o=this.createSegmentGroup(r,t.root,n,i);return new Ii(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(r,t){let n={};return Object.entries(r).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=t[a]}else n[i]=o}),n}createSegmentGroup(r,t,n,i){let o=this.createSegments(r,t.segments,n,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(r,c,n,i)}),new be(o,s)}createSegments(r,t,n,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(r,o,i):this.findOrReturn(o,n))}findPosParam(r,t,n){let i=n[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(r,t){let n=0;for(let i of t){if(i.path===r.path)return t.splice(n),i;n++}return r}},BE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yz(e,r,t,n,i){let o=YE(e,r,t);return o.matched?(n=q2(r,n),gz(n,r,t,i).pipe(y(s=>s===!0?o:v({},BE)))):I(o)}function YE(e,r,t){if(r.path==="**")return Ez(t);if(r.path==="")return r.pathMatch==="full"&&(e.hasChildren()||t.length>0)?v({},BE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(r.matcher||p2)(t,e,r);if(!i)return v({},BE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ez(e){return{matched:!0,parameters:e.length>0?fM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function aM(e,r,t,n){return t.length>0&&Iz(e,t,n)?{segmentGroup:new be(r,Sz(n,new be(t,e.children))),slicedSegments:[]}:t.length===0&&Dz(e,t,n)?{segmentGroup:new be(e.segments,Cz(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new be(e.segments,e.children),slicedSegments:t}}function Cz(e,r,t,n){let i={};for(let o of t)if(Kd(e,r,o)&&!n[yr(o)]){let s=new be([],{});i[yr(o)]=s}return v(v({},n),i)}function Sz(e,r){let t={};t[ee]=r;for(let n of e)if(n.path===""&&yr(n)!==ee){let i=new be([],{});t[yr(n)]=i}return t}function Iz(e,r,t){return t.some(n=>Kd(e,r,n)&&yr(n)!==ee)}function Dz(e,r,t){return t.some(n=>Kd(e,r,n))}function Kd(e,r,t){return(e.hasChildren()||r.length>0)&&t.pathMatch==="full"?!1:t.path===""}function bz(e,r,t,n){return yr(e)!==n&&(n===ee||!Kd(r,t,e))?!1:YE(r,e,t).matched}function wz(e,r,t){return r.length===0&&!e.children[t]}var VE=class{};function Tz(e,r,t,n,i,o,s="emptyOnly"){return new HE(e,r,t,n,i,s,o).recognize()}var Az=31,HE=class{constructor(r,t,n,i,o,s,a){this.injector=r,this.configLoader=t,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new $E(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new B(4002,`'${r.segmentGroup}'`)}recognize(){let r=aM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(y(t=>{let n=new lc([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new on(n,t),o=new Hd("",i),s=N2(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r,ee).pipe(F(n=>{if(n instanceof Gd)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof fc?this.noMatchError(n):n}))}inheritParamsAndData(r,t){let n=r.value,i=GE(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),r.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(r,t,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,t,n):this.processSegment(r,t,n,n.segments,i,!0).pipe(y(o=>o instanceof on?[o]:[]))}processChildren(r,t,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return me(i).pipe(je(o=>{let s=n.children[o],a=Y2(t,o);return this.processSegmentGroup(r,a,s,o)}),Bi((o,s)=>(o.push(...s),o)),ci(null),Vg(),z(o=>{if(o===null)return vs(n);let s=PM(o);return Rz(s),I(s)}))}processSegment(r,t,n,i,o,s){return me(t).pipe(je(a=>this.processSegmentAgainstRoute(a._injector??r,t,a,n,i,o,s).pipe(F(c=>{if(c instanceof fc)return I(null);throw c}))),Nt(a=>!!a),F(a=>{if(xM(a))return wz(n,i,o)?I(new VE):vs(n);throw a}))}processSegmentAgainstRoute(r,t,n,i,o,s,a){return bz(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(r,i,t,n,o,s):vs(i):vs(i)}expandSegmentAgainstRouteUsingRedirect(r,t,n,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=YE(t,i,o);if(!a)return vs(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Az&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(z(h=>this.processSegment(r,n,t,h.concat(l),s,!1)))}matchSegmentAgainstRoute(r,t,n,i,o){let s=yz(t,n,i,r,this.urlSerializer);return n.path==="**"&&(t.children={}),s.pipe(_(a=>a.matched?(r=n._injector??r,this.getChildConfig(r,n,i).pipe(_(({routes:c})=>{let u=n._loadedInjector??r,{consumedSegments:l,remainingSegments:d,parameters:h}=a,m=new lc(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,_z(n),yr(n),n.component??n._loadedComponent??null,n,Oz(n)),{segmentGroup:C,slicedSegments:D}=aM(t,l,d,c);if(D.length===0&&C.hasChildren())return this.processChildren(u,c,C).pipe(y(N=>N===null?null:new on(m,N)));if(c.length===0&&D.length===0)return I(new on(m,[]));let A=yr(n)===o;return this.processSegment(u,c,C,D,A?ee:o,!0).pipe(y(N=>new on(m,N instanceof on?[N]:[])))}))):vs(t)))}getChildConfig(r,t,n){return t.children?I({routes:t.children,injector:r}):t.loadChildren?t._loadedRoutes!==void 0?I({routes:t._loadedRoutes,injector:t._loadedInjector}):pz(r,t,n,this.urlSerializer).pipe(z(i=>i?this.configLoader.loadChildren(r,t).pipe(L(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):vz(t))):I({routes:[],injector:r})}};function Rz(e){e.sort((r,t)=>r.value.outlet===ee?-1:t.value.outlet===ee?1:r.value.outlet.localeCompare(t.value.outlet))}function Mz(e){let r=e.value.routeConfig;return r&&r.path===""}function PM(e){let r=[],t=new Set;for(let n of e){if(!Mz(n)){r.push(n);continue}let i=r.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),t.add(i)):r.push(n)}for(let n of t){let i=PM(n.children);r.push(new on(n.value,i))}return r.filter(n=>!t.has(n))}function _z(e){return e.data||{}}function Oz(e){return e.resolve||{}}function xz(e,r,t,n,i,o){return z(s=>Tz(e,r,t,n,s.extractedUrl,i,o).pipe(y(({state:a,tree:c})=>w(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Nz(e,r){return z(t=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return I(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of FM(c))s.add(u);let a=0;return me(s).pipe(je(c=>o.has(c)?Pz(c,n,e,r):(c.data=GE(c,c.parent,e).resolve,I(void 0))),L(()=>a++),$o(1),z(c=>a===s.size?I(t):ge))})}function FM(e){let r=e.children.map(t=>FM(t)).flat();return[e,...r]}function Pz(e,r,t,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!AM(i)&&(o[hc]=i.title),Fz(o,e,r,n).pipe(y(s=>(e._resolvedData=s,e.data=GE(e,e.parent,t).resolve,null)))}function Fz(e,r,t,n){let i=CE(e);if(i.length===0)return I({});let o={};return me(i).pipe(z(s=>Lz(e[s],r,t,n).pipe(Nt(),L(a=>{o[s]=a}))),$o(1),ia(o),F(s=>xM(s)?ge:Pt(s)))}function Lz(e,r,t,n){let i=gc(r)??n,o=bs(e,i),s=o.resolve?o.resolve(r,t):kn(i,()=>o(r,t));return bi(s)}function yE(e){return _(r=>{let t=e(r);return t?me(t).pipe(y(()=>r)):I(r)})}var LM=(()=>{class e{buildTitle(t){let n,i=t.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===ee);return n}getResolvedTitleForRoute(t){return t.data[hc]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>E(kz),providedIn:"root"})}}return e})(),kz=(()=>{class e extends LM{constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||e)(f(gR))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vc=new S("",{providedIn:"root",factory:()=>({})}),Wd=new S(""),KE=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(ds)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return I(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let n=bi(t.loadComponent()).pipe(y(kM),L(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),_n(()=>{this.componentLoaders.delete(t)})),i=new ui(n,()=>new ie).pipe(Uo());return this.componentLoaders.set(t,i),i}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return I({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=Uz(n,this.compiler,t,this.onLoadEndListener).pipe(_n(()=>{this.childrenLoaders.delete(n)})),s=new ui(o,()=>new ie).pipe(Uo());return this.childrenLoaders.set(n,s),s}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Uz(e,r,t,n){return bi(e.loadChildren()).pipe(y(kM),z(i=>i instanceof Xi||Array.isArray(i)?I(i):me(r.compileModuleAsync(i))),y(i=>{n&&n(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Wd,[],{optional:!0,self:!0}).flat()),{routes:s.map(qE),injector:o}}))}function jz(e){return e&&typeof e=="object"&&"default"in e}function kM(e){return jz(e)?e.default:e}var ZE=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>E($z),providedIn:"root"})}}return e})(),$z=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UM=new S(""),jM=new S("");function Bz(e,r,t){let n=e.get(jM),i=e.get(Le);return e.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),Vz(e))),{onViewTransitionCreated:c}=n;return c&&kn(e,()=>c({transition:a,from:r,to:t})),s})}function Vz(e){return new Promise(r=>{Kl(r,{injector:e})})}var QE=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ie,this.transitionAbortSubject=new ie,this.configLoader=E(KE),this.environmentInjector=E(Tt),this.urlSerializer=E(po),this.rootContexts=E(pc),this.location=E(pr),this.inputBindingEnabled=E(Yd,{optional:!0})!==null,this.titleStrategy=E(LM),this.options=E(vc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(ZE),this.createViewTransition=E(UM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let t=i=>this.events.next(new RE(i)),n=i=>this.events.next(new ME(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;this.transitions?.next(w(v(v({},this.transitions.value),t),{id:n}))}setupNavigations(t,n,i){return this.transitions=new Re({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(R(o=>o.id!==0),y(o=>w(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),_(o=>{let s=!1,a=!1;return I(o).pipe(_(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",sn.SupersededByNewNavigation),ge;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?w(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new Di(c.id,this.urlSerializer.serialize(c.rawUrl),d,jd.IgnoredSameUrlNavigation)),c.resolve(null),ge}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return I(c).pipe(_(d=>{let h=this.transitions?.getValue();return this.events.next(new In(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?ge:Promise.resolve(d)}),xz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),L(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=w(v({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new ho(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:m,restoredState:C,extras:D}=c,A=new In(d,this.urlSerializer.serialize(h),m,C);this.events.next(A);let N=wM(this.rootComponentType).snapshot;return this.currentTransition=o=w(v({},c),{targetSnapshot:N,urlAfterRedirects:h,extras:w(v({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,I(o)}else{let d="";return this.events.next(new Di(c.id,this.urlSerializer.serialize(c.extractedUrl),d,jd.IgnoredByUrlHandlingStrategy)),c.resolve(null),ge}}),L(c=>{let u=new bE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),y(c=>(this.currentTransition=o=w(v({},c),{guards:Z2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),sz(this.environmentInjector,c=>this.events.next(c)),L(c=>{if(o.guardsResult=c.guardsResult,Is(c.guardsResult))throw MM(this.urlSerializer,c.guardsResult);let u=new wE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),R(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",sn.GuardRejected),!1)),yE(c=>{if(c.guards.canActivateChecks.length)return I(c).pipe(L(u=>{let l=new TE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),_(u=>{let l=!1;return I(u).pipe(Nz(this.paramsInheritanceStrategy,this.environmentInjector),L({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",sn.NoDataFromResolver)}}))}),L(u=>{let l=new AE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),yE(c=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(L(h=>{l.component=h}),y(()=>{})));for(let h of l.children)d.push(...u(h));return d};return Fe(u(c.targetSnapshot.root)).pipe(ci(null),re(1))}),yE(()=>this.afterPreactivation()),_(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?me(l).pipe(y(()=>o)):I(o)}),y(c=>{let u=V2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=w(v({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),L(()=>{this.events.next(new cc)}),K2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),re(1),L({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lt(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),ha(this.transitionAbortSubject.pipe(L(c=>{throw c}))),_n(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",sn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(c=>{if(a=!0,OM(c))this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),G2(c)?this.events.next(new uc(c.url)):o.resolve(!1);else{this.events.next(new vr(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ge}))}))}cancelNavigationTransition(t,n,i){let o=new Dn(t.id,this.urlSerializer.serialize(t.extractedUrl),n,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Hz(e){return e!==oc}var zz=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>E(Gz),providedIn:"root"})}}return e})(),zE=class{shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig}},Gz=(()=>{class e extends zE{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$M=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>E(Wz),providedIn:"root"})}}return e})(),Wz=(()=>{class e extends $M{constructor(){super(...arguments),this.location=E(pr),this.urlSerializer=E(po),this.options=E(vc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(ZE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof In)this.stateMemento=this.createStateMemento();else if(t instanceof Di)this.rawUrlTree=n.initialUrl;else if(t instanceof ho){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(i,n)}}else t instanceof cc?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):t instanceof Dn&&(t.code===sn.GuardRejected||t.code===sn.NoDataFromResolver)?this.restoreHistory(n):t instanceof vr?this.restoreHistory(n,!0):t instanceof lt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){let o=this.browserPageId,s=v(v({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(i,"",s)}else{let o=v(v({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(rc||{});function BM(e,r){e.events.pipe(R(t=>t instanceof lt||t instanceof Dn||t instanceof vr||t instanceof Di),y(t=>t instanceof lt||t instanceof Di?rc.COMPLETE:(t instanceof Dn?t.code===sn.Redirect||t.code===sn.SupersededByNewNavigation:!1)?rc.REDIRECTING:rc.FAILED),R(t=>t!==rc.REDIRECTING),re(1)).subscribe(()=>{r()})}function qz(e){throw e}var Yz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ne=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(ed),this.stateManager=E($M),this.options=E(vc,{optional:!0})||{},this.pendingTasks=E(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(QE),this.urlSerializer=E(po),this.location=E(pr),this.urlHandlingStrategy=E(ZE),this._events=new ie,this.errorHandler=this.options.errorHandler||qz,this.navigated=!1,this.routeReuseStrategy=E(zz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Wd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(Yd,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=E(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Dn&&n.code!==sn.Redirect&&n.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof lt)this.navigated=!0;else if(n instanceof uc){let s=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Hz(i.source)};this.scheduleNavigation(s,oc,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Qz(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:s,l=null;switch(a){case"merge":l=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=SM(h)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return IM(d,t,l,u??null)}navigateByUrl(t,n={skipLocationChange:!1}){let i=Is(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,oc,null,n)}navigate(t,n={skipLocationChange:!1}){return Zz(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let i;if(n===!0?i=v({},Yz):n===!1?i=v({},Kz):i=n,Is(t))return nM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(t,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return BM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Zz(e){for(let r=0;r<e.length;r++)if(e[r]==null)throw new B(4008,!1)}function Qz(e){return!(e instanceof cc)&&!(e instanceof uc)}var cM=(()=>{class e{constructor(t,n,i,o,s,a){this.router=t,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ie,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof lt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,n,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||n||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let n=this.href===null?null:QT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(t,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,t,n):i.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||e)(J(Ne),J(Yr),Uv("tabindex"),J(as),J(dr),J(Wr))}}static{this.\u0275dir=Ut({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&fy("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&cy("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[hn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ba],skipLocationChange:[hn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ba],replaceUrl:[hn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ba],routerLink:"routerLink"},standalone:!0,features:[oy,mi]})}}return e})(),bce=(()=>{class e{get isActive(){return this._isActive}constructor(t,n,i,o,s){this.router=t,this.element=n,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new yt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof lt&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Jn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=me(t).pipe(Jn()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){let n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let n=Jz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,n):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(n){return new(n||e)(J(Ne),J(dr),J(as),J(Br),J(cM,8))}}static{this.\u0275dir=Ut({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,o){if(n&1&&rA(o,cM,5),n&2){let s;iA(s=oA())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[mi]})}}return e})();function Jz(e){return!!e.paths}var qd=class{};var Xz=(()=>{class e{constructor(t,n,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(R(t=>t instanceof lt),je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Zl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return me(i).pipe(Jn())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(t,n):i=I(null);let o=i.pipe(z(s=>s===null?I(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return me([o,s]).pipe(Jn())}else return o})}static{this.\u0275fac=function(n){return new(n||e)(f(Ne),f(ds),f(Tt),f(qd),f(KE))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VM=new S(""),eG=(()=>{class e{constructor(t,n,i,o,s={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=E(Tt),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof In?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Di&&t.code===jd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $d&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>ot(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Kl(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new $d(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){d0()}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function tG(e){return e.routerState.root}function yc(e,r){return{\u0275kind:e,\u0275providers:r}}function nG(){let e=E(Qe);return r=>{let t=e.get(io);if(r!==t.components[0])return;let n=e.get(Ne),i=e.get(HM);e.get(JE)===1&&n.initialNavigation(),e.get(zM,null,le.Optional)?.setUpPreloading(),e.get(VM,null,le.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HM=new S("",{factory:()=>new ie}),JE=new S("",{providedIn:"root",factory:()=>1});function rG(){return yc(2,[{provide:JE,useValue:0},{provide:Ct,multi:!0,deps:[Qe],useFactory:r=>{let t=r.get(vd,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let i=r.get(Ne),o=r.get(HM);BM(i,()=>{n(!0)}),r.get(QE).afterPreactivation=()=>(n(!0),o.closed?I(void 0):o),i.initialNavigation()}))}}])}function iG(){return yc(3,[{provide:Ct,multi:!0,useFactory:()=>{let r=E(Ne);return()=>{r.setUpLocationChangeListener()}}},{provide:JE,useValue:2}])}var zM=new S("");function oG(e){return yc(0,[{provide:zM,useExisting:Xz},{provide:qd,useExisting:e}])}function sG(){return yc(8,[sM,{provide:Yd,useExisting:sM}])}function aG(e){let r=[{provide:UM,useValue:Bz},{provide:jM,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return yc(9,r)}var uM=new S("ROUTER_FORROOT_GUARD"),cG=[pr,{provide:po,useClass:fo},Ne,pc,{provide:Yr,useFactory:tG,deps:[Ne]},KE,[]],GM=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[cG,[],{provide:Wd,multi:!0,useValue:t},{provide:uM,useFactory:fG,deps:[[Ne,new gn,new Ol]]},{provide:vc,useValue:n||{}},n?.useHash?lG():dG(),uG(),n?.preloadingStrategy?oG(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?hG(n):[],n?.bindToComponentInputs?sG().\u0275providers:[],n?.enableViewTransitions?aG().\u0275providers:[],pG()]}}static forChild(t){return{ngModule:e,providers:[{provide:Wd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||e)(f(uM,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function uG(){return{provide:VM,useFactory:()=>{let e=E(qA),r=E(Ce),t=E(vc),n=E(QE),i=E(po);return t.scrollOffset&&e.setOffset(t.scrollOffset),new eG(i,n,e,r,t)}}}function lG(){return{provide:Wr,useClass:LA}}function dG(){return{provide:Wr,useClass:Ny}}function fG(e){return"guarded"}function hG(e){return[e.initialNavigation==="disabled"?iG().\u0275providers:[],e.initialNavigation==="enabledBlocking"?rG().\u0275providers:[]]}var lM=new S("");function pG(){return[{provide:lM,useFactory:nG},{provide:ls,multi:!0,useExisting:lM}]}var Zd=class{validateSignature(r){return Promise.resolve(null)}validateAtHash(r){return Promise.resolve(!0)}},Qd=class{};var Ec=class{},gG=(()=>{class e extends Ec{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();var Jd=class{},mo=class{},mG=(()=>{class e{constructor(){this.data=new Map}getItem(t){return this.data.get(t)}removeItem(t){this.data.delete(t)}setItem(t,n){this.data.set(t,n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();var Cc=class{constructor(r){this.type=r}},$t=class extends Cc{constructor(r,t=null){super(r),this.info=t}},Vn=class extends Cc{constructor(r,t=null){super(r),this.info=t}},Ve=class extends Cc{constructor(r,t,n=null){super(r),this.reason=t,this.params=n}};function qM(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(r).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function YM(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var ws=class{constructor(r){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=t=>{location.href=t},r&&Object.assign(this,r)}},go=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},Xd=class{};var KM=(()=>{class e{getHashFragmentParams(t){let n=t||window.location.hash;if(n=decodeURIComponent(n),n.indexOf("#")!==0)return{};let i=n.indexOf("?");return i>-1?n=n.substr(i+1):n=n.substr(1),this.parseQueryString(n)}parseQueryString(t){let n={},i,o,s,a,c,u;if(t===null)return n;let l=t.split("&");for(let d=0;d<l.length;d++)i=l[d],o=i.indexOf("="),o===-1?(s=i,a=null):(s=i.substr(0,o),a=i.substr(o+1)),c=decodeURIComponent(s),u=decodeURIComponent(a),c.substr(0,1)==="/"&&(c=c.substr(1)),n[c]=u;return n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),ZM=32,vG=64,yG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function XE(e,r,t,n,i){let o,s,a,c,u,l,d,h,m,C,D,A,N;for(;i>=64;){for(o=r[0],s=r[1],a=r[2],c=r[3],u=r[4],l=r[5],d=r[6],h=r[7],C=0;C<16;C++)D=n+C*4,e[C]=(t[D]&255)<<24|(t[D+1]&255)<<16|(t[D+2]&255)<<8|t[D+3]&255;for(C=16;C<64;C++)m=e[C-2],A=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,m=e[C-15],N=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,e[C]=(A+e[C-7]|0)+(N+e[C-16]|0);for(C=0;C<64;C++)A=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&d)|0)+(h+(yG[C]+e[C]|0)|0)|0,N=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0,h=d,d=l,l=u,u=c+A|0,c=a,a=s,s=o,o=A+N|0;r[0]+=o,r[1]+=s,r[2]+=a,r[3]+=c,r[4]+=u,r[5]+=l,r[6]+=d,r[7]+=h,n+=64,i-=64}return n}var eC=class{constructor(){this.digestLength=ZM,this.blockSize=vG,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let r=0;r<this.buffer.length;r++)this.buffer[r]=0;for(let r=0;r<this.temp.length;r++)this.temp[r]=0;this.reset()}update(r,t=r.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=r[n++],t--;this.bufferLength===64&&(XE(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=XE(this.temp,this.state,r,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=r[n++],t--;return this}finish(r){if(!this.finished){let t=this.bytesHashed,n=this.bufferLength,i=t/536870912|0,o=t<<3,s=t%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<s-8;a++)this.buffer[a]=0;this.buffer[s-8]=i>>>24&255,this.buffer[s-7]=i>>>16&255,this.buffer[s-6]=i>>>8&255,this.buffer[s-5]=i>>>0&255,this.buffer[s-4]=o>>>24&255,this.buffer[s-3]=o>>>16&255,this.buffer[s-2]=o>>>8&255,this.buffer[s-1]=o>>>0&255,XE(this.temp,this.state,this.buffer,0,s),this.finished=!0}for(let t=0;t<8;t++)r[t*4+0]=this.state[t]>>>24&255,r[t*4+1]=this.state[t]>>>16&255,r[t*4+2]=this.state[t]>>>8&255,r[t*4+3]=this.state[t]>>>0&255;return this}digest(){let r=new Uint8Array(this.digestLength);return this.finish(r),r}_saveState(r){for(let t=0;t<this.state.length;t++)r[t]=this.state[t]}_restoreState(r,t){for(let n=0;n<this.state.length;n++)this.state[n]=r[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}};function EG(e){let r=new eC().update(e),t=r.digest();return r.clean(),t}var Fce=new Uint8Array(ZM);var ef=class{};function CG(e){if(typeof e!="string")throw new TypeError("expected string");let r=e,t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}function SG(e){let r=[];for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return r.join("")}var IG=(()=>{class e{calcHash(t,n){return ot(this,null,function*(){return SG(EG(CG(t)))})}toHashString2(t){let n="";for(let i of t)n+=String.fromCharCode(i);return n}toHashString(t){let n=new Uint8Array(t),i="";for(let o of n)i+=String.fromCharCode(o);return i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),nf=(()=>{class e extends ws{constructor(t,n,i,o,s,a,c,u,l,d){super(),this.ngZone=t,this.http=n,this.config=s,this.urlHelper=a,this.logger=c,this.crypto=u,this.dateTimeService=d,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new ie,this.discoveryDocumentLoadedSubject=new ie,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=l,s||(s={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),s&&this.configure(s);try{i?this.setStorage(i):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(h){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",h)}if(this.checkLocalStorageAccessable()){let h=window?.navigator?.userAgent;(h?.includes("MSIE ")||h?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let t="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(t,t),localStorage.removeItem(t),!0)}catch{return!1}}configure(t){Object.assign(this,new ws,t),this.config=Object.assign({},new ws,t),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(R(t=>t.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(t={},n,i=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(L(s=>{s.type==="token_received"?o=!0:s.type==="logout"&&(o=!1)}),R(s=>s.type==="token_expires"&&(n==null||n==="any"||s.info===n)),$i(1e3)).subscribe(()=>{o&&this.refreshInternal(t,i).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(t,n){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(t,n)}loadDiscoveryDocumentAndTryLogin(t=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(t))}loadDiscoveryDocumentAndLogin(t=null){return t=t||{},this.loadDiscoveryDocumentAndTryLogin(t).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let n=typeof t.state=="string"?t.state:"";return this.initLoginFlow(n),!1}else return!0})}debug(...t){this.showDebugInformation&&this.logger.debug(...t)}validateUrlFromDiscoveryDocument(t){let n=[],i=this.validateUrlForHttps(t),o=this.validateUrlAgainstIssuer(t);return i||n.push("https for all urls required. Also for urls received by discovery."),o||n.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),n}validateUrlForHttps(t){if(!t)return!0;let n=t.toLowerCase();return this.requireHttps===!1||(n.match(/^http:\/\/localhost($|[:/])/)||n.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:n.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(t,n){if(!t)throw new Error(`'${n}' should not be null`);if(!this.validateUrlForHttps(t))throw new Error(`'${n}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(t){return!this.strictDiscoveryDocumentValidation||!t?!0:t.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(R(t=>t.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let t=this.getAccessTokenExpiration(),n=this.getAccessTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=I(new Vn("token_expires","access_token")).pipe(er(i)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let t=this.getIdTokenExpiration(),n=this.getIdTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=I(new Vn("token_expires","id_token")).pipe(er(i)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(t,n){let i=this.dateTimeService.now(),o=(n-t)*this.timeoutFactor-(i-t),s=Math.max(0,o),a=2147483647;return s>a?a:s}setStorage(t){this._storage=t,this.configChanged()}loadDiscoveryDocument(t=null){return new Promise((n,i)=>{if(t||(t=this.issuer||"",t.endsWith("/")||(t+="/"),t+=".well-known/openid-configuration"),!this.validateUrlForHttps(t)){i("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(t).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new Ve("discovery_document_validation_error",null)),i("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(s=>{let a={discoveryDocument:o,jwks:s},c=new $t("discovery_document_loaded",a);this.eventsSubject.next(c),n(c)}).catch(s=>{this.eventsSubject.next(new Ve("discovery_document_load_error",s)),i(s)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new Ve("discovery_document_load_error",o)),i(o)})})}loadJwks(){return new Promise((t,n)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(i=>{this.jwks=i,t(i)},i=>{this.logger.error("error loading jwks",i),this.eventsSubject.next(new Ve("jwks_load_error",i)),n(i)}):t(null)})}validateDiscoveryDocument(t){let n;return!this.skipIssuerCheck&&t.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+t.issuer),!1):(n=this.validateUrlFromDiscoveryDocument(t.authorization_endpoint),n.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.end_session_endpoint),n.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.token_endpoint),n.length>0&&this.logger.error("error validating token_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.revocation_endpoint),n.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.userinfo_endpoint),n.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.jwks_uri),n.length>0?(this.logger.error("error validating jwks_uri in discovery document",n),!1):(this.sessionChecksEnabled&&!t.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(t,n,i=new de){return this.fetchTokenUsingPasswordFlow(t,n,i).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((t,n)=>{let i=new de().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:i,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let s=JSON.parse(o.body),a=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!a.sub||s.sub!==a.sub)){n(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}s=Object.assign({},a,s),this._storage.setItem("id_token_claims_obj",JSON.stringify(s)),this.eventsSubject.next(new $t("user_profile_loaded")),t({info:s})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new $t("user_profile_loaded")),t(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new Ve("user_profile_load_error",o)),n(o)})})}fetchTokenUsingPasswordFlow(t,n,i=new de){let o={username:t,password:n};return this.fetchTokenUsingGrant("password",o,i)}fetchTokenUsingGrant(t,n,i=new de){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new Ge({encoder:new go}).set("grant_type",t).set("scope",this.scope);if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(s,this.customQueryParams[s]);for(let s of Object.keys(n))o=o.set(s,n[s]);return i=i.set("Content-Type","application/x-www-form-urlencoded"),new Promise((s,a)=>{this.http.post(this.tokenEndpoint,o,{headers:i}).subscribe(c=>{this.debug("tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token&&this.processIdToken(c.id_token,c.access_token).then(u=>{this.storeIdToken(u),s(c)}),this.eventsSubject.next(new $t("token_received")),s(c)},c=>{this.logger.error("Error performing ${grantType} flow",c),this.eventsSubject.next(new Ve("token_error",c)),a(c)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((t,n)=>{let i=new Ge({encoder:new go}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new de().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(i=i.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(s,this.customQueryParams[s]);this.http.post(this.tokenEndpoint,i,{headers:o}).pipe(_(s=>this.oidc&&s.id_token?me(this.processIdToken(s.id_token,s.access_token,!0)).pipe(L(a=>this.storeIdToken(a)),y(()=>s)):I(s))).subscribe(s=>{this.debug("refresh tokenResponse",s),this.storeAccessTokenResponse(s.access_token,s.refresh_token,s.expires_in||this.fallbackAccessTokenExpirationTimeInSec,s.scope,this.extractRecognizedCustomParameters(s)),this.eventsSubject.next(new $t("token_received")),this.eventsSubject.next(new $t("token_refreshed")),t(s)},s=>{this.logger.error("Error refreshing token",s),this.eventsSubject.next(new Ve("token_refresh_error",s)),n(s)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=t=>{let n=this.processMessageEventMessage(t);this.checkOrigin&&t.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(i=>this.debug("tryLogin during silent refresh failed",i))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(t={},n=!0){let i=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(t.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=i.sub;let s=this.document.createElement("iframe");s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let a=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,a,n,t).then(d=>{s.setAttribute("src",d),this.silentRefreshShowIFrame||(s.style.display="none"),this.document.body.appendChild(s)});let c=this.events.pipe(R(d=>d instanceof Ve),Nt()),u=this.events.pipe(R(d=>d.type==="token_received"),Nt()),l=I(new Ve("silent_refresh_timeout",null)).pipe(er(this.silentRefreshTimeout));return $g([c,u,l]).pipe(y(d=>{if(d instanceof Ve)throw d.type==="silent_refresh_timeout"?this.eventsSubject.next(d):(d=new Ve("silent_refresh_error",d),this.eventsSubject.next(d)),d;return d.type==="token_received"&&(d=new $t("silently_refreshed"),this.eventsSubject.next(d)),d})).toPromise()}initImplicitFlowInPopup(t){return this.initLoginFlowInPopup(t)}initLoginFlowInPopup(t){return t=t||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(n=>new Promise((i,o)=>{let a=null;t.windowRef?t.windowRef&&!t.windowRef.closed&&(a=t.windowRef,a.location.href=n):a=window.open(n,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(t));let c,u=C=>{this.tryLogin({customHashFragment:C,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{d(),i(!0)},D=>{d(),o(D)})},l=()=>{(!a||a.closed)&&(d(),o(new Ve("popup_closed",{})))};a?c=window.setInterval(l,500):o(new Ve("popup_blocked",{}));let d=()=>{window.clearInterval(c),window.removeEventListener("storage",m),window.removeEventListener("message",h),a!==null&&a.close(),a=null},h=C=>{let D=this.processMessageEventMessage(C);D&&D!==null?(window.removeEventListener("storage",m),u(D)):console.log("false event firing")},m=C=>{C.key==="auth_hash"&&(window.removeEventListener("message",h),u(C.newValue))};window.addEventListener("message",h),window.addEventListener("storage",m)}))}calculatePopupFeatures(t){let n=t.height||470,i=t.width||500,o=window.screenLeft+(window.outerWidth-i)/2,s=window.screenTop+(window.outerHeight-n)/2;return`location=no,toolbar=no,width=${i},height=${n},top=${s},left=${o}`}processMessageEventMessage(t){let n="#";if(this.silentRefreshMessagePrefix&&(n+=this.silentRefreshMessagePrefix),!t||!t.data||typeof t.data!="string")return;let i=t.data;if(i.startsWith(n))return"#"+i.substr(n.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=t=>{let n=t.origin.toLowerCase(),i=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!i.startsWith(n)){this.debug("sessionCheckEventListener","wrong origin",n,"expected",i,"event",t);return}switch(t.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",t)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Vn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Vn("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Vn("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Vn("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(R(t=>t.type==="silently_refreshed"||t.type==="silent_refresh_timeout"||t.type==="silent_refresh_error"),Nt()).subscribe(t=>{t.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Vn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Vn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let t=this.document.getElementById(this.sessionCheckIFrameName);t&&this.document.body.removeChild(t);let n=this.document.createElement("iframe");n.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let i=this.sessionCheckIFrameUrl;n.setAttribute("src",i),n.style.display="none",this.document.body.appendChild(n),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let t=this.document.getElementById(this.sessionCheckIFrameName);t||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let n=this.getSessionState();n||this.stopSessionCheckTimer();let i=this.clientId+" "+n;t.contentWindow.postMessage(i,this.issuer)}createLoginUrl(){return ot(this,arguments,function*(t="",n="",i="",o=!1,s={}){let a=this,c;i?c=i:c=this.redirectUri;let u=yield this.createAndSaveNonce();if(t?t=u+this.config.nonceStateSeparator+encodeURIComponent(t):t=u,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let l=a.loginUrl.indexOf("?")>-1?"&":"?",d=a.scope;this.oidc&&!d.match(/(^|\s)openid($|\s)/)&&(d="openid "+d);let h=a.loginUrl+l+"response_type="+encodeURIComponent(a.responseType)+"&client_id="+encodeURIComponent(a.clientId)+"&state="+encodeURIComponent(t)+"&redirect_uri="+encodeURIComponent(c)+"&scope="+encodeURIComponent(d);if(this.responseType.includes("code")&&!this.disablePKCE){let[m,C]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",C):this._storage.setItem("PKCE_verifier",C),h+="&code_challenge="+m,h+="&code_challenge_method=S256"}n&&(h+="&login_hint="+encodeURIComponent(n)),a.resource&&(h+="&resource="+encodeURIComponent(a.resource)),a.oidc&&(h+="&nonce="+encodeURIComponent(u)),o&&(h+="&prompt=none");for(let m of Object.keys(s))h+="&"+encodeURIComponent(m)+"="+encodeURIComponent(s[m]);if(this.customQueryParams)for(let m of Object.getOwnPropertyNames(this.customQueryParams))h+="&"+m+"="+encodeURIComponent(this.customQueryParams[m]);return h})}initImplicitFlowInternal(t="",n=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(i=n),this.createLoginUrl(t,o,null,!1,i).then(this.config.openUri).catch(s=>{console.error("Error in initImplicitFlow",s),this.inImplicitFlow=!1})}initImplicitFlow(t="",n=""){this.loginUrl!==""?this.initImplicitFlowInternal(t,n):this.events.pipe(R(i=>i.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(t,n))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(t){let n=this;if(t.onTokenReceived){let i={idClaims:n.getIdentityClaims(),idToken:n.getIdToken(),accessToken:n.getAccessToken(),state:n.state};t.onTokenReceived(i)}}storeAccessTokenResponse(t,n,i,o,s){if(this._storage.setItem("access_token",t),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),i){let a=i*1e3,u=this.dateTimeService.new().getTime()+a;this._storage.setItem("expires_at",""+u)}n&&this._storage.setItem("refresh_token",n),s&&s.forEach((a,c)=>{this._storage.setItem(c,a)})}tryLogin(t=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(t).then(()=>!0):this.tryLoginImplicitFlow(t)}parseQueryString(t){return!t||t.length===0?{}:(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}tryLoginCodeFlow(t=null){return ot(this,null,function*(){t=t||{};let n=t.customHashFragment?t.customHashFragment.substring(1):window.location.search,i=this.getCodePartsFromUrl(n),o=i.code,s=i.state,a=i.session_state;if(!t.preventClearHashAfterLogin){let l=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,l)}let[c,u]=this.parseState(s);if(this.state=u,i.error){this.debug("error trying to login"),this.handleLoginError(t,i);let l=new Ve("code_error",{},i);return this.eventsSubject.next(l),Promise.reject(l)}if(!t.disableNonceCheck){if(!c)return this.saveRequestedRoute(),Promise.resolve();if(!t.disableOAuth2StateCheck&&!this.validateNonce(c)){let d=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(d),Promise.reject(d)}}return this.storeSessionState(a),o&&(yield this.getTokenFromCode(o,t),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let t=this._storage.getItem("requested_route");t&&history.replaceState(null,"",window.location.origin+t)}getCodePartsFromUrl(t){return!t||t.length===0?this.urlHelper.getHashFragmentParams():(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}getTokenFromCode(t,n){let i=new Ge({encoder:new go}).set("grant_type","authorization_code").set("code",t).set("redirect_uri",n.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?i=i.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(i,n)}fetchAndProcessToken(t,n){n=n||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let i=new de().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(t=t.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(t=t.set("client_secret",this.dummyClientSecret)),new Promise((o,s)=>{if(this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))t=t.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,t,{headers:i}).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.oidc&&a.id_token?this.processIdToken(a.id_token,a.access_token,n.disableNonceCheck).then(c=>{this.storeIdToken(c),this.eventsSubject.next(new $t("token_received")),this.eventsSubject.next(new $t("token_refreshed")),o(a)}).catch(c=>{this.eventsSubject.next(new Ve("token_validation_error",c)),console.error("Error validating tokens"),console.error(c),s(c)}):(this.eventsSubject.next(new $t("token_received")),this.eventsSubject.next(new $t("token_refreshed")),o(a))},a=>{console.error("Error getting token",a),this.eventsSubject.next(new Ve("token_refresh_error",a)),s(a)})})}tryLoginImplicitFlow(t=null){t=t||{};let n;t.customHashFragment?n=this.urlHelper.getHashFragmentParams(t.customHashFragment):n=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",n);let i=n.state,[o,s]=this.parseState(i);if(this.state=s,n.error){this.debug("error trying to login"),this.handleLoginError(t,n);let d=new Ve("token_error",{},n);return this.eventsSubject.next(d),Promise.reject(d)}let a=n.access_token,c=n.id_token,u=n.session_state,l=n.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!a||this.requestAccessToken&&!t.disableOAuth2StateCheck&&!i||this.oidc&&!c)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!u&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!t.disableNonceCheck&&!this.validateNonce(o)){let h=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}return this.requestAccessToken&&this.storeAccessTokenResponse(a,null,n.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l),this.oidc?this.processIdToken(c,a,t.disableNonceCheck).then(d=>t.validationHandler?t.validationHandler({accessToken:a,idClaims:d.idTokenClaims,idToken:d.idToken,state:i}).then(()=>d):d).then(d=>(this.storeIdToken(d),this.storeSessionState(u),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new $t("token_received")),this.callOnTokenReceivedIfExists(t),this.inImplicitFlow=!1,!0)).catch(d=>(this.eventsSubject.next(new Ve("token_validation_error",d)),this.logger.error("Error validating tokens"),this.logger.error(d),Promise.reject(d))):(this.eventsSubject.next(new $t("token_received")),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(t),Promise.resolve(!0))}parseState(t){let n=t,i="";if(t){let o=t.indexOf(this.config.nonceStateSeparator);o>-1&&(n=t.substr(0,o),i=t.substr(o+this.config.nonceStateSeparator.length))}return[n,i]}validateNonce(t){let n;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?n=localStorage.getItem("nonce"):n=this._storage.getItem("nonce"),n!==t?(console.error("Validating access_token failed, wrong state/nonce.",n,t),!1):!0}storeIdToken(t){this._storage.setItem("id_token",t.idToken),this._storage.setItem("id_token_claims_obj",t.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+t.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(t){this._storage.setItem("session_state",t)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(t,n){t.onLoginError&&t.onLoginError(n),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(t=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?t:this.clockSkewInSec*1e3}processIdToken(t,n,i=!1){let o=t.split("."),s=this.padBase64(o[0]),a=qM(s),c=JSON.parse(a),u=this.padBase64(o[1]),l=qM(u),d=JSON.parse(l),h;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?h=localStorage.getItem("nonce"):h=this._storage.getItem("nonce"),Array.isArray(d.aud)){if(d.aud.every(x=>x!==this.clientId)){let x="Wrong audience: "+d.aud.join(",");return this.logger.warn(x),Promise.reject(x)}}else if(d.aud!==this.clientId){let x="Wrong audience: "+d.aud;return this.logger.warn(x),Promise.reject(x)}if(!d.sub){let x="No sub claim in id_token";return this.logger.warn(x),Promise.reject(x)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==d.sub){let x=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${d.sub}`;return this.logger.warn(x),Promise.reject(x)}if(!d.iat){let x="No iat claim in id_token";return this.logger.warn(x),Promise.reject(x)}if(!this.skipIssuerCheck&&d.iss!==this.issuer){let x="Wrong issuer: "+d.iss;return this.logger.warn(x),Promise.reject(x)}if(!i&&d.nonce!==h){let x="Wrong nonce: "+d.nonce;return this.logger.warn(x),Promise.reject(x)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!d.at_hash){let x="An at_hash is needed!";return this.logger.warn(x),Promise.reject(x)}let m=this.dateTimeService.now(),C=d.iat*1e3,D=d.exp*1e3,A=this.getClockSkewInMsec();if(C-A>=m||D+A-this.decreaseExpirationBySec<=m){let x="Token has expired";return console.error(x),console.error({now:m,issuedAtMSec:C,expiresAtMSec:D}),Promise.reject(x)}let N={accessToken:n,idToken:t,jwks:this.jwks,idTokenClaims:d,idTokenHeader:c,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(N).then(()=>({idToken:t,idTokenClaims:d,idTokenClaimsJson:l,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:D})):this.checkAtHash(N).then(x=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!x){let Y="Wrong at_hash";return this.logger.warn(Y),Promise.reject(Y)}return this.checkSignature(N).then(()=>{let Y=!this.disableAtHashCheck,Z={idToken:t,idTokenClaims:d,idTokenClaimsJson:l,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:D};return Y?this.checkAtHash(N).then(X=>{if(this.requestAccessToken&&!X){let fe="Wrong at_hash";return this.logger.warn(fe),Promise.reject(fe)}else return Z}):Z})})}getIdentityClaims(){let t=this._storage.getItem("id_token_claims_obj");return t?JSON.parse(t):null}getGrantedScopes(){let t=this._storage.getItem("granted_scopes");return t?JSON.parse(t):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(t){for(;t.length%4!==0;)t+="=";return t}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let t=this._storage.getItem("expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let t=this._storage.getItem("id_token_expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(t){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(t)>=0&&this._storage.getItem(t)!==null?JSON.parse(this._storage.getItem(t)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(t={},n=""){let i=!1;typeof t=="boolean"&&(i=t,t={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(a=>this._storage.removeItem(a)),this.silentRefreshSubject=null,this.eventsSubject.next(new Vn("logout")),!this.logoutUrl||i)return;let s;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)s=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let a=new Ge({encoder:new go});o&&(a=a.set("id_token_hint",o));let c=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";c&&(a=a.set("post_logout_redirect_uri",c),n&&(a=a.set("state",n)));for(let u in t)a=a.set(u,t[u]);s=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+a.toString()}this.config.openUri(s)}createAndSaveNonce(){let t=this;return this.createNonce().then(function(n){return t.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",n):t._storage.setItem("nonce",n),n})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let t=this.document.getElementById(this.silentRefreshIFrameName);t&&t.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let n=this.document.getElementById(this.sessionCheckIFrameName);n&&n.remove()}createNonce(){return new Promise(t=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=45,o="",s=typeof self>"u"?null:self.crypto||self.msCrypto;if(s){let a=new Uint8Array(i);s.getRandomValues(a),a.map||(a.map=Array.prototype.map),a=a.map(c=>n.charCodeAt(c%n.length)),o=String.fromCharCode.apply(null,a)}else for(;0<i--;)o+=n[Math.random()*n.length|0];t(YM(o))})}checkAtHash(t){return ot(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(t){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(t="",n={}){return this.responseType==="code"?this.initCodeFlow(t,n):this.initImplicitFlow(t,n)}initCodeFlow(t="",n={}){this.loginUrl!==""?this.initCodeFlowInternal(t,n):this.events.pipe(R(i=>i.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(t,n))}initCodeFlowInternal(t="",n={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(i=n),this.createLoginUrl(t,o,null,!1,i).then(this.config.openUri).catch(s=>{console.error("Error in initAuthorizationCodeFlow"),console.error(s)})}createChallangeVerifierPairForPKCE(){return ot(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let t=yield this.createNonce(),n=yield this.crypto.calcHash(t,"sha-256");return[YM(n),t]})}extractRecognizedCustomParameters(t){let n=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(i=>{t[i]&&n.set(i,JSON.stringify(t[i]))}),n}revokeTokenAndLogout(t={},n=!1){let i=this.revocationEndpoint,o=this.getAccessToken(),s=this.getRefreshToken();if(!o)return Promise.resolve();let a=new Ge({encoder:new go}),c=new de().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let u=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+u)}if(this.useHttpBasicAuth||(a=a.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(a=a.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))a=a.set(u,this.customQueryParams[u]);return new Promise((u,l)=>{let d,h;if(o){let m=a.set("token",o).set("token_type_hint","access_token");d=this.http.post(i,m,{headers:c})}else d=I(null);if(s){let m=a.set("token",s).set("token_type_hint","refresh_token");h=this.http.post(i,m,{headers:c})}else h=I(null);n&&(d=d.pipe(F(m=>m.status===0?I(null):Pt(m))),h=h.pipe(F(m=>m.status===0?I(null):Pt(m)))),Fe([d,h]).subscribe(m=>{this.logOut(t),u(m),this.logger.info("Token successfully revoked")},m=>{this.logger.error("Error revoking token",m),this.eventsSubject.next(new Ve("token_revoke_error",m)),l(m)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}static{this.\u0275fac=function(n){return new(n||e)(f(Ce),f(ke),f(mo,8),f(Xd,8),f(ws,8),f(KM),f(Jd),f(ef,8),f(Le),f(Ec))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),tf=class{},tC=class{handleError(r){return Pt(r)}},DG=(()=>{class e{constructor(t,n,i){this.oAuthService=t,this.errorHandler=n,this.moduleConfig=i}checkUrl(t){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(t):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(n=>t.toLowerCase().startsWith(n.toLowerCase())):!0}intercept(t,n){let i=t.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(i)?n.handle(t):this.moduleConfig.resourceServer.sendAccessToken?dn(I(this.oAuthService.getAccessToken()).pipe(R(s=>!!s)),this.oAuthService.events.pipe(R(s=>s.type==="token_received"),sa(this.oAuthService.waitForTokenInMsec||0),F(()=>I(null)),y(()=>this.oAuthService.getAccessToken()))).pipe(re(1),z(s=>{if(s){let a="Bearer "+s,c=t.headers.set("Authorization",a);t=t.clone({headers:c})}return n.handle(t).pipe(F(a=>this.errorHandler.handleError(a)))})):n.handle(t).pipe(F(s=>this.errorHandler.handleError(s)))}static{this.\u0275fac=function(n){return new(n||e)(f(nf),f(tf),f(Qd,8))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function bG(){return console}function wG(){return typeof sessionStorage<"u"?sessionStorage:new mG}function TG(e=null,r=Zd){return ur([nf,KM,{provide:Jd,useFactory:bG},{provide:mo,useFactory:wG},{provide:Xd,useClass:r},{provide:ef,useClass:IG},{provide:tf,useClass:tC},{provide:Qd,useValue:e},{provide:rn,useClass:DG,multi:!0},{provide:Ec,useClass:gG}])}var QM=(()=>{class e{static forRoot(t=null,n=Zd){return{ngModule:e,providers:[TG(t,n)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye]})}}return e})();var Lce=new S("AUTH_CONFIG");var t_="@ngrx/router-store/request",Gce=Si(t_,ms()),sf="@ngrx/router-store/navigation",Wce=Si(sf,ms()),af="@ngrx/router-store/cancel",qce=Si(af,ms()),cf="@ngrx/router-store/error",Yce=Si(cf,ms()),uf="@ngrx/router-store/navigated",Kce=Si(uf,ms());var rf=class{serialize(r){return{root:this.serializeRoute(r.root),url:r.url}}serializeRoute(r){let t=r.children.map(n=>this.serializeRoute(n));return{params:r.params,data:r.data,url:r.url,outlet:r.outlet,title:r.title,routeConfig:r.routeConfig?{path:r.routeConfig.path,pathMatch:r.routeConfig.pathMatch,redirectTo:r.routeConfig.redirectTo,outlet:r.routeConfig.outlet,title:typeof r.routeConfig.title=="string"?r.routeConfig.title:void 0}:null,queryParams:r.queryParams,fragment:r.fragment,firstChild:t[0],children:t}}},nC=function(e){return e[e.PreActivation=1]="PreActivation",e[e.PostActivation=2]="PostActivation",e}(nC||{}),RG="router",JM=new S("@ngrx/router-store Internal Configuration"),n_=new S("@ngrx/router-store Configuration");function MG(e){return v({stateKey:RG,serializer:rf,navigationActionTiming:nC.PreActivation},e)}var of=class{serialize(r){return{root:this.serializeRoute(r.root),url:r.url}}serializeRoute(r){let t=r.children.map(n=>this.serializeRoute(n));return{params:r.params,paramMap:r.paramMap,data:r.data,url:r.url,outlet:r.outlet,title:r.title,routeConfig:r.routeConfig?{component:r.routeConfig.component,path:r.routeConfig.path,pathMatch:r.routeConfig.pathMatch,redirectTo:r.routeConfig.redirectTo,outlet:r.routeConfig.outlet,title:r.routeConfig.title}:null,queryParams:r.queryParams,queryParamMap:r.queryParamMap,fragment:r.fragment,component:r.routeConfig?r.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}},Ts=class{},Er=function(e){return e[e.NONE=1]="NONE",e[e.ROUTER=2]="ROUTER",e[e.STORE=3]="STORE",e}(Er||{}),XM=(()=>{class e{constructor(t,n,i,o,s,a){this.store=t,this.router=n,this.serializer=i,this.errorHandler=o,this.config=s,this.activeRuntimeChecks=a,this.lastEvent=null,this.routerState=null,this.trigger=Er.NONE,this.stateKey=this.config.stateKey,!lE()&&pe()&&(a?.strictActionSerializability||a?.strictStateSerializability)&&this.serializer instanceof of&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(M(this.stateKey),at(this.store)).subscribe(([t,n])=>{this.navigateIfNeeded(t,n)})}navigateIfNeeded(t,n){if(!t||!t.state||this.trigger===Er.ROUTER||this.lastEvent instanceof In)return;let i=t.state.url;_G(this.router.url,i)||(this.storeState=n,this.trigger=Er.STORE,this.router.navigateByUrl(i).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let t=this.config.navigationActionTiming===nC.PostActivation,n;this.router.events.pipe(at(this.store)).subscribe(([i,o])=>{this.lastEvent=i,i instanceof In?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==Er.STORE&&(this.storeState=o,this.dispatchRouterRequest(i))):i instanceof ho?(n=i,!t&&this.trigger!==Er.STORE&&this.dispatchRouterNavigation(i)):i instanceof Dn?(this.dispatchRouterCancel(i),this.reset()):i instanceof vr?(this.dispatchRouterError(i),this.reset()):i instanceof lt&&(this.trigger!==Er.STORE&&(t&&this.dispatchRouterNavigation(n),this.dispatchRouterNavigated(i)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(t_,{event:t})}dispatchRouterNavigation(t){let n=this.serializer.serialize(t.state);this.dispatchRouterAction(sf,{routerState:n,event:new ho(t.id,t.url,t.urlAfterRedirects,n)})}dispatchRouterCancel(t){this.dispatchRouterAction(af,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(cf,{storeState:this.storeState,event:new vr(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){let n=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(uf,{event:t,routerState:n})}dispatchRouterAction(t,n){this.trigger=Er.ROUTER;try{this.store.dispatch({type:t,payload:w(v({routerState:this.routerState},n),{event:this.config.routerState===0?n.event:{id:n.event.id,url:n.event.url,urlAfterRedirects:n.event.urlAfterRedirects}})})}finally{this.trigger=Er.NONE}}reset(){this.trigger=Er.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Ne),f(Ts),f(ut),f(n_),f(ao))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function _G(e,r){return e_(e)===e_(r)}function e_(e){return e?.length>0&&e[e.length-1]==="/"?e.substring(0,e.length-1):e}function OG(e={}){return ur([{provide:JM,useValue:e},{provide:n_,useFactory:MG,deps:[JM]},{provide:Ts,useClass:e.serializer?e.serializer:e.routerState===0?of:rf},{provide:sr,multi:!0,useFactory(){return()=>E(XM)}},XM])}var r_=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[OG(t)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function rC(e){"@babel/helpers - typeof";return rC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rC(e)}var i_=[],Qce=i_.forEach,Jce=i_.slice;function iC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":rC(XMLHttpRequest))==="object"}function NG(e){return!!e&&typeof e.then=="function"}function o_(e){return NG(e)?e:Promise.resolve(e)}var hf=fF(u_(),1);function l_(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function d_(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?l_(Object(t),!0).forEach(function(n){PG(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PG(e,r,t){return(r=FG(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function FG(e){var r=LG(e,"string");return vo(r)=="symbol"?r:r+""}function LG(e,r){if(vo(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vo(e)}var Kr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Kr=global.fetch:typeof window<"u"&&window.fetch?Kr=window.fetch:Kr=fetch);var Ic;iC()&&(typeof global<"u"&&global.XMLHttpRequest?Ic=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ic=window.XMLHttpRequest));var pf;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?pf=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(pf=window.ActiveXObject));!Kr&&hf&&!Ic&&!pf&&(Kr=hf.default||hf);typeof Kr!="function"&&(Kr=void 0);var sC=function(r,t){if(t&&vo(t)==="object"){var n="";for(var i in t)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(t[i]);if(!n)return r;r=r+(r.indexOf("?")!==-1?"&":"?")+n.slice(1)}return r},f_=function(r,t,n,i){var o=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(i){var s=i(r,t);if(s instanceof Promise){s.then(o).catch(n);return}}typeof fetch=="function"?fetch(r,t).then(o).catch(n):Kr(r,t).then(o).catch(n)},h_=!1,kG=function(r,t,n,i){r.queryStringParams&&(t=sC(t,r.queryStringParams));var o=d_({},typeof r.customHeaders=="function"?r.customHeaders():r.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(o["Content-Type"]="application/json");var s=typeof r.requestOptions=="function"?r.requestOptions(n):r.requestOptions,a=d_({method:n?"POST":"GET",body:n?r.stringify(n):void 0,headers:o},h_?{}:s),c=typeof r.alternateFetch=="function"&&r.alternateFetch.length>=1?r.alternateFetch:void 0;try{f_(t,a,i,c)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(l){delete a[l]}),f_(t,a,i,c),h_=!0}catch(l){i(l)}}},UG=function(r,t,n,i){n&&vo(n)==="object"&&(n=sC("",n).slice(1)),r.queryStringParams&&(t=sC(t,r.queryStringParams));try{var o;Ic?o=new Ic:o=new pf("MSXML2.XMLHTTP.3.0"),o.open(n?"POST":"GET",t,1),r.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!r.withCredentials,n&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=r.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(n)}catch(c){console&&console.log(c)}},jG=function(r,t,n,i){if(typeof n=="function"&&(i=n,n=void 0),i=i||function(){},Kr&&t.indexOf("file:")!==0)return kG(r,t,n,i);if(iC()||typeof ActiveXObject=="function")return UG(r,t,n,i);i(new Error("No fetch and no xhr implementation found!"))},p_=jG;function Rs(e){"@babel/helpers - typeof";return Rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rs(e)}function g_(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function aC(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?g_(Object(t),!0).forEach(function(n){v_(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $G(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function m_(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y_(n.key),n)}}function BG(e,r,t){return r&&m_(e.prototype,r),t&&m_(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v_(e,r,t){return(r=y_(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function y_(e){var r=VG(e,"string");return Rs(r)=="symbol"?r:r+""}function VG(e,r){if(Rs(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(Rs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var HG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,n,i){return v_({},n,i||"")},parseLoadPayload:function(t,n){},request:p_,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},E_=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};$G(this,e),this.services=r,this.options=t,this.allOptions=n,this.type="backend",this.init(r,t,n)}return BG(e,[{key:"init",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=aC(aC(aC({},HG()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return n.reload()},this.options.reloadInterval);Rs(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(t,n,i){this._readAny(t,t,n,n,i)}},{key:"read",value:function(t,n,i){this._readAny([t],t,[n],n,i)}},{key:"_readAny",value:function(t,n,i,o,s){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(t,i)),c=o_(c),c.then(function(u){if(!u)return s(null,{});var l=a.services.interpolator.interpolate(u,{lng:t.join("+"),ns:i.join("+")});a.loadUrl(l,s,n,o)})}},{key:"loadUrl",value:function(t,n,i,o){var s=this,a=typeof i=="string"?[i]:i,c=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,t,u,function(l,d){if(d&&(d.status>=500&&d.status<600||!d.status))return n("failed loading "+t+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return n("failed loading "+t+"; status code: "+d.status,!1);if(!d&&l&&l.message){var h=l.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(A){return h.indexOf(A)>-1});if(m)return n("failed loading "+t+": "+l.message,!0)}if(l)return n(l,!1);var C,D;try{typeof d.data=="string"?C=s.options.parse(d.data,i,o):C=d.data}catch{D="failed parsing "+t+" to json"}if(D)return n(D,!1);n(null,C)})}},{key:"create",value:function(t,n,i,o,s){var a=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var c=this.options.parsePayload(n,i,o),u=0,l=[],d=[];t.forEach(function(h){var m=a.options.addPath;typeof a.options.addPath=="function"&&(m=a.options.addPath(h,n));var C=a.services.interpolator.interpolate(m,{lng:h,ns:n});a.options.request(a.options,C,c,function(D,A){u+=1,l.push(D),d.push(A),u===t.length&&typeof s=="function"&&s(l,d)})})}}},{key:"reload",value:function(){var t=this,n=this.services,i=n.backendConnector,o=n.languageUtils,s=n.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(d){var h=o.toResolveHierarchy(d);h.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){t.allOptions.ns.forEach(function(d){i.read(l,d,"read",null,null,function(h,m){h&&s.warn("loading namespace ".concat(d," for language ").concat(l," failed"),h),!h&&m&&s.log("loaded namespace ".concat(d," for language ").concat(l),m),i.loaded("".concat(l,"|").concat(d),h,m)})})})}}}])}();E_.type="backend";var C_=E_;var te=e=>typeof e=="string",Dc=()=>{let e,r,t=new Promise((n,i)=>{e=n,r=i});return t.resolve=e,t.reject=r,t},S_=e=>e==null?"":""+e,zG=(e,r,t)=>{e.forEach(n=>{r[n]&&(t[n]=r[n])})},GG=/###/g,I_=e=>e&&e.indexOf("###")>-1?e.replace(GG,"."):e,D_=e=>!e||te(e),bc=(e,r,t)=>{let n=te(r)?r.split("."):r,i=0;for(;i<n.length-1;){if(D_(e))return{};let o=I_(n[i]);!e[o]&&t&&(e[o]=new t),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return D_(e)?{}:{obj:e,k:I_(n[i])}},b_=(e,r,t)=>{let{obj:n,k:i}=bc(e,r,Object);if(n!==void 0||r.length===1){n[i]=t;return}let o=r[r.length-1],s=r.slice(0,r.length-1),a=bc(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=bc(e,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=t},WG=(e,r,t,n)=>{let{obj:i,k:o}=bc(e,r,Object);i[o]=i[o]||[],i[o].push(t)},mf=(e,r)=>{let{obj:t,k:n}=bc(e,r);if(t)return t[n]},qG=(e,r,t)=>{let n=mf(e,t);return n!==void 0?n:mf(r,t)},__=(e,r,t)=>{for(let n in r)n!=="__proto__"&&n!=="constructor"&&(n in e?te(e[n])||e[n]instanceof String||te(r[n])||r[n]instanceof String?t&&(e[n]=r[n]):__(e[n],r[n],t):e[n]=r[n]);return e},Ms=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),YG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},KG=e=>te(e)?e.replace(/[&<>"'\/]/g,r=>YG[r]):e,lC=class{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){let t=this.regExpMap.get(r);if(t!==void 0)return t;let n=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,n),this.regExpQueue.push(r),n}},ZG=[" ",",","?","!",";"],QG=new lC(20),JG=(e,r,t)=>{r=r||"",t=t||"";let n=ZG.filter(s=>r.indexOf(s)<0&&t.indexOf(s)<0);if(n.length===0)return!0;let i=QG.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`),o=!i.test(e);if(!o){let s=e.indexOf(t);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},dC=function(e,r){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[r])return e[r];let n=r.split(t),i=e;for(let o=0;o<n.length;){if(!i||typeof i!="object")return;let s,a="";for(let c=o;c<n.length;++c)if(c!==o&&(a+=t),a+=n[c],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<n.length-1)continue;o+=c-o+1;break}i=s}return i},vf=e=>e&&e.replace("_","-"),XG={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){console&&console[e]&&console[e].apply(console,r)}},fC=class e{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(r,t)}init(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=r||XG,this.options=t,this.debug=t.debug}log(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(r,t,n,i){return i&&!this.debug?null:(te(r[0])&&(r[0]=`${n}${this.prefix} ${r[0]}`),this.logger[t](r))}create(r){return new e(this.logger,v({prefix:`${this.prefix}:${r}:`},this.options))}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}},Cr=new fC,Os=class{constructor(){this.observers={}}on(r,t){return r.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(r,t){if(this.observers[r]){if(!t){delete this.observers[r];return}this.observers[r].delete(t)}}emit(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[r]&&Array.from(this.observers[r].entries()).forEach(s=>{let[a,c]=s;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,c]=s;for(let u=0;u<c;u++)a.apply(a,[r,...n])})}},yf=class extends Os{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=r||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){let t=this.options.ns.indexOf(r);t>-1&&this.options.ns.splice(t,1)}getResource(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,a;r.indexOf(".")>-1?a=r.split("."):(a=[r,t],n&&(Array.isArray(n)?a.push(...n):te(n)&&o?a.push(...n.split(o)):a.push(n)));let c=mf(this.data,a);return!c&&!t&&!n&&r.indexOf(".")>-1&&(r=a[0],t=a[1],n=a.slice(2).join(".")),c||!s||!te(n)?c:dC(this.data&&this.data[r]&&this.data[r][t],n,o)}addResource(r,t,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=[r,t];n&&(a=a.concat(s?n.split(s):n)),r.indexOf(".")>-1&&(a=r.split("."),i=t,t=a[1]),this.addNamespaces(t),b_(this.data,a,i),o.silent||this.emit("added",r,t,n,i)}addResources(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let o in n)(te(n[o])||Array.isArray(n[o]))&&this.addResource(r,t,o,n[o],{silent:!0});i.silent||this.emit("added",r,t,n)}addResourceBundle(r,t,n,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[r,t];r.indexOf(".")>-1&&(a=r.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let c=mf(this.data,a)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?__(c,n,o):c=v(v({},c),n),b_(this.data,a,c),s.silent||this.emit("added",r,t,n)}removeResourceBundle(r,t){this.hasResourceBundle(r,t)&&delete this.data[r][t],this.removeNamespaces(t),this.emit("removed",r,t)}hasResourceBundle(r,t){return this.getResource(r,t)!==void 0}getResourceBundle(r,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?v({},this.getResource(r,t)):this.getResource(r,t)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){let t=this.getDataByLanguage(r);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}},O_={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,t,n,i){return e.forEach(o=>{this.processors[o]&&(r=this.processors[o].process(r,t,n,i))}),r}},w_={},Ef=class e extends Os{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),zG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Cr.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;let n=this.resolve(r,t);return n&&n.res!==void 0}extractFromKey(r,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],s=n&&r.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!JG(r,n,i);if(s&&!a){let c=r.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:r,namespaces:o};let u=r.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),r=u.join(i)}return te(o)&&(o=[o]),{key:r,namespaces:o}}translate(r,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t=v({},t)),t||(t={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);let i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(r[r.length-1],t),c=a[a.length-1],u=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){let Z=t.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${Z}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${Z}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:s}let d=this.resolve(r,t),h=d&&d.res,m=d&&d.usedKey||s,C=d&&d.exactUsedKey||s,D=Object.prototype.toString.apply(h),A=["[object Number]","[object Function]","[object RegExp]"],N=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,Y=!te(h)&&typeof h!="boolean"&&typeof h!="number";if(x&&h&&Y&&A.indexOf(D)<0&&!(te(N)&&Array.isArray(h))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,w(v({},t),{ns:a})):`key '${s} (${this.language})' returned an object instead of string.`;return i?(d.res=Z,d.usedParams=this.getUsedParamsDetails(t),d):Z}if(o){let Z=Array.isArray(h),X=Z?[]:{},fe=Z?C:m;for(let Te in h)if(Object.prototype.hasOwnProperty.call(h,Te)){let He=`${fe}${o}${Te}`;X[Te]=this.translate(He,w(v({},t),{joinArrays:!1,ns:a})),X[Te]===He&&(X[Te]=h[Te])}h=X}}else if(x&&te(N)&&Array.isArray(h))h=h.join(N),h&&(h=this.extendTranslation(h,r,t,n));else{let Z=!1,X=!1,fe=t.count!==void 0&&!te(t.count),Te=e.hasDefaultValue(t),He=fe?this.pluralResolver.getSuffix(u,t.count,t):"",Ni=t.ordinal&&fe?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",Yn=fe&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),b=Yn&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${He}`]||t[`defaultValue${Ni}`]||t.defaultValue;!this.isValidLookup(h)&&Te&&(Z=!0,h=b),this.isValidLookup(h)||(X=!0,h=s);let ne=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:h,ye=Te&&b!==h&&this.options.updateMissing;if(X||Z||ye){if(this.logger.log(ye?"updateKey":"missingKey",u,c,s,ye?b:h),o){let vt=this.resolve(s,w(v({},t),{keySeparator:!1}));vt&&vt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ae=[],he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let vt=0;vt<he.length;vt++)Ae.push(he[vt]);else this.options.saveMissingTo==="all"?Ae=this.languageUtils.toResolveHierarchy(t.lng||this.language):Ae.push(t.lng||this.language);let Rr=(vt,ze,ln)=>{let au=Te&&ln!==h?ln:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(vt,c,ze,au,ye,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(vt,c,ze,au,ye,t),this.emit("missingKey",vt,c,ze,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&fe?Ae.forEach(vt=>{let ze=this.pluralResolver.getSuffixes(vt,t);Yn&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ze.indexOf(`${this.options.pluralSeparator}zero`)<0&&ze.push(`${this.options.pluralSeparator}zero`),ze.forEach(ln=>{Rr([vt],s+ln,t[`defaultValue${ln}`]||b)})}):Rr(Ae,s,b))}h=this.extendTranslation(h,r,t,d,n),X&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${s}`),(X||Z)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,Z?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(d.res=h,d.usedParams=this.getUsedParamsDetails(t),d):h}extendTranslation(r,t,n,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(w(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=te(r)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=r.match(this.interpolator.nestingRegexp);l=h&&h.length}let d=n.replace&&!te(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d=v(v({},this.options.interpolation.defaultVariables),d)),r=this.interpolator.interpolate(r,d,n.lng||this.language||i.usedLng,n),u){let h=r.match(this.interpolator.nestingRegexp),m=h&&h.length;l<m&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var h=arguments.length,m=new Array(h),C=0;C<h;C++)m[C]=arguments[C];return o&&o[0]===m[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):s.translate(...m,t)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=te(a)?[a]:a;return r!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(r=O_.handle(c,r,t,this.options&&this.options.postProcessPassResolved?v({i18nResolved:w(v({},i),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),r}resolve(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,o,s,a;return te(r)&&(r=[r]),r.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,t),l=u.key;i=l;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let h=t.count!==void 0&&!te(t.count),m=h&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),C=t.context!==void 0&&(te(t.context)||typeof t.context=="number")&&t.context!=="",D=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(A=>{this.isValidLookup(n)||(a=A,!w_[`${D[0]}-${A}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(w_[`${D[0]}-${A}`]=!0,this.logger.warn(`key "${i}" for languages "${D.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(N=>{if(this.isValidLookup(n))return;s=N;let x=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,l,N,A,t);else{let Z;h&&(Z=this.pluralResolver.getSuffix(N,t.count,t));let X=`${this.options.pluralSeparator}zero`,fe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(x.push(l+Z),t.ordinal&&Z.indexOf(fe)===0&&x.push(l+Z.replace(fe,this.options.pluralSeparator)),m&&x.push(l+X)),C){let Te=`${l}${this.options.contextSeparator}${t.context}`;x.push(Te),h&&(x.push(Te+Z),t.ordinal&&Z.indexOf(fe)===0&&x.push(Te+Z.replace(fe,this.options.pluralSeparator)),m&&x.push(Te+X))}}let Y;for(;Y=x.pop();)this.isValidLookup(n)||(o=Y,n=this.getResource(N,A,Y,t))}))})}),{res:n,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,t,n,i):this.resourceStore.getResource(r,t,n,i)}getUsedParamsDetails(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=r.replace&&!te(r.replace),i=n?r.replace:r;if(n&&typeof r.count<"u"&&(i.count=r.count),this.options.interpolation.defaultVariables&&(i=v(v({},this.options.interpolation.defaultVariables),i)),!n){i=v({},i);for(let o of t)delete i[o]}return i}static hasDefaultValue(r){let t="defaultValue";for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t===n.substring(0,t.length)&&r[n]!==void 0)return!0;return!1}},cC=e=>e.charAt(0).toUpperCase()+e.slice(1),Cf=class{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Cr.create("languageUtils")}getScriptPartFromCode(r){if(r=vf(r),!r||r.indexOf("-")<0)return null;let t=r.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(r){if(r=vf(r),!r||r.indexOf("-")<0)return r;let t=r.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(r){if(te(r)&&r.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(r)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}let t=["hans","hant","latn","cyrl","cans","mong","arab"],n=r.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=cC(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=cC(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=cC(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let t;return r.forEach(n=>{if(t)return;let i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&r.forEach(n=>{if(t)return;let i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(r,t){if(!r)return[];if(typeof r=="function"&&(r=r(t)),te(r)&&(r=[r]),Array.isArray(r))return r;if(!t)return r.default||[];let n=r[t];return n||(n=r[this.getScriptPartFromCode(t)]),n||(n=r[this.formatLanguageCode(t)]),n||(n=r[this.getLanguagePartFromCode(t)]),n||(n=r.default),n||[]}toResolveHierarchy(r,t){let n=this.getFallbackCodes(t||this.options.fallbackLng||[],r),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return te(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):te(r)&&o(this.formatLanguageCode(r)),n.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}},e8=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],t8={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3},n8=["v1","v2","v3"],r8=["v4"],T_={zero:0,one:1,two:2,few:3,many:4,other:5},i8=()=>{let e={};return e8.forEach(r=>{r.lngs.forEach(t=>{e[t]={numbers:r.nr,plurals:t8[r.fc]}})}),e},hC=class{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=r,this.options=t,this.logger=Cr.create("pluralResolver"),(!this.options.compatibilityJSON||r8.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=i8(),this.pluralRulesCache={}}addRule(r,t){this.rules[r]=t}clearCache(){this.pluralRulesCache={}}getRule(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{let n=vf(r==="dev"?"en":r),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[o]=s,s}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}needsPlural(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(r,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,n).map(i=>`${t}${i}`)}getSuffixes(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(r,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,o)=>T_[i]-T_[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(r,i,t)):[]}getSuffix(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(r,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${r}`),"")}getSuffixRetroCompatible(r,t){let n=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),i=r.numbers[n];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));let o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!n8.includes(this.options.compatibilityJSON)}},A_=function(e,r,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=qG(e,r,t);return!o&&i&&te(t)&&(o=dC(e,t,n),o===void 0&&(o=dC(r,t,n))),o},uC=e=>e.replace(/\$/g,"$$$$"),pC=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cr.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||(t=>t),this.init(r)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});let{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:C,nestingSuffixEscaped:D,nestingOptionsSeparator:A,maxReplaces:N,alwaysFormat:x}=r.interpolation;this.escape=t!==void 0?t:KG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ms(o):s||"{{",this.suffix=a?Ms(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?Ms(h):m||Ms("$t("),this.nestingSuffix=C?Ms(C):D||Ms(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=N||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let r=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(r,t,n,i){let o,s,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){let N=A_(t,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,n,w(v(v({},i),t),{interpolationkey:m})):N}let C=m.split(this.formatSeparator),D=C.shift().trim(),A=C.join(this.formatSeparator).trim();return this.format(A_(t,c,D,this.options.keySeparator,this.options.ignoreJSONStructure),A,n,w(v(v({},i),t),{interpolationkey:D}))};this.resetRegExp();let l=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>uC(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?uC(this.escape(m)):uC(m)}].forEach(m=>{for(a=0;o=m.regex.exec(r);){let C=o[1].trim();if(s=u(C),s===void 0)if(typeof l=="function"){let A=l(r,o,i);s=te(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))s="";else if(d){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${r}`),s="";else!te(s)&&!this.useRawValueToEscape&&(s=S_(s));let D=m.safeValue(s);if(r=r.replace(o[0],D),d?(m.regex.lastIndex+=s.length,m.regex.lastIndex-=o[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),r}nest(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s,a=(c,u)=>{let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let d=c.split(new RegExp(`${l}[ ]*{`)),h=`{${d[1]}`;c=d[0],h=this.interpolate(h,s);let m=h.match(/'/g),C=h.match(/"/g);(m&&m.length%2===0&&!C||C.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),u&&(s=v(v({},u),s))}catch(D){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,D),`${c}${l}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(r);){let c=[];s=v({},n),s=s.replace&&!te(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){let l=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=l.shift(),c=l,u=!0}if(o=t(a.call(this,i[1].trim(),s),s),o&&i[0]===r&&!te(o))return o;te(o)||(o=S_(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${r}`),o=""),u&&(o=c.reduce((l,d)=>this.format(l,d,n.lng,w(v({},n),{interpolationkey:i[1].trim()})),o.trim())),r=r.replace(i[0],o),this.regexp.lastIndex=0}return r}},o8=e=>{let r=e.toLowerCase().trim(),t={};if(e.indexOf("(")>-1){let n=e.split("(");r=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);r==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):r==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(s=>{if(s){let[a,...c]=s.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();t[l]||(t[l]=u),u==="false"&&(t[l]=!1),u==="true"&&(t[l]=!0),isNaN(u)||(t[l]=parseInt(u,10))}})}return{formatName:r,formatOptions:t}},_s=e=>{let r={};return(t,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o=w(v({},o),{[i.interpolationkey]:void 0}));let s=n+JSON.stringify(o),a=r[s];return a||(a=e(vf(n),i),r[s]=a),a(t)}},gC=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Cr.create("formatter"),this.options=r,this.formats={number:_s((t,n)=>i=>new Intl.NumberFormat(t,v({},n)).format(i)),currency:_s((t,n)=>i=>new Intl.NumberFormat(t,w(v({},n),{style:"currency"})).format(i)),datetime:_s((t,n)=>i=>new Intl.DateTimeFormat(t,v({},n)).format(i)),relativetime:_s((t,n)=>i=>new Intl.RelativeTimeFormat(t,v({},n)).format(i,n.range||"day")),list:_s((t,n)=>i=>new Intl.ListFormat(t,v({},n)).format(i))},this.init(r)}init(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(r,t){this.formats[r.toLowerCase().trim()]=t}addCached(r,t){this.formats[r.toLowerCase().trim()]=_s(t)}format(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){let a=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,c)=>{let{formatName:u,formatOptions:l}=o8(c);if(this.formats[u]){let d=a;try{let h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=h.locale||h.lng||i.locale||i.lng||n;d=this.formats[u](a,m,v(v(v({},l),i),h))}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${u}`);return a},r)}},s8=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)},mC=class extends Os{constructor(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=r,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Cr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(r,t,n,i){let o={},s={},a={},c={};return r.forEach(u=>{let l=!0;t.forEach(d=>{let h=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,l=!1,s[h]===void 0&&(s[h]=!0),o[h]===void 0&&(o[h]=!0),c[d]===void 0&&(c[d]=!0)))}),l||(a[u]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(r,t,n){let i=r.split("|"),o=i[0],s=i[1];t&&this.emit("failedLoading",o,s,t),!t&&n&&this.store.addResourceBundle(o,s,n,void 0,void 0,{skipCopy:!0}),this.state[r]=t?-1:2,t&&n&&(this.state[r]=0);let a={};this.queue.forEach(c=>{WG(c.loaded,[o],s),s8(c,r),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!r.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:t,fcName:n,tried:i,wait:o,callback:s});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&l&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,r,t,n,i+1,o*2,s)},o);return}s(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(r,t);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(r,t,a)}prepareLoading(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();te(r)&&(r=this.languageUtils.toResolveHierarchy(r)),te(t)&&(t=[t]);let o=this.queueLoad(r,t,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(r,t,n){this.prepareLoading(r,t,{},n)}reload(r,t,n){this.prepareLoading(r,t,{reload:!0},n)}loadOne(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,a),this.loaded(r,s,a)})}saveMissing(r,t,n,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){let c=w(v({},s),{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(r,t,n,i,c):l=u(r,t,n,i),l&&typeof l.then=="function"?l.then(d=>a(null,d)).catch(a):a(null,l)}catch(l){a(l)}else u(r,t,n,i,a,c)}!r||!r[0]||this.store.addResource(r[0],t,n,i)}}},R_=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),te(e[1])&&(r.defaultValue=e[1]),te(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){let t=e[3]||e[2];Object.keys(t).forEach(n=>{r[n]=t[n]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),M_=e=>(te(e.ns)&&(e.ns=[e.ns]),te(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),te(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),gf=()=>{},a8=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{typeof e[t]=="function"&&(e[t]=e[t].bind(e))})},Sf=class e extends Os{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=M_(r),this.services={},this.logger=Cr,this.modules={external:[]},a8(this),t&&!this.isInitialized&&!r.isClone){if(!this.options.initImmediate)return this.init(r,t),this;setTimeout(()=>{this.init(r,t)},0)}}init(){var r=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(te(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));let i=R_();this.options=v(v(v({},i),this.options),M_(t)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=v(v({},i.interpolation),this.options.interpolation)),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);let o=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Cr.init(o(this.modules.logger),this.options):Cr.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=gC);let d=new Cf(this.options);this.store=new yf(this.options.resources,this.options);let h=this.services;h.logger=Cr,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new hC(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new pC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new mC(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var C=arguments.length,D=new Array(C>1?C-1:0),A=1;A<C;A++)D[A-1]=arguments[A];r.emit(m,...D)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Ef(this.services,this.options),this.translator.on("*",function(m){for(var C=arguments.length,D=new Array(C>1?C-1:0),A=1;A<C;A++)D[A-1]=arguments[A];r.emit(m,...D)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=gf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return r.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return r.store[l](...arguments),r}});let c=Dc(),u=()=>{let l=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(d,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gf,i=te(r)?r:this.language;if(typeof r=="function"&&(n=r),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(r,t,n){let i=Dc();return typeof r=="function"&&(n=r,r=void 0),typeof t=="function"&&(n=t,t=void 0),r||(r=this.languages),t||(t=this.options.ns),n||(n=gf),this.services.backendConnector.reload(r,t,o=>{i.resolve(),n(o)}),i}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&O_.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(let t=0;t<this.languages.length;t++){let n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(r,t){var n=this;this.isLanguageChangingTo=r;let i=Dc();this.emit("languageChanging",r);let o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(c,function(){return n.t(...arguments)})},a=c=>{!r&&!c&&this.services.languageDetector&&(c=[]);let u=te(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{s(l,u)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(r),i}getFixedT(r,t,n){var i=this;let o=function(s,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),d=2;d<u;d++)l[d-2]=arguments[d];c=i.options.overloadTranslationOptionHandler([s,a].concat(l))}else c=v({},a);c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);let h=i.options.keySeparator||".",m;return c.keyPrefix&&Array.isArray(s)?m=s.map(C=>`${c.keyPrefix}${h}${C}`):m=c.keyPrefix?`${c.keyPrefix}${h}${s}`:s,i.t(m,c)};return te(r)?o.lng=r:o.lngs=r,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let s=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===0||u===2};if(t.precheck){let a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,r)&&(!i||s(o,r)))}loadNamespaces(r,t){let n=Dc();return this.options.ns?(te(r)&&(r=[r]),r.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(r,t){let n=Dc();te(r)&&(r=[r]);let i=this.options.preload||[],o=r.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{n.resolve(),t&&t(s)}),n):(t&&t(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Cf(R_());return t.indexOf(n.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new e(r,t)}cloneInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gf,n=r.forkResourceStore;n&&delete r.forkResourceStore;let i=w(v(v({},this.options),r),{isClone:!0}),o=new e(i);return(r.debug!==void 0||r.prefix!==void 0)&&(o.logger=o.logger.clone(r)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services=v({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new yf(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Ef(o.services,i),o.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];o.emit(a,...u)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},St=Sf.createInstance();St.createInstance=Sf.createInstance;var sue=St.createInstance,aue=St.dir,cue=St.init,uue=St.loadResources,lue=St.reloadResources,due=St.use,fue=St.changeLanguage,hue=St.getFixedT,pue=St.t,gue=St.exists,mue=St.setDefaultNamespace,vue=St.hasLoadedNamespace,yue=St.loadNamespaces,Eue=St.loadLanguages;var x_=function(r){return{type:"backend",init:function(n,i,o){},read:function(n,i,o){if(typeof r=="function"){if(r.length<3){try{var s=r(n,i);s&&typeof s.then=="function"?s.then(function(a){return o(null,a&&a.default||a)}).catch(o):o(null,s)}catch(a){o(a)}return}r(n,i,o);return}o(null,r&&r[n]&&r[n][i])}}};function Tf(e){return e&&typeof e=="object"&&!Array.isArray(e)}function c8(e){return e==="__proto__"||e==="constructor"}function Dt(e={},...r){if(!r.length)return e;let t=r.shift()||{};if(!Tf(t))return Dt(e,...r);for(let n in t)c8(n)||(t[n]instanceof Date?e[n]=t[n]:Tf(t[n])?(Tf(e[n])||(e[n]={}),Dt(e[n],t[n])):e[n]=t[n]);return Dt(e,...r)}function u8(){return Dt({},E(sO),E(YS))}var bt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>u8(),providedIn:"root"})}}return e})();function l8(){return Dt({},...E(Ys,{optional:!0})??[])}var sO=new S("DefaultConfiguration",{providedIn:"root",factory:l8});function d8(){return Dt({},...E(Fc,{optional:!0})??[])}var YS=new S("RootConfiguration",{providedIn:"root",factory:d8}),Fc=new S("ConfigurationChunk"),Ys=new S("DefaultConfigurationChunk");function N_(e={},r=!1){return{provide:r?Ys:Fc,useValue:e,multi:!0}}function Af(e,r,t=!1){return{provide:t?Ys:Fc,useFactory:e,multi:!0,deps:r}}function wn(e={}){return{provide:Ys,useValue:e,multi:!0}}function wo(e,r){return{provide:Ys,useFactory:e,multi:!0,deps:r}}var f8={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},KS=function(e){return e.BILLING="BILLING",e.SHIPPING="SHIPPING",e}(KS||{}),we=function(e){return e.CONTENT_PAGE="ContentPage",e.PRODUCT_PAGE="ProductPage",e.CATEGORY_PAGE="CategoryPage",e.CATALOG_PAGE="CatalogPage",e}(we||{}),h8=function(e){return e.AUTO="auto",e.SMOOTH="smooth",e}(h8||{});var p8=function(e){return e.NO_BACKGROUND="NO_BACKGROUND",e.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",e.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",e}(p8||{});var Ns="userCmsEndpoints",Bs=function(e){return e.GIVEN="GIVEN",e.WITHDRAWN="WITHDRAWN",e}(Bs||{}),TC="X-Anonymous-Consents";var Rc=class{},g8=function(e){return e.ADMIN="b2badmingroup",e.CUSTOMER="b2bcustomergroup",e.MANAGER="b2bmanagergroup",e.APPROVER="b2bapprovergroup",e}(g8||{}),m8=function(e){return e.UNITORDERVIEWER="unitorderviewergroup",e}(m8||{}),v8=function(e){return e.BACK_IN_STOCK="BACK_IN_STOCK",e}(v8||{}),y8=function(e){return e.SIZE="ApparelSizeVariantProduct",e.STYLE="ApparelStyleVariantProduct",e.COLOR="ElectronicsColorVariantProduct",e}(y8||{});var E8=function(e){return e.SIZE="size",e.STYLE="style",e.COLOR="color",e.THUMBNAIL="thumbnail",e.PRODUCT="product",e.STYLE_SWATCH="styleSwatch",e.ROLLUP_PROPERTY="rollupProperty",e}(E8||{}),aO="[ENTITY] REMOVE",cO="[ENTITY] REMOVE ALL";function Mi(e,r){return{entityType:e,entityId:r}}function uO(e,r){return{entityId:r,entityType:e,entityRemove:!0}}function lO(e){return{entityId:null,entityType:e,entityRemove:!0}}var AC=class{constructor(r,t){this.type=aO,this.meta=uO(r,t)}},Rf=class{constructor(r){this.type=cO,this.meta=lO(r)}},dO="[LOADER] LOAD",fO="[LOADER] FAIL",hO="[LOADER] SUCCESS",pO="[LOADER] RESET";function ZS(e){return{entityType:e,loader:{load:!0}}}function QS(e,r){return{entityType:e,loader:{error:r||!0}}}function JS(e){return{entityType:e,loader:{success:!0}}}function Jp(e){return{entityType:e,loader:{}}}var ht=class{constructor(r){this.type=dO,this.meta=ZS(r)}},pt=class{constructor(r,t){this.type=fO,this.meta=QS(r,t),this.error=t}},gt=class{constructor(r){this.type=hO,this.meta=JS(r)}},Xr=class{constructor(r){this.type=pO,this.meta=Jp(r)}},XS="[ENTITY] LOAD",eI="[ENTITY] LOAD FAIL",tI="[ENTITY] LOAD SUCCESS",nI="[ENTITY] RESET";function rI(e,r){return v(v({},ZS(e)),Mi(e,r))}function iI(e,r,t){return v(v({},QS(e,t)),Mi(e,r))}function oI(e,r){return v(v({},JS(e)),Mi(e,r))}function sI(e,r){return v(v({},Jp(e)),Mi(e,r))}var Bt=class{constructor(r,t){this.type=XS,this.meta=rI(r,t)}},Ot=class{constructor(r,t,n){this.type=eI,this.meta=iI(r,t,n),this.error=n}},mt=class{constructor(r,t,n){this.payload=n,this.type=tI,this.meta=oI(r,t)}},zn=class{constructor(r,t){this.type=nI,this.meta=sI(r,t)}};function it(e){return e.value}function Vt(e){return e.loading??!1}function Ks(e){return e.error??!1}function Wn(e){return e.success??!1}var Hn={loading:!1,error:!1,success:!1,value:void 0};function ft(e,r){return(t=Hn,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===e){let o=n.meta.loader;return o.load?w(v({},t),{loading:!0,value:i(t.value)}):o.error?w(v({},t),{loading:!1,error:!0,success:!1,value:i(void 0)}):o.success?w(v({},t),{value:i(n.payload),loading:!1,error:!1,success:!0}):w(v({},Hn),{value:r?r(Hn.value,n):Hn.value})}if(r){let o=r(t.value,n);if(o!==t.value)return w(v({},t),{value:o})}return t;function i(o){return r?r(t.value,n):o}}}function Kt(e,r){return e.entities[r]||Hn}function C8(e,r){let t=Kt(e,r);return it(t)}function S8(e,r){let t=Kt(e,r);return Vt(t)}function I8(e,r){let t=Kt(e,r);return Ks(t)}function D8(e,r){let t=Kt(e,r);return Wn(t)}var RC={entities:{}};function Lc(e,r){return(n=RC,i)=>{let o=[],s=!1;if(i.meta&&i.meta.entityType===e&&i.meta.entityId!==void 0){if(i.meta.entityId!==null&&(o=[].concat(i.meta.entityId)),i.meta.entityRemove)return t(i,n,o);s=Array.isArray(i.meta.entityId)&&Array.isArray(i.payload)}else o=Object.keys(n.entities);let a={};for(let c=0;c<o.length;c++){let u=o[c],l=s?w(v({},i),{payload:i.payload[c]}):i,d=r(n.entities[u],l);d&&(a[u]=d)}return Object.keys(a).length>0?w(v({},n),{entities:v(v({},n.entities),a)}):n};function t(n,i,o){if(n?.meta?.entityId===null)return RC;{let s=!1,a=Object.keys(i.entities).reduce((c,u)=>(o.includes(u)?s=!0:c[u]=i.entities[u],c),{});return s?{entities:a}:i}}}function yo(e,r){return Lc(e,ft(e,r))}var gO="[PROCESSES LOADER] INCREMENT",mO="[PROCESSES LOADER] DECREMENT",vO="[PROCESSES LOADER] RESET";function aI(e){return{entityType:e,loader:void 0,processesCountDiff:1}}function cI(e){return{entityType:e,loader:void 0,processesCountDiff:-1}}function uI(e){return w(v({},Jp(e)),{processesCountDiff:null})}var MC=class{constructor(r){this.type=vO,this.meta=uI(r)}},_C=class{constructor(r){this.type=gO,this.meta=aI(r)}},OC=class{constructor(r){this.type=mO,this.meta=cI(r)}},yO="[ENTITY] PROCESSES LOADER RESET",EO="[ENTITY] PROCESSES INCREMENT",CO="[ENTITY] PROCESSES DECREMENT";function SO(e,r){return v(v({},uI(e)),Mi(e,r))}function IO(e,r){return v(v({},aI(e)),Mi(e,r))}function DO(e,r){return v(v({},cI(e)),Mi(e,r))}var xC=class{constructor(r,t){this.type=yO,this.meta=SO(r,t)}},NC=class{constructor(r,t){this.type=EO,this.meta=IO(r,t)}},PC=class{constructor(r,t){this.type=CO,this.meta=DO(r,t)}};function bO(e){return!e.processesCount&&!e.loading}function wO(e){return e.processesCount!==void 0&&e.processesCount>0}var Mf={processesCount:0};function TO(e,r){return(t=v(v({},Mf),Hn),n)=>{let i=ft(e,r)(t,n);if(n.meta&&n.meta.entityType===e){let o=n.meta.processesCountDiff;if(pe()&&t.processesCount&&o&&t.processesCount+o<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),o)return w(v({},i),{processesCount:t.processesCount?t.processesCount+o:o});if(o===null)return v(v({},i),Mf)}return i}}var b8=v(v({},Hn),Mf);function w8(e,r){let t=Kt(e,r);return wO(t)}function T8(e,r){let t=Kt(e,r);return bO(t)}function A8(e,r){return e.entities[r]||b8}function R8(e,r){return Lc(e,TO(e,r))}function AO(e,r){return e.entities[r]||void 0}var lI=".";function M8(e,r){return e.split(lI).reduce((n,i)=>n?n[i]:void 0,r)}function _8(e,r,t){if(!e||!t||Object.keys(t).length===0)return{};let n=e.split(lI).reduceRight((i,o)=>({[o]:i}),t);return O8(e,r,n)}function dI(e,r,t){if(e&&e.length===0)return{};let n={};for(let i of e){let o=M8(i,t),s=_8(i,r,o);n=Dt(n,s)}return n}function O8(e,r,t){let n=x8(e,r);if(n.length===0)return t;let i=Dt({},t);for(let o of n){let s=o.split(lI),a=i;for(let c=0;c<s.length;c++){let u=s[c];c===s.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return i}function x8(e,r){if(!e||!r)return[];let t=[];for(let n of r)n.includes(e)&&t.push(n);return t}function RO(e,r){return e?Object.keys(e).filter(t=>e[t]===r):[]}var N8="all";function fI(e,r){return`${r??""}?pageSize=${e.pageSize??""}&currentPage=${e.currentPage??""}&sort=${e.sort??""}`}function P8(e,r){return MO(e.list,e.entities,r)}function MO(e,r,t,n){let i=Kt(e,t?fI(t,n):n??N8);if(!i.value||!i.value.ids)return i;let o=Object.assign({},i,{value:{values:i.value.ids.map(s=>Kt(r,s).value)}});return t&&o.value&&(o.value.pagination=i.value.pagination,o.value.sorts=i.value.sorts),o}function F8(e,r){let t=e.values||[],n={ids:t.map(i=>i[r])};return e.pagination&&(n.pagination=e.pagination),e.sorts&&(n.sorts=e.sorts),{values:t,page:n}}function L8(e,r){return[e,fI(r)].toString()}var Hue=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:eI,ENTITY_LOAD_ACTION:XS,ENTITY_PROCESSES_DECREMENT_ACTION:CO,ENTITY_PROCESSES_INCREMENT_ACTION:EO,ENTITY_PROCESSES_LOADER_RESET_ACTION:yO,ENTITY_REMOVE_ACTION:aO,ENTITY_REMOVE_ALL_ACTION:cO,ENTITY_RESET_ACTION:nI,ENTITY_SUCCESS_ACTION:tI,EntityFailAction:Ot,EntityLoadAction:Bt,EntityLoaderResetAction:zn,EntityProcessesDecrementAction:PC,EntityProcessesIncrementAction:NC,EntityProcessesLoaderResetAction:xC,EntityRemoveAction:AC,EntityRemoveAllAction:Rf,EntitySuccessAction:mt,LOADER_FAIL_ACTION:fO,LOADER_LOAD_ACTION:dO,LOADER_RESET_ACTION:pO,LOADER_SUCCESS_ACTION:hO,LoaderFailAction:pt,LoaderLoadAction:ht,LoaderResetAction:Xr,LoaderSuccessAction:gt,PROCESSES_DECREMENT_ACTION:mO,PROCESSES_INCREMENT_ACTION:gO,PROCESSES_LOADER_RESET_ACTION:vO,ProcessesDecrementAction:OC,ProcessesIncrementAction:_C,ProcessesLoaderResetAction:MC,denormalizeCustomB2BSearch:MO,denormalizeSearch:P8,entityErrorSelector:I8,entityFailMeta:iI,entityHasPendingProcessesSelector:w8,entityIsStableSelector:T8,entityLoadMeta:rI,entityLoaderReducer:yo,entityLoaderStateSelector:Kt,entityLoadingSelector:S8,entityMeta:Mi,entityProcessesDecrementMeta:DO,entityProcessesIncrementMeta:IO,entityProcessesLoaderReducer:R8,entityProcessesLoaderResetMeta:SO,entityProcessesLoaderStateSelector:A8,entityReducer:Lc,entityRemoveAllMeta:lO,entityRemoveMeta:uO,entityResetMeta:sI,entitySelector:AO,entitySuccessMeta:oI,entitySuccessSelector:D8,entityValueSelector:C8,failMeta:QS,getStateSlice:dI,hasPendingProcessesSelector:wO,initialEntityState:RC,initialLoaderState:Hn,initialProcessesState:Mf,isStableSelector:bO,loadMeta:ZS,loaderErrorSelector:Ks,loaderLoadingSelector:Vt,loaderReducer:ft,loaderSuccessSelector:Wn,loaderValueSelector:it,normalizeListPage:F8,processesDecrementMeta:cI,processesIncrementMeta:aI,processesLoaderReducer:TO,processesLoaderResetMeta:uI,resetMeta:Jp,serializeParams:L8,serializeSearchConfig:fI,successMeta:JS}),_O="anonymous-consents",kc="[Anonymous Consents] Anonymous Consents",OO="[Anonymous Consents] Load Anonymous Consent Templates",k8="[Anonymous Consents] Load Anonymous Consent Templates Success",U8="[Anonymous Consents] Load Anonymous Consent Templates Fail",j8="[Anonymous Consents] Reset Load Anonymous Consent Templates";var xO="[Anonymous Consents] Set Anonymous Consents",NO="[Anonymous Consents] Give Anonymous Consent",PO="[Anonymous Consents] Withdraw Anonymous Consent",FO="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",LO="[Anonymous Consents] Anonymous Consent Templates Updated",kO="[Anonymous Consents] Check Updated Versions",_f=class extends ht{constructor(){super(kc),this.type=OO}},Of=class extends gt{constructor(r){super(kc),this.payload=r,this.type=k8}},xf=class extends pt{constructor(r){super(kc,r),this.type=U8}},FC=class extends Xr{constructor(){super(kc),this.type=j8}};var LC=class{constructor(r){this.payload=r,this.type=xO}},kC=class{constructor(r){this.templateCode=r,this.type=NO}},UC=class{constructor(r){this.templateCode=r,this.type=PO}},jC=class{constructor(r){this.dismissed=r,this.type=FO}},Nf=class{constructor(r){this.updated=r,this.type=LO}},$C=class{constructor(){this.type=kO}};var Uc=Cn(_O),Xp=T(Uc,e=>e.templates),BC=T(Xp,e=>it(e)),$8=T(Xp,Vt),B8=T(Xp,Wn),V8=T(Xp,Ks),H8=e=>T(BC,r=>r?r.find(t=>t.id===e):void 0),z8=T(Uc,e=>e.ui.updated),G8=T(Uc,e=>e.ui.bannerDismissed),UO=T(Uc,e=>e.consents),W8=e=>T(UO,r=>r.find(t=>t.templateCode===e));var Fs="current",Ls="anonymous",q8="guest",Y8=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:Ls,OCC_USER_ID_CURRENT:Fs,OCC_USER_ID_GUEST:q8}),zue="current",Gn="[Auth] Login",Ir="[Auth] Logout",ks=class{constructor(){this.type=Gn}},Pf=class{constructor(){this.type=Ir}},Gue=Object.freeze({__proto__:null,LOGIN:Gn,LOGOUT:Ir,Login:ks,Logout:Pf}),Tn=(()=>{class e{constructor(){this._userId=new Zt(1)}setUserId(t){this._userId.next(t)}getUserId(){return this._userId}takeUserId(t=!1){return this.getUserId().pipe(re(1),y(n=>{if(t&&n===Ls)throw new Error("Requested user id for logged user while user is not logged in.");return n}))}clearUserId(){this.setUserId(Ls)}isEmulated(){return this.getUserId().pipe(y(t=>t!==Ls&&t!==Fs))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),K8="oAuthRedirectCodeFlow",Tc=function(e){return e[e.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",e[e.ImplicitFlow=1]="ImplicitFlow",e[e.AuthorizationCode=2]="AuthorizationCode",e}(Tc||{}),Z8=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),ii=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),Dr=(()=>{class e extends ii{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),eg=(()=>{class e{constructor(t,n){this.authConfig=t,this.occConfig=n}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let t=this.config?.tokenEndpoint??"";return this.prefixEndpoint(t)}getLoginUrl(){let t=this.config?.loginUrl??"";return this.prefixEndpoint(t)}getRevokeEndpoint(){let t=this.config?.revokeEndpoint??"";return this.prefixEndpoint(t)}getLogoutUrl(){let t=this.config?.logoutUrl??"";return this.prefixEndpoint(t)}getUserinfoEndpoint(){let t=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(t)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(t){let n=t;return n.startsWith("/")||(n="/"+n),`${this.getBaseUrl()}${n}`}getOAuthFlow(){let t=this.config?.OAuthLibConfig?.responseType;if(t){let n=t.split(" ");return n.includes("code")?Tc.AuthorizationCode:n.includes("token")?Tc.ImplicitFlow:Tc.ResourceOwnerPasswordFlow}return Tc.ResourceOwnerPasswordFlow}static{this.\u0275fac=function(n){return new(n||e)(f(Z8),f(Dr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Q8=new S("SERVER_REQUEST_URL"),J8=new S("SERVER_REQUEST_ORIGIN"),br=(()=>{class e{constructor(t,n,i,o){this.platformId=n,this.serverUrl=i,this.serverOrigin=o,this.document=t}isBrowser(){return jn(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?ca(this.nativeWindow,"resize").pipe($i(300),tr({target:this.nativeWindow}),fn()):I(null)}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f($e),f(Q8,8),f(J8,8))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jO=(()=>{class e{constructor(t,n,i,o){this.oAuthService=t,this.authConfigService=n,this.platformId=i,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let t=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(t?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(t,n){return this.oAuthService.fetchTokenUsingPasswordFlow(t,n)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(t=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{t()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(K8,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(t=>{let n,i=this.events$.pipe(R(o=>o.type==="token_received"),re(1)).subscribe(o=>n=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{t({result:o,tokenReceived:!!n})}).finally(()=>{i.unsubscribe()})})}static{this.\u0275fac=function(n){return new(n||e)(f(nf),f(eg),f($e),f(br))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jc=(()=>{class e extends mo{constructor(){super(...arguments),this._token$=new Re({})}static{this.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"]}decode(t,n){return e.nonStringifiedOAuthLibKeys.includes(t)?n:JSON.stringify(n)}encode(t,n){if(e.nonStringifiedOAuthLibKeys.includes(t))return n;try{return JSON.parse(n)}catch{return n}}getToken(){return this._token$}setToken(t){this._token$.next(t)}getItem(t){let n;return this.getToken().subscribe(i=>n=i).unsubscribe(),this.decode(t,n?.[t])}removeItem(t){let n=v({},this._token$.value);delete n[t],this._token$.next(v({},n))}setItem(t,n){t&&this._token$.next(w(v({},this._token$.value),{[t]:this.encode(t,n)}))}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$O="[Router] Change Next PageContext",VC=class{constructor(r){this.payload=r,this.type=$O}};var HC="router",X8=Cn(HC),tg=T(X8,e=>e.router),Wue=T(tg,e=>e.state&&e.state.semanticRoute||""),e3=T(tg,e=>e.state&&e.state.context||{id:""}),BO=T(tg,e=>e.nextState&&e.nextState.context),t3=T(BO,e=>!!e);var zC=e=>e.startsWith(":"),P_=e=>e.slice(1);var K=(()=>{class e{log(...t){console.log(...t)}warn(...t){console.warn(...t)}error(...t){console.error(...t)}info(...t){console.info(...t)}debug(...t){console.debug(...t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ng=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),rg=(()=>{class e{constructor(t){this.config=t,this.logger=E(K)}getRouteConfig(t){let n=this.config?.routing?.routes,i=n&&n[t];return(!n||i===void 0)&&this.warn(`No path was configured for the named route '${t}'!`),i}warn(...t){pe()&&this.logger.warn(...t)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(t){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[t]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[t,n]of Object.entries(this.config?.routing?.routes??{}))n?.paths?.forEach(i=>{pe()&&this.routeNamesByPath[i]&&this.logger.error(`The same path '${i}' is configured for two different route names: '${this.routeNamesByPath[i]}' and '${t}`),this.routeNamesByPath[i]=t})}static{this.\u0275fac=function(n){return new(n||e)(f(ng))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hI=(()=>{class e{constructor(t){this.router=t}getPrimarySegments(t){let n=this.router.parseUrl(t);return this._getPrimarySegmentsFromUrlTree(n.root)}_getPrimarySegmentsFromUrlTree(t){let n=t.segments.map(o=>o.path),i=t.children[ee]?this._getPrimarySegmentsFromUrlTree(t.children[ee]):[];return n.concat(i)}matchPath(t,n){if(t=Array.isArray(t)?t:this.getPrimarySegments(t),n=Array.isArray(n)?n:this.getPrimarySegments(n),t.length!==n.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],s=t[i];if(!zC(o)&&o!==s)return!1}return!0}static{this.\u0275fac=function(n){return new(n||e)(f(Ne))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$c=(()=>{class e{constructor(t,n){this.routingConfigService=t,this.urlParser=n,this.ROOT_URL=["/"]}get(t){let n=this.routingConfigService.getRouteConfig(t);return n&&Array.isArray(n.paths)?"/"+n.paths[0]:void 0}transform(t){Array.isArray(t)||(t=[t]);let n=[];for(let i of t)if(!this.isRouteCommand(i))n.push(i);else{let o=this.generateUrlPart(i);if(o===null)return this.ROOT_URL;n.push(...o)}return this.shouldOutputAbsolute(t)&&n.unshift("/"),n}isRouteCommand(t){return t&&!!t.cxRoute}shouldOutputAbsolute(t){return this.isRouteCommand(t[0])}generateUrlPart(t){if(this.standarizeRouteCommand(t),!t.cxRoute)return null;let n=this.routingConfigService.getRouteConfig(t.cxRoute);if(!n||!n.paths)return null;let i=this.findPathWithFillableParams(n,t.params);return i?this.provideParamsValues(i,t.params,n.paramsMapping):null}standarizeRouteCommand(t){t.params=t.params||{}}provideParamsValues(t,n,i){return this.urlParser.getPrimarySegments(t).map(o=>{if(zC(o)){let s=P_(o),a=this.getMappedParamName(s,i);return n?.[a]}return o})}findPathWithFillableParams(t,n){let i=t.paths?.find(o=>this.getParams(o).every(s=>{let a=this.getMappedParamName(s,t.paramsMapping);return n?.[a]!==void 0}));return i??null}getParams(t){return this.urlParser.getPrimarySegments(t).filter(zC).map(P_)}getMappedParamName(t,n){return n&&n[t]||t}static{this.\u0275fac=function(n){return new(n||e)(f(rg),f(hI))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VO=(()=>{class e{constructor(t){this.router=t,this.routes$=this.router.events.pipe(R(n=>n instanceof lt),tr(void 0),y(()=>{let n=this.router.routerState.snapshot.root,i=[n];for(;n=n.firstChild;)i.push(n);return i}),st({bufferSize:1,refCount:!0}))}static{this.\u0275fac=function(n){return new(n||e)(f(Ne))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),n3=(()=>{class e{constructor(t,n){this.router=t,this.activatedRoutesService=n,this.params$=this.activatedRoutesService.routes$.pipe(y(i=>this.findAllParam(i)),st({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(t){return Object.assign({},...t.map(n=>n.params))}static{this.\u0275fac=function(n){return new(n||e)(f(Ne),f(VO))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_i=(()=>{class e{constructor(t,n,i,o,s,a){this.store=t,this.winRef=n,this.semanticPathService=i,this.routingParamsService=o,this.router=s,this.location=a}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(M(tg))}getPageContext(){return this.store.pipe(M(e3))}getNextPageContext(){return this.store.pipe(M(BO))}changeNextPageContext(t){this.store.dispatch(new VC(t))}isNavigating(){return this.store.pipe(M(t3))}go(t,n){let i=this.semanticPathService.transform(t);return this.navigate(i,n)}getUrl(t,n){let i=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(t),n));return i.startsWith("/")||(i=`/${i}`),i}getFullUrl(t,n){return`${this.winRef.location.origin}${this.getUrl(t,n)}`}goByUrl(t,n){return this.router.navigateByUrl(t,n)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(t,n){return this.router.navigate(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(br),f($c),f(n3),f(Ne),f(pr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),HO=(()=>{class e{constructor(){this.redirectUrl$=new Re(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(t){this.redirectUrl$.next(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),r3=(()=>{class e{constructor(t,n){this.config=t,this.urlParsingService=n}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((t,n)=>n.authFlow===!0&&n.paths?.length?t.concat(n?.paths):t,[])),this._authFlowPaths}isAuthFlow(t){return this.authFlowPaths.some(n=>this.urlParsingService.matchPath(t,n))}static{this.\u0275fac=function(n){return new(n||e)(f(ng),f(hI))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pI=(()=>{class e{constructor(t,n,i,o){this.routing=t,this.router=n,this.authRedirectStorageService=i,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(t=>{t instanceof lt&&this.setRedirectUrl(t.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(re(1)).subscribe(t=>{t===void 0?this.routing.go("/"):this.routing.goByUrl(t),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let t=this.router.getCurrentNavigation();if(!t?.finalUrl)return;let n=this.router.serializeUrl(t.finalUrl);this.setRedirectUrl(n)}setRedirectUrl(t){this.authFlowRoutesService.isAuthFlow(t)||this.authRedirectStorageService.setRedirectUrl(t)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}static{this.\u0275fac=function(n){return new(n||e)(f(_i),f(Ne),f(HO),f(r3))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cn(e){return typeof e<"u"}function Vs(e){return cn(e)&&e!==null}function Bc(e,r){return e.context&&e.context[r]||[]}function ei(e,r){let t=Bc(e,r);return t&&t.length?t[0]:void 0}var To="language",Ao="currency",ti="baseSite",zO="theme",gI="[Site-context] Load BaseSite",GO="[Site-context] Load BaseSite Fail",mI="[Site-context] Load BaseSite Success",vI="[Site-context] Load BaseSites",WO="[Site-context] Load BaseSites Fail",yI="[Site-context] Load BaseSites Success",EI="[Site-context] Set Active BaseSite",qO="[Site-context] BaseSite Change",GC=class{constructor(){this.type=gI}},Ff=class{constructor(r){this.payload=r,this.type=GO,this.error=r}},Lf=class{constructor(r){this.payload=r,this.type=mI}},kf=class{constructor(){this.type=vI}},Uf=class{constructor(r){this.payload=r,this.type=WO,this.error=r}},jf=class{constructor(r){this.payload=r,this.type=yI}},$f=class{constructor(r){this.payload=r,this.type=EI}},WC=class{constructor(){this.type=qO}},CI="[Site-context] Load Currencies",YO="[Site-context] Load Currencies Fail",SI="[Site-context] Load Currencies Success",ig="[Site-context] Set Active Currency",Zs="[Site-context] Currency Change",Bf=class{constructor(){this.type=CI}},Vf=class{constructor(r){this.payload=r,this.type=YO,this.error=r}},Hf=class{constructor(r){this.payload=r,this.type=SI}},zf=class{constructor(r){this.payload=r,this.type=ig}},Gf=class{constructor(r){this.payload=r,this.type=Zs}},II="[Site-context] Load Languages",KO="[Site-context] Load Languages Fail",DI="[Site-context] Load Languages Success",og="[Site-context] Set Active Language",An="[Site-context] Language Change",Wf=class{constructor(){this.type=II}},qf=class{constructor(r){this.payload=r,this.type=KO,this.error=r}},Yf=class{constructor(r){this.payload=r,this.type=DI}},Kf=class{constructor(r){this.payload=r,this.type=og}},Zf=class{constructor(r){this.payload=r,this.type=An}},que=Object.freeze({__proto__:null,BASE_SITE_CHANGE:qO,BaseSiteChange:WC,CURRENCY_CHANGE:Zs,CurrencyChange:Gf,LANGUAGE_CHANGE:An,LOAD_BASE_SITE:gI,LOAD_BASE_SITES:vI,LOAD_BASE_SITES_FAIL:WO,LOAD_BASE_SITES_SUCCESS:yI,LOAD_BASE_SITE_FAIL:GO,LOAD_BASE_SITE_SUCCESS:mI,LOAD_CURRENCIES:CI,LOAD_CURRENCIES_FAIL:YO,LOAD_CURRENCIES_SUCCESS:SI,LOAD_LANGUAGES:II,LOAD_LANGUAGES_FAIL:KO,LOAD_LANGUAGES_SUCCESS:DI,LanguageChange:Zf,LoadBaseSite:GC,LoadBaseSiteFail:Ff,LoadBaseSiteSuccess:Lf,LoadBaseSites:kf,LoadBaseSitesFail:Uf,LoadBaseSitesSuccess:jf,LoadCurrencies:Bf,LoadCurrenciesFail:Vf,LoadCurrenciesSuccess:Hf,LoadLanguages:Wf,LoadLanguagesFail:qf,LoadLanguagesSuccess:Yf,SET_ACTIVE_BASE_SITE:EI,SET_ACTIVE_CURRENCY:ig,SET_ACTIVE_LANGUAGE:og,SetActiveBaseSite:$f,SetActiveCurrency:zf,SetActiveLanguage:Kf}),bI="siteContext",Vc=Cn(bI),i3=e=>e.entities,o3=T(Vc,e=>e.baseSite),F_=T(Vc,e=>e&&e.baseSite&&e.baseSite.activeSite),Yue=T(Vc,e=>e&&e.baseSite&&e.baseSite.details),s3=T(o3,i3),a3=T(s3,e=>e?Object.keys(e).map(r=>e[r]):null),c3=e=>e.entities,u3=e=>e.activeCurrency,ZO=T(Vc,e=>e.currencies),l3=T(ZO,c3),qC=T(ZO,u3),d3=T(l3,e=>e?Object.keys(e).map(r=>e[r]):null),f3=e=>e.activeLanguage,h3=e=>e.entities,QO=T(Vc,e=>e.languages),p3=T(QO,h3),YC=T(QO,f3),g3=T(p3,e=>e?Object.keys(e).map(r=>e[r]):null);var Ro=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getActive(){return this.store.pipe(M(F_),R(t=>!!t))}getAll(){return this.store.pipe(M(a3),L(t=>{t||this.store.dispatch(new kf)}),R(Vs))}get(t){return t?this.getAll().pipe(y(n=>n.find(i=>i.uid===t))):this.getActive().pipe(_(n=>this.getAll().pipe(y(i=>i.find(o=>o.uid===n)))))}setActive(t){this.store.pipe(M(F_),re(1)).subscribe(n=>{t&&n!==t&&this.store.dispatch(new $f(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Bc(this.config,ti).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(ii))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),m3=(()=>{class e{constructor(t){this.baseSiteService=t,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(re(1),y(t=>t?.isolated?this.MULTISITE_SEPARATOR+t?.uid:""))}decorateUserId(t){return this.getBaseSiteDecorator().pipe(y(n=>t+n))}static{this.\u0275fac=function(n){return new(n||e)(f(Ro))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qn=(()=>{class e{constructor(t,n,i,o,s,a,c){this.store=t,this.userIdService=n,this.oAuthLibWrapperService=i,this.authStorageService=o,this.authRedirectService=s,this.routingService=a,this.authMultisiteIsolationService=c,this.refreshInProgress$=new Re(!1),this.logoutInProgress$=new Re(!1)}checkOAuthParamsInUrl(){return ot(this,null,function*(){try{let t=yield this.oAuthLibWrapperService.tryLogin(),n=this.authStorageService.getItem("access_token");t.result&&n&&(this.userIdService.setUserId(Fs),this.store.dispatch(new ks),t.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(t,n){return ot(this,null,function*(){let i=t;this.authMultisiteIsolationService&&(i=yield nr(this.authMultisiteIsolationService.decorateUserId(i)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(i,n),this.userIdService.setUserId(Fs),this.store.dispatch(new ks),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(t,n){return ot(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(t,n),this.userIdService.setUserId(Fs),this.store.dispatch(new ks),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(t=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Pf),this.setLogoutProgress(!1),t()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(y(t=>!!t?.access_token),fn())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(t){this.refreshInProgress$.next(t)}setLogoutProgress(t){this.logoutInProgress$.next(t)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Tn),f(jO),f(jc),f(pI),f(_i),f(m3))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Hc=(()=>{class e{constructor(t,n){this.store=t,this.authService=n}loadTemplates(){this.store.dispatch(new _f)}getTemplates(t=!1){return ua(()=>t,this.store.pipe(M(BC),at(this.getLoadTemplatesLoading()),R(([n,i])=>!i),L(([n,i])=>{n||this.loadTemplates()}),R(([n,i])=>!!n),y(([n,i])=>n)),this.store.pipe(M(BC)))}getTemplate(t){return this.store.pipe(M(H8(t)))}getLoadTemplatesLoading(){return this.store.pipe(M($8))}getLoadTemplatesSuccess(){return this.store.pipe(M(B8))}getLoadTemplatesError(){return this.store.pipe(M(V8))}resetLoadTemplatesState(){this.store.dispatch(new FC)}getConsents(){return this.store.pipe(M(UO))}setConsents(t){return this.store.dispatch(new LC(t))}getConsent(t){return this.authService.isUserLoggedIn().pipe(R(n=>!n),L(()=>this.getTemplates(!0)),_(()=>this.store.pipe(M(W8(t)))))}giveConsent(t){this.store.dispatch(new kC(t))}giveAllConsents(){return this.getTemplates(!0).pipe(L(t=>t.forEach(n=>{n.id&&this.giveConsent(n.id)})))}isConsentGiven(t){return(t&&t.consentState===Bs.GIVEN)??!1}withdrawConsent(t){this.store.dispatch(new UC(t))}withdrawAllConsents(){return this.getTemplates(!0).pipe(L(t=>t.forEach(n=>{n.id&&this.withdrawConsent(n.id)})))}isConsentWithdrawn(t){return t&&t.consentState===Bs.WITHDRAWN}toggleBannerDismissed(t){this.store.dispatch(new jC(t)),t&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(M(G8))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(_(()=>this.store.pipe(M(z8))))}toggleTemplatesUpdated(t){this.store.dispatch(new Nf(t))}isBannerVisible(){return Fe([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(L(()=>this.checkConsentVersions()),y(([t,n])=>!t||n))}checkConsentVersions(){this.store.dispatch(new $C)}detectUpdatedTemplates(t,n){if(n.length!==t.length)return!0;for(let i=0;i<n.length;i++){let o=n[i],s=t[i];if(o.version!==s.version)return!0}return!1}serializeAndEncode(t){if(!t)return"";let n=JSON.stringify(t);return encodeURIComponent(n)}decodeAndDeserialize(t){let n=decodeURIComponent(t);return n.length>0?JSON.parse(n):[]}consentsUpdated(t,n){let i=this.serializeAndEncode(t),o=this.serializeAndEncode(n);return i!==o}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(qn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),KC="cx-use-client-token",Kue="cx-use-csagent-token",Zue="sap-commerce-cloud-captcha-token",Mc=class{static createHeader(r,t,n){return n?n.append(r,JSON.stringify(t)):(n=new de().set(r,JSON.stringify(t)),n)}static removeHeader(r,t){let n=t.headers.delete(r);return t.clone({headers:n})}static getInterceptorParam(r,t){let n=t.get(r);if(n)return JSON.parse(n)}},JO="client-auth",sg="[Client auth] Client Token Data",XO="[Token] Load Client Token",v3="[Token] Load Client Token Fail",y3="[Token] Load Client Token Success",Qf=class extends ht{constructor(){super(sg),this.type=XO}},ZC=class extends pt{constructor(r){super(sg,r),this.payload=r,this.type=v3}},QC=class extends gt{constructor(r){super(sg),this.payload=r,this.type=y3}};var E3=Cn(JO),L_=T(E3,e=>e.clientToken);var ex=(()=>{class e{constructor(t){this.store=t}getClientToken(){return this.store.pipe(M(L_),Qt(Or),R(t=>this.isClientTokenLoaded(t)?!0:(t.loading||this.store.dispatch(new Qf),!1)),y(t=>t.value))}refreshClientToken(){return this.store.dispatch(new Qf),this.store.pipe(M(L_),R(t=>this.isClientTokenLoaded(t)),y(t=>t.value),R(cn))}isClientTokenLoaded(t){return!!((t.success||t.error)&&!t.loading)}static{this.\u0275fac=function(n){return new(n||e)(f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),C3=(()=>{class e{constructor(t){this.clientTokenService=t}handleExpiredClientToken(t,n){return this.clientTokenService.refreshClientToken().pipe(re(1),_(i=>n.handle(this.createNewRequestWithNewToken(t,i))))}createNewRequestWithNewToken(t,n){return t=t.clone({setHeaders:{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}}),t}static{this.\u0275fac=function(n){return new(n||e)(f(ex))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JC=class{static resolve(r,t,n){for(let i of Object.keys(t)){let o=new RegExp("\\${"+i+"}","g");r=r.replace(o,n?encodeURIComponent(t[i]):t[i])}return r}},XC=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},Ac="default";function k_(...e){let r=[];e=e.filter(t=>!!t);for(let t of e)r.push(S3(t));return e[0]?.startsWith("/")&&(r[0]="/"+r[0]),e[e.length-1]?.endsWith("/")&&(r[r.length-1]=r[r.length-1]+"/"),r.join("/")}function S3(e){return e=e.startsWith("/")?e.slice(1):e,e=e.endsWith("/")?e.slice(0,-1):e,e}var Ke=(()=>{class e{get activeBaseSite(){return this._activeBaseSite??ei(this.config,ti)}constructor(t,n){this.config=t,this.baseSiteService=n,this.logger=E(K),this.baseSiteService&&this.baseSiteService.getActive().subscribe(i=>this._activeBaseSite=i)}getRawEndpointValue(t,n){return this.getEndpointForScope(t,n)}isConfigured(t,n){return!(typeof this.getEndpointFromConfig(t,n)>"u")}getBaseUrl(t={baseUrl:!0,prefix:!0,baseSite:!0}){let n=t.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",i=t.prefix===!1?"":this.getPrefix(),o=t.baseSite===!1?"":this.activeBaseSite;return k_(n,i,o)}buildUrl(t,n,i){let o=this.getEndpointForScope(t,n?.scope);if(n){let{urlParams:s,queryParams:a}=n;if(s&&(o=JC.resolve(o,s,!0)),a){let c={encoder:new XC};if(o.includes("?")){let d;[o,d]=o.split("?"),c=w(v({},c),{fromString:d})}let l=this.getHttpParamsFromQueryParams(a,c).toString();l.length&&(o+="?"+l)}}return this.buildUrlFromEndpointString(o,i)}getHttpParamsFromQueryParams(t,n){let i=new Ge(n);return Object.keys(t).forEach(o=>{let s=t[o];s!==void 0&&(s===null?i=i.delete(o):i=i.set(o,s))}),i}getEndpointFromConfig(t,n){let i=this.config.backend?.occ?.endpoints;if(!i)return;let o=i[t];return n?n===Ac&&typeof o=="string"?o:o?.[n]:typeof o=="string"?o:o?.[Ac]}getEndpointForScope(t,n){let i=this.config.backend?.occ?.endpoints;if(!i)return"";let o=i[t];if(n){if(o?.[n])return o?.[n];if(n===Ac&&typeof o=="string")return o;pe()&&this.logger.warn(`${t} endpoint configuration missing for scope "${n}"`)}return(typeof o=="string"?o:o?.[Ac])||t}buildUrlFromEndpointString(t,n){return k_(this.getBaseUrl(n),t)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}static{this.\u0275fac=function(n){return new(n||e)(f(Dr),f(Ro,8))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),I3=(()=>{class e{constructor(t,n,i){this.clientTokenService=t,this.clientErrorHandlingService=n,this.occEndpoints=i}intercept(t,n){let i=this.isClientTokenRequest(t);return i&&(t=Mc.removeHeader(KC,t)),this.getClientToken(i).pipe(re(1),_(o=>(o?.access_token&&t.url.includes(this.occEndpoints.getBaseUrl())&&(t=t.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),n.handle(t).pipe(F(s=>{if(s instanceof _t&&s.status===401&&i&&this.isExpiredToken(s))return this.clientErrorHandlingService.handleExpiredClientToken(t,n);throw s})))))}getClientToken(t){return t?this.clientTokenService.getClientToken():I(void 0)}isClientTokenRequest(t){return!!Mc.getInterceptorParam(KC,t.headers)}isExpiredToken(t){return t.error?.errors?.[0]?.type==="InvalidTokenError"}static{this.\u0275fac=function(n){return new(n||e)(f(ex),f(C3),f(Ke))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),D3=[{provide:rn,useExisting:I3,multi:!0}],Us=function(e){return e.NO_STORAGE="NO_STORAGE",e.LOCAL_STORAGE="LOCAL_STORAGE",e.SESSION_STORAGE="SESSION_STORAGE",e}(Us||{}),Mo=function(e){return e.TRANSFER_STATE="SSR",e}(Mo||{});function wI(e,r=[],t=[]){let n=(e??[]).filter(o=>!o.hasMatch||o.hasMatch(...r));if(n.length<2)return n[0];let i=-1/0;return n.reduce((o,s)=>{let a=s.getPriority?s.getPriority(...t):0;return i>a?o:(i=a,s)},void 0)}var eS=class{},xs=function(e){return e[e.Parallel=0]="Parallel",e[e.Queue=1]="Queue",e[e.CancelPrevious=2]="CancelPrevious",e[e.ErrorPrevious=3]="ErrorPrevious",e}(xs||{}),b3=(()=>{class e{constructor(){this.subscriptions=new Ee}create(t,n){let i=new ie,o=new ie,s=u=>({next:l=>u.next(l),error:l=>u.error(l),complete:()=>u.complete()}),a;switch(n?.strategy){case xs.CancelPrevious:case xs.ErrorPrevious:a=ji(i,o).pipe(_(([u,l])=>Ze(()=>t(u)).pipe(L(s(l)),F(()=>ge),_n(()=>{!l.closed&&!l.hasError&&(n.strategy===xs.ErrorPrevious?l.error(new Error("Canceled by next command")):l.complete())}))));break;case xs.Parallel:a=ji(i,o).pipe(z(([u,l])=>Ze(()=>t(u)).pipe(L(s(l)),F(()=>ge))));break;case xs.Queue:default:a=ji(i,o).pipe(je(([u,l])=>Ze(()=>t(u)).pipe(L(s(l)),F(()=>ge))));break}return this.subscriptions.add(a.subscribe()),new class extends eS{constructor(){super(...arguments),this.execute=u=>{let l=new Zt;return o.next(l),i.next(u),l}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ri(e,r){return Object.assign(new e,r)}var ni=(()=>{class e{static{this.type="CxEvent"}}return e})(),tS=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new V(r=>(this.consumer=r,this.bindAllSourcesToConsumer(r),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(ko()),this.consumer=null}add(r){this.has(r)||(this.consumer&&this.bindSourceToConsumer(r,this.consumer),this.sources.push(r))}bindAllSourcesToConsumer(r){this.sources.forEach(t=>this.bindSourceToConsumer(t,r))}unbindAllSourcesFromConsumer(){this.sources.forEach(r=>this.unbindSourceFromConsumer(r))}bindSourceToConsumer(r,t){let n=r.subscribe(i=>t.next(i));this.subscriptionsToSources.set(r,n)}unbindSourceFromConsumer(r){let t=this.subscriptionsToSources.get(r);t!==void 0&&(t.unsubscribe(),this.subscriptionsToSources.delete(r))}remove(r){this.unbindSourceFromConsumer(r);let t;(t=this.sources.findIndex(n=>n===r))!==-1&&this.sources.splice(t,1)}has(r){return this.sources.includes(r)}},_o=(()=>{class e{constructor(){this.logger=E(K),this.eventsMeta=new Map}register(t,n){let i=this.getEventMeta(t);return i.mergingSubject.has(n)?pe()&&this.logger.warn("EventService: the event source",n,"has been already registered for the type",t):i.mergingSubject.add(n),()=>i.mergingSubject.remove(n)}get(t){let n=this.getEventMeta(t).mergingSubject.output$;return pe()&&(n=this.getValidatedEventStream(n,t)),n}dispatch(t,n){n?t instanceof n||(t=Ri(n,t)):n=t.constructor,this.getInputSubject(n).next(t)}getInputSubject(t){let n=this.getEventMeta(t);return n.inputSubject$||(n.inputSubject$=new ie,this.register(t,n.inputSubject$)),n.inputSubject$}getEventMeta(t){return this.eventsMeta.get(t)||(pe()&&this.validateEventType(t),this.createEventMeta(t)),this.eventsMeta.get(t)}createEventMeta(t){let n={inputSubject$:null,mergingSubject:new tS};this.eventsMeta.set(t,n);let i=Object.getPrototypeOf(t);for(;i!==null&&Object.getPrototypeOf(i)!==Object.getPrototypeOf({});)this.register(i,n.mergingSubject.output$),i=Object.getPrototypeOf(i)}validateEventType(t){if(!t?.constructor)throw new Error(`EventService:  ${t} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(t)}validateCxEvent(t){let n=t;for(;n!==null&&Object.getPrototypeOf(n)!==Object.getPrototypeOf({});){if(n.type===ni.type)return;n=Object.getPrototypeOf(n)}this.logger.warn(`The ${t.name} (or one of its parent classes) does not inherit from the ${ni.type}`)}getValidatedEventStream(t,n){return t.pipe(L(i=>{i instanceof n||this.logger.warn("EventService: The stream",t,"emitted the event",i,"that is not an instance of the declared type",n.name)}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Que=(()=>{class e{constructor(t){this.eventService=t,this.subscriptions=new Ee}create(t,n){let i={data:void 0,error:!1,loading:!0},o=new Re(i),s=ua(()=>o.value.loading,I(void 0),ge),a=this.getTriggersStream([s,...n?.reloadOn??[],...n?.resetOn??[]]),c=this.getTriggersStream(n?.resetOn??[]),u=this.getTriggersStream(n?.reloadOn??[]),l=t().pipe(ha(c)),d=a.pipe(L(()=>{o.value.loading||o.next(w(v({},o.value),{loading:!0}))}),_(()=>l),L(C=>{o.next({loading:!1,error:!1,data:C})}),F((C,D)=>(o.next({loading:!1,error:C,data:void 0}),D)),ko());n?.reloadOn?.length&&this.subscriptions.add(u.subscribe(()=>{o.value.loading||o.next(w(v({},o.value),{loading:!0}))})),n?.resetOn?.length&&this.subscriptions.add(c.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(i)}));let h=Ui(()=>d.subscribe(),()=>o),m=h.pipe(y(C=>C.data),fn());return{get:()=>m,getState:()=>h}}getTriggersStream(t){if(!t.length)return ge;let n=t.map(i=>ki(i)?i:this.eventService.get(i));return dn(...n)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(_o))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Jf(e){let r;return e.subscribe(t=>r=t).unsubscribe(),r}var If={},nS=class{constructor(r,t){this.mainInjector=r,this.complementaryInjectors=t}get(r,t,n){if(n&&n.self){if(t!==void 0)return t;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let i of this.complementaryInjectors){let o=i.get(r,If,{self:!0});if(o!==If)return o}for(let i of this.complementaryInjectors){let o=i.get(r,If);if(o!==If)return o}return this.mainInjector.get(r,t)}},vC=(()=>{class e extends ni{static{this.type="ModuleInitializedEvent"}}return e})(),tx=new S("MODULE_INITIALIZER"),TI=(()=>{class e{constructor(t,n,i){this.compiler=t,this.injector=n,this.events=i,this.logger=E(K),this.modules$=Uu(this.events.get(vC).pipe(y(o=>o.moduleRef)),{connector:()=>new Zt,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(t,n,i=[]){let o;return i.length?i.length===1?o=i[0].injector:o=new nS(this.injector,i.map(s=>s.injector)):o=this.injector,this.resolveModuleFactory(t).pipe(y(([s])=>s.create(o)),je(s=>this.runModuleInitializersForModule(s)),L(s=>this.events.dispatch(Ri(vC,{feature:n,moduleRef:s}))))}resolveDependencyModuleInstance(t){return this.resolveModuleFactory(t).pipe(y(([n,i])=>{if(!this.dependencyModules.has(i)){let o=n.create(this.injector);this.dependencyModules.set(i,o)}return this.dependencyModules.get(i)}),je(n=>this.runModuleInitializersForModule(n)),L(n=>this.events.dispatch(Ri(vC,{moduleRef:n}))))}runModuleInitializersForModule(t){let n=t.injector.get(tx,[],{self:!0}),i=this.runModuleInitializerFunctions(n);return i.length?me(Promise.all(i)).pipe(L({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),_(()=>I(t))):I(t)}runModuleInitializerFunctions(t){let n=[];try{if(t)for(let i=0;i<t.length;i++){let o=t[i]();this.isObjectPromise(o)&&n.push(o)}return n}catch(i){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",i),i}}isObjectPromise(t){return!!t&&typeof t.then=="function"}resolveModuleFactory(t){return me(t()).pipe(_(n=>n instanceof Xi?I([n,n]):Fe([me(this.compiler.compileModuleAsync(n)),I(n)])),Qt(Or))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(t=>t.destroy())}static{this.\u0275fac=function(n){return new(n||e)(f(ds),f(Qe),f(_o))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),U_={},zc=(()=>{class e{constructor(t,n){this.rootInjector=t,this.lazyModules=n,this.injectors$=this.lazyModules.modules$.pipe(y(i=>i.injector),tr(this.rootInjector))}get(t,n){return this.injectors$.pipe(y((i,o)=>i.get(t,n??U_,o?{self:!0}:void 0)),R(i=>i!==U_))}getMulti(t){return this.get(t,[]).pipe(R(n=>{if(!Array.isArray(n))throw new Error(`Multi-providers mixed with single providers for ${t.toString()}!`);return n.length>0}),Bi((n,i)=>[...n,...i],[]))}static{this.\u0275fac=function(n){return new(n||e)(f(Qe),f(TI))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Xe=(()=>{class e{constructor(t){this.unifiedInjector=t,this.subscriptions=new Ee,this.converters=new Map;let n=this.unifiedInjector.injectors$.pipe(L(()=>this.converters.clear()));this.subscriptions.add(n.subscribe())}getConverters(t){if(!this.converters.has(t)){let n=Jf(this.unifiedInjector.getMulti(t));n&&this.converters.set(t,n)}return this.converters.get(t)}hasConverters(t){let n=this.getConverters(t);return Array.isArray(n)&&n.length>0}pipeable(t){return this.hasConverters(t)?y(n=>this.convertSource(n,t)):n=>n}pipeableMany(t){return this.hasConverters(t)?y(n=>this.convertMany(n,t)):n=>n}convert(t,n){return this.hasConverters(n)?this.convertSource(t,n):t}convertMany(t,n){return this.hasConverters(n)&&Array.isArray(t)?t.map(i=>this.convertSource(i,n)):t}convertSource(t,n){return this.getConverters(n)?.reduce((i,o)=>o.convert(t,i),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(zc))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w3="[^/]",T3="[^/]*",A3="(?:.+\\/)?",nx=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:T3}],R3=[...nx,{replace:/\?/g,with:w3}],M3=[...nx,{replace:/\?/g,with:"\\?"}];function _3(e,r=!1){let t=r?M3:R3,n=e.split("/").reverse(),i="";for(;n.length>0;){let o=n.pop();if(o==="**")n.length>0?i+=A3:i+=".*";else{let s=t.reduce((a,c)=>a?.replace(c.replace,c.with),o);i+=s,n.length>0&&(i+="\\/")}}return i}function O3(e){return e.map(r=>{let t=!r.startsWith("!");return r=t?r:r.substring(1),{positive:t,regex:`^${_3(r)}$`}})}var x3=(()=>{class e{getValidator(t){let n=O3(t).map(({positive:s,regex:a})=>({positive:s,regex:new RegExp(a)})),i=n.filter(s=>s.positive),o=n.filter(s=>!s.positive);return s=>i.some(a=>a.regex.test(s))&&!o.some(a=>a.regex.test(s))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N3=(()=>{class e{constructor(){this.logger=E(K),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(t){let n=t.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!n)return null;let[,,i,o]=n;try{return new RegExp(o,i)}catch(s){return pe()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${t} 
Message: ${s}`),null}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rt(e,r){if(e instanceof Rc)return e;if(e instanceof _t){let t=new Rc;return t.message=e.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,Array.isArray(e.error.errors)?t.details=e.error.errors:typeof e.error.error=="string"&&(t.details=[{type:e.error.error,message:e.error.error_description}]),t}pe()&&r.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",e)}var _c=class{static shallowEqualObjects(r,t){if(r===t)return!0;if(!r||!t)return!1;let n=Object.keys(r),i=Object.keys(t),o=n.length,s=i.length;if(o!==s)return!1;for(let a=0;a<o;a++){let c=n[a];if(r[c]!==t[c])return!1}return!0}static deepEqualObjects(r,t){return r===t?!0:!(r instanceof Object)||!(t instanceof Object)||r.constructor!==t.constructor?!1:this.compareObjectProperties(r,t)}static compareObjectProperties(r,t){for(let n in r)if(r.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(r[n]!==t[n]&&(typeof r[n]!="object"||!this.deepEqualObjects(r[n],t[n])))return!1}for(let n in t)if(t.hasOwnProperty(n)&&!r.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(r,t){return t.reduce((n,i)=>(this.deepEqualObjects(r,i)&&n++,n),0)}static indexOfFirstOccurrence(r,t){for(let n=0;n<t.length;n++)if(this.deepEqualObjects(t[n],r))return n}};function Jue(e){return e.details?.[0]?.type==="JaloObjectNoLongerValidError"}var Xue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ele=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,tle=/^(?=.*?[A-Z]).*$/,nle=/^(?=.*?\d).*$/,rle=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,ile=/^.{6,}$/,ole=/(.)\1+/,sle=/^(?!.*(.)\1)(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/;function ale(e){let r=e?.shouldRetry??(()=>!0),t=e?.maxTries??3,n=e?.delay??300;return i=>i.pipe(Gg({delay:(o,s)=>{if(s>t||!r(o))throw o;let a=s*s;return Xt(a*n)}}))}function rx(e){return Ze(()=>{let r=0,t=new V(n=>{let i=()=>{n.next(),n.complete()};r?kg.schedule(i):i(),r++});return Fe(e).pipe(la(()=>t))})}function ag(e){return r=>e.pipe(tr(void 0),_(()=>r))}function cle(e){return ki(e)?e:P3(e)?me(Promise.resolve(e)):I(e)}function P3(e){return!!e&&typeof e.then=="function"}var rS=function(e){return e.HEAD="head",e.BODY="body",e}(rS||{}),ule=(()=>{class e{constructor(t,n){this.document=t,this.platformId=n}embedScript(t){let{src:n,params:i,attributes:o,callback:s,errorCallback:a,placement:c=rS.HEAD}=t,u=oo(this.platformId);if((s||a)&&u)return;let l=i?n+this.parseParams(i):n;if(!u&&this.hasScript(l))return;let d=this.document.createElement("script");d.src=l,d.async=!0,d.defer=!0,o&&Object.keys(o).forEach(h=>{h.startsWith("data-")?d.setAttribute(h,o[h]):d[h]=o[h]}),s&&d.addEventListener("load",s),a&&d.addEventListener("error",a),c===rS.HEAD?this.document.head.appendChild(d):this.document.body.appendChild(d)}hasScript(t){return!!this.document.querySelector(`script[src="${t}"]`)}parseParams(t){let n="",i=Object.keys(t);return i.length>0&&(n="?"+i.map(o=>encodeURI(o)+"="+encodeURI(t[o])).join("&")),n}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f($e))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var j_=class e{static getLocalTimezoneOffset(r){let t=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(t/60)).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${t>=0?r?"-":"+":r?"+":"-"}${n}:${i}`}static convertDateToDatetime(r,t){return`${r}T${t?"23:59:59":"00:00:00"}${e.getLocalTimezoneOffset()}`}static convertDatetimeToDate(r){return new Date(`${r.substring(0,19)}${e.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}};function ae(e,r){return rt(e,r)??e}function $_(e,r){let t;switch(e){case Us.LOCAL_STORAGE:{t=r.localStorage;break}case Us.SESSION_STORAGE:{t=r.sessionStorage;break}case Us.NO_STORAGE:{t=void 0;break}default:t=r.sessionStorage}return t}function F3(e,r,t){!ix(t)&&cn(r)&&t.setItem(e,JSON.stringify(r))}function B_(e,r){if(ix(e))return;let t=e.getItem(r);if(t)return JSON.parse(t)}function ix(e){return!e}var Gc=(()=>{class e{constructor(t){this.winRef=t}syncWithStorage({key:t,state$:n,context$:i=I(""),storageType:o=Us.LOCAL_STORAGE,onRead:s=()=>{}}){let a=$_(o,this.winRef),c=new Ee;return c.add(i.pipe(y(u=>a?B_(a,this.generateKeyWithContext(u,t)):void 0),L(u=>s(u))).subscribe()),a&&c.add(n.pipe(at(i)).subscribe(([u,l])=>{F3(this.generateKeyWithContext(l,t),u,a)})),c}readStateFromStorage({key:t,context:n="",storageType:i=Us.LOCAL_STORAGE}){let o=$_(i,this.winRef);if(o)return B_(o,this.generateKeyWithContext(n,t))}generateKeyWithContext(t,n){return`spartacus\u26BF${[].concat(t).join("\u26BF")}\u26BF${n}`}static{this.\u0275fac=function(n){return new(n||e)(f(br))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ox=(()=>{class e{constructor(t,n,i,o){this.statePersistenceService=t,this.userIdService=n,this.authStorageService=i,this.authRedirectStorageService=o,this.subscription=new Ee,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:t=>this.onRead(t)}))}getAuthState(){return Fe([this.authStorageService.getToken().pipe(R(t=>!!t),y(t=>v({},t))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(y(([t,n,i])=>{let o=t;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:n,redirectUrl:i}}))}onRead(t){t?.token&&this.authStorageService.setToken(t.token),t?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(t.redirectUrl),t?.userId?this.userIdService.setUserId(t.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Gc),f(Tn),f(jc),f(HO))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iS="cx-state";function L3(e,r,t,n){if(r&&t?.state?.ssrTransfer?.keys){if(jn(e))return U3(r,t.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(oo(e))return k3(r,t.state.ssrTransfer.keys)}return i=>i}function k3(e,r){let t=RO(r,Mo.TRANSFER_STATE);return function(n){return function(i,o){let s=n(i,o);if(s){let a=dI(t,[],s);e.set(iS,a)}return s}}}function U3(e,r,t){let n=RO(r,Mo.TRANSFER_STATE);return function(i){return function(o,s){if(s.type===Rd){if(o||(o=i(o,s)),!t&&e.hasKey(iS)){let a=e.get(iS,{}),c=dI(n,[],a);o=Dt({},o,c)}return o}return i(o,s)}}}var V_=new S("TransferStateMetaReducer"),j3=[{provide:V_,useFactory:L3,deps:[$e,[new gn,La],[new gn,bt],[new gn,ox]]},{provide:gs,useExisting:V_,multi:!0}],oi=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...j3]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),$3=(()=>{class e{constructor(t,n){this.http=t,this.authConfigService=n}loadClientAuthenticationToken(){let t=this.authConfigService.getTokenEndpoint(),n=new Ge().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),i=new de({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(t,n,{headers:i})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(eg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),B3=(()=>{class e{constructor(t,n){this.actions$=t,this.clientAuthenticationTokenService=n,this.logger=E(K),this.loadClientToken$=H(()=>this.actions$.pipe($(XO),rr(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(y(i=>new QC(i)),F(i=>I(new ZC(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f($3))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),V3=[B3];function H3(){return{clientToken:ft(sg)}}var sx=new S("ClientAuthReducers"),z3={provide:sx,useFactory:H3},G3=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[z3],imports:[Ye,oi,$n.forFeature(JO,sx),Bn.forFeature(V3)]})}}return e})(),W3=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...D3]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye,G3]})}}return e})(),cg=new S("ConfigInitializer"),ax=new S("CONFIG_INITIALIZER_FORROOT_GUARD"),bn=(()=>{class e{constructor(t,n,i){this.config=t,this.initializerGuard=n,this.rootConfig=i,this.logger=E(K),this.ongoingScopes$=new Re(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...t){return this.isStable?I(this.config):this.ongoingScopes$.pipe(R(n=>!!n&&this.areReady(t,n)),re(1),y(()=>this.config))}finishScopes(t){let n=[...this.ongoingScopes$.value??[]];for(let i of t)n.splice(n.indexOf(i),1);this.ongoingScopes$.next(n)}areReady(t,n){if(!t.length)return!n.length;for(let i of t)for(let o of n)if(this.scopesOverlap(i,o))return!1;return!0}scopesOverlap(t,n){return n.length>t.length&&([t,n]=[n,t]),t.startsWith(n)&&(t[n.length]||".")==="."}initialize(t){return ot(this,null,function*(){if(this.ongoingScopes$.value)return;let n=[],i=[];for(let o of t||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");pe()&&!this.areReady(o.scopes,n)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),n.push(...o.scopes),i.push(ot(this,null,function*(){let s=yield o.configFactory();Dt(this.rootConfig,s),Dt(this.config,s),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(n),i.length&&(yield Promise.all(i))})}static{this.\u0275fac=function(n){return new(n||e)(f(bt),f(ax,8),f(YS))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cx=new S("ConfigurationValidator");function AI(e){return{provide:cx,useValue:e,multi:!0}}function q3(e,r,t){for(let n of r){let i=n(e);i&&t.warn(i)}}function Y3(e){if(typeof e?.authentication?.baseUrl>"u"&&typeof e?.backend?.occ?.baseUrl>"u"&&e?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var K3={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}},H_=(()=>{class e extends ni{static{this.type="LogoutEvent"}}return e})(),Z3=(()=>{class e extends ni{static{this.type="LoginEvent"}}return e})(),ux=(()=>{class e{constructor(t,n){this.actionsSubject=t,this.eventService=n}register(t){return this.eventService.register(t.event,this.getFromAction(t))}getFromAction(t){return this.actionsSubject.pipe($(...[].concat(t.action))).pipe(y(n=>this.createEvent(n,t.event,t.factory)))}createEvent(t,n,i){return i?i(t):Ri(n,t.payload??{})}static{this.\u0275fac=function(n){return new(n||e)(f(qr),f(_o))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Q3=(()=>{class e{constructor(t,n,i){this.stateEventService=t,this.eventService=n,this.authService=i,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:Gn,event:Z3})}registerLogoutEvent(){this.eventService.register(H_,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(fa(),R(([t,n])=>t&&!n),y(()=>Ri(H_,{})))}static{this.\u0275fac=function(n){return new(n||e)(f(ux),f(_o),f(qn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),J3=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(Q3))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),Ue=function(e){return e.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",e.MSG_TYPE_ERROR="[GlobalMessage] Error",e.MSG_TYPE_INFO="[GlobalMessage] Information",e.MSG_TYPE_WARNING="[GlobalMessage] Warning",e.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",e}(Ue||{}),Xf="[Global-message] Add a Message",lx="[Global-message] Remove a Message",dx="[Global-message] Remove messages by type",oS=class{constructor(r){this.payload=r,this.type=Xf}},Oc=class{constructor(r){this.payload=r,this.type=lx}},eh=class{constructor(r){this.payload=r,this.type=dx}};var fx="global-message",X3=Cn(fx),hx=T(X3,e=>e.entities),px=e=>T(hx,r=>r&&r[e]),eW=e=>T(px(e),r=>r&&r.length);var Qs=(()=>{class e{constructor(t){this.store=t}get(){return this.store.pipe(M(hx),R(cn))}add(t,n,i){this.store.dispatch(new oS({text:typeof t=="string"?{raw:t}:t,type:n,timeout:i}))}remove(t,n){this.store.dispatch(n!==void 0?new Oc({type:t,index:n}):new eh(t))}static{this.\u0275fac=function(n){return new(n||e)(f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tW=(()=>{class e{constructor(t,n,i,o,s,a,c){this.authService=t,this.authStorageService=n,this.oAuthLibWrapperService=i,this.routingService=o,this.occEndpoints=s,this.globalMessageService=a,this.authRedirectService=c,this.refreshTokenTrigger$=new ie,this.token$=this.authStorageService.getToken().pipe(y(u=>u?.access_token?u:void 0)),this.stopProgress$=this.token$.pipe(fa(),L(([u,l])=>{u?.access_token!==l?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(at(this.authService.refreshInProgress$,this.authService.logoutInProgress$),R(([,u,l])=>!u&&!l),L(([u])=>{u?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=Ui(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(st({refCount:!0,bufferSize:1})),this.subscriptions=new Ee,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(t){return this.isOccUrl(t.url)}shouldAddAuthorizationHeader(t){let n=!!this.getAuthorizationHeader(t),i=this.isOccUrl(t.url);return!n&&i}alterRequest(t,n){let i=!!this.getAuthorizationHeader(t),o=this.isBaseSitesRequest(t),s=this.isOccUrl(t.url);return!i&&s&&!o?t.clone({setHeaders:v({},this.createAuthorizationHeader(n))}):t}isOccUrl(t){return t.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(t){return t.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(t){return t.headers.get("Authorization")}createAuthorizationHeader(t){if(t?.access_token)return{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`};let n;return this.authStorageService.getToken().subscribe(i=>n=i).unsubscribe(),n?.access_token?{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}:{}}handleExpiredAccessToken(t,n,i){return this.getValidToken(i).pipe(_(o=>o?n.handle(this.createNewRequestWithNewToken(t,o)):ge))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},Ue.MSG_TYPE_ERROR)})}getStableToken(){return Fe([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(Qt(Or),R(([t,n,i])=>!n&&!i),_(()=>this.token$))}getValidToken(t){return Ze(()=>{let n=!1;return this.tokenToRetryRequest$.pipe(L(i=>{i?.access_token===t?.access_token&&!n&&this.refreshTokenTrigger$.next(i),n=!0}),Vu(i=>i?.access_token===t?.access_token),re(1))})}createNewRequestWithNewToken(t,n){return t=t.clone({setHeaders:{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}}),t}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(qn),f(jc),f(jO),f(_i),f(Ke),f(Qs),f(pI))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nW=(()=>{class e{constructor(t,n){this.authHttpHeaderService=t,this.authConfigService=n}intercept(t,n){let i=this.authHttpHeaderService.shouldCatchError(t);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(t)?this.authHttpHeaderService.getStableToken().pipe(re(1)):I(void 0)).pipe(y(c=>({token:c,request:this.authHttpHeaderService.alterRequest(t,c)}))).pipe(_(({request:c,token:u})=>n.handle(c).pipe(F(l=>{switch(l.status){case 401:if(this.isExpiredToken(l)&&i)return this.authHttpHeaderService.handleExpiredAccessToken(c,n,u);if(this.errorIsInvalidToken(l))return this.authHttpHeaderService.handleExpiredRefreshToken(),ge;break;case 400:this.errorIsInvalidGrant(l)&&c.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw l}))))}errorIsInvalidToken(t){return(t.url?.includes(this.authConfigService.getTokenEndpoint())&&t.error.error==="invalid_token")??!1}errorIsInvalidGrant(t){return(t.url?.includes(this.authConfigService.getTokenEndpoint())&&t.error.error==="invalid_grant")??!1}isExpiredToken(t){return t.error?.errors?.[0]?.type==="InvalidTokenError"}static{this.\u0275fac=function(n){return new(n||e)(f(tW),f(eg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rW=(()=>{class e{constructor(t,n){this.authStorageService=t,this.authConfigService=n}intercept(t,n){let i=this.isTokenRevocationRequest(t);return this.authStorageService.getToken().pipe(re(1),_(o=>(i&&(t=t.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),n.handle(t))))}isTokenRevocationRequest(t){return t.url===this.authConfigService.getRevokeEndpoint()}static{this.\u0275fac=function(n){return new(n||e)(f(jc),f(eg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iW=[{provide:rn,useExisting:nW,multi:!0},{provide:rn,useExisting:rW,multi:!0}],RI=new S("MULTI_LOCATION_INITIALIZED");function oW(e,r,t){return()=>jn(t)?nr(r.getStable().pipe(_(()=>e.checkOAuthParamsInUrl()))):Promise.resolve()}function sW(e){return()=>e.initSync()}var aW=()=>{let e=E(qn),r=E(bn),t=E($e),n=E(ox);return sW(n)(),oW(e,r,t)},cW=(()=>{class e{static forRoot(){return{ngModule:e,providers:[wn(K3),AI(Y3),...iW,{provide:mo,useExisting:jc},{provide:RI,useFactory:aW,multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye,QM.forRoot(),J3]})}}return e})(),lle=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye,cW.forRoot(),W3.forRoot()]})}}return e})(),uW=(()=>{class e{constructor(t,n,i,o){this.authService=t,this.authRedirectService=n,this.router=i,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(y(t=>t||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}static{this.\u0275fac=function(n){return new(n||e)(f(qn),f(pI),f(Ne),f($c))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dle=(()=>{class e{constructor(t,n,i){this.authService=t,this.semanticPathService=n,this.router=i}canActivate(){return this.authService.isUserLoggedIn().pipe(y(t=>t?this.router.parseUrl(this.semanticPathService.get("home")??""):!t))}static{this.\u0275fac=function(n){return new(n||e)(f(qn),f($c),f(Ne))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gx=(()=>{class e extends Dr{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),lW=(()=>{class e{constructor(t,n,i,o){this.anonymousConsentsService=t,this.authService=n,this.occEndpoints=i,this.config=o}intercept(t,n){return Fe([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(re(1),_(([i,o])=>{if(!this.isOccUrl(t.url))return n.handle(t);let s=this.handleRequest(i,t);return n.handle(s).pipe(L(a=>{a instanceof so&&(a.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,a.headers.get(TC),i)}))}))}handleResponse(t,n,i){if(!t&&n){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(n),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,i)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(t,n){if(!t)return n;let i=this.anonymousConsentsService.serializeAndEncode(t);return n.clone({setHeaders:{[TC]:i}})}isOccUrl(t){return t.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(t){let n=[...t];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let i of n)i.templateCode&&this.config.anonymousConsents.requiredConsents.includes(i.templateCode)&&(i.consentState=Bs.GIVEN);return n}static{this.\u0275fac=function(n){return new(n||e)(f(Hc),f(qn),f(Ke),f(gx))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dW=[{provide:rn,useExisting:lW,multi:!0}],MI="[User] Load Billing Countries",mx="[User] Load Billing Countries Fail",_I="[User] Load Billing Countries Success",th=class{constructor(){this.type=MI}},nh=class{constructor(r){this.payload=r,this.type=mx,this.error=r}},rh=class{constructor(r){this.payload=r,this.type=_I}},ue="process";function fW(){return Cn(ue)}function ug(e){return T(fW(),r=>Kt(r,e))}function Ai(e){return T(ug(e),r=>Vt(r))}function Qr(e){return T(ug(e),r=>Wn(r))}function Ti(e){return T(ug(e),r=>Ks(r))}var fle=Object.freeze({__proto__:null,getProcessErrorFactory:Ti,getProcessLoadingFactory:Ai,getProcessStateFactory:ug,getProcessSuccessFactory:Qr}),vx="user",hW="registerUser",Eo="giveConsent",Co="withdrawConsent",Wc="updateNotificationPreferences",Hs="addProductInterests",zs="removeProductInterests",qc="[User] User Consents",wr="[User] User Payment Methods",un="[User] User Addresses",lg="[User] User Cost Centers",Yc="[User] Regions",Kc="[User] Customer Coupons",So="subscribeCustomerCoupon",Io="unsubscribeCustomerCoupon",js="claimCustomerCoupon",Gs="disclaimCustomerCoupon",Zc="[User] Notification Preferences",Qc="[User] Product Interests",OI="[User] Load Customer Coupons",yx="[User] Load Customer Coupons Fail",xI="[User] Load Customer Coupons Success",Ex="[User] Reset Load Customer Coupons",NI="[User] Subscribe Customer Notification Coupon",Cx="[User] Subscribe Customer Coupon Notification Fail",PI="[User] Subscribe Customer Coupon Notification Success",Sx="[User] Reset Subscribe Customer Coupon Process",FI="[User] Unsubscribe Customer Notification Coupon",Ix="[User] Unsubscribe Customer Coupon Notification Fail",LI="[User] Unsubscribe Customer Coupon Notification Success",Dx="[User] Reset Unsubscribe Customer Coupon Process",kI="[User] Claim Customer",bx="[User] Claim Customer Fail",wx="[User] Claim Customer Success",UI="[User] Disclaim Customer",Tx="[User] Disclaim Customer Fail",Ax="[User] Disclaim Customer Success",Rx="[User] Reset Disclaim Customer",ih=class extends ht{constructor(r){super(Kc),this.payload=r,this.type=OI}},oh=class extends pt{constructor(r){super(Kc,r),this.payload=r,this.type=yx}},sh=class extends gt{constructor(r){super(Kc),this.payload=r,this.type=xI}},sS=class extends Xr{constructor(){super(Kc),this.type=Ex}},ah=class extends Bt{constructor(r){super(ue,So),this.payload=r,this.type=NI}},ch=class extends Ot{constructor(r){super(ue,So,r),this.payload=r,this.type=Cx}},uh=class extends mt{constructor(r){super(ue,So,r),this.payload=r,this.type=PI}},aS=class extends zn{constructor(){super(ue,So),this.type=Sx}},lh=class extends Bt{constructor(r){super(ue,Io),this.payload=r,this.type=FI}},dh=class extends Ot{constructor(r){super(ue,Io,r),this.payload=r,this.type=Ix}},fh=class extends mt{constructor(r){super(ue,Io,r),this.payload=r,this.type=LI}},cS=class extends zn{constructor(){super(ue,Io),this.type=Dx}},hh=class extends Bt{constructor(r){super(ue,js),this.payload=r,this.type=kI}},ph=class extends Bt{constructor(r){super(ue,Gs),this.payload=r,this.type=UI}},gh=class extends zn{constructor(){super(ue,Gs),this.type=Rx}},mh=class extends Ot{constructor(r){super(ue,Gs,r),this.payload=r,this.type=Tx}},vh=class extends mt{constructor(r){super(ue,Gs,r),this.payload=r,this.type=Ax}},yh=class extends Ot{constructor(r){super(ue,js,r),this.payload=r,this.type=bx}},Eh=class extends mt{constructor(r){super(ue,js,r),this.payload=r,this.type=wx}},jI="[User] Load Delivery Countries",Mx="[User] Load Delivery Countries Fail",$I="[User] Load Delivery Countries Success",Ch=class{constructor(){this.type=jI}},Sh=class{constructor(r){this.payload=r,this.type=Mx,this.error=r}},Ih=class{constructor(r){this.payload=r,this.type=$I}},BI="[User] Load Notification Preferences",VI="[User] Load Notification Preferences Fail",HI="[User] Load Notification Preferences Success",zI="[User] Update Notification Preferences",_x="[User] Update Notification Preferences Fail",GI="[User] Update Notification Preferences Success",Ox="[User] Reset Notification Preferences",xx="[User] Clear Notification Preferences",Dh=class extends ht{constructor(r){super(Zc),this.payload=r,this.type=BI}},bh=class extends pt{constructor(r){super(Zc,r),this.payload=r,this.type=VI}},wh=class extends gt{constructor(r){super(Zc),this.payload=r,this.type=HI}},Th=class extends Bt{constructor(r){super(ue,Wc),this.payload=r,this.type=zI}},Ah=class extends Ot{constructor(r){super(ue,Wc,r),this.payload=r,this.type=_x}},Rh=class extends mt{constructor(r){super(ue,Wc),this.payload=r,this.type=GI}},Mh=class extends zn{constructor(){super(ue,Wc),this.type=Ox}},_h=class extends Xr{constructor(){super(Zc),this.type=xx}},WI="[User] Load User Payment Methods",qI="[User] Load User Payment Methods Fail",YI="[User] Load User Payment Methods Success",KI="[User] Set Default User Payment Method",Nx="[User] Set Default User Payment Method Fail",Px="[User] Set Default User Payment Method Success",ZI="[User] Delete User Payment Method",Fx="[User] Delete User Payment Method Fail",Lx="[User] Delete User  Payment Method Success",Ws=class extends ht{constructor(r){super(wr),this.payload=r,this.type=WI}},Oh=class extends pt{constructor(r){super(wr,r),this.payload=r,this.type=qI}},xh=class extends gt{constructor(r){super(wr),this.payload=r,this.type=YI}},Nh=class extends ht{constructor(r){super(wr),this.payload=r,this.type=KI}},Ph=class extends pt{constructor(r){super(wr,r),this.payload=r,this.type=Nx}},Fh=class extends gt{constructor(r){super(wr),this.payload=r,this.type=Px}},Lh=class extends ht{constructor(r){super(wr),this.payload=r,this.type=ZI}},kh=class extends pt{constructor(r){super(wr,r),this.payload=r,this.type=Fx}},Uh=class extends gt{constructor(r){super(wr),this.payload=r,this.type=Lx}},QI="Load Product Interests",JI="Load Product Interests Fail",XI="Load Product Interests Success",eD="Remove Product Interest",kx="Remove Product Interest Success",Ux="Remove Product Interest Fail",tD="Add Product Interest",jx="Add Product Interest Fail",$x="Add Product Interest Success",Bx="Add Product Interest Reset",Vx="Remove Product Interest Reset",Hx="Clear Product Interests",qs=class extends ht{constructor(r){super(Qc),this.payload=r,this.type=QI}},jh=class extends pt{constructor(r){super(Qc,r),this.payload=r,this.type=JI}},$h=class extends gt{constructor(r){super(Qc),this.payload=r,this.type=XI}},Bh=class extends Bt{constructor(r){super(ue,zs),this.payload=r,this.type=eD}},Vh=class extends mt{constructor(r){super(ue,zs),this.payload=r,this.type=kx}},Hh=class extends Ot{constructor(r){super(ue,zs,r),this.payload=r,this.type=Ux}},zh=class extends Bt{constructor(r){super(ue,Hs),this.payload=r,this.type=tD}},Gh=class extends mt{constructor(r){super(ue,Hs),this.payload=r,this.type=$x}},Wh=class extends Ot{constructor(r){super(ue,Hs,r),this.payload=r,this.type=jx}},qh=class extends zn{constructor(){super(ue,Hs),this.type=Bx}},Yh=class extends zn{constructor(){super(ue,zs),this.type=Vx}},Kh=class extends Xr{constructor(){super(Qc),this.type=Hx}},nD="[User] Load Regions",rD="[User] Load Regions Success",zx="[User] Load Regions Fail",iD="[User] Clear Regions",Zh=class extends ht{constructor(r){super(Yc),this.payload=r,this.type=nD}},Qh=class extends pt{constructor(r){super(Yc,r),this.payload=r,this.type=zx}},Jh=class extends gt{constructor(r){super(Yc),this.payload=r,this.type=rD}},Xh=class{constructor(){this.type=iD}},oD="[User] Load User Addresses",sD="[User] Load User Addresses Fail",aD="[User] Load User Addresses Success",dg="[User] Add User Address",Gx="[User] Add User Address Fail",cD="[User] Add User Address Success",fg="[User] Update User Address",Wx="[User] Update User Address Fail",uD="[User] Update User Address Success",hg="[User] Delete User Address",qx="[User] Delete User Address Fail",lD="[User] Delete User Address Success",ep=class extends ht{constructor(r){super(un),this.payload=r,this.type=oD}},tp=class extends pt{constructor(r){super(un,r),this.payload=r,this.type=sD}},np=class extends gt{constructor(r){super(un),this.payload=r,this.type=aD}},rp=class extends ht{constructor(r){super(un),this.payload=r,this.type=dg}},ip=class extends pt{constructor(r){super(un,r),this.payload=r,this.type=Gx}},op=class extends gt{constructor(r){super(un),this.payload=r,this.type=cD}},xc=class extends ht{constructor(r){super(un),this.payload=r,this.type=fg}},sp=class extends pt{constructor(r){super(un,r),this.payload=r,this.type=Wx}},ap=class extends gt{constructor(r){super(un),this.payload=r,this.type=uD}},cp=class extends ht{constructor(r){super(un),this.payload=r,this.type=hg}},up=class extends pt{constructor(r){super(un,r),this.payload=r,this.type=qx}},lp=class extends gt{constructor(r){super(un),this.payload=r,this.type=lD}},dD="[User] Load User Consents",fD="[User] Load User Consents Success",Yx="[User] Load User Consents Fail",Kx="[User] Reset Load User Consents",hD="[User] Give User Consent",Zx="[User] Give User Consent Fail",pD="[User] Give User Consent Success",Qx="[User] Reset Give User Consent Process",dp="[User] Transfer Anonymous Consent",gD="[User] Withdraw User Consent",Jx="[User] Withdraw User Consent Fail",Xx="[User] Withdraw User Consent Success",eN="[User] Reset Withdraw User Consent Process",fp=class extends ht{constructor(r){super(qc),this.payload=r,this.type=dD}},hp=class extends pt{constructor(r){super(qc,r),this.payload=r,this.type=Yx}},pp=class extends gt{constructor(r){super(qc),this.payload=r,this.type=fD}},Nc=class extends Xr{constructor(){super(qc),this.type=Kx}},Pc=class extends Bt{constructor(r){super(ue,Eo),this.payload=r,this.type=hD}},gp=class extends Ot{constructor(r){super(ue,Eo,r),this.type=Zx}},mp=class extends mt{constructor(r){super(ue,Eo),this.consentTemplate=r,this.type=pD}},vp=class extends zn{constructor(){super(ue,Eo),this.type=Qx}},yp=class{constructor(r){this.payload=r,this.type=dp}},Ep=class extends Bt{constructor(r){super(ue,Co),this.payload=r,this.type=gD}},Cp=class extends Ot{constructor(r){super(ue,Co,r),this.type=Jx}},Sp=class extends mt{constructor(){super(ue,Co),this.type=Xx}},Ip=class extends zn{constructor(){super(ue,Co),this.type=eN}},mD="[User] Load Active CostCenters",vD="[User] Load Active CostCenters Fail",yD="[User] Load Active CostCenters Success",Dp=class extends ht{constructor(r){super(lg),this.payload=r,this.type=mD}},bp=class extends pt{constructor(r){super(lg,r),this.payload=r,this.type=vD}},wp=class extends gt{constructor(r){super(lg),this.payload=r,this.type=yD}},Jc="[User] Clear User Misc Data",Tp=class{constructor(){this.type=Jc}},ED="[User] Register User Success",uS=class extends mt{constructor(){super(ue,hW),this.type=ED}},hle=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:tD,ADD_PRODUCT_INTEREST_FAIL:jx,ADD_PRODUCT_INTEREST_RESET:Bx,ADD_PRODUCT_INTEREST_SUCCESS:$x,ADD_USER_ADDRESS:dg,ADD_USER_ADDRESS_FAIL:Gx,ADD_USER_ADDRESS_SUCCESS:cD,AddProductInterest:zh,AddProductInterestFail:Wh,AddProductInterestSuccess:Gh,AddUserAddress:rp,AddUserAddressFail:ip,AddUserAddressSuccess:op,CLAIM_CUSTOMER_COUPON:kI,CLAIM_CUSTOMER_COUPON_FAIL:bx,CLAIM_CUSTOMER_COUPON_SUCCESS:wx,CLEAR_NOTIFICATION_PREFERENCES:xx,CLEAR_PRODUCT_INTERESTS:Hx,CLEAR_REGIONS:iD,CLEAR_USER_MISCS_DATA:Jc,ClaimCustomerCoupon:hh,ClaimCustomerCouponFail:yh,ClaimCustomerCouponSuccess:Eh,ClearNotificationPreferences:_h,ClearProductInterests:Kh,ClearRegions:Xh,ClearUserMiscsData:Tp,DELETE_USER_ADDRESS:hg,DELETE_USER_ADDRESS_FAIL:qx,DELETE_USER_ADDRESS_SUCCESS:lD,DELETE_USER_PAYMENT_METHOD:ZI,DELETE_USER_PAYMENT_METHOD_FAIL:Fx,DELETE_USER_PAYMENT_METHOD_SUCCESS:Lx,DISCLAIM_CUSTOMER_COUPON:UI,DISCLAIM_CUSTOMER_COUPON_FAIL:Tx,DISCLAIM_CUSTOMER_COUPON_SUCCESS:Ax,DeleteUserAddress:cp,DeleteUserAddressFail:up,DeleteUserAddressSuccess:lp,DeleteUserPaymentMethod:Lh,DeleteUserPaymentMethodFail:kh,DeleteUserPaymentMethodSuccess:Uh,DisclaimCustomerCoupon:ph,DisclaimCustomerCouponFail:mh,DisclaimCustomerCouponSuccess:vh,GIVE_USER_CONSENT:hD,GIVE_USER_CONSENT_FAIL:Zx,GIVE_USER_CONSENT_SUCCESS:pD,GiveUserConsent:Pc,GiveUserConsentFail:gp,GiveUserConsentSuccess:mp,LOAD_ACTIVE_COST_CENTERS:mD,LOAD_ACTIVE_COST_CENTERS_FAIL:vD,LOAD_ACTIVE_COST_CENTERS_SUCCESS:yD,LOAD_BILLING_COUNTRIES:MI,LOAD_BILLING_COUNTRIES_FAIL:mx,LOAD_BILLING_COUNTRIES_SUCCESS:_I,LOAD_CUSTOMER_COUPONS:OI,LOAD_CUSTOMER_COUPONS_FAIL:yx,LOAD_CUSTOMER_COUPONS_SUCCESS:xI,LOAD_DELIVERY_COUNTRIES:jI,LOAD_DELIVERY_COUNTRIES_FAIL:Mx,LOAD_DELIVERY_COUNTRIES_SUCCESS:$I,LOAD_NOTIFICATION_PREFERENCES:BI,LOAD_NOTIFICATION_PREFERENCES_FAIL:VI,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:HI,LOAD_PRODUCT_INTERESTS:QI,LOAD_PRODUCT_INTERESTS_FAIL:JI,LOAD_PRODUCT_INTERESTS_SUCCESS:XI,LOAD_REGIONS:nD,LOAD_REGIONS_FAIL:zx,LOAD_REGIONS_SUCCESS:rD,LOAD_USER_ADDRESSES:oD,LOAD_USER_ADDRESSES_FAIL:sD,LOAD_USER_ADDRESSES_SUCCESS:aD,LOAD_USER_CONSENTS:dD,LOAD_USER_CONSENTS_FAIL:Yx,LOAD_USER_CONSENTS_SUCCESS:fD,LOAD_USER_PAYMENT_METHODS:WI,LOAD_USER_PAYMENT_METHODS_FAIL:qI,LOAD_USER_PAYMENT_METHODS_SUCCESS:YI,LoadActiveCostCenters:Dp,LoadActiveCostCentersFail:bp,LoadActiveCostCentersSuccess:wp,LoadBillingCountries:th,LoadBillingCountriesFail:nh,LoadBillingCountriesSuccess:rh,LoadCustomerCoupons:ih,LoadCustomerCouponsFail:oh,LoadCustomerCouponsSuccess:sh,LoadDeliveryCountries:Ch,LoadDeliveryCountriesFail:Sh,LoadDeliveryCountriesSuccess:Ih,LoadNotificationPreferences:Dh,LoadNotificationPreferencesFail:bh,LoadNotificationPreferencesSuccess:wh,LoadProductInterests:qs,LoadProductInterestsFail:jh,LoadProductInterestsSuccess:$h,LoadRegions:Zh,LoadRegionsFail:Qh,LoadRegionsSuccess:Jh,LoadUserAddresses:ep,LoadUserAddressesFail:tp,LoadUserAddressesSuccess:np,LoadUserConsents:fp,LoadUserConsentsFail:hp,LoadUserConsentsSuccess:pp,LoadUserPaymentMethods:Ws,LoadUserPaymentMethodsFail:Oh,LoadUserPaymentMethodsSuccess:xh,REGISTER_USER_SUCCESS:ED,REMOVE_PRODUCT_INTEREST:eD,REMOVE_PRODUCT_INTEREST_FAIL:Ux,REMOVE_PRODUCT_INTEREST_RESET:Vx,REMOVE_PRODUCT_INTEREST_SUCCESS:kx,RESET_DISCLAIM_CUSTOMER_COUPON:Rx,RESET_GIVE_USER_CONSENT_PROCESS:Qx,RESET_LOAD_CUSTOMER_COUPONS:Ex,RESET_LOAD_USER_CONSENTS:Kx,RESET_NOTIFICATION_PREFERENCES:Ox,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:Sx,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:Dx,RESET_WITHDRAW_USER_CONSENT_PROCESS:eN,RegisterUserSuccess:uS,RemoveProductInterest:Bh,RemoveProductInterestFail:Hh,RemoveProductInterestSuccess:Vh,ResetAddInterestState:qh,ResetDisclaimCustomerCoupon:gh,ResetGiveUserConsentProcess:vp,ResetLoadCustomerCoupons:sS,ResetLoadUserConsents:Nc,ResetNotificationPreferences:Mh,ResetRemoveInterestState:Yh,ResetSubscribeCustomerCouponProcess:aS,ResetUnsubscribeCustomerCouponProcess:cS,ResetWithdrawUserConsentProcess:Ip,SET_DEFAULT_USER_PAYMENT_METHOD:KI,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:Nx,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:Px,SUBSCRIBE_CUSTOMER_COUPON:NI,SUBSCRIBE_CUSTOMER_COUPON_FAIL:Cx,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:PI,SetDefaultUserPaymentMethod:Nh,SetDefaultUserPaymentMethodFail:Ph,SetDefaultUserPaymentMethodSuccess:Fh,SubscribeCustomerCoupon:ah,SubscribeCustomerCouponFail:ch,SubscribeCustomerCouponSuccess:uh,TRANSFER_ANONYMOUS_CONSENT:dp,TransferAnonymousConsent:yp,UNSUBSCRIBE_CUSTOMER_COUPON:FI,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:Ix,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:LI,UPDATE_NOTIFICATION_PREFERENCES:zI,UPDATE_NOTIFICATION_PREFERENCES_FAIL:_x,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:GI,UPDATE_USER_ADDRESS:fg,UPDATE_USER_ADDRESS_FAIL:Wx,UPDATE_USER_ADDRESS_SUCCESS:uD,UnsubscribeCustomerCoupon:lh,UnsubscribeCustomerCouponFail:dh,UnsubscribeCustomerCouponSuccess:fh,UpdateNotificationPreferences:Th,UpdateNotificationPreferencesFail:Ah,UpdateNotificationPreferencesSuccess:Rh,UpdateUserAddress:xc,UpdateUserAddressFail:sp,UpdateUserAddressSuccess:ap,WITHDRAW_USER_CONSENT:gD,WITHDRAW_USER_CONSENT_FAIL:Jx,WITHDRAW_USER_CONSENT_SUCCESS:Xx,WithdrawUserConsent:Ep,WithdrawUserConsentFail:Cp,WithdrawUserConsentSuccess:Sp}),Ap=class{},pW=(()=>{class e{constructor(t){this.adapter=t}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}static{this.\u0275fac=function(n){return new(n||e)(f(Ap))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rp=class{},Mp=class{},lS=new S("CmsPageNormalizer"),gW="JspIncludeComponent",mW="CMSFlexComponent";var vW=function(e){return e.DEFER="DEFERRED-LOADING",e.INSTANT="INSTANT-LOADING",e}(vW||{}),CD=(()=>{class e extends Dr{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),Zr=function(e){return e.INDEX="INDEX",e.NOINDEX="NOINDEX",e.FOLLOW="FOLLOW",e.NOFOLLOW="NOFOLLOW",e}(Zr||{}),Ps;(function(e){let r;(function(g){g.INDEX_FOLLOW="INDEX_FOLLOW",g.NOINDEX_FOLLOW="NOINDEX_FOLLOW",g.INDEX_NOFOLLOW="INDEX_NOFOLLOW",g.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(r=e.PageRobots||(e.PageRobots={}));let t;(function(g){g.Success="SUCCESS",g.Info="INFO",g.Warning="WARNING",g.Error="ERROR"})(t=e.OrderEntryStatus||(e.OrderEntryStatus={}));let n;(function(g){g.BUY="BUY",g.FROM="FROM"})(n=e.PriceType||(e.PriceType={}));let i;(function(g){g.PRIMARY="PRIMARY",g.GALLERY="GALLERY"})(i=e.ImageType||(e.ImageType={}));let o;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(o=e.Fields||(e.Fields={}));let s;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(s=e.Fields1||(e.Fields1={}));let a;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(a=e.Fields2||(e.Fields2={}));let c;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(c=e.Fields3||(e.Fields3={}));let u;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(u=e.Fields4||(e.Fields4={}));let l;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(l=e.Fields5||(e.Fields5={}));let d;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(d=e.Fields6||(e.Fields6={}));let h;(function(g){g.CONTENT_PAGE="ContentPage",g.PRODUCT_PAGE="ProductPage",g.CATEGORY_PAGE="CategoryPage",g.CATALOG_PAGE="CatalogPage"})(h=e.PageType||(e.PageType={}));let m;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(m=e.Fields7||(e.Fields7={}));let C;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(C=e.Fields8||(e.Fields8={}));let D;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(D=e.Fields9||(e.Fields9={}));let A;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(A=e.Fields10||(e.Fields10={}));let N;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(N=e.Fields11||(e.Fields11={}));let x;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(x=e.Fields12||(e.Fields12={}));let Y;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Y=e.Fields13||(e.Fields13={}));let Z;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Z=e.Fields14||(e.Fields14={}));let X;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(X=e.Fields15||(e.Fields15={}));let fe;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(fe=e.Fields16||(e.Fields16={}));let Te;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Te=e.SortEnum||(e.SortEnum={}));let He;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(He=e.Fields17||(e.Fields17={}));let Ni;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Ni=e.Fields18||(e.Fields18={}));let Yn;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Yn=e.Fields19||(e.Fields19={}));let b;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(b=e.Fields20||(e.Fields20={}));let O;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(O=e.Fields21||(e.Fields21={}));let ne;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ne=e.Fields22||(e.Fields22={}));let ye;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ye=e.Fields23||(e.Fields23={}));let Ae;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Ae=e.Fields24||(e.Fields24={}));let he;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(he=e.Fields25||(e.Fields25={}));let Rr;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Rr=e.Fields26||(e.Fields26={}));let vt;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(vt=e.Fields27||(e.Fields27={}));let ze;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ze=e.Fields28||(e.Fields28={}));let ln;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ln=e.Fields29||(e.Fields29={}));let au;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(au=e.Fields30||(e.Fields30={}));let IP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(IP=e.Fields31||(e.Fields31={}));let DP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(DP=e.Fields32||(e.Fields32={}));let bP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(bP=e.Fields33||(e.Fields33={}));let wP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(wP=e.Fields34||(e.Fields34={}));let TP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(TP=e.Fields35||(e.Fields35={}));let AP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(AP=e.Fields36||(e.Fields36={}));let RP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(RP=e.Fields37||(e.Fields37={}));let MP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(MP=e.Fields38||(e.Fields38={}));let _P;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(_P=e.Fields39||(e.Fields39={}));let OP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(OP=e.Fields40||(e.Fields40={}));let xP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(xP=e.Fields41||(e.Fields41={}));let NP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(NP=e.Fields42||(e.Fields42={}));let PP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(PP=e.Fields43||(e.Fields43={}));let FP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(FP=e.Fields44||(e.Fields44={}));let LP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(LP=e.Fields45||(e.Fields45={}));let kP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(kP=e.Fields46||(e.Fields46={}));let UP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(UP=e.Fields47||(e.Fields47={}));let jP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(jP=e.Fields48||(e.Fields48={}));let $P;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})($P=e.Fields49||(e.Fields49={}));let BP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(BP=e.Fields50||(e.Fields50={}));let VP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(VP=e.Fields51||(e.Fields51={}));let HP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(HP=e.Fields52||(e.Fields52={}));let zP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(zP=e.Fields53||(e.Fields53={}));let GP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(GP=e.Fields54||(e.Fields54={}));let WP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(WP=e.Fields55||(e.Fields55={}));let qP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(qP=e.Fields56||(e.Fields56={}));let YP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(YP=e.Fields57||(e.Fields57={}));let KP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(KP=e.Fields58||(e.Fields58={}));let ZP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ZP=e.Fields59||(e.Fields59={}));let QP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(QP=e.Fields60||(e.Fields60={}));let JP;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(JP=e.Fields61||(e.Fields61={}));let XP;(function(g){g.All="all",g.Product="product",g.Order="order"})(XP=e.Type||(e.Type={}));let eF;(function(g){g.ANONYMOUS_CONSENT_GIVEN="GIVEN",g.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})(eF=e.CONSENT_STATUS||(e.CONSENT_STATUS={}));let tF;(function(g){g.BACK_IN_STOCK="BACK_IN_STOCK"})(tF=e.NotificationType||(e.NotificationType={}));let nF;(function(g){g.DAY="DAY",g.WEEK="WEEK",g.MONTH="MONTH",g.QUARTER="QUARTER",g.YEAR="YEAR"})(nF=e.Period||(e.Period={}));let rF;(function(g){g.MONDAY="MONDAY",g.TUESDAY="TUESDAY",g.WEDNESDAY="WEDNESDAY",g.THURSDAY="THURSDAY",g.FRIDAY="FRIDAY",g.SATURDAY="SATURDAY",g.SUNDAY="SUNDAY"})(rF=e.DaysOfWeek||(e.DaysOfWeek={}));let iF;(function(g){g.APPROVE="APPROVE",g.REJECT="REJECT"})(iF=e.OrderApprovalDecisionValue||(e.OrderApprovalDecisionValue={}))})(Ps||(Ps={}));var yW=(()=>{class e{convert(t,n={}){return this.normalizePageData(t,n),this.normalizePageSlotData(t,n),this.normalizePageComponentData(t,n),this.normalizeComponentData(t,n),n}normalizePageData(t,n){if(!t)return;let i={};t.name&&(i.name=t.name),t.typeCode&&(i.type=t.typeCode),t.label&&(i.label=t.label),t.template&&(i.template=t.template),t.uid&&(i.pageId=t.uid),t.title&&(i.title=t.title),t.description&&(i.description=t.description),t.properties&&(i.properties=t.properties),this.normalizeRobots(t,i),n.page=i}normalizePageSlotData(t,n){if(t?.contentSlots){t.contentSlots.contentSlot&&!Array.isArray(t.contentSlots.contentSlot)&&(t.contentSlots.contentSlot=[t.contentSlots.contentSlot]),n.page=n.page??{},n.page.slots={};for(let i of t.contentSlots.contentSlot??[])i.position&&(n.page.slots[i.position]={},i.properties&&(n.page.slots[i.position].properties=i.properties))}}normalizePageComponentData(t,n){if(t?.contentSlots?.contentSlot){for(let i of t.contentSlots.contentSlot)if(Array.isArray(i.components?.component))for(let o of i.components?.component??[]){let s={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(i.position){let a=n.page?.slots?.[i.position];a&&(a.components||(a.components=[]),a.components.push(s))}}}}getComponentProperties(t){return t||void 0}getFlexTypeFromComponent(t){return t.typeCode===mW?t.flexType:t.typeCode===gW?t.uid:t.typeCode}normalizeComponentData(t,n){if(t?.contentSlots?.contentSlot)for(let i of t.contentSlots.contentSlot)for(let o of i.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),n.components||(n.components=[]),n.components.push(o)}normalizeRobots(t,n){let i=[];if(t.robotTag)switch(t.robotTag){case Ps.PageRobots.INDEX_FOLLOW:i.push(Zr.INDEX),i.push(Zr.FOLLOW);break;case Ps.PageRobots.NOINDEX_FOLLOW:i.push(Zr.NOINDEX),i.push(Zr.FOLLOW);break;case Ps.PageRobots.INDEX_NOFOLLOW:i.push(Zr.INDEX),i.push(Zr.NOFOLLOW);break;case Ps.PageRobots.NOINDEX_NOFOLLOW:i.push(Zr.NOINDEX),i.push(Zr.NOFOLLOW);break}n.robots=i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Df=new S("CmsComponentNormalizer"),EW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})();function tN(e){return typeof e=="object"&&!!e.features}function z_(e,r){if(e==="*")return!0;let t=e.split("."),n=r.split(".");for(let i=0;i<n.length;i++){let o=Number(n[i]),s=Number(t[i])||0;if(o!==s)return s>o}return!0}function nN(e,r){return tN(e)&&e.features.level?r.startsWith("!")?!z_(e.features.level,r.substring(1)):z_(e.features.level,r):!1}function rN(e,r){if(tN(e)){let t=r[0]==="!"?e.features[r.substring(1)]:e.features[r],n=typeof t=="string"?nN(e,t):t;return r.startsWith("!")?!n:!!n}return!1}var Oi=(()=>{class e{constructor(t){this.config=t}isLevel(t){return nN(this.config,t)}isEnabled(t){return rN(this.config,t)}static{this.\u0275fac=function(n){return new(n||e)(f(EW))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ple=(()=>{class e{constructor(t,n,i){this.templateRef=t,this.viewContainer=n,this.featureConfig=i,this.hasView=!1}set cxFeature(t){this.featureConfig.isEnabled(t)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(t)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}static{this.\u0275fac=function(n){return new(n||e)(J(Ln),J(qt),J(Oi))}}static{this.\u0275dir=Ut({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}})}}return e})(),gle=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:()=>Object.assign({},E(iN),E(oN)),providedIn:"root"})}}return e})(),iN=new S("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...E(aN,{optional:!0})??[])}),oN=new S("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...E(sN,{optional:!0})??[])}),sN=new S("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),aN=new S("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function mle(e={}){return{provide:sN,useValue:e,multi:!0}}function CW(e={}){return{provide:aN,useValue:e,multi:!0}}var SW={showDeliveryOptionsTranslation:!1,formErrorsDescriptiveMessages:!1,showSearchingCustomerByOrderInASM:!1,showStyleChangesInASM:!1,shouldHideAddToCartForUnpurchasableProducts:!1,useExtractedBillingAddressComponent:!1,showBillingAddressInDigitalPayments:!1,showDownloadProposalButton:!1,showPromotionsInPDP:!0,searchBoxV2:!1,recentSearches:!0,trendingSearches:!1,pdfInvoicesSortByInvoiceDate:!0,storeFrontLibCardParagraphTruncated:!0,useProductCarouselBatchApi:!1,productConfiguratorAttributeTypesV2:!0,propagateErrorsToServer:!1,ssrStrictErrorHandlingForHttpAndNgrx:!1,productConfiguratorDeltaRendering:!1,a11yRequiredAsterisks:!0,a11yQuantityOrderTabbing:!0,a11yNavigationUiKeyboardControls:!0,a11yNavMenuExpandStateReadout:!1,a11yOrderConfirmationHeadingOrder:!0,a11yStarRating:!0,a11yViewChangeAssistiveMessage:!0,a11yPreventHorizontalScroll:!1,a11yReorderDialog:!0,a11yPopoverFocus:!0,a11yScheduleReplenishment:!0,a11yScrollToTop:!0,a11ySavedCartsZoom:!0,a11ySortingOptionsTruncation:!0,a11yExpandedFocusIndicator:!0,a11yCheckoutDeliveryFocus:!0,a11yMobileVisibleFocus:!0,a11yOrganizationsBanner:!0,a11yOrganizationListHeadingOrder:!0,a11yCartImportConfirmationMessage:!1,a11yReplenishmentOrderFieldset:!0,a11yListOversizedFocus:!0,a11yStoreFinderOverflow:!0,a11yMobileFocusOnFirstNavigationItem:!1,a11yCartSummaryHeadingOrder:!0,a11ySearchBoxMobileFocus:!1,a11yFacetKeyboardNavigation:!1,a11yUnitsListKeyboardControls:!0,a11yCartItemsLinksStyles:!0,a11yHideSelectBtnForSelectedAddrOrPayment:!1,a11yFocusableCarouselControls:!0,a11yUseTrapTabInsteadOfTrapInDialogs:!1,cmsGuardsServiceUseGuardsComposer:!1,cartQuickOrderRemoveListeningToFailEvent:!0,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!1,a11yVisibleFocusOverflows:!1,a11yTruncatedTextForResponsiveView:!1,a11ySemanticPaginationLabel:!1,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!1,a11yMyAccountLinkOutline:!1,a11yCloseProductImageBtnFocus:!1,a11yNotificationPreferenceFieldset:!1,a11yImproveContrast:!1,a11yEmptyWishlistHeading:!1,a11yScreenReaderBloatFix:!1,a11yUseButtonsForBtnLinks:!1,a11yTabComponent:!1,a11yCarouselArrowKeysNavigation:!1,a11yNotificationsOnConsentChange:!1,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!1,a11yFacetsDialogFocusHandling:!1,a11yStoreFinderAlerts:!1,a11yFormErrorMuteIcon:!1,a11yCxMessageFocus:!1,a11yLinkBtnsToTertiaryBtns:!1,a11yRepeatedPageTitleFix:!1,a11yDeliveryModeRadiogroup:!1,a11yNgSelectOptionsCount:!1,a11yRepeatedCancelOrderError:!1,a11yAddedToCartActiveDialog:!1,a11yNgSelectMobileReadout:!1,a11yDeliveryMethodFieldset:!1,a11yShowMoreReviewsBtnFocus:!1,a11yQuickOrderAriaControls:!1,a11yRemoveStatusLoadedRole:!1,a11yDialogsHeading:!1,a11yDialogTriggerRefocus:!1,a11yAddToWishlistFocus:!1,a11ySearchBoxFocusOnEscape:!1,a11yViewHoursButtonIconContrast:!1,occCartNameAndDescriptionInHttpRequestBody:!1,cmsBottomHeaderSlotUsingFlexStyles:!1,useSiteThemeService:!1,enableConsecutiveCharactersPasswordRequirement:!1,enablePasswordsCannotMatchInPasswordUpdateForm:!1,allPageMetaResolversEnabledInCsr:!1,useExtendedMediaComponentConfiguration:!1};function IW(e,r){return()=>e.initialize(r)}var DW=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:ax,useValue:!0},{provide:Ct,multi:!0,useFactory:IW,deps:[bn,[new gn,cg]]},{provide:RI,useFactory:()=>{let t=E(bn);return()=>nr(t.getStable())},multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function bW(e,r){let t=E(K);return()=>{pe()&&e.getStable().subscribe(n=>q3(n,r||[],t))}}var wW=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Ct,multi:!0,useFactory:bW,deps:[bn,[new gn,cx]]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),TW=(()=>{class e{constructor(t,n,i,o){this.rootConfig=t,this.defaultConfig=n,this.unifiedInjector=i,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new Re(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let t=this.unifiedInjector.get(Fc,[]),n=this.unifiedInjector.get(Ys,[]);return ji(t,n).pipe(Pg(1),L(([i,o])=>this.processConfig(i,o)))}processConfig(t,n){n?.length&&Dt(this.ambientDefaultConfig,...n),t.length&&Dt(this.ambientConfig,...t),(t.length||n.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let t=Dt({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(t),rN(this.config,"disableConfigUpdates")||Dt(this.config,t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}static{this.\u0275fac=function(n){return new(n||e)(f(YS),f(sO),f(zc),f(bt))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cN=(()=>{class e{constructor(t){}static withConfig(t){return{ngModule:e,providers:[N_(t)]}}static withConfigFactory(t,n){return{ngModule:e,providers:[Af(t,n)]}}static forRoot(t={}){return{ngModule:e,providers:[N_(t)]}}static{this.\u0275fac=function(n){return new(n||e)(f(TW))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function AW(e,r){let n=new RegExp("(?:^|;\\s*)"+r+"=([^;]*)","g").exec(e);return n&&decodeURIComponent(n[1])||""}var RW=new S("TEST_CONFIG_COOKIE_NAME"),vle=new S("TEST_CONFIG",{providedIn:"root",factory:()=>{let e=E(RW),r=E($e),t=E(Le);if(jn(r)&&e){let n=AW(t.cookie,e);return MW(n)}return{}}});function MW(e){try{return JSON.parse(decodeURIComponent(e))}catch{return{}}}var _W=[Af(()=>{let e=E(oN);return{features:v({},e)}}),wo(()=>{let e=E(iN);return{features:v({},e)}})],uN=(()=>{class e{constructor(){this.rendererFactory=E(Ji),this.featureConfig=E(Oi),this.logger=E(K),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(t){this.rootElement=t.location.nativeElement;for(let[n,i]of this.usagesCounter.entries())i>0&&this.addClass(n)}registerUsage(t){let n=this.usagesCounter.get(t)??0;this.isEnabled(t)&&n===0&&this.addClass(t),this.usagesCounter.set(t,n+1)}unregisterUsage(t){let n=this.usagesCounter.get(t)??0;n===0&&pe()&&this.logger.warn(`Feature flag CSS: "${t}" is already not used, so it cannot be unregistered.`),this.isEnabled(t)&&n===1&&this.removeClass(t),this.usagesCounter.set(t,Math.max(n-1,0))}isEnabled(t){return this.featureConfig.isEnabled(t)}addClass(t){let n=this.getCssClass(t);!this.rootElement||!n||this.renderer.addClass(this.rootElement,n)}removeClass(t){let n=this.getCssClass(t);!this.rootElement||!n||this.renderer.removeClass(this.rootElement,n)}getCssClass(t){return this.featureConfig.isEnabled(t)?`${this.CSS_FEATURE_FLAG_PREFIX}${t}`:void 0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),OW=(()=>{class e{static forRoot(t="3.0"){return{ngModule:e,providers:[CW(SW),..._W,wn({features:{level:t||"*"}}),{provide:ls,multi:!0,useFactory:()=>{let n=E(uN);return i=>n.init(i)}}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function xW(e){_a(xW);let r=E(uN),t=E(yi);r.registerUsage(e),t.onDestroy(()=>r.unregisterUsage(e))}var NW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.userIdService=E(Tn),this.featureConfigService=E(Oi),this.headers=new de().set("Content-Type","application/json")}load(t,n){return this.featureConfigService.isEnabled(Ns)?this.userIdService.getUserId().pipe(_(i=>this.http.get(this.getComponentEndPoint(t,n,i),{headers:this.headers})),this.converter.pipeable(Df)):this.http.get(this.getComponentEndPoint(t,n),{headers:this.headers}).pipe(this.converter.pipeable(Df))}findComponentsByIds(t,n,i="DEFAULT",o=0,s=t.length,a){let c=v(v({},this.getContextParams(n)),this.getPaginationParams(o,s,a));return c.componentIds=t.toString(),this.featureConfigService.isEnabled(Ns)?this.userIdService.getUserId().pipe(_(u=>this.http.get(this.getComponentsEndpoint(c,i,u),{headers:this.headers})),y(u=>u.component??[]),this.converter.pipeableMany(Df)):this.http.get(this.getComponentsEndpoint(c,i),{headers:this.headers}).pipe(y(u=>u.component??[]),this.converter.pipeableMany(Df))}getComponentEndPoint(t,n,i){if(this.featureConfigService.isEnabled(Ns)){let o=this.getContextParams(n),s=i?{urlParams:{id:t,userId:i},queryParams:o}:{urlParams:{id:t},queryParams:o};return this.occEndpoints.buildUrl("component",s)}return this.occEndpoints.buildUrl("component",{urlParams:{id:t},queryParams:this.getContextParams(n)})}getComponentsEndpoint(t,n,i){if(this.featureConfigService.isEnabled(Ns)){let o=v({fields:n},t),s=i?{urlParams:{userId:i},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",s)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:n},t)})}getPaginationParams(t,n,i){let o={};return t!==void 0&&(o.currentPage=t.toString()),n!==void 0&&(o.pageSize=n.toString()),i!==void 0&&(o.sort=i),o}getContextParams(t){let n={};switch(t.type){case we.PRODUCT_PAGE:{n={productCode:t.id};break}case we.CATEGORY_PAGE:{n={categoryCode:t.id};break}case we.CATALOG_PAGE:{n={catalogCode:t.id};break}}return n}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lN="__HOMEPAGE__",dN="smartedit-preview";var PW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.userIdService=E(Tn),this.featureConfigService=E(Oi),this.headers=new de().set("Content-Type","application/json")}load(t){let n=this.getPagesRequestParams(t);if(this.featureConfigService.isEnabled(Ns))return this.userIdService.getUserId().pipe(_(o=>{let s=t.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:n}):this.occEndpoints.buildUrl("page",{urlParams:{id:t.id,userId:o}});return this.http.get(s,{headers:this.headers})}),this.converter.pipeable(lS));let i=t.type?this.occEndpoints.buildUrl("pages",{queryParams:n}):this.occEndpoints.buildUrl("page",{urlParams:{id:t.id}});return this.http.get(i,{headers:this.headers}).pipe(this.converter.pipeable(lS))}getPagesRequestParams(t){if(t.id===lN||t.id===dN)return{};let n={};return t.type&&(n.pageType=t.type),t.type===we.CONTENT_PAGE?n.pageLabelOrId=t.id:n.code=t.id,n}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),FW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:Mp,useExisting:PW},{provide:lS,useExisting:yW,multi:!0},{provide:Rp,useExisting:NW}],imports:[Ye]})}}return e})();var LW=(()=>{class e{convert(t,n){return n===void 0&&(n=v({},t)),n.active=this.normalizeBoolean(t.active),n}normalizeBoolean(t){return t===void 0?!1:typeof t=="string"?t==="true":t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kW=(()=>{class e{convert(t,n){return n===void 0&&(n=v({},t)),n.activeFlag=t.active,delete n.active,n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fN=new S("CostCenterNormalizer"),hN=new S("CostCentersListNormalizer"),UW=new S("CostCenterSerializer"),jW=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),n.values=t.costCenters.map(i=>v({},this.converter.convert(i,fN))),n}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$W={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},yle=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:hN,useExisting:jW,multi:!0},{provide:fN,useExisting:LW,multi:!0},{provide:UW,useExisting:kW,multi:!0}],imports:[Ye,cN.withConfig($W)]})}}return e})(),BW=(()=>{class e{constructor(t){this.config=t}convert(t,n){return n===void 0&&(n=v({},t)),t.images&&(n.images=this.normalize(t.images)),n}normalize(t){let n={};if(t)for(let i of t){let o=this.hasGalleryIndex(i);if(i.imageType){n.hasOwnProperty(i.imageType)||(n[i.imageType]=o?[]:{});let s=this.getImageContainer(o,n,i),a=v({},i);a.url=this.normalizeImageUrl(a.url??""),i.format&&(s[i.format]=a)}}return n}getImageContainer(t,n,i){return t?this.getImageGroups(n,i)[i.galleryIndex]:n[i.imageType]}getImageGroups(t,n){let i=t[n.imageType];return i[n.galleryIndex]||(i[n.galleryIndex]={}),i}normalizeImageUrl(t){return new RegExp(/^(http|data:image|\/\/)/i).test(t)?t:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+t}hasGalleryIndex(t){return(t.galleryIndex??!1)!==!1}static{this.\u0275fac=function(n){return new(n||e)(f(Dr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Do=new S("ProductNormalizer"),VW=(()=>{class e{constructor(t){this.converterService=t,this.DEFAULT_TOP_VALUES=6}convert(t,n={}){return n=v(v({},n),t),this.normalizeFacets(n),t.products&&(n.products=t.products.map(i=>this.converterService.convert(i,Do))),n}normalizeFacets(t){this.normalizeFacetValues(t),this.normalizeUselessFacets(t)}normalizeUselessFacets(t){t.facets&&(t.facets=t.facets.filter(n=>!t.pagination||!t.pagination.totalResults||(!n.hasOwnProperty("visible")||n.visible)&&n.values&&n.values.find(i=>i.selected||(i.count??0)<(t.pagination?.totalResults??0))))}normalizeFacetValues(t){t.facets&&(t.facets=t.facets.map(n=>{let s=n,{topValues:i}=s,o=Dg(s,["topValues"]);return o.topValueCount=i&&i.length>0?i.length:this.DEFAULT_TOP_VALUES,o}))}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),HW=(()=>{class e{constructor(t){this.converter=t}convert(t,n=[]){return n===void 0&&(n=v({},t)),t&&t.references?(n=t.references.map(i=>w(v({},i),{target:this.converter.convert(i.target,Do)})),n):[]}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zW=(()=>{class e{constructor(t){this.config=t,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(t,n){return n=n??v({},t),t.name&&(n.name=this.normalize(t.name),n.slug=this.normalizeSlug(t.name),n.nameHtml=t.name),n}normalize(t){return t.replace(/<[^>]*>/g,"")}normalizeSlug(t){return this.normalize(t).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}static{this.\u0275fac=function(n){return new(n||e)(f(Dr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pN=new S("ProductReferencesListNormalizer"),GW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}load(t,n,i){return this.http.get(this.getEndpoint(t,n,i)).pipe(this.converter.pipeable(pN))}getEndpoint(t,n,i){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:t},queryParams:{referenceType:n,pageSize:i}})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),WW=new S("ProductReviewNormalizer"),qW=new S("ProductReviewSerializer"),YW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}load(t,n){return this.http.get(this.getEndpoint(t,n)).pipe(y(i=>i.reviews),y(i=>i??[]),this.converter.pipeableMany(WW))}post(t,n){n=this.converter.convert(n,qW);let i=new de({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",n.headline),o.append("comment",n.comment),o.append("rating",n.rating.toString()),o.append("alias",n.alias),this.http.post(this.getEndpoint(t),o.toString(),{headers:i})}getEndpoint(t,n){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:t},queryParams:{maxCount:n}})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),gN=new S("ProductSearchPageNormalizer"),KW=new S("ProductSuggestionNormalizer"),mN=new Wa(()=>({}));function ZW(e){let r=e.map(n=>typeof n=="string"?pg(n):n),t=vN(Dt({},...r));return yN(t)}function vN(e={}){let r=Object.keys(e);return r.includes("FULL")?(delete e.DEFAULT,delete e.BASIC):r.includes("DEFAULT")&&delete e.BASIC,Object.keys(e).forEach(t=>{e[t]=vN(e[t])}),e}function pg(e,r=0){let t={},n=r;for(;n<e.length;){if(e[n]===",")n>r&&(t[e.substring(r,n)]={}),r=n+1;else if(e[n]==="("){let i=pg(e,n+1);if(!Array.isArray(i))return t;t[e.substring(r,n)]=i[0],r=i[1],n=r-1}else if(e[n]===")")return n>r&&(t[e.substring(r,n)]={}),[t,n+1];n++}return r<e.length&&(t[e.substring(r,n)]={}),t}function yN(e){return Object.keys(e).map(r=>{let t=yN(e[r]);return t?`${r}(${t})`:r}).join(",")}function QW(e,r){let t=typeof r=="string"?pg(r):r;return EN(e,t)}function EN(e,r){if(!Tf(e))return e;let t=Object.keys(r);if(t.length===0||t.find(i=>i==="BASIC"||i==="DEFAULT"||i==="FULL"))return e;let n={};return t.forEach(i=>{e.hasOwnProperty(i)&&(n[i]=EN(e[i],r[i]))}),n}var Ele=new S("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>Y8}),JW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.router=E(Ne,{optional:!0}),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(t,n=this.DEFAULT_SEARCH_CONFIG,i){let o=new ps().set(mN,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(t,n,i),{context:o}).pipe(this.converter.pipeable(gN),L(s=>s.keywordRedirectUrl&&this.router?.navigate([s.keywordRedirectUrl])))}searchByCodes(t,n){if(t.length===0)return I({products:[]});let i=100,o=[];for(let a=0;a<t.length;a+=i)o.push(t.slice(a,a+i));let s=o.map(a=>{let c={filters:`code:${a.join(",")}`,pageSize:i};return this.search("",c,n).pipe(y(u=>({products:u?.products??[]})))});return aa(s).pipe(y(a=>({products:a.flatMap(c=>c.products)})))}loadSuggestions(t,n=3){return this.http.get(this.getSuggestionEndpoint(t,n.toString())).pipe(y(i=>i.suggestions??[]),this.converter.pipeableMany(KW))}getSearchEndpoint(t,n,i){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:t},n),scope:i})}getSuggestionEndpoint(t,n){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:t,max:n}})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),XW=(()=>{class e{constructor(t){this.http=t,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(t){let n={};for(let o of t){let[s,a]=this.splitFields(o.url??"");n[s]||(n[s]={}),o.fields=a?pg(a):{},o.scopedData.scope!==void 0&&(n[s][o.scopedData.scope]=o)}let i={};for(let[o,s]of Object.entries(n)){let a=this.getUrlWithFields(o,Object.values(s).map(c=>c.fields));i[a]=s}return i}splitFields(t){let[n,i]=t.split("?"),o={};i&&i.split("&").forEach(c=>{let u=c.split("=");o[u[0]]=u[1]});let a=Object.keys(o).sort().reduce((c,u)=>(u!==this.FIELDS_PARAM&&c.push(o[u]?`${u}=${o[u]}`:u),c),[]).join("&");return[a?`${n}?${a}`:n,o[this.FIELDS_PARAM]]}getUrlWithFields(t,n){let i=ZW(n);return i&&(t+=t.includes("?")?"&":"?",t+=`${this.FIELDS_PARAM}=${i}`),t}static{this.\u0275fac=function(n){return new(n||e)(f(ke))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),e4=(()=>{class e{constructor(t,n){this.http=t,this.occFields=n}scopedDataLoad(t,n){let i=[];n||(n=s=>this.http.get(s));let o=this.occFields.getOptimalUrlGroups(t);return Object.entries(o).forEach(([s,a])=>{let c=Object.values(a);if(c.length===1)i.push(w(v({},c[0].scopedData),{data$:n?.(s)}));else{let u=n?.(s).pipe(st(1));c.forEach(l=>{i.push(w(v({},l.scopedData),{data$:u?.pipe(y(d=>QW(d,l.fields)))}))})}}),i}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(XW))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),t4=(()=>{class e{constructor(t,n,i,o){this.http=t,this.occEndpoints=n,this.converter=i,this.requestsOptimizer=o}load(t,n){return this.http.get(this.getEndpoint(t,n)).pipe(this.converter.pipeable(Do))}loadMany(t){let n=t.map(i=>({scopedData:i,url:this.getEndpoint(i.code,i.scope)}));return this.requestsOptimizer.scopedDataLoad(n).map(i=>w(v({},i),{data$:i.data$?.pipe(this.converter.pipeable(Do))}))}getEndpoint(t,n){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:t},scope:n})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe),f(e4))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),_p=class{},Op=class{},xp=class{},Np=class{},n4={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:{default:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions,baseProduct,priceRange(maxPrice(formattedValue),minPrice(formattedValue))),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",carousel:"products/search?fields=products(code,purchasable,name,summary,price(formattedValue),stock(DEFAULT),images(DEFAULT,galleryIndex),baseProduct)",carouselMinimal:"products/search?fields=products(code,name,price(formattedValue),images(DEFAULT),baseProduct)"},productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}},Cle=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wn(n4),{provide:_p,useClass:t4},{provide:Do,useExisting:BW,multi:!0},{provide:Do,useExisting:zW,multi:!0},{provide:Op,useClass:GW},{provide:pN,useExisting:HW,multi:!0},{provide:Np,useClass:JW},{provide:gN,useExisting:VW,multi:!0},{provide:xp,useClass:YW}],imports:[Ye]})}}return e})(),r4=(()=>{class e{constructor(){}convert(t,n){return n===void 0&&(n=v({},t)),n.baseStore=t.stores?.[0],delete n.stores,n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),i4=new S("LanguageNormalizer"),o4=new S("CurrencyNormalizer"),s4=new S("CountryNormalizer"),a4=new S("RegionNormalizer"),CN=new S("BaseSiteNormalizer"),c4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpointsService=n,this.converterService=i}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(y(t=>t.languages??[]),this.converterService.pipeableMany(i4))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(y(t=>t.currencies??[]),this.converterService.pipeableMany(o4))}loadCountries(t){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:t?{type:t}:void 0})).pipe(y(n=>n.countries??[]),this.converterService.pipeableMany(s4))}loadRegions(t){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:t}})).pipe(y(n=>n.regions??[]),this.converterService.pipeableMany(a4))}loadBaseSite(t){return t||(t=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(y(n=>n.baseSites.find(i=>i.uid===t)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(y(t=>t.baseSites),this.converterService.pipeableMany(CN))}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Pp=class{},u4={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},xi=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getAll(){return this.store.pipe(M(g3),L(t=>{t||this.store.dispatch(new Wf)}),R(Vs))}getActive(){return this.store.pipe(M(YC),R(Vs))}setActive(t){this.store.pipe(M(YC),re(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new Kf(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Bc(this.config,To).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(ii))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Xc=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getAll(){return this.store.pipe(M(d3),L(t=>{t||this.store.dispatch(new Bf)}),R(Vs))}getActive(){return this.store.pipe(M(qC),R(Vs))}setActive(t){this.store.pipe(M(qC),re(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new zf(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Bc(this.config,Ao).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(ii))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),l4=(()=>{class e{constructor(t,n,i,o){this.languageService=t,this.currencyService=n,this.occEndpoints=i,this.config=o,this.activeLang=ei(this.config,To),this.activeCurr=ei(this.config,Ao),this.languageService.getActive().subscribe(s=>this.activeLang=s),this.currencyService.getActive().subscribe(s=>{this.activeCurr=s})}intercept(t,n){return t.url.includes(this.occEndpoints.getBaseUrl())&&(t=t.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),n.handle(t)}static{this.\u0275fac=function(n){return new(n||e)(f(xi),f(Xc),f(Ke),f(ii))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),d4=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wn(u4),{provide:Pp,useClass:c4},{provide:rn,useExisting:l4,multi:!0},{provide:CN,useExisting:r4,multi:!0}],imports:[Ye]})}}return e})(),f4=(()=>{class e{constructor(t){this.anonymousConsentsService=t}convert(t){return this.anonymousConsentsService.decodeAndDeserialize(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Hc))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),h4=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),t&&t.results&&(n.results=t.results.map(i=>w(v({},i),{product:this.converter.convert(i.product,Do)}))),n}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),SN=new S("AnonymousConsentNormalizer"),dS=new S("ConsentTemplateNormalizer"),p4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadAnonymousConsentTemplates(){let t=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(t).pipe(F(n=>{throw rt(n,this.logger)}),y(n=>n.consentTemplates??[]),this.converter.pipeableMany(dS))}loadAnonymousConsents(){let t=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(t,{observe:"response"}).pipe(F(n=>{throw rt(n,this.logger)}),y(n=>n.headers.get(TC)??""),this.converter.pipeable(SN))}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),g4=new S("CustomerCouponSearchResultNormalizer"),m4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}getCustomerCoupons(t,n,i,o){if(t===Ls)return I({});let s=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:t}}),a=new Ge().set("sort",o||"startDate:asc");n&&(a=a.set("pageSize",n.toString())),i&&(a=a.set("currentPage",i.toString()));let c=this.newHttpHeader();return this.http.get(s,{headers:c,params:a}).pipe(this.converter.pipeable(g4))}turnOffNotification(t,n){let i=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.delete(i,{headers:o})}turnOnNotification(t,n){let i=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.post(i,{headers:o})}claimCustomerCoupon(t,n){let i=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.post(i,{headers:o})}disclaimCustomerCoupon(t,n){let i=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.delete(i,{headers:o})}newHttpHeader(){return new de({"Content-Type":"application/json"})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),IN=new S("AddressNormalizer"),v4=new S("AddressesNormalizer"),yC=new S("AddressSerializer"),y4=new S("AddressValidationNormalizer"),wc={"Content-Type":"application/json"},E4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadAll(t){let n=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:t}}),i=new de(v({},wc));return this.http.get(n,{headers:i}).pipe(F(o=>{throw rt(o,this.logger)}),y(o=>o.addresses??[]),this.converter.pipeableMany(IN))}add(t,n){let i=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:t}}),o=new de(v({},wc));return n=this.converter.convert(n,yC),this.http.post(i,n,{headers:o}).pipe(F(s=>{throw rt(s,this.logger)}))}update(t,n,i){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:t,addressId:n}}),s=new de(v({},wc));return i=this.converter.convert(i,yC),this.http.patch(o,i,{headers:s}).pipe(F(a=>{throw rt(a,this.logger)}))}verify(t,n){let i=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:t}}),o=new de(v({},wc));return t===Ls&&(o=Mc.createHeader(KC,!0,o)),n=this.converter.convert(n,yC),this.http.post(i,n,{headers:o}).pipe(F(s=>{throw rt(s,this.logger)}),this.converter.pipeable(y4))}delete(t,n){let i=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:t,addressId:n}}),o=new de(v({},wc));return this.http.delete(i,{headers:o}).pipe(F(s=>{throw rt(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),C4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadConsents(t){let n=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:t}}),i=new de({"Cache-Control":"no-cache"});return this.http.get(n,{headers:i}).pipe(F(o=>{throw rt(o,this.logger)}),y(o=>o.consentTemplates??[]),this.converter.pipeableMany(dS))}giveConsent(t,n,i){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:t}}),s=new Ge().set("consentTemplateId",n).set("consentTemplateVersion",i.toString()),a=new de({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,s,{headers:a}).pipe(F(c=>{throw rt(c,this.logger)}),this.converter.pipeable(dS))}withdrawConsent(t,n){let i=new de({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:t,consentId:n}});return this.http.delete(o,{headers:i})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),DN=new S("ProductInterestsNormalizer"),G_=new de({"Content-Type":"application/json"}),S4=(()=>{class e{constructor(t,n,i,o){this.http=t,this.occEndpoints=n,this.config=i,this.converter=o,this.logger=E(K)}getInterests(t,n,i,o,s,a){let c=new Ge().set("sort",o||"name:asc");return n&&(c=c.set("pageSize",n.toString())),i&&(c=c.set("currentPage",i.toString())),s&&(c=c.set("productCode",s)),a&&(c=c.set("notificationType",a.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:t}}),{headers:G_,params:c}).pipe(this.converter.pipeable(DN),F(u=>{throw rt(u,this.logger)}))}removeInterest(t,n){let i=[];return n.productInterestEntry?.forEach(o=>{let s=new Ge().set("productCode",n.product?.code??"").set("notificationType",o.interestType);i.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:t}}),{params:s}).pipe(F(a=>{throw rt(a,this.logger)})))}),aa(i)}addInterest(t,n,i){let o=new Ge().set("productCode",n).set("notificationType",i.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:t}}),{},{headers:G_,params:o}).pipe(F(s=>{throw rt(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Dr),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),I4=new S("NotificationPreferenceSerializer"),D4=new S("NotificationPreferenceNormalizer"),Fp=class{},b4=(()=>{class e{constructor(t){this.adapter=t}loadAll(t){return this.adapter.loadAll(t)}update(t,n){return this.adapter.update(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Fp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),W_=new de({"Content-Type":"application/json"}),w4=(()=>{class e{constructor(t,n,i){this.http=t,this.converter=n,this.occEndpoints=i,this.logger=E(K)}loadAll(t){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:t}}),{headers:W_}).pipe(y(n=>n.preferences??[]),this.converter.pipeableMany(D4),F(n=>{throw rt(n,this.logger)}))}update(t,n){return n=this.converter.convert(n,I4),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:t}}),{preferences:n},{headers:W_}).pipe(F(i=>{throw rt(i,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Xe),f(Ke))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),T4=new S("PaymentDetailsNormalizer"),EC={"Content-Type":"application/json"},A4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadAll(t){let n=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:t}})+"?saved=true",i=new de(v({},EC));return this.http.get(n,{headers:i}).pipe(F(o=>{throw rt(o,this.logger)}),y(o=>o.payments??[]),this.converter.pipeableMany(T4))}delete(t,n){let i=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:t,paymentDetailId:n}}),o=new de(v({},EC));return this.http.delete(i,{headers:o}).pipe(F(s=>{throw rt(s,this.logger)}))}setDefault(t,n){let i=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:t,paymentDetailId:n}}),o=new de(v({},EC));return this.http.patch(i,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(F(s=>{throw rt(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Lp=class{},kp=class{},Up=class{},jp=class{},$p=class{},Bp=class{},R4=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),n.values=t.addresses?.map(i=>v({},this.converter.convert(i,IN)))??[],n}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),M4={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},_4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}loadActiveList(t){let n=new ps().set(mN,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(t),{context:n}).pipe(this.converter.pipeable(hN))}getCostCentersEndpoint(t,n){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:t},queryParams:n})}static{this.\u0275fac=function(n){return new(n||e)(f(ke),f(Ke),f(Xe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Sle=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wn(M4),{provide:Lp,useClass:E4},{provide:kp,useClass:C4},{provide:Ap,useClass:p4},{provide:Bp,useClass:A4},{provide:jp,useClass:m4},{provide:Fp,useClass:w4},{provide:$p,useClass:S4},{provide:Up,useClass:_4},{provide:DN,useExisting:h4,multi:!0},{provide:SN,useExisting:f4,multi:!0},{provide:v4,useExisting:R4,multi:!0}],imports:[Ye]})}}return e})(),O4={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function x4(e){if(e.backend===void 0||e.backend.occ===void 0||e.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var N4=(()=>{class e{constructor(t){this.config=t}intercept(t,n){return this.requiresWithCredentials(t)&&(t=t.clone({withCredentials:!0})),n.handle(t)}requiresWithCredentials(t){return this.occConfig?.useWithCredentials!==void 0&&t.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}static{this.\u0275fac=function(n){return new(n||e)(f(Dr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),P4=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:rn,useExisting:N4,multi:!0},wn(O4),AI(x4)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[FW,d4]})}}return e})(),F4="occ-backend-base-url",L4="OCC_BACKEND_BASE_URL_VALUE",k4="media-backend-base-url",U4="MEDIA_BACKEND_BASE_URL_VALUE";function j4(e){let r=bN(F4,e);return r&&r!==L4?{backend:{occ:{baseUrl:r}}}:{}}function $4(e){let r=bN(k4,e);return r&&r!==U4?{backend:{media:{baseUrl:r}}}:{}}function bN(e,r){let t=r.getTag(`name="${e}"`);return t&&t.content}function B4(){return[Af(j4,[Jy]),Af($4,[Jy])]}var V4=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...B4()]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),H4=(()=>{class e{constructor(t){this.config=t}expand(t,n){let i=this.config?.backend?.loadingScopes?.[t];if(i){let o=[...n],s=o.length;for(;s>0;){s--;let a=i[o[s]]?.include;if(a)for(let c of a)o.includes(c)||(o.splice(s,0,c),s++)}return o}return n}getMaxAge(t,n){return(this.config.backend?.loadingScopes?.[t]?.[n]?.maxAge??0)*1e3}getReloadTriggers(t,n){return this.config.backend?.loadingScopes?.[t]?.[n]?.reloadOn??[]}static{this.\u0275fac=function(n){return new(n||e)(f(Dr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Tr=Cn(vx),z4=T(Tr,e=>e.billingCountries),G4=T(z4,e=>e.entities),W4=T(G4,e=>Object.keys(e).map(r=>e[r])),gg=T(Tr,e=>e.customerCoupons),q4=T(gg,e=>Wn(e)),Y4=T(gg,e=>Vt(e)),Ile=T(gg,e=>it(e)),K4=T(Tr,e=>e.countries),wN=T(K4,e=>e.entities),Z4=T(wN,e=>Object.keys(e).map(r=>e[r])),Q4=e=>T(wN,r=>Object.keys(r).length!==0?r[e]:null),SD=T(Tr,e=>e.notificationPreferences),J4=T(SD,e=>it(e)),X4=T(SD,e=>it(e).filter(r=>r.enabled)),eq=T(SD,e=>Vt(e)),ID=T(Tr,e=>e.payments),tq=T(ID,e=>it(e)),nq=T(ID,e=>Vt(e)),rq=T(ID,e=>Wn(e)&&!Vt(e)),DD=T(Tr,e=>e.productInterests),iq=T(DD,e=>it(e)),oq=T(DD,e=>Vt(e)),eu=T(Tr,e=>e.regions),Dle=T(eu,e=>it(e).entities),sq=T(eu,e=>({loaded:Wn(e),loading:Vt(e),regions:it(e).entities,country:it(e).country})),ble=T(eu,e=>it(e).country),wle=T(eu,e=>Vt(e)),Tle=T(eu,e=>Wn(e)),bD=T(Tr,e=>e.addresses),aq=T(bD,e=>it(e)),cq=T(bD,e=>Vt(e)),uq=T(bD,e=>Wn(e)&&!Vt(e)),mg=T(Tr,e=>e.consents),fS=T(mg,e=>it(e)),lq=e=>T(fS,r=>r.find(t=>t.id===e)),dq=T(mg,Vt),fq=T(mg,Wn),hq=T(mg,Ks),TN=T(Tr,e=>e.costCenters),Ale=T(TN,e=>it(e));var pq=(()=>{class e{constructor(t,n,i){this.store=t,this.authService=n,this.userIdService=i}loadConsents(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new fp(t))})}getConsents(t=!1){return ua(()=>t,this.store.pipe(M(fS),at(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),R(([n,i,o])=>!i),L(([n,i,o])=>{(!n||n.length===0)&&(o||this.loadConsents())}),R(([n,i])=>!!n),y(([n,i])=>n)),this.store.pipe(M(fS)))}getConsentsResultLoading(){return this.store.pipe(M(dq))}getConsentsResultSuccess(){return this.store.pipe(M(fq))}getConsentsResultError(){return this.store.pipe(M(hq))}resetConsentsProcessState(){this.store.dispatch(new Nc)}getConsent(t){return Fe([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(R(([n,i])=>n&&i===Fs),_(()=>this.getConsents(!0)),re(1),_(()=>this.store.pipe(M(lq(t)))),R(cn),y(n=>n.currentConsent))}isConsentGiven(t){return!!t&&!!t.consentGivenDate&&!t.consentWithdrawnDate}isConsentWithdrawn(t){return t?!!t?.consentWithdrawnDate:!0}giveConsent(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Pc({userId:i,consentTemplateId:t,consentTemplateVersion:n}))})}getGiveConsentResultLoading(){return this.store.pipe(M(Ai(Eo)))}getGiveConsentResultSuccess(){return this.store.pipe(M(Qr(Eo)))}getGiveConsentResultError(){return this.store.pipe(M(Ti(Eo)))}resetGiveConsentProcessState(){return this.store.dispatch(new vp)}withdrawConsent(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Ep({userId:i,consentCode:t,consentId:n}))})}getWithdrawConsentResultLoading(){return this.store.pipe(M(Ai(Co)))}getWithdrawConsentResultSuccess(){return this.store.pipe(M(Qr(Co)))}getWithdrawConsentResultError(){return this.store.pipe(M(Ti(Co)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new Ip)}filterConsentTemplates(t,n=[]){if(n.length===0)return t;let i=[];for(let o of t)o.id&&!n.includes(o.id)&&i.push(o);return i}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(qn),f(Tn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gq=(()=>{class e{isRequiredConsent(t){return!!(t&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(t))}constructor(t,n,i,o,s,a,c){this.actions$=t,this.anonymousConsentTemplatesConnector=n,this.authService=i,this.anonymousConsentsConfig=o,this.anonymousConsentService=s,this.userConsentService=a,this.userIdService=c,this.logger=E(K),this.checkConsentVersions$=H(()=>this.actions$.pipe($(kO),at(this.anonymousConsentService.getConsents()),je(([u,l])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(y(d=>{if(!d)return pe()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let h=l.map(C=>C.templateVersion),m=d.map(C=>C.templateVersion);return this.detectUpdatedVersion(h,m)}),_(d=>d?I(new _f):ge),F(d=>I(new xf(ae(d,this.logger)))))))),this.loadAnonymousConsentTemplates$=H(()=>this.actions$.pipe($(OO),at(this.anonymousConsentService.getTemplates()),je(([u,l])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe(z(d=>{let h=!1;return l&&l.length!==0&&(h=this.anonymousConsentService.detectUpdatedTemplates(l,d)),[new Of(d),new Nf(h)]}),F(d=>I(new xf(ae(d,this.logger)))))))),this.transferAnonymousConsentsToUser$=H(()=>this.actions$.pipe($(Gn),R(()=>!!this.anonymousConsentsConfig.anonymousConsents),at(this.actions$.pipe($(ED))),R(([,u])=>!!u),_(()=>this.anonymousConsentService.getConsents().pipe(at(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),R(([,,,u])=>u),je(([u,l,d,h])=>{let m=[];for(let C of u)if(this.anonymousConsentService.isConsentGiven(C)&&!this.isRequiredConsent(C.templateCode)){for(let D of d)if(D.id===C.templateCode){m.push(new yp({userId:l,consentTemplateId:D.id,consentTemplateVersion:D.version}));break}}return m.length>0?m:ge}))))),this.giveRequiredConsentsToUser$=H(()=>this.actions$.pipe($(Gn),R(u=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&u)),je(()=>this.userConsentService.getConsentsResultSuccess().pipe(re(1),at(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),R(([,,,u])=>u),L(([u,l,d,h])=>{u||this.userConsentService.loadConsents()}),y(([u,l,d,h])=>({userId:l,templates:d})),je(({userId:u,templates:l})=>{let d=[];for(let h of l)this.userConsentService.isConsentWithdrawn(h.currentConsent)&&this.isRequiredConsent(h.id)&&d.push(new Pc({userId:u,consentTemplateId:h.id,consentTemplateVersion:h.version}));return d.length>0?d:ge})))))}detectUpdatedVersion(t,n){if(t.length!==n.length)return!0;for(let i=0;i<n.length;i++)if(t[i]!==n[i])return!0;return!1}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(pW),f(qn),f(gx),f(Hc),f(pq),f(Tn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),mq=[gq],vq=(()=>{class e{constructor(t,n,i){this.baseSiteService=t,this.javaRegExpConverter=n,this.winRef=i,this.scopes=["context"],this.configFactory=()=>nr(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(y(t=>t?.find(n=>this.isCurrentBaseSite(n))),R(t=>{if(!t)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!t}),y(t=>this.getConfig(t)),re(1))}getConfig(t){return{context:{urlParameters:this.getUrlParams(t.urlEncodingAttributes),[ti]:[t.uid],[To]:this.getIsoCodes(t.baseStore?.languages,t.defaultLanguage||t.baseStore?.defaultLanguage),[Ao]:this.getIsoCodes(t.baseStore?.currencies,t.baseStore?.defaultCurrency),[zO]:[t.theme]}}}isCurrentBaseSite(t){return(t.urlPatterns||[]).findIndex(i=>{let o=this.javaRegExpConverter.toJsRegExp(i);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(t){let n="storefront";return(t||[]).map(i=>i===n?ti:i)}getIsoCodes(t,n){if(t&&n)return this.moveToFirst(t,o=>o.isocode===n.isocode).map(o=>o.isocode)}moveToFirst(t,n){t=[...t];let i=t.findIndex(n);if(i!==-1){let[o]=t.splice(i,1);t.unshift(o)}return t}static{this.\u0275fac=function(n){return new(n||e)(f(Ro),f(N3),f(br))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Js=(()=>{class e{constructor(t){this.adapter=t}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(t){return this.adapter.loadCountries(t)}getRegions(t){return this.adapter.loadRegions(t)}getBaseSite(t){return this.adapter.loadBaseSite(t)}getBaseSites(){return this.adapter.loadBaseSites()}static{this.\u0275fac=function(n){return new(n||e)(f(Pp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),q_=(()=>{class e extends ni{static{this.type="LanguageSetEvent"}}return e})(),Y_=(()=>{class e extends ni{static{this.type="CurrencySetEvent"}}return e})(),yq=(()=>{class e{constructor(t,n){this.actionsSubject=t,this.eventService=n,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let t=this.actionsSubject.pipe($(og),y(n=>Ri(q_,{activeLanguage:n.payload})));this.eventService.register(q_,t)}registerSetCurrency(){let t=this.actionsSubject.pipe($(ig),y(n=>Ri(Y_,{activeCurrency:n.payload})));this.eventService.register(Y_,t)}static{this.\u0275fac=function(n){return new(n||e)(f(qr),f(_o))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Eq=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(yq))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),Vp=class{};function Cq(){return{[To]:xi,[Ao]:Xc,[ti]:Ro}}var Sq={provide:Vp,useFactory:Cq},Iq=(()=>{class e{constructor(t,n){this.baseSiteService=t,this.configInit=n}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=ei(t,ti);!this.baseSiteService.isInitialized()&&n&&this.baseSiteService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Ro),f(bn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dq=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.currencyService=n,this.config=i,this.initialized$=new Zt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Ao,state$:this.currencyService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.currencyService.isInitialized()&&t&&this.currencyService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)(f(Gc),f(Xc),f(ii))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bq=(()=>{class e{constructor(t,n,i){this.currencyService=t,this.currencyStatePersistenceService=n,this.configInit=i}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.currencyStatePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=ei(t,Ao);!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Xc),f(Dq),f(bn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wq=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.languageService=n,this.config=i,this.initialized$=new Zt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:To,state$:this.languageService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.languageService.isInitialized()&&t&&this.languageService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)(f(Gc),f(xi),f(ii))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Tq=(()=>{class e{constructor(t,n,i){this.languageService=t,this.languageStatePersistenceService=n,this.configInit=i}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.languageStatePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=ei(t,To);!this.languageService.isInitialized()&&n&&this.languageService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(xi),f(wq),f(bn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wD=(()=>{class e{constructor(t,n,i){this.config=t,this.injector=n,this.serviceMap=i,this.logger=E(K)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(t=>t!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(t){return Bc(this.config,t)}getParamDefaultValue(t){return ei(this.config,t)}getSiteContextService(t){if(this.serviceMap[t])try{return this.injector.get(this.serviceMap[t])}catch{pe()&&this.logger.warn(`Couldn't find site context service for '${t}'.`);return}}getValue(t){let n,i=this.getSiteContextService(t);return i&&i.getActive().subscribe(o=>n=o).unsubscribe(),n!==void 0?n:this.getParamDefaultValue(t)}setValue(t,n){let i=this.getSiteContextService(t);i&&i.setActive(n)}getValues(t){return t.length===0?I([]):Fe(t.map(n=>{let i=this.getSiteContextService(n);return i?i.getActive().pipe(fn()):I("")})).pipe(R(n=>n.every(i=>!!i)))}static{this.\u0275fac=function(n){return new(n||e)(f(ii),f(Qe),f(Vp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),hS=(()=>{class e extends fo{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(t){super(),this.siteContextParams=t,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(t){if(this.hasContextInRoutes){let n=this.urlExtractContextParameters(t),i=super.parse(n.url);return this.urlTreeIncludeContextParameters(i,n.params),i}else return super.parse(t)}urlExtractContextParameters(t){let[,n,i]=t.match(this.URL_SPLIT)??[,"",""],o=n?.split("/")??[];o[0]===""&&o.shift();let s={},a=0,c=0;for(;a<this.urlEncodingParameters.length&&c<o.length;){let u=this.urlEncodingParameters[a];this.siteContextParams.getParamValues(u).includes(o[c])&&(s[u]=o[c],c++),a++}return t=o.slice(c).join("/")+i,{url:t,params:s}}urlTreeIncludeContextParameters(t,n){t.siteContext=n}serialize(t){let n=this.urlTreeExtractContextParameters(t),i=super.serialize(t);return this.urlIncludeContextParameters(i,n)}urlTreeExtractContextParameters(t){return t.siteContext?t.siteContext:{}}urlIncludeContextParameters(t,n){return this.urlEncodingParameters.map(o=>n[o]?n[o]:this.siteContextParams.getValue(o)).join("/")+t}static{this.\u0275fac=function(n){return new(n||e)(f(wD))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function Aq(e){if(ei(e,ti)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function Rq(){return{context:{[To]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Ao]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function Mq(e){return()=>{e.initialize()}}function _q(e){return()=>{e.initialize()}}function Oq(e){return()=>{e.initialize()}}var xq=[{provide:Ct,useFactory:_q,deps:[Tq],multi:!0},{provide:Ct,useFactory:Mq,deps:[bq],multi:!0},{provide:Ct,useFactory:Oq,deps:[Iq],multi:!0}],Nq=(()=>{class e{constructor(t,n,i){this.siteContextParams=t,this.serializer=n,this.injector=i,this.subscription=new Ee,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(Ne),this.location=this.injector.get(pr);let t=this.siteContextParams.getUrlEncodingParameters();t.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(t),this.subscribeRouting())}subscribeChanges(t){t.forEach(n=>{let i=this.siteContextParams.getSiteContextService(n);i&&this.subscription.add(i.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[n]&&this.contextValues[n]!==o){let s=this.router.parseUrl(this.router.url),a=this.router.serializeUrl(s);this.location.replaceState(a)}this.contextValues[n]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(R(t=>t instanceof In||t instanceof lt||t instanceof vr||t instanceof Dn)).subscribe(t=>{this.isNavigating=t instanceof In,this.isNavigating&&this.setContextParamsFromRoute(t.url)}))}setContextParamsFromRoute(t){let{params:n}=this.serializer.urlExtractContextParameters(t);Object.keys(n).forEach(i=>this.siteContextParams.setValue(i,n[i]))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(wD),f(hS),f(Qe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Pq(e,r){return()=>nr(e.getStable("context").pipe(L(()=>{r.init()})))}var Fq=[Ro,xi,Xc,{provide:Ct,useFactory:Pq,deps:[bn,Nq],multi:!0}],Lq=[wD,hS,{provide:po,useExisting:hS}],kq=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadBaseSite$=H(()=>this.actions$.pipe($(gI),rr(()=>this.siteConnector.getBaseSite().pipe(y(i=>{if(i)return new Lf(i);throw new Error("BaseSite is not found")}),F(i=>I(new Ff(ae(i,this.logger)))))))),this.loadBaseSites$=H(()=>this.actions$.pipe($(vI),rr(()=>this.siteConnector.getBaseSites().pipe(y(i=>new jf(i)),F(i=>I(new Uf(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Js))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Uq=(()=>{class e{constructor(t,n,i){this.actions$=t,this.siteConnector=n,this.state=i,this.logger=E(K),this.loadCurrencies$=H(()=>this.actions$.pipe($(CI),rr(()=>this.siteConnector.getCurrencies().pipe(y(o=>new Hf(o)),F(o=>I(new Vf(ae(o,this.logger)))))))),this.activateCurrency$=H(()=>this.state.select(qC).pipe(da(2,1),R(([o])=>!!o),y(([o,s])=>new Gf({previous:o,current:s}))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Js),f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),jq=(()=>{class e{constructor(t,n,i){this.actions$=t,this.siteConnector=n,this.state=i,this.logger=E(K),this.loadLanguages$=H(()=>this.actions$.pipe($(II),rr(()=>this.siteConnector.getLanguages().pipe(y(o=>new Yf(o)),F(o=>I(new qf(ae(o,this.logger)))))))),this.activateLanguage$=H(()=>this.state.select(YC).pipe(da(2,1),R(([o])=>!!o),y(([o,s])=>new Zf({previous:o,current:s}))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Js),f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),$q=[jq,Uq,kq],Bq={entities:null,details:{},activeSite:""};function Vq(e=Bq,r){switch(r.type){case mI:return w(v({},e),{details:r.payload});case EI:{let t={};return e.entities&&(t=e.entities[r.payload]),w(v({},e),{details:t,activeSite:r.payload})}case yI:{let n=r.payload.reduce((o,s)=>w(v({},o),{[s.uid??""]:s}),v({},e.entities)),i=n[e.activeSite];return w(v({},e),{details:i,entities:n})}}return e}var Hq={entities:null,activeCurrency:null};function zq(e=Hq,r){switch(r.type){case SI:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case ig:{let t=r.payload;return w(v({},e),{activeCurrency:t})}}return e}var Gq={entities:null,activeLanguage:null};function Wq(e=Gq,r){switch(r.type){case DI:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case og:{let t=r.payload;return w(v({},e),{activeLanguage:t})}}return e}function qq(){return{languages:Wq,currencies:zq,baseSite:Vq}}var AN=new S("SiteContextReducers"),Yq={provide:AN,useFactory:qq};function Kq(){return{state:{ssrTransfer:{keys:{[bI]:Mo.TRANSFER_STATE}}}}}var Zq=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wo(Kq),Yq],imports:[Ye,$n.forFeature(bI,AN),Bn.forFeature($q)]})}}return e})();function Qq(e,r){return r.context?.[ti]?null:e}var Jq=(()=>{class e{static forRoot(){return{ngModule:e,providers:[wo(Rq),Sq,...Fq,...Lq,AI(Aq),{provide:cg,useFactory:Qq,deps:[vq,ii],multi:!0},...xq]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[oi,Zq,Eq]})}}return e})(),Xq=!1;function e6(e=Xq,r){switch(r.type){case FO:return r.dismissed}return e}var t6=!1;function n6(e=t6,r){switch(r.type){case LO:return r.updated}return e}var r6=[];function K_(e,r,t){return e?e.map(n=>(n.templateCode===r&&(n=w(v({},n),{consentState:t})),n)):[]}function i6(e=r6,r){switch(r.type){case NO:return K_(e,r.templateCode,Bs.GIVEN);case PO:return K_(e,r.templateCode,Bs.WITHDRAWN);case xO:return r.payload}return e}function o6(){return{templates:ft(kc),consents:i6,ui:co({bannerDismissed:e6,updated:n6})}}var RN=new S("AnonymousConsentsReducers"),s6={provide:RN,useFactory:o6};function a6(e){return function(r,t){return r!==void 0&&(t.type===Ir||t.type===An)&&(r=w(v({},r),{templates:{}})),e(r,t)}}var c6=[a6],u6=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.store=n,this.anonymousConsentsService=i,this.subscription=new Ee,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:t=>this.onRead(t)}))}getAuthState(){return this.store.select(Uc)}onRead(t){let n=t?.templates,i=t?.consents,o=t?.ui;n?.success&&this.store.dispatch(new Of(n.value??[])),i&&this.anonymousConsentsService.setConsents(i),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Gc),f(ce),f(Hc))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function l6(e){return()=>e.initSync()}var d6=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[s6,{provide:Ct,useFactory:l6,deps:[u6],multi:!0}],imports:[Ye,oi,$n.forFeature(_O,RN,{metaReducers:c6}),Bn.forFeature(mq)]})}}return e})(),Rle=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...dW,Hc,wn(f8)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[d6]})}}return e})(),MN={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},f6=w(v({},MN),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),TD="cms",vg="[Cms] Navigation Entity",tu="[Cms] Component Entity",AD="[Cms] Load Component",RD="[Cms] Load Component Fail",MD="[Cms] Load Component Success",_D="[Cms] Get Component from Page",Hp=class extends Bt{constructor(r){super(tu,r.uid),this.payload=r,this.type=AD}},zp=class extends Ot{constructor(r){super(tu,r.uid,r.error),this.payload=r,this.type=RD}},pS=class extends mt{constructor(r){super(tu,r.uid||r.component.uid||""),this.payload=r,this.type=MD}},gS=class extends mt{constructor(r){super(tu,[].concat(r).map(t=>t.component.uid)),this.payload=r,this.type=_D}},_N="[Cms] Load NavigationEntry items",h6="[Cms] Load NavigationEntry items Fail",ON="[Cms] Load NavigationEntry items Success",mS=class extends Bt{constructor(r){super(vg,r.nodeId),this.payload=r,this.type=_N}},Gp=class extends Ot{constructor(r,t){super(vg,r,t),this.payload=t,this.type=h6}},vS=class extends mt{constructor(r){super(vg,r.nodeId),this.payload=r,this.type=ON}},xN="[Cms] Load Page Data",NN="[Cms] Load Page Data Fail",OD="[Cms] Load Page Data Success",PN="[Cms] Set Page Success Index",FN="[Cms] Set Page Fail Index",$s=class extends Bt{constructor(r){super(r.type??"",r.id),this.payload=r,this.type=xN}},yS=class extends Ot{constructor(r,t){super(r.type??"",r.id,t),this.type=NN}},ES=class extends mt{constructor(r,t){super(r.type??"",r.id,t),this.type=OD}},CS=class extends mt{constructor(r,t){super(r.type??"",r.id,t),this.type=PN}},SS=class extends Ot{constructor(r,t){super(r.type??"",r.id,new Error("Failed to set cms page index")),this.payload=t,this.type=FN}};var xD=Cn(TD),p6=T(xD,e=>e.components),LN=e=>T(p6,r=>AO(r,e)),kN=(e,r)=>T(LN(e),t=>t&&t.pageContext&&t.pageContext[r]||Hn),g6=(e,r)=>T(kN(e,r),t=>it(t)),m6=e=>T(LN(e),r=>r?r.component:void 0),v6=(e,r)=>T(m6(e),g6(e,r),(t,n)=>{switch(n){case!0:return t;case!1:return null;case void 0:return}}),y6=T(xD,e=>e.navigation),E6=e=>T(y6,r=>Kt(r,e)),C6=e=>T(E6(e),r=>it(r)),S6=e=>e.pageData.entities,I6=(e,r)=>{switch(r){case we.CONTENT_PAGE:return e.content;case we.PRODUCT_PAGE:return e.product;case we.CATEGORY_PAGE:return e.category;case we.CATALOG_PAGE:return e.catalog;default:return{entities:{}}}},D6=e=>{let r=new Set;if(e&&e.slots)for(let t of Object.keys(e.slots))for(let n of e.slots[t].components||[])r.add(n.flexType??"");return Array.from(r)},UN=T(xD,e=>e.page),b6=T(UN,e=>e.index),w6=e=>T(b6,r=>I6(r,e.type)),jN=e=>T(w6(e),r=>Kt(r,e.id)),$N=e=>T(jN(e),r=>it(r)),T6=T(UN,S6),Wp=e=>T(T6,$N(e),(r,t)=>r[t]),A6=e=>T(Wp(e),r=>D6(r)),R6=(e,r)=>T(Wp(e),t=>{if(t)return t.slots?.[r]||{components:[]}});var M6="current";function Jr(e,r){return e?r&&e.type===we.CONTENT_PAGE?`${e.type}`:`${e.type}-${e.id}`:M6}var yg=(()=>{class e{constructor(t,n){this.store=t,this.routingService=n,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(_(t=>this.store.select(Wp(t))))}getComponentData(t,n){if(t==="")return I(null);let i=Jr(n,!0);this.components[t]||(this.components[t]={});let o=this.components[t];return o[i]||(o[i]=this.createComponentData(t,n)),o[i]}createComponentData(t,n){if(!n)return this.routingService.getPageContext().pipe(R(a=>!!a),_(a=>this.getComponentData(t,a)));let i=Jr(n,!0),o=Fe([this.routingService.getNextPageContext(),this.store.pipe(M(kN(t,i)))]).pipe(Qt(Or),L(([a,c])=>{let u=c.loading||c.success||c.error,l=a?Jr(a,!0)===i:!1;!u&&!l&&this.store.dispatch(new Hp({uid:t,pageContext:n}))})),s=this.store.pipe(M(v6(t,i)),R(cn));return Ui(()=>o.subscribe(),()=>s).pipe(st({bufferSize:1,refCount:!0}))}getContentSlot(t){return this.routingService.getPageContext().pipe(_(n=>this.store.pipe(M(R6(n,t)),R(cn))))}getNavigationEntryItems(t){return this.store.pipe(M(C6(t)))}loadNavigationItems(t,n){this.store.dispatch(new mS({nodeId:t,items:n}))}refreshLatestPage(){this.routingService.getPageContext().pipe(re(1)).subscribe(t=>this.store.dispatch(new $s(t)))}refreshPageById(t){let n={id:t};this.store.dispatch(new $s(n))}refreshComponent(t,n){this.store.dispatch(new Hp({uid:t,pageContext:n}))}getPageState(t){return this.store.pipe(M(Wp(t)))}getPageComponentTypes(t){return this.store.pipe(M(A6(t)))}hasPage(t,n=!1){return this.store.pipe(M(jN(t)),L(i=>{let o=i.loading||i.success||i.error,s=n&&!i.loading;(!o||s)&&(this.store.dispatch(new $s(t)),n=!1)}),R(i=>i.hasOwnProperty("value")?!!(i.success||i.error&&!i.loading):!1),y(i=>!!i.success),F(()=>I(!1)))}getPage(t,n=!1){return this.hasPage(t,n).pipe(_(i=>i?this.getPageState(t):I(null)))}getPageIndex(t){return this.store.pipe(M($N(t)))}setPageFailIndex(t,n){this.store.dispatch(new SS(t,n))}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(_i))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_6={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},an=class{getScore(r){let t=0;return this.pageType&&(t+=r.type===this.pageType?1:-1),this.pageTemplate&&(t+=r.template===this.pageTemplate?1:-1),this.pageUid&&(t+=r.pageId===this.pageUid?10:-10),t}hasMatch(r){return this.getScore(r)>0}getPriority(r){return this.getScore(r)}},Sr=class{},O6=(()=>{class e{constructor(t){this.translation=t}resolveBreadcrumbs({url:t,pageMetaConfig:n}){let i=n?.breadcrumb;return i?typeof i!="string"&&i.raw?I([{link:t,label:i.raw}]):this.translateBreadcrumbLabel(i).pipe(y(o=>[{label:o,link:t}])):I([])}translateBreadcrumbLabel(t){let n=typeof t=="string"?t:t.i18n;return this.getParams().pipe(_(i=>this.translation.translate(n??"",i??{})))}getParams(){return I({})}static{this.\u0275fac=function(n){return new(n||e)(f(Sr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),x6=(()=>{class e{constructor(t,n){this.activatedRoutesService=t,this.injector=n,this.routes$=this.activatedRoutesService.routes$.pipe(y(i=>i=i.slice(1,i.length))),this.routesWithExtras$=this.routes$.pipe(y(i=>i.reduce((o,s)=>{let a=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(O6),url:""},c=this.getResolver(s)??a.resolver,u=this.getUrlPart(s),l=a.url+(u?`/${u}`:"");return o.concat({route:s,resolver:c,url:l})},[])),st({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(t){return this.routesWithExtras$.pipe(y(n=>t?.includeCurrentRoute?n:this.trimCurrentRoute(n)),_(n=>n.length?Fe(n.map(i=>this.resolveRouteBreadcrumb(i))):I([])),y(n=>n.flat()))}getResolver(t){let n=this.getPageMetaConfig(t);return typeof n!="string"&&n?.resolver?this.injector.get(n.resolver,null):null}resolveRouteBreadcrumb({route:t,resolver:n,url:i}){let o=n;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:t,url:i,pageMetaConfig:this.getPageMetaConfig(t)}):I([])}trimCurrentRoute(t){let n=t.length-1;for(;t[n]?.route?.url.length===0&&n>=0;)n--;return t.slice(0,n)}getUrlPart(t){return t.url.map(n=>n.path).join("/")}getPageMetaConfig(t){return t?.routeConfig?.data?.cxPageMeta}static{this.\u0275fac=function(n){return new(n||e)(f(VO),f(Qe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),BN=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),VN=(()=>{class e{constructor(t,n){this.pageMetaConfig=t,this.winRef=n}getCanonicalUrl(t,n){let i=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),t);return this.buildCanonicalUrl(n??this.winRef.location.href??"",i)}buildCanonicalUrl(t,n){return n.forceHttps&&(t=t.replace(/^http(?!s):/i,"https:")),n.forceWww&&(t=t.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),n.removeQueryParams&&(t=this.removeQueryParams(t,n)),n.forceTrailingSlash&&(t=t.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),t}removeQueryParams(t,n){let i=t.indexOf("?");if(i>-1){let o=t.substring(0,i),s=new URLSearchParams(t.substring(i));t=o,Array.isArray(n.removeQueryParams)&&(n.removeQueryParams.forEach(a=>{s.delete(a)}),s.toString().length>0&&(t=`${o}?${s.toString()}`))}return t}static{this.\u0275fac=function(n){return new(n||e)(f(BN),f(br))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Eg=(()=>{class e{constructor(t,n,i,o,s){this.cmsService=t,this.translation=n,this.routingPageMetaResolver=i,this.router=o,this.pageLinkService=s,this.page$=Ze(()=>this.cmsService.getCurrentPage()).pipe(R(a=>!!a)),this.title$=this.page$.pipe(y(a=>a.title)),this.description$=this.page$.pipe(y(a=>a.description)),this.robots$=this.page$.pipe(y(a=>a.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(y(a=>[{label:a,link:"/"}])),this.breadcrumb$=Fe([this.homeBreadcrumb$,Ze(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(y(a=>a.flat()),st({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(t){return this.router.events.pipe(R(n=>n instanceof lt),tr(null),y(()=>this.pageLinkService.getCanonicalUrl(t)))}static{this.\u0275fac=function(n){return new(n||e)(f(yg),f(Sr),f(x6),f(Ne),f(VN))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N6=(()=>{class e extends an{constructor(t){super(),this.basePageMetaResolver=t,this.pageType=we.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(f(Eg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),P6=(()=>{class e{static forRoot(){return{ngModule:e,providers:[wn(_6)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:an,useExisting:N6,multi:!0}]})}}return e})();function ND(e=0,r){return t=>{let n=[];return t.pipe(L(i=>n.push(i)),$i(e,r),y(()=>n),L(()=>n=[]))}}var F6=(()=>{class e extends CD{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),HN=(()=>{class e{constructor(t){this.cmsDataConfig=t}mergePageStructure(t,n){return this.mergePage(t,n).pipe(_(i=>this.mergeSlots(i)))}shouldIgnoreBackend(t){return this.getPageFromConfig(t).pipe(y(n=>!!n&&!!n.ignoreBackend))}getComponentFromConfig(t){return I(this.getComponentById(t))}getComponentsFromConfig(t){return I(t.map(n=>this.getComponentById(n)))}getPageFromConfig(t){return I(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(n=>n.pageId===t):void 0)}mergePage(t,n){return this.getPageFromConfig(t).pipe(_(i=>i?(n.page||(n.page=v({},i),n.page.slots={}),n.page.slots||(n.page.slots={}),this.mergeSlots(n,i.slots)):I(n)))}mergeSlots(t,n){if(!n&&this.cmsDataConfig.cmsStructure?.slots&&(n=this.cmsDataConfig.cmsStructure.slots),!n)return I(t);for(let i of Object.keys(n))if(t.page?.slots&&!Object.keys(t.page.slots).includes(i)){t.page.slots[i]={};for(let o of this.getComponentsByPosition(n,i))t.page.slots[i].components=t.page.slots[i].components??[],t.page.slots[i].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),t.components=t.components??[],t.components.push(o)}return I(t)}getComponentsByPosition(t,n){let i=[];if(t[n]&&t[n].componentIds){for(let o of t[n].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let s=this.cmsDataConfig.cmsStructure.components[o];s&&i.push(v({uid:o},s))}}return i}getComponentById(t){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[t]:void 0}static{this.\u0275fac=function(n){return new(n||e)(f(F6))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zN=(()=>{class e{constructor(t,n,i){this.cmsStructureConfigService=t,this.cmsComponentAdapter=n,this.config=i}get(t,n){return this.cmsStructureConfigService.getComponentFromConfig(t).pipe(_(i=>i?I(i):this.cmsComponentAdapter.load(t,n)))}getList(t,n){return this.cmsStructureConfigService.getComponentsFromConfig(t).pipe(_(i=>{let o=i.reduce((s,a,c)=>(a===void 0&&s.push(t[c]),s),[]);if(o.length>0){let s=this.config.componentsLoading?.pageSize||o.length,a=Math.ceil(o.length/s),c=[],u=0;for(;u<a;)c.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(u*s,(u+1)*s),n)),u++;return ji(...c).pipe(y(l=>[...i.filter(Boolean)].concat(...l)))}else return I(i)}))}static{this.\u0275fac=function(n){return new(n||e)(f(HN),f(Rp),f(CD))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),L6=(()=>{class e{constructor(t,n){this.actions$=t,this.cmsComponentConnector=n,this.logger=E(K),this.contextChange$=this.actions$.pipe($(An,Ir,Gn)),this.loadComponent$=H(()=>({scheduler:i,debounce:o=0}={})=>this.actions$.pipe($(AD),xr(s=>Jr(s.payload.pageContext)),z(s=>s.pipe(ND(o,i),z(a=>this.loadComponentsEffect(a.map(c=>c.payload.uid),a[0].payload.pageContext??{id:""})))),ag(this.contextChange$)))}loadComponentsEffect(t,n){return this.cmsComponentConnector.getList(t,n).pipe(_(i=>{let o=[],s=new Set(t);for(let a of i)o.push(new pS({component:a,uid:a.uid,pageContext:n})),s.delete(a.uid??"");return s.forEach(a=>{o.push(new zp({uid:a,pageContext:n,error:new Error(`Failed to load CmsComponent ${n.type} uid: ${a}`)}))}),me(o)}),F(i=>me(t.map(o=>new zp({uid:o,error:ae(i,this.logger),pageContext:n})))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(zN))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),PD=(()=>{class e{constructor(t){this.globService=t}getFalsy(){return function(){return null}}getFromPaths(t){let n=t.map(o=>this.getFromPath(o)),i=this.getCombined(n);return pe()&&(i._paths=t),i}getCombined(t){let n=function(o,s,a){for(let c=0;c<t.length;c++){let u=t[c](o,s,a);if(u)return u}return null};return pe()&&(n._matchers=t),n}getFromPath(t=""){let n=function(c,u,l){if(t==="")return i(c,u,l);let d=t.split("/");if(o(d.length>c.length,s(l.pathMatch==="full",o(u.hasChildren(),d.length<c.length))))return null;let h={};for(let m=0;m<d.length;m++){let C=d[m],D=c[m];if(C.startsWith(":"))h[C.substring(1)]=D;else if(C!==D.path)return null}return{consumed:c.slice(0,d.length),posParams:h}};return pe()&&(n._path=t),n;function i(a,c,u){return s(u.pathMatch==="full",o(c.hasChildren(),a.length>0))?null:{consumed:[],posParams:{}}}function o(a,c){return a||c}function s(a,c){return a&&c}}getOpposite(t){let n=function(o,s,a){return t(o,s,a)?null:{consumed:o,posParams:{}}};return pe()&&(n._originalMatcher=t),n}getFromGlob(t){let n=this.globService.getValidator(t),i=function(s){let a=`/${s.map(c=>c.path).join("/")}`;return n(a)?{consumed:s,posParams:{}}:null};return pe()&&(i._globPatterns=t),i}static{this.\u0275fac=function(n){return new(n||e)(f(x3))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),k6=(()=>{class e{constructor(t,n,i){this.injector=t,this.routingConfigService=n,this.urlMatcherService=i,this.logger=E(K),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let t=this.injector.get(Ne);t.resetConfig(this.configureRoutes(t.config))}configureRoutes(t){return t.map(n=>{let i=this.configureRoute(n);return n.children&&n.children.length&&(i.children=this.configureRoutes(n.children)),i})}configureRoute(t){let n=this.getRouteName(t);if(n){let i=this.routingConfigService.getRouteConfig(n);return this.validateRouteConfig(i,n,t),i?.disabled?(delete t.path,w(v({},t),{matcher:this.urlMatcherService.getFalsy()})):i?.matchers?(delete t.path,w(v({},t),{matcher:this.resolveUrlMatchers(t,i?.matchers)})):i?.paths?.length===1?(delete t.matcher,w(v({},t),{path:i?.paths[0]})):(delete t.path,w(v({},t),{matcher:this.urlMatcherService.getFromPaths(i?.paths||[])}))}return t}resolveUrlMatchers(t,n){let i=n?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(t,o))??[];return this.urlMatcherService.getCombined(i)}resolveUrlMatcherFactory(t,n){return this.injector.get(n)(t)}getRouteName(t){return t.data&&t.data.cxRoute}validateRouteConfig(t,n,i){if(pe()){if(t===null||t?.paths===null||t?.matchers)return;if(!t?.paths){this.warn(`Could not configure the named route '${n}'`,i,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...t){pe()&&this.logger.warn(...t)}static{this.\u0275fac=function(n){return new(n||e)(f(Qe),f(rg),f(PD))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Mle=(()=>{class e{constructor(t){this.urlService=t}transform(t){return this.urlService.transform(t)}static{this.\u0275fac=function(n){return new(n||e)(J($c,16))}}static{this.\u0275pipe=Gt({name:"cxUrl",type:e,pure:!0})}}return e})(),_le=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye]})}}return e})(),U6=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),j6=(()=>{class e{constructor(t,n){this.winRef=t,this.platformId=n}canActivate(t,n){return jn(this.platformId)&&this.redirect(t,n),!1}redirect(t,n){let i=this.winRef.nativeWindow;i&&i.location&&(i.location.href=n.url)}static{this.\u0275fac=function(n){return new(n||e)(f(br),f($e))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $6(e){return()=>{e.addRoutes()}}var B6=(()=>{class e{constructor(t,n,i){this.config=t,this.urlMatcherService=n,this.injector=i}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let t=this.injector.get(Ne),n=this.getRoutes();n.length&&t.resetConfig([...n,...t.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let t=[];return t.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[j6],component:{}}),t}getUrlMatcher(){let t=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(t)}static{this.\u0275fac=function(n){return new(n||e)(f(U6),f(PD),f(Qe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ole=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Ct,multi:!0,useFactory:$6,deps:[B6]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),V6=(()=>{class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(t,n){this.config=t,this.urlParsingService=n,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(i=>this.getSegments(i)))}isUrlProtected(t){return this.shouldProtect&&!this.matchAnyPath(t,this.nonProtectedPaths)}matchAnyPath(t,n){return n.some(i=>this.matchPath(t,i))}matchPath(t,n){return this.urlParsingService.matchPath(t,n)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((t,n)=>n.protected===!1&&n.paths&&n.paths.length?t.concat(n?.paths??[]):t,[])}getSegments(t){return(t||"").split("/")}static{this.\u0275fac=function(n){return new(n||e)(f(ng),f(hI))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xle=(()=>{class e{constructor(t,n){this.service=t,this.authGuard=n}canActivate(t){let n=t.url.map(i=>i.path);return n=n.length?n:[""],this.service.isUrlProtected(n)?this.authGuard.canActivate():I(!0)}static{this.\u0275fac=function(n){return new(n||e)(f(V6),f(uW))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H6=(()=>{class e{constructor(t,n){this.baseSiteService=t,this.configInit=n,this.scopes=["routing"],this.configFactory=()=>nr(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(_(t=>{let n=t?.context?.[ti]?.[0];return this.baseSiteService.get(n).pipe(L(i=>{if(!i)throw new Error(`Error: Cannot get base site config for ${n}.`)}),y(i=>this.getRoutingConfig(i)),re(1))}))}getRoutingConfig(t){return{routing:{protected:t?.requiresAuthentication}}}static{this.\u0275fac=function(n){return new(n||e)(f(Ro),f(bn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z6=(()=>{class e{constructor(t,n){this.actions$=t,this.router=n,this.clearCmsRoutes$=H(()=>this.actions$.pipe($(An,Ir,Gn),L(()=>{let i=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));i.length!==this.router.config.length&&this.router.resetConfig(i)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Ne))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),G6=[z6],W6={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function q6(){return{router:Y6}}function Y6(e=W6,r){switch(r.type){case sf:return w(v({},e),{nextState:r.payload.routerState,navigationId:r.payload.event.id});case cf:case af:return w(v({},e),{nextState:void 0});case $O:return e.nextState?w(v({},e),{nextState:w(v({},e.nextState),{context:r.payload})}):e;case uf:return{state:w(v({},r.payload.routerState),{context:e.nextState?.context??r.payload.routerState.context}),navigationId:r.payload.event.id,nextState:void 0};default:return e}}var GN=new S("RouterReducers"),K6={provide:GN,useFactory:q6},Z6=(()=>{class e{serialize(t){let n=t.root,i=!1,o,s,a="";for(;n.firstChild;)n=n.firstChild,a+="/"+n.url.map(u=>u.path).join("/"),n.data?.cxRoute&&(s=n.data?.cxRoute),n.data?.cxCmsRouteContext&&(o=n.data?.cxCmsRouteContext),!i&&(o||n.routeConfig?.canActivate?.find(u=>u&&u.guardName==="CmsPageGuard"))&&(i=!0);s=s||this.lookupSemanticRoute(a);let{params:c}=n;return o=this.getPageContext(o,n),{url:t.url,queryParams:t.root.queryParams,params:c,context:o,cmsRequired:i,semanticRoute:s}}getPageContext(t,n){let i=t;if(n.url.length>0&&n.url[0].path==="cx-preview"&&n.queryParams.cmsTicketId!==void 0)i={id:dN,type:we.CONTENT_PAGE};else{let{params:o}=n;o.productCode?i={id:o.productCode,type:we.PRODUCT_PAGE}:o.categoryCode?i={id:o.categoryCode,type:we.CATEGORY_PAGE}:o.brandCode?i={id:o.brandCode,type:we.CATEGORY_PAGE}:n.data.pageLabel!==void 0&&(i={id:n.data.pageLabel,type:we.CONTENT_PAGE})}return i||(n.url.length>0?i={id:"/"+n.url.map(s=>s.path).join("/"),type:we.CONTENT_PAGE}:i={id:lN,type:we.CONTENT_PAGE}),i}lookupSemanticRoute(t){return this.routingConfig.getRouteName(t.substr(1))}constructor(t){this.routingConfig=t}static{this.\u0275fac=function(n){return new(n||e)(f(rg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})();function Q6(e){return()=>e.init()}function J6(e,r){return r.routing?.protected===void 0?e:null}function X6(){let r=(E(RI,{optional:!0})??[]).map(t=>t());return Promise.all(r)}var Nle=(()=>{class e{static forRoot(){return{ngModule:e,providers:[K6,{provide:Ts,useClass:Z6},{provide:Ct,useFactory:Q6,deps:[k6],multi:!0},{provide:cg,useFactory:J6,deps:[H6,ng],multi:!0},{provide:vd,useFactory:X6}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[$n.forFeature(HC,GN),Bn.forFeature(G6),r_.forRoot({routerState:1,stateKey:HC})]})}}return e})();function e5(e,r){return n=>{let i=n.data&&n.data.cxRoute,o=e.getRouteConfig(i),s=o&&o.paths||[];return r.getFromPaths(s)}}var Ple=new S("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>e5(E(rg),E(PD))}),t5=(()=>{class e{getIdListByItemType(t){let n=[],i=[],o=[];return t.forEach(s=>{s.superType==="AbstractCMSComponent"?i.push(s.id):s.superType==="AbstractPage"?n.push(s.id):s.superType==="AbstractMedia"&&o.push(s.id)}),{pageIds:n,componentIds:i,mediaIds:o}}constructor(t,n,i){this.actions$=t,this.cmsComponentConnector=n,this.routingService=i,this.logger=E(K),this.loadNavigationItems$=H(()=>this.actions$.pipe($(_N),y(o=>o.payload),y(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),z(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(R(cn),y(s=>s.state.context),re(1),z(s=>this.cmsComponentConnector.getList(o.ids.componentIds,s).pipe(y(a=>new vS({nodeId:o.nodeId,components:a})),F(a=>I(new Gp(o.nodeId,ae(a,this.logger))))))):I(new Gp(o.nodeId,new Error("navigation nodes are empty"))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(zN),f(_i))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),n5=(()=>{class e{constructor(t,n){this.cmsPageAdapter=t,this.cmsStructureConfigService=n}get(t){return this.cmsStructureConfigService.shouldIgnoreBackend(t.id).pipe(_(n=>n?I({}):this.cmsPageAdapter.load(t).pipe(F(i=>{if(i instanceof _t&&i.status===400)return I({});throw i}))),_(n=>this.mergeDefaultPageStructure(t,n)))}mergeDefaultPageStructure(t,n){return this.cmsStructureConfigService.mergePageStructure(t.id,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Mp),f(HN))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),r5=(()=>{class e{constructor(t,n,i){this.actions$=t,this.cmsPageConnector=n,this.routingService=i,this.logger=E(K),this.refreshPage$=H(()=>this.actions$.pipe($(An,Ir,Gn),_(()=>this.routingService.getRouterState().pipe(R(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),re(1),y(o=>o.state.context),z(o=>I(new $s(o))))))),this.loadPageData$=H(()=>this.actions$.pipe($(xN),y(o=>o.payload),xr(o=>Jr(o)),z(o=>o.pipe(_(s=>this.cmsPageConnector.get(s).pipe(z(a=>{let c=[new gS((a.components??[]).map(l=>({component:l,pageContext:s}))),new ES(s,a.page??{})],u=a.page?.label;return u&&u!==s.id&&c.unshift(new CS({id:u,type:s.type},a.page??{})),c}),F(a=>I(new yS(s,ae(a,this.logger))))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(n5),f(_i))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),i5=[r5,L6,t5],o5={component:void 0,pageContext:{}};function bf(e,r){switch(r.type){case RD:return!1;case _D:case MD:return!0}return e}function s5(e=o5,r){switch(r.type){case AD:{let t=ft(r.meta.entityType,bf),n=Jr(r.payload.pageContext,!0);return w(v({},e),{pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case RD:{let t=ft(r.meta.entityType,bf),n=Jr(r.payload.pageContext,!0);return w(v({},e),{pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case MD:{let t=ft(r.meta.entityType,bf),n=Jr(r.payload.pageContext,!0);return w(v({},e),{component:r.payload.component,pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case _D:{let t=ft(r.meta.entityType,bf);if(!Array.isArray(r.payload)){let n=Jr(r.payload.pageContext,!0);return w(v({},e),{component:r.payload.component,pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}}}return e}var a5=void 0;function c5(e=a5,r){switch(r.type){case ON:if(r.payload.components.length){let n=r.payload.components.reduce((i,o)=>w(v({},i),{[`${o.uid}_AbstractCMSComponent`]:o}),{});return v(v({},e),n)}}return e}var u5={entities:{}};function l5(e=u5,r){switch(r.type){case OD:{let t=r.payload;return w(v({},e),{entities:w(v({},e.entities),{[t.pageId??""]:t})})}}return e}var Z_=void 0;function wf(e){return(r=Z_,t)=>{if(t.meta&&t.meta.entityType===e)switch(t.type){case OD:return t.payload.pageId;case NN:return Z_;case FN:return t.payload;case PN:return t.payload.pageId}return r}}function d5(){return{page:co({pageData:l5,index:co({content:yo(we.CONTENT_PAGE,wf(we.CONTENT_PAGE)),product:yo(we.PRODUCT_PAGE,wf(we.PRODUCT_PAGE)),category:yo(we.CATEGORY_PAGE,wf(we.CATEGORY_PAGE)),catalog:yo(we.CATALOG_PAGE,wf(we.CATALOG_PAGE))})}),components:Lc(tu,s5),navigation:yo(vg,c5)}}var WN=new S("CmsReducers"),f5={provide:WN,useFactory:d5};function h5(e){return function(r,t){return(t.type===An||t.type===Ir||t.type===Gn)&&(r=void 0),e(r,t)}}var p5=[h5];function g5(){return{state:{ssrTransfer:{keys:{[TD]:Mo.TRANSFER_STATE}}}}}var m5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wo(g5),f5],imports:[Ye,oi,$n.forFeature(TD,WN,{metaReducers:p5}),Bn.forFeature(i5)]})}}return e})();function v5(e){let r=!1;return e.find(t=>{let n=t.features?.[Ns];n&&(r=n)}),r?f6:MN}var y5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[yg,wo(v5,[Fc])]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[m5,P6.forRoot()]})}}return e})(),E5=(()=>{class e{constructor(){this.logger=E(K)}handleError(t){this.logger.error(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qN=new S("MULTI_ERROR_HANDLER"),C5=(()=>{class e{constructor(){this.logger=E(K),this.errorHandlers=E(qN)}handleError(t){this.errorHandlers.forEach(n=>{n.handleError(t)})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),YN=(()=>{class e{constructor(){this.errorHandler=E(ut),this.windowRef=E(br)}handle(t){let n=t.error;!(n instanceof Rc)&&!(n instanceof _t)&&this.shouldHandleError(n)&&this.errorHandler.handleError(n)}isErrorAction(t){return"error"in t}shouldHandleError(t){return!this.windowRef.isBrowser()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),S5=(()=>{class e{constructor(){this.actions$=E(De),this.errorActionService=E(YN),this.featureConfigService=E(Oi),this.error$=H(()=>this.actions$.pipe(R(this.errorActionService.isErrorAction),L(t=>{this.featureConfigService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")&&this.errorActionService.handle(t)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),I5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[YN]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Bn.forFeature([S5])]})}}return e})(),D5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),Ar=function(e){return e[e.UNKNOWN=-1]="UNKNOWN",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.CONFLICT=409]="CONFLICT",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e}(Ar||{}),It=(()=>{class e{constructor(t,n){this.globalMessageService=t,this.platformId=n}hasMatch(t){return t.status===this.responseStatus}getErrorTranslationKey(t){let n="httpHandlers.badRequest";return t?`${n}.${t.toLowerCase().replace(/ /g,"_")}`:`${n}PleaseLoginAgain`}isSsr(){return this.platformId?!jn(this.platformId):!1}static{this.\u0275fac=function(n){return new(n||e)(f(Qs),f($e))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),b5=(()=>{class e extends It{constructor(){super(...arguments),this.responseStatus=Ar.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w5="/authorizationserver/oauth/token",T5=(()=>{class e extends It{constructor(){super(...arguments),this.responseStatus=Ar.BAD_REQUEST}handleError(t,n){this.handleBadPassword(t,n),this.handleBadLoginResponse(t,n),this.handleValidationError(t,n),this.handleGuestDuplicateEmail(t,n),this.handleUnknownIdentifierError(t,n)}handleBadPassword(t,n){n.url?.includes(w5)&&n.error?.error==="invalid_grant"&&t.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(n.error?.error_description),params:{errorMessage:n.error.error_description||n.message||""}},Ue.MSG_TYPE_ERROR),this.globalMessageService.remove(Ue.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(t,n){this.getErrors(n).filter(i=>i.type==="PasswordMismatchError").forEach(()=>{let o=new URL(t.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},Ue.MSG_TYPE_ERROR)})}handleValidationError(t,n){this.getErrors(n).filter(i=>i.type==="ValidationError").forEach(i=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${i.reason}.${i.subject}`},Ue.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(t,n){this.getErrors(n).filter(i=>i.type==="DuplicateUidError").forEach(i=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:i.message||""}},Ue.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(t,n){this.getErrors(n).filter(i=>i.type==="UnknownIdentifierError").forEach(i=>{this.globalMessageService.add(i.message?i.message:{key:"httpHandlers.unknownIdentifier"},Ue.MSG_TYPE_ERROR)})}getErrors(t){return(t.error?.errors||[]).filter(n=>n.type!=="JaloObjectNoLongerValidError")}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),A5=(()=>{class e extends It{constructor(){super(...arguments),this.responseStatus=Ar.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),R5=(()=>{class e extends It{handleError(t){t.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}constructor(t,n,i){super(t),this.globalMessageService=t,this.authService=n,this.occEndpoints=i,this.responseStatus=Ar.FORBIDDEN}static{this.\u0275fac=function(n){return new(n||e)(f(Qs),f(qn),f(Ke))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),M5=(()=>{class e extends It{constructor(){super(...arguments),this.responseStatus=Ar.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_5=(()=>{class e extends It{constructor(){super(...arguments),this.responseStatus=Ar.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),O5=(()=>{class e extends It{constructor(){super(...arguments),this.responseStatus=Ar.NOT_FOUND}handleError(){}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),x5=(()=>{class e extends It{constructor(){super(...arguments),this.logger=E(K),this.featureConfigService=E(Oi),this.responseStatus=Ar.UNKNOWN}hasMatch(t){return!0}handleError(t,n){(this.featureConfigService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")?pe():pe()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,n.message)}getPriority(){return-50}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N5=(()=>{class e{constructor(t){this.unifiedInjector=t,this.handlers$=this.unifiedInjector.getMulti(It).pipe(st(1))}intercept(t,n){return n.handle(t).pipe(L({error:i=>{i instanceof _t&&this.handleErrorResponse(t,i)}}))}handleErrorResponse(t,n){let i=this.getResponseHandler(n);i&&i.handleError(t,n)}getResponseHandler(t){return wI(Jf(this.handlers$)??[],[t])}static{this.\u0275fac=function(n){return new(n||e)(f(zc))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),P5=[{provide:It,useExisting:x5,multi:!0},{provide:It,useExisting:b5,multi:!0},{provide:It,useExisting:T5,multi:!0},{provide:It,useExisting:A5,multi:!0},{provide:It,useExisting:R5,multi:!0},{provide:It,useExisting:M5,multi:!0},{provide:It,useExisting:_5,multi:!0},{provide:It,useExisting:O5,multi:!0}],F5=[{provide:rn,useExisting:N5,multi:!0}],L5={entities:{}};function k5(e=L5,r){switch(r.type){case Xf:{let t=r.payload;if(e.entities[t.type]===void 0)return w(v({},e),{entities:w(v({},e.entities),{[t.type]:[t.text]})});{let n=e.entities[t.type];return w(v({},e),{entities:w(v({},e.entities),{[t.type]:[...n,t.text]})})}}case lx:{let t=r.payload.type,n=r.payload.index;if(Object.keys(e.entities).length===0||!e.entities[t])return e;let i=[...e.entities[t]];return i.splice(n,1),w(v({},e),{entities:w(v({},e.entities),{[t]:i})})}case dx:{let t=w(v({},e.entities),{[r.payload]:[]});return w(v({},e),{entities:t})}}return e}function U5(){return k5}var KN=new S("GlobalMessageReducers"),j5={provide:KN,useFactory:U5},$5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[j5],imports:[oi,$n.forFeature(fx,KN)]})}}return e})(),B5=(()=>{class e{constructor(t,n,i,o){this.actions$=t,this.store=n,this.config=i,this.platformId=o,this.removeDuplicated$=H(()=>this.actions$.pipe($(Xf),y(s=>s.payload),_(s=>I(s.text).pipe(at(this.store.pipe(M(px(s.type)))),R(([a,c])=>_c.countOfDeepEqualObjects(a,c)>1),y(([a,c])=>{let u=_c.indexOfFirstOccurrence(a,c);if(u!==void 0)return new Oc({type:s.type,index:u})}),R(cn))))),this.hideAfterDelay$=H(()=>jn(this.platformId)?this.actions$.pipe($(Xf),y(s=>s.payload),je(s=>{let a=this.config.globalMessages?.[s.type];return this.store.pipe(M(eW(s.type)),re(1),R(c=>(a&&a.timeout!==void 0||s.timeout!==void 0)&&c>0),er(s.timeout||a?.timeout),_(()=>I(new Oc({type:s.type,index:0}))))})):()=>ge)}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(ce),f(D5),f($e))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),V5={globalMessages:{[Ue.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[Ue.MSG_TYPE_INFO]:{timeout:3e3},[Ue.MSG_TYPE_ERROR]:{timeout:7e3},[Ue.MSG_TYPE_WARNING]:{timeout:7e3},[Ue.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},H5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...P5,...F5]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wn(V5)],imports:[$5,Bn.forFeature([B5])]})}}return e})(),qp=class extends Error{constructor(r){super("Outbound HTTP Error",{cause:r})}},IS=class extends qp{constructor(r){super(r),this.message="CMS Page Not Found"}},z5=(()=>{class e{constructor(){this.errorHandler=E(ut),this.occEndpointsService=E(Ke),this.windowRef=E(br),this.featureService=E(Oi)}intercept(t,n){return n.handle(t).pipe(L({error:i=>{this.featureService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")&&this.shouldHandleError(i)&&this.handleError(i)}}))}shouldHandleError(t){return!this.windowRef.isBrowser()}handleError(t){t=this.isCmsPageNotFoundHttpError(t)?new IS(t):new qp(t),this.errorHandler.handleError(t)}isCmsPageNotFoundHttpError(t){let n=this.occEndpointsService.buildUrl("pages");return t instanceof _t&&t.status===Ar.NOT_FOUND&&(t.url??"").startsWith(n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),G5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:rn,useClass:z5,multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function W5(){return[{provide:qN,useExisting:E5,multi:!0}]}var q5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[W5(),{provide:ut,useClass:C5}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[I5.forRoot(),G5.forRoot()]})}}return e})(),Y5={backend:{timeout:{server:2e4}}},K5=new Wa(()=>{});var Z5=(()=>{class e{constructor(t,n){this.windowRef=t,this.config=n,this.logger=E(K)}intercept(t,n){let i=this.getTimeoutValue(t);return typeof i>"u"?n.handle(t):n.handle(t).pipe(_(o=>o.type===gr.Sent?jg.pipe(tr(o),sa(i)):I(o)),F(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:t,timeoutValue:i})}))}getTimeoutValue(t){let n=t.context.get(K5),i=this.config?.backend?.timeout,o=n??i??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:t,request:n,timeoutValue:i}){if(t instanceof ku){let o=this.buildError(n,i);return new _t({url:n.url,error:o})}return t}buildError(t,n){let i=`Request to URL '${t.url}' exceeded expected time of ${n}ms and was aborted.`;return this.logger.warn(i),new Error(i)}static{this.\u0275fac=function(n){return new(n||e)(f(br),f(Dr))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Q5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:rn,useExisting:Z5,multi:!0},wn(Y5)]})}}return e})(),J5=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Q5]})}}return e})(),X5={i18n:{fallbackLang:void 0,debug:!1}},Xs=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),eY=(()=>{class e{constructor(t){this.configInit=t,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>nr(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(y(t=>({i18n:{fallbackLang:t?.context?.language?.[0]}})))}static{this.\u0275fac=function(n){return new(n||e)(f(bn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fle=(()=>{class e extends GA{constructor(t){super(""),this.language=t,this.logger=E(K)}transform(t,n,i){return super.transform(t,n,i,this.getLang())}getLang(){let t=this.getActiveLang();try{return yd(t),t}catch{return this.reportMissingLocaleData(t),"en"}}getActiveLang(){let t="";return this.language.getActive().subscribe(n=>t=n).unsubscribe(),t}reportMissingLocaleData(t){pe()&&this.logger.warn(`cxDate pipe: No locale data registered for '${t}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(n){return new(n||e)(J(xi,16))}}static{this.\u0275pipe=Gt({name:"cxDate",type:e,pure:!0})}}return e})(),DS=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Cg=new S("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>St.createInstance()}),tY=new S("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let e=E(ke);return(r,t,n,i)=>{e.get(t,{responseType:"text"}).subscribe({next:o=>i(null,{status:200,data:o}),error:o=>i(o,{data:null,status:o.status})})}}}),nY=(()=>{class e{constructor(t,n,i,o){this.i18next=t,this.i18nextHttpClient=n,this.config=i,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(C_),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(t){return!this.windowRef.isBrowser()&&!t.match(/^http(s)?:\/\//)?(t.startsWith("/")&&(t=t.slice(1)),t.startsWith("./")&&(t=t.slice(2)),`${this.windowRef.location.origin}/${t}`):t}static{this.\u0275fac=function(n){return new(n||e)(f(Cg),f(tY),f(Xs),f(br))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rY=(()=>{class e{constructor(t,n){this.config=t,this.i18next=n}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let t=this.config.i18n?.backend?.loader;if(!t)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(x_(t)),{backend:{}}}static{this.\u0275fac=function(n){return new(n||e)(f(Xs),f(Cg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iY=[{provide:DS,useExisting:nY,multi:!0},{provide:DS,useExisting:rY,multi:!0}],oY=new S("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let e=E(K);return{type:"logger",log:r=>e.log(...r),warn:r=>e.warn(...r),error:r=>e.error(...r)}}}),sY=(()=>{class e{constructor(t){this.backendInitializers=t}initialize(){return wI(this.backendInitializers??[])?.initialize()??{}}static{this.\u0275fac=function(n){return new(n||e)(f(DS,8))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),aY=(()=>{class e{constructor(t,n,i,o){this.i18next=t,this.config=n,this.languageService=i,this.i18nextBackendService=o,this.loggerPlugin=E(oY)}initialize(){let t=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(t,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let t={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(t=v(v({},t),this.i18nextBackendService.initialize())),t}addTranslationResources(){let t=this.config.i18n?.resources??{};Object.keys(t).forEach(n=>{Object.keys(t[n]).forEach(i=>{this.i18next.addResourceBundle(n,i,t[n][i],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(t=>this.i18next.changeLanguage(t))}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Cg),f(Xs),f(xi),f(sY))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cY=[{provide:Ct,useFactory:()=>{let e=E(bn),r=E(aY);return()=>nr(e.getStable("i18n")).then(()=>r.initialize())},multi:!0},...iY],uY=(()=>{class e{constructor(t){this.config=t,this.duplicates={},this.chunks={},this.logger=E(K),this.KEY_SEPARATOR=".";let n=t.i18n&&t.i18n.chunks||{};Object.keys(n).forEach(i=>{n[i].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(i)):this.chunks[o]=i})}),Object.keys(this.duplicates).length>0&&pe()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(t){let n=(t||"").split(this.KEY_SEPARATOR)[0],i=this.chunks&&this.chunks[n];return i||n}warnDuplicates(t){let n=[];Object.keys(t).forEach(i=>{n.push(`* '${i}' found in chunks: ${t[i].join(", ")}. Used '${this.chunks[i]}.${i}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${n.join(`
`)}`)}static{this.\u0275fac=function(n){return new(n||e)(f(Xs))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lY=(()=>{class e{constructor(t,n,i){this.config=t,this.translationChunk=n,this.i18next=i,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=E(K)}translate(t,n={},i=!1){let o=Array.isArray(t)?t:[t],s=new Map,a=[];return o.forEach(c=>{let u=this.translationChunk.getChunkNameForKey(c),l=this.getNamespacedKey(c,u);a.push(l),s.set(c,u)}),new V(c=>{let u=()=>{if(!this.i18next.isInitialized)return;let l=!1;this.i18next.loadNamespaces(Array.from(s.values()),()=>{l=!0,this.i18next.exists(a,n)?c.next(this.i18next.t(a,n)):(this.reportMissingKey(s),c.next(this.getFallbackValue(a)))}),!l&&i&&c.next(this.NON_BREAKING_SPACE)};return u(),this.i18next.on("languageChanged",u),()=>this.i18next.off("languageChanged",u)})}loadChunks(t){return this.i18next.loadNamespaces(t)}getFallbackValue(t){let n=Array.isArray(t)?t.join(", "):t;return pe()?`[${n}]`:this.NON_BREAKING_SPACE}reportMissingKey(t){let n=[...t.keys()];pe()&&this.logger.warn(`Translation keys missing [${n.join(", ")}]. Attempted to load ${[...t].map(([i,o])=>`'${i}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(t,n){return n+this.NAMESPACE_SEPARATOR+t}static{this.\u0275fac=function(n){return new(n||e)(f(Xs),f(uY),f(Cg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Lle=(()=>{class e extends WA{constructor(t){super(""),this.language=t,this.logger=E(K)}transform(t,n){return super.transform(t,n,this.getLang())}getLang(){let t=this.getActiveLang();try{return yd(t),t}catch{return this.reportMissingLocaleData(t),"en"}}getActiveLang(){let t="";return this.language.getActive().subscribe(n=>t=n).unsubscribe(),t}reportMissingLocaleData(t){pe()&&this.logger.warn(`cxNumeric pipe: No locale data registered for '${t}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(n){return new(n||e)(J(xi,16))}}static{this.\u0275pipe=Gt({name:"cxNumeric",type:e,pure:!0})}}return e})();function CC(e){return e!==null&&typeof e=="object"&&("key"in e||"raw"in e)}var kle=(()=>{class e{constructor(t,n){this.service=t,this.cd=n,this.logger=E(K)}transform(t,n={}){if(!t)return pe()&&this.logger.error(`The given input for the cxTranslate pipe (${t}) is invalid and cannot be translated`),"";if(CC(t)&&t.raw)return t.raw;CC(t)&&t.params&&(n=v(v({},n),t.params));let i=CC(t)?t.key:t;return this.translate(i,n),this.translatedValue}translate(t,n){(t!==this.lastKey||!_c.shallowEqualObjects(n,this.lastOptions))&&(this.lastKey=t,this.lastOptions=n,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(t,n,!0).subscribe(i=>this.markForCheck(i)))}markForCheck(t){this.translatedValue=t,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(J(Sr,16),J(Br,16))}}static{this.\u0275pipe=Gt({name:"cxTranslate",type:e,pure:!1})}}return e})();function dY(e,r){return r?.i18n?.fallbackLang!==void 0?null:e}var fY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[wn(X5),{provide:Sr,useExisting:lY},...cY,{provide:cg,useFactory:dY,deps:[eY,Xs],multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function hY(e,r){let t=E(K);return()=>Promise.all(e.runModuleInitializerFunctions(r)).catch(n=>{throw t.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var pY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Ct,useFactory:hY,deps:[TI,[new gn,tx]],multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function gY(){return yo(ue)}var ZN=new S("ProcessReducers"),mY={provide:ZN,useFactory:gY},vY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[mY],imports:[oi,$n.forFeature(ue,ZN)]})}}return e})(),yY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[vY]})}}return e})(),EY={siteTheme:{optionalThemes:[{i18nNameKey:"siteThemeSwitcher.themes.highContrastDark",className:"cx-theme-high-contrast-dark"},{i18nNameKey:"siteThemeSwitcher.themes.highContrastLight",className:"cx-theme-high-contrast-light"}]}},QN="[Site-theme] Set Active Site Theme",CY="[Site-theme] Site Theme Change",bS=class{constructor(r){this.payload=r,this.type=QN}},wS=class{constructor(r){this.payload=r,this.type=CY}};var FD="siteTheme",SY=Cn(FD),IY=e=>e.activeSiteTheme,DY=T(SY,e=>e.themes),TS=T(DY,IY);var LD=(()=>{class e{constructor(){this.store=E(ce),this.config=E(bt),this.FALLBACK_DEFAULT_THEME_ID=""}getDefault(){return{className:ei(this.config,zO)??this.FALLBACK_DEFAULT_THEME_ID,i18nNameKey:"siteThemeSwitcher.themes.default"}}get themes(){let t=this.config.siteTheme?.optionalThemes||[];return[this.getDefault(),...t]}getAll(){return I(this.themes)}getActive(){return this.store.pipe(M(TS),R(Vs))}setActive(t){this.store.pipe(M(TS),re(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new bS(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return this.themes.map(n=>n.className).includes(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),bY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(bt),i},providedIn:"root"})}}return e})(),wY="siteTheme",TY=(()=>{class e{constructor(){this.statePersistenceService=E(Gc),this.siteThemeService=E(LD),this.config=E(bY),this.initialized$=new Zt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:wY,state$:this.siteThemeService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.siteThemeService.isInitialized()&&t&&this.siteThemeService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),AY=(()=>{class e{constructor(){this.siteThemeService=E(LD),this.siteThemePersistenceService=E(TY),this.configInit=E(bn)}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.siteThemePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(()=>this.setDefaultFromConfig()))}setDefaultFromConfig(){if(!this.siteThemeService.isInitialized()){let t=this.siteThemeService.getDefault();this.siteThemeService.setActive(t.className)}}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RY(){let e=E(AY);return()=>{e.initialize()}}var MY=[{provide:Ct,useFactory:RY,multi:!0}],_Y=(()=>{class e{constructor(){this.actions$=E(De),this.state=E(ce),this.activateSiteTheme$=H(()=>this.state.select(TS).pipe(da(2,1),R(([t])=>!!t),y(([t,n])=>new wS({previous:t,current:n}))))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),OY=[_Y],xY={activeSiteTheme:null};function NY(e=xY,r){if(r.type===QN){let t=r.payload;return w(v({},e),{activeSiteTheme:t})}return e}function PY(){return{themes:NY}}var JN=new S("SiteThemeReducers"),FY={provide:JN,useFactory:PY};function LY(){return{state:{ssrTransfer:{keys:{[FD]:Mo.TRANSFER_STATE}}}}}var kY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wo(LY),FY],imports:[Ye,$n.forFeature(FD,JN),Bn.forFeature(OY)]})}}return e})(),UY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[LD,wn(EY),...MY]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[oi,kY]})}}return e})(),Ule=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[q5.forRoot(),oi.forRoot(),cN.forRoot(),DW.forRoot(),wW.forRoot(),fY.forRoot(),y5.forRoot(),H5.forRoot(),yY.forRoot(),OW.forRoot(),Jq.forRoot(),V4.forRoot(),P4.forRoot(),pY.forRoot(),J5.forRoot(),UY.forRoot()]})}}return e})(),jle=new S("PointOfServiceNormalizer"),jY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),$Y=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),$le=(()=>{class e{constructor(t,n,i,o){this.cms=t,this.unifiedInjector=n,this.pageMetaConfig=i,this.platformId=o,this.featureConfigService=E(Oi),this.resolvers$=this.unifiedInjector.getMulti(an).pipe(st({bufferSize:1,refCount:!0})),this.meta$=Ze(()=>this.cms.getCurrentPage()).pipe(R(s=>!!s),_(s=>this.getMetaResolver(s)),_(s=>s?this.resolve(s):I(null)),st({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(t){let n=this.getResolverMethods(),i=Object.keys(n).filter(o=>t[n[o]]).map(o=>t[n[o]]().pipe(y(s=>({[o]:s}))));return i.length===0?I({}):rx(i).pipe(y(o=>Object.assign({},...o)))}getResolverMethods(){let t={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(n=>{let i=this.featureConfigService.isEnabled("allPageMetaResolversEnabledInCsr")?!1:n.disabledInCsr;return!jn(this.platformId??"")||!i||pe()&&this.pageMetaConfig?.pageMeta?.enableInDevMode}).forEach(n=>t[n.property]=n.method),t}getMetaResolver(t){return this.resolvers$.pipe(y(n=>wI(n,[t],[t])))}static{this.\u0275fac=function(n){return new(n||e)(f(yg),f(zc),f(BN),f($e))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ble=(()=>{class e{constructor(t){this.unifiedInjector=t,this.componentDecorators$=this.unifiedInjector.getMulti(jY).pipe(st(1)),this.slotDecorators$=this.unifiedInjector.getMulti($Y).pipe(st(1))}addAttributesToComponent(t,n,i){(Jf(this.componentDecorators$)||[]).forEach(o=>o.decorate(t,n,i))}addAttributesToSlot(t,n,i){(Jf(this.slotDecorators$)||[]).forEach(o=>o.decorate(t,n,i))}static{this.\u0275fac=function(n){return new(n||e)(f(zc))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var BY=(()=>{class e{constructor(t,n){this.cmsConfig=t,this.lazyModules=n,this.features=new Map}isConfigured(t){return!!this.getFeatureConfig(t)?.module}resolveFeature(t){return t=this.resolveFeatureAlias(t),Ze(()=>{if(!this.features.has(t)){if(!this.isConfigured(t))return Pt(()=>new Error("No module defined for Feature Module "+t));let n=this.getFeatureConfig(t);this.features.set(t,this.resolveDependencies(n?.dependencies).pipe(_(i=>this.lazyModules.resolveModuleInstance(n?.module,t,i)),st()))}return this.features.get(t)??ge})}getFeatureConfig(t){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(t)]}resolveFeatureAlias(t){for(;typeof this.cmsConfig.featureModules?.[t]=="string";)t=this.cmsConfig.featureModules?.[t];return t}resolveDependencies(t=[]){return t?.length?aa(t.map(n=>typeof n=="string"?this.resolveFeature(n):this.lazyModules.resolveDependencyModuleInstance(n))):I(void 0)}static{this.\u0275fac=function(n){return new(n||e)(f(CD),f(TI))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Q_="proxyFacadeInstance",VY=(()=>{class e{constructor(t,n){this.featureModules=t,this.injector=n}getResolver(t,n,i=!1){if(!this.featureModules.isConfigured(t))return Pt(()=>new Error(`Feature ${t} is not configured properly`));let o=this.featureModules.resolveFeature(t).pipe(y(s=>s.injector),y(s=>s.get(n)));return i&&(o=o.pipe(er(0))),o.pipe(st())}call(t,n,i){let o=Uu(t.pipe(y(s=>s[n](...i))),{connector:()=>new Zt,resetOnDisconnect:!1});return o.connect(),o.pipe(_(s=>ki(s)?s:ge))}get(t,n){return t.pipe(_(i=>i[n]))}create({facade:t,feature:n,methods:i,properties:o,async:s}){let a=this.getResolver(n,t,s),c=new class extends t{};return(i??[]).forEach(u=>{c[u]=(...l)=>this.call(a,u,l)}),(o??[]).forEach(u=>{c[u]=this.get(a,u)}),c[Q_]=!0,c}isProxyFacadeInstance(t){return!!t?.[Q_]}static{this.\u0275fac=function(n){return new(n||e)(f(BY),f(Qe))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Vle(e){return E(VY).create(e)}var HY=(()=>{class e{constructor(t){this.adapter=t}get(t,n=""){return this.adapter.load(t,n)}getMany(t){return this.adapter.loadMany?this.adapter.loadMany(t):t.map(n=>w(v({},n),{data$:this.adapter.load(n.code,n.scope)}))}static{this.\u0275fac=function(n){return new(n||e)(f(_p))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zY=(()=>{class e{constructor(t){this.adapter=t}get(t,n,i){return this.adapter.load(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(f(Op))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),GY=(()=>{class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}add(t,n){return this.adapter.post(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(xp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XN=(()=>{class e{constructor(t){this.adapter=t}search(t,n,i){return this.adapter.search(t,n,i)}searchByCodes(t,n){return this.adapter.searchByCodes(t,n)}getSuggestions(t,n){return this.adapter.loadSuggestions(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Np))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),J_=(()=>{class e extends ni{static{this.type="FacetChangedEvent"}}return e})(),eP="[Product] Load Product References Data",WY="[Product] Load Product References Data Fail",tP="[Product] Load Product References Data Success",nP="[Product] Clean Product References",AS=class{constructor(r){this.payload=r,this.type=eP}},RS=class{constructor(r){this.payload=r,this.type=WY,this.error=r}},MS=class{constructor(r){this.payload=r,this.type=tP}},_S=class{constructor(){this.type=nP}},rP="[Product] Load Product Reviews Data",qY="[Product] Load Product Reviews Data Fail",iP="[Product] Load Product Reviews Data Success",oP="[Product] Post Product Review",sP="[Product] Post Product Review Fail",aP="[Product] Post Product Review Success",OS=class{constructor(r){this.payload=r,this.type=rP}},xS=class{constructor(r){this.payload=r,this.type=qY,this.error=r}},NS=class{constructor(r){this.payload=r,this.type=iP}},PS=class{constructor(r){this.payload=r,this.type=oP}},FS=class{constructor(r){this.payload=r,this.type=sP,this.error=r}},LS=class{constructor(r){this.payload=r,this.type=aP}},cP="[Product] Search Products",YY="[Product] Search Products Fail",uP="[Product] Search Products Success",lP="[Product] Get Product Suggestions",dP="[Product] Get Product Suggestions Success",KY="[Product] Get Product Suggestions Fail",fP="[Product] Clear Product Search Result",Yp=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=cP}},kS=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=YY,this.error=r}},US=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=uP}},jS=class{constructor(r){this.payload=r,this.type=lP}},Kp=class{constructor(r){this.payload=r,this.type=dP}},$S=class{constructor(r){this.payload=r,this.type=KY,this.error=r}},Zp=class{constructor(r={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=r,this.type=fP}},ri;(function(e){function r(u,l,d){return w(v({},rI(u,l)),{scope:d})}e.entityScopedLoadMeta=r;function t(u,l,d,h){return w(v({},iI(u,l,h)),{scope:d})}e.entityScopedFailMeta=t;function n(u,l,d){return w(v({},oI(u,l)),{scope:d})}e.entityScopedSuccessMeta=n;function i(u,l,d){return w(v({},sI(u,l)),{scope:d})}e.entityScopedResetMeta=i;class o{constructor(l,d,h){this.type=XS,this.meta=r(l,d,h)}}e.EntityScopedLoadAction=o;class s{constructor(l,d,h,m){this.type=eI,this.meta=t(l,d,h,m),this.error=m}}e.EntityScopedFailAction=s;class a{constructor(l,d,h,m){this.payload=m,this.type=tI,this.meta=n(l,d,h)}}e.EntityScopedSuccessAction=a;class c{constructor(l,d,h){this.type=nI,this.meta=i(l,d,h)}}e.EntityScopedResetAction=c})(ri||(ri={}));var kD="product",nu="[Product] Detail Entity",ru="[Product] Search Results By Codes Entity",hP="[Product] Product Search Load By Code",ZY="[Product] Product Search Load By Code Success",QY="[Product] Product Search Load By Code Fail",JY="[Product] Clear Product Search By Code State",BS=class extends ri.EntityScopedLoadAction{constructor(r){super(ru,r.code,r.scope),this.payload=r,this.type=hP}},VS=class extends ri.EntityScopedSuccessAction{constructor(r){super(ru,r.code,r.scope,r.product),this.type=ZY}},HS=class extends ri.EntityScopedFailAction{constructor(r){super(ru,r.code,r.scope,r.error),this.type=QY}},zS=class extends Rf{constructor(){super(ru),this.type=JY}},UD="[Product] Load Product Data",pP="[Product] Load Product Data Fail",gP="[Product] Load Product Data Success",XY="[Product] Clear Product PRICE",GS=class extends ri.EntityScopedLoadAction{constructor(r,t=""){super(nu,r,t),this.payload=r,this.type=UD}},Qp=class extends ri.EntityScopedFailAction{constructor(r,t,n=""){super(nu,r,n,t),this.payload=t,this.type=pP}},WS=class extends ri.EntityScopedSuccessAction{constructor(r,t=""){super(nu,r.code??"",t),this.payload=r,this.type=gP}},qS=class extends ri.EntityScopedResetAction{constructor(){super(nu,void 0,"price"),this.type=XY}};var iu=Cn(kD),e9=T(iu,e=>e.references),t9=(e,r)=>T(e9,t=>t.productCode===e&&t.list?r?t.list.filter(n=>n.referenceType===r):t.list:[]),n9=T(iu,e=>e.reviews),r9=e=>T(n9,r=>{if(r.productCode===e)return r.list}),i9={results:{},suggestions:[],auxResults:{}};function o9(e=i9,r){switch(r.type){case uP:{let t=r.payload,n=r.auxiliary?{auxResults:t}:{results:t};return v(v({},e),n)}case dP:{let t=r.payload;return w(v({},e),{suggestions:t})}case fP:return w(v({},e),{results:r.payload.clearPageResults?{}:e.results,suggestions:r.payload.clearSearchboxResults?[]:e.suggestions,auxResults:r.payload.clearSearchboxResults?{}:e.auxResults})}return e}var s9=e=>e.results,a9=e=>e.auxResults,c9=e=>e.suggestions,jD=T(iu,e=>e.search),u9=T(jD,s9),l9=T(jD,a9),d9=T(jD,c9),f9=T(iu,e=>e.searchByCode),h9=e=>T(f9,r=>Kt(r,e.code)[e.scope]||Hn),mP=T(iu,e=>e.details),ou=(e,r="")=>T(mP,t=>Kt(t,e)[r]||Hn),p9=(e,r="")=>T(ou(e,r),t=>it(t)),vP=(e,r="")=>T(ou(e,r),t=>Vt(t)),g9=(e,r="")=>T(ou(e,r),t=>Wn(t)),m9=(e,r="")=>T(ou(e,r),t=>Ks(t)),Hle=T(mP,e=>Object.keys(e.entities));var su=(()=>{class e{constructor(t){this.store=t}search(t,n){t&&this.store.dispatch(new Yp({queryText:t,searchConfig:n}))}getResults(){return this.store.pipe(M(u9))}clearResults(){this.store.dispatch(new Zp({clearPageResults:!0}))}static{this.\u0275fac=function(n){return new(n||e)(f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),v9=(()=>{class e{constructor(t,n){this.eventService=t,this.productSearchService=n,this.register()}register(){this.eventService.register(J_,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(fa(),R(([t,n])=>this.compareSearchResults(t,n)),y(([t,n])=>{let i=this.getToggledBreadcrumb(n.breadcrumbs,t.breadcrumbs)||this.getToggledBreadcrumb(t.breadcrumbs,n.breadcrumbs);if(i)return Ri(J_,{code:i.facetCode,name:i.facetName,valueCode:i.facetValueCode,valueName:i.facetValueName,selected:n.breadcrumbs&&t.breadcrumbs&&n.breadcrumbs.length>t.breadcrumbs.length})}))}compareSearchResults(t,n){if(t&&Object.keys(t).length!==0){let i=t.freeTextSearch!==""&&t.freeTextSearch===n.freeTextSearch,o=n.breadcrumbs?.[0]?.facetCode==="allCategories"&&t.breadcrumbs?.[0]?.facetCode===n.breadcrumbs[0]?.facetCode&&t.breadcrumbs[0].facetValueCode===n.breadcrumbs[0].facetValueCode;return i||o}return!1}getToggledBreadcrumb(t,n){if(t&&n&&t.length-n.length===1)return t.find(i=>!n.find(o=>o.facetCode===i.facetCode&&o.facetValueCode===i.facetValueCode))}static{this.\u0275fac=function(n){return new(n||e)(f(_o),f(su))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),y9=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(v9))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),E9=(()=>{class e{constructor(t,n){this.actions$=t,this.productReferencesConnector=n,this.logger=E(K),this.loadProductReferences$=H(()=>this.actions$.pipe($(eP),y(i=>i.payload),z(i=>this.productReferencesConnector.get(i.productCode,i.referenceType,i.pageSize).pipe(y(o=>new MS({productCode:i.productCode,list:o})),F(o=>I(new RS(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(zY))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),C9=(()=>{class e{constructor(t,n,i){this.actions$=t,this.productReviewsConnector=n,this.globalMessageService=i,this.logger=E(K),this.loadProductReviews$=H(()=>this.actions$.pipe($(rP),y(o=>o.payload),z(o=>this.productReviewsConnector.get(o).pipe(y(s=>new NS({productCode:o,list:s})),F(s=>I(new xS(ae(s,this.logger)))))))),this.postProductReview=H(()=>this.actions$.pipe($(oP),y(o=>o.payload),z(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(y(s=>new LS(s)),F(s=>I(new FS(ae(s,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=H(()=>this.actions$.pipe($(aP),L(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},Ue.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=H(()=>this.actions$.pipe($(sP),L(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},Ue.MSG_TYPE_ERROR)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(GY),f(Qs))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),S9=(()=>{class e{constructor(t,n){this.actions$=t,this.productSearchConnector=n,this.logger=E(K),this.searchProducts$=H(()=>this.actions$.pipe($(cP),xr(i=>i.auxiliary),z(i=>i.pipe(_(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(y(s=>new US(s,o.auxiliary)),F(s=>I(new kS(ae(s,this.logger),o.auxiliary))))))))),this.getProductSuggestions$=H(()=>this.actions$.pipe($(lP),y(i=>i.payload),_(i=>this.productSearchConnector.getSuggestions(i.term,i.searchConfig?.pageSize).pipe(y(o=>o===void 0?new Kp([]):new Kp(o)),F(o=>I(new $S(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(XN))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),I9=(()=>{class e{productLoadEffect(t){return t.data$?.pipe(y(n=>new WS(v({code:t.code},n),t.scope)),F(n=>I(new Qp(t.code,ae(n,this.logger),t.scope))))??I(new Qp(t.code,new Error("Scoped product data does not exist"),t.scope))}constructor(t,n){this.actions$=t,this.productConnector=n,this.logger=E(K),this.contextChange$=this.actions$.pipe($(Zs,An)),this.loadProduct$=H(()=>({scheduler:i,debounce:o=0}={})=>this.actions$.pipe($(UD),y(s=>({code:s.payload,scope:s.meta.scope})),ND(o,i),z(s=>dn(...this.productConnector.getMany(s).map(a=>this.productLoadEffect(a)))),ag(this.contextChange$))),this.clearProductPrice$=H(()=>this.actions$.pipe($(Ir,Gn),y(()=>new qS)))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(HY))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),D9=(()=>{class e{constructor(){this.logger=E(K),this.actions$=E(De),this.productSearchConnector=E(XN),this.contextChange$=this.actions$.pipe($(Zs,An)),this.searchByCodes$=H(()=>({scheduler:t,debounce:n=0}={})=>this.actions$.pipe($(hP),xr(i=>i.payload.scope),z(i=>{let o=i.key;return i.pipe(y(s=>s.payload),ND(n,t),z(s=>{let a=s.map(c=>c.code);return this.productSearchConnector.searchByCodes(a,o).pipe(_(c=>c.products?.map((u,l)=>new VS(w(v({},s[l]),{product:u})))),F(c=>s.map(u=>new HS(w(v({},u),{error:rt(c,this.logger)})))))}))}),ag(this.contextChange$))),this.clearState$=H(()=>this.actions$.pipe($(Ir,Gn),y(()=>new zS)))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),b9=[S9,D9,I9,C9,E9],w9={};function T9(e,r){let t=ft(e,r);return(n=w9,i)=>i&&i.meta&&i.meta.entityType===e?w(v({},n),{[i.meta.scope??""]:t(n[i.meta.scope??""],i)}):n}function X_(e,r){return Lc(e,T9(e,r))}var eO={productCode:"",list:[]};function A9(e=eO,r){switch(r.type){case tP:{let t=r.payload.productCode,n=r.payload.list;return w(v({},e),{list:[...e.list,...n||[]].reduce((i,o)=>(i.some(s=>s.referenceType===o.referenceType&&s.target?.code===o.target?.code)||i.push(o),i),[]),productCode:t})}case nP:return eO}return e}var R9={productCode:"",list:[]};function M9(e=R9,r){switch(r.type){case iP:{let t=r.payload.productCode,n=r.payload.list;return w(v({},e),{productCode:t,list:n})}}return e}function _9(){return{search:o9,searchByCode:X_(ru),details:X_(nu),reviews:M9,references:A9}}var yP=new S("ProductReducers"),O9={provide:yP,useFactory:_9};function x9(e){return function(r,t){return(t.type===Zs||t.type===An)&&(r=void 0),e(r,t)}}var N9=[x9],zle=(()=>{class e{constructor(t){this.store=t}loadProductReferences(t,n,i){this.store.dispatch(new AS({productCode:t,referenceType:n,pageSize:i}))}getProductReferences(t,n){return this.store.pipe(M(t9(t,n)))}cleanReferences(){this.store.dispatch(new _S)}static{this.\u0275fac=function(n){return new(n||e)(f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Gle=(()=>{class e{constructor(t){this.store=t}getByProductCode(t){return this.store.pipe(M(r9(t)),L(n=>{n===void 0&&t!==void 0&&this.store.dispatch(new OS(t))}),y(n=>n??[]))}add(t,n){this.store.dispatch(new PS({productCode:t,review:n}))}static{this.\u0275fac=function(n){return new(n||e)(f(ce))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Wle=(()=>{class e{constructor(){this.store=E(ce)}load({code:t,scope:n}){this.store.dispatch(new BS({code:t,scope:n??""}))}get({code:t,scope:n}){let i=this.store.pipe(M(h9({code:t,scope:n??""}))),o=i.pipe($u(0),L(a=>{a.loading||a.success||a.error||this.load({code:t,scope:n})})),s=i.pipe(y(a=>a.value));return Ui(()=>o.subscribe(),()=>s)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),P9=(()=>{class e{constructor(t,n,i,o,s){this.store=t,this.loadingScopes=n,this.actions$=i,this.platformId=o,this.eventService=s,this.products={}}get(t,n){return n=this.loadingScopes.expand("product",n),this.initProductScopes(t,n),this.products[t][this.getScopesIndex(n)]}initProductScopes(t,n){this.products[t]||(this.products[t]={});for(let i of n)this.products[t][i]||(this.products[t][i]=this.getProductForScope(t,i));n.length>1&&(this.products[t][this.getScopesIndex(n)]=rx(n.map(i=>this.products[t][i])).pipe(y(i=>i.every(Boolean)?Dt({},...i):void 0),fn()))}getScopesIndex(t){return t.join("\u0275")}getProductForScope(t,n){let i=this.store.pipe(M(ou(t,n)),y(c=>!c.loading&&!c.success&&!c.error),fn(),R(c=>c)),o=this.store.pipe(M(vP(t,n))),s=dn(i,...this.getProductReloadTriggers(t,n)).pipe($i(0),at(o),L(([,c])=>{c||this.store.dispatch(new GS(t,n))})),a=this.store.pipe(M(p9(t,n)));return Ui(()=>s.subscribe(),()=>a).pipe(st({bufferSize:1,refCount:!0}))}getProductReloadTriggers(t,n){let i=[],o=this.loadingScopes.getMaxAge("product",n);if(o&&jn(this.platformId)){let a=this.actions$.pipe($(gP,pP),R(u=>u.meta.entityId===t&&u.meta.scope===n)),c=this.actions$.pipe($(UD),R(u=>u.payload===t&&u.meta.scope===n));i.push(this.getMaxAgeTrigger(c,a,o))}let s=this.loadingScopes.getReloadTriggers("product",n).map(a=>this.eventService.get(a));return i.concat(s)}getMaxAgeTrigger(t,n,i,o){let s=0,a=()=>o?o.now():Date.now(),c=n.pipe(L(()=>s=a()));return Ze(()=>{let l=a()-s,d=c.pipe(er(i,o),y(()=>!0),ag(t));return l>i?dn(I(!0),d):l===0?d:dn(I(!0).pipe(er(i-l,o)),d)})}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(H4),f(De),f($e),f(_o))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),F9=(()=>{class e{constructor(t,n){this.store=t,this.productLoading=n}get(t,n=Ac){return t?this.productLoading.get(t,[].concat(n)):I(void 0)}isLoading(t,n=""){return this.store.pipe(M(vP(t,n)))}isSuccess(t,n=""){return this.store.pipe(M(g9(t,n)))}hasError(t,n=""){return this.store.pipe(M(m9(t,n)))}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(P9))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qle=(()=>{class e extends su{search(t,n){this.store.dispatch(new Yp({queryText:t,searchConfig:n},!0))}getResults(){return this.store.pipe(M(l9))}clearResults(){this.store.dispatch(new Zp({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(M(d9))}searchSuggestions(t,n){this.store.dispatch(new jS({term:t,searchConfig:n}))}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),L9=(()=>{class e extends an{constructor(t,n,i,o){super(),this.productSearchService=t,this.cms=n,this.translation=i,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(R(s=>!!s),_(s=>this.hasProductListComponent(s)?this.productSearchService.getResults().pipe(R(a=>!!a)):I(s))),this.pageType=we.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(R(t=>!!t.pagination),_(t=>this.translation.translate("pageMetaResolver.category.title",{count:t.pagination?.totalResults,query:t.breadcrumbs?.length?t.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return Fe([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(y(([t,n])=>t.breadcrumbs?this.resolveBreadcrumbData(t,n):[]))}resolveBreadcrumbData(t,n){let i=[];i.push({label:n,link:"/"});for(let o of t.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&i.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&i.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return i}hasProductListComponent(t){return!!Object.keys(t.slots||{}).find(n=>!!t.slots?.[n].components?.find(i=>i.typeCode==="CMSProductListComponent"||i.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(f(su),f(yg),f(Sr),f(Eg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),k9=(()=>{class e extends an{constructor(t,n,i,o,s){super(),this.productSearchService=t,this.translation=n,this.authService=i,this.route=o,this.semanticPathService=s,this.total$=this.productSearchService.getResults().pipe(R(a=>!!a?.pagination),y(a=>a.pagination?.totalResults??0)),this.pageType=we.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return Fe([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(y(([t,n,i])=>{let o=[];return o.push({label:t,link:"/"}),i&&o.push({label:n,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(_(t=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:t,coupon:this.couponCode})))}getScore(t){return super.getScore(t)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}static{this.\u0275fac=function(n){return new(n||e)(f(su),f(Sr),f(qn),f(Yr),f($c))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),U9=(()=>{class e extends an{constructor(t,n,i,o,s){super(),this.routingService=t,this.productService=n,this.translation=i,this.basePageMetaResolver=o,this.pageLinkService=s,this.product$=this.routingService.getRouterState().pipe(y(a=>a.state.params.productCode),R(a=>!!a),_(a=>this.productService.get(a,"details")),R(cn)),this.pageType=we.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(_(t=>this.translation.translate("pageMetaResolver.product.heading",{heading:t.name})))}resolveTitle(){return this.product$.pipe(_(t=>{let n=t.name;return n+=this.resolveFirstCategory(t),n+=this.resolveManufacturer(t),this.translation.translate("pageMetaResolver.product.title",{title:n})}))}resolveDescription(){return this.product$.pipe(_(t=>this.translation.translate("pageMetaResolver.product.description",{description:t.summary})))}resolveBreadcrumbs(){return Fe([this.product$.pipe(),this.translation.translate("common.home")]).pipe(y(([t,n])=>{let i=[];i.push({label:n,link:"/"});for(let{name:o,code:s,url:a}of t.categories||[])i.push({label:o||s,link:a});return i}))}resolveImage(){return this.product$.pipe(y(t=>t.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(t){let n=t?.categories?.[0];return n?` | ${n.name||n.code}`:""}resolveManufacturer(t){return t.manufacturer?` | ${t.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(_(t=>this.findBaseProduct(t)),y(t=>{let n=this.routingService.getFullUrl({cxRoute:"product",params:t});return this.pageLinkService.getCanonicalUrl({},n)}))}findBaseProduct(t){return t?.baseProduct?this.productService.get(t.baseProduct,"list").pipe(R(cn),_(n=>this.findBaseProduct(n))):I(t)}static{this.\u0275fac=function(n){return new(n||e)(f(_i),f(F9),f(Sr),f(Eg),f(VN))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),j9=(()=>{class e extends an{constructor(t,n,i,o){super(),this.routingService=t,this.productSearchService=n,this.translation=i,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(R(s=>!!s?.pagination),y(s=>s.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(y(s=>s.state.params.query)),this.pageType=we.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let t=[this.total$,this.query$];return Fe(t).pipe(_(([n,i])=>this.translation.translate("pageMetaResolver.search.default_title").pipe(z(o=>this.translation.translate("pageMetaResolver.search.title",{count:n,query:i||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(f(_i),f(su),f(Sr),f(Eg))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $9(){return{state:{ssrTransfer:{keys:{[kD]:Mo.TRANSFER_STATE}}}}}var B9=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[wo($9),O9],imports:[Ye,$n.forFeature(kD,yP,{metaReducers:N9}),Bn.forFeature(b9)]})}}return e})(),V9=[{provide:an,useExisting:U9,multi:!0},{provide:an,useExisting:L9,multi:!0},{provide:an,useExisting:j9,multi:!0},{provide:an,useExisting:k9,multi:!0}],Yle=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...V9]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[B9,y9]})}}return e})(),EP=(()=>{class e{constructor(t){this.adapter=t}getAll(t){return this.adapter.loadAll(t)}add(t,n){return this.adapter.add(t,n)}update(t,n,i){return this.adapter.update(t,n,i)}verify(t,n){return this.adapter.verify(t,n)}delete(t,n){return this.adapter.delete(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Lp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H9=(()=>{class e{constructor(t){this.adapter=t}loadConsents(t){return this.adapter.loadConsents(t)}giveConsent(t,n,i){return this.adapter.giveConsent(t,n,i)}withdrawConsent(t,n,i){return this.adapter.withdrawConsent(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(f(kp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z9=(()=>{class e{constructor(t){this.adapter=t}getActiveList(t){return this.adapter.loadActiveList(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Up))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),G9=(()=>{class e{constructor(t){this.adapter=t}getCustomerCoupons(t,n,i,o){return this.adapter.getCustomerCoupons(t,n,i,o)}turnOnNotification(t,n){return this.adapter.turnOnNotification(t,n)}turnOffNotification(t,n){return this.adapter.turnOffNotification(t,n)}claimCustomerCoupon(t,n){return this.adapter.claimCustomerCoupon(t,n)}disclaimCustomerCoupon(t,n){return this.adapter.disclaimCustomerCoupon(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(jp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),W9=(()=>{class e{constructor(t){this.adapter=t}getInterests(t,n,i,o,s,a){return this.adapter.getInterests(t,n,i,o,s,a)}removeInterest(t,n){return this.adapter.removeInterest(t,n)}addInterest(t,n,i){return this.adapter.addInterest(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(f($p))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),q9=(()=>{class e{constructor(t){this.adapter=t}getAll(t){return this.adapter.loadAll(t)}delete(t,n){return this.adapter.delete(t,n)}setDefault(t,n){return this.adapter.setDefault(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Bp))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bo=class extends ni{},Y9=(()=>{class e extends bo{static{this.type="UpdateUserAddressEvent"}}return e})(),K9=(()=>{class e extends bo{static{this.type="DeleteUserAddressEvent"}}return e})(),Z9=(()=>{class e extends bo{static{this.type="AddUserAddressEvent"}}return e})(),Kle=(()=>{class e extends bo{static{this.type="LoadUserAddressesEvent"}}return e})(),Zle=(()=>{class e extends bo{static{this.type="LoadUserPaymentMethodsEvent"}}return e})(),CP=(()=>{class e{constructor(t){this.stateEventService=t,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:fg,event:Y9})}addUserAddressEvent(){this.stateEventService.register({action:dg,event:Z9})}deleteUserAddressEvent(){this.stateEventService.register({action:hg,event:K9})}static{this.\u0275fac=function(n){return new(n||e)(f(ux))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),Q9=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(CP))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();var Qle=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadCustomerCoupons(t,n,i){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new ih({userId:o,pageSize:t,currentPage:n,sort:i}))})}getCustomerCoupons(t){return Fe([this.store.pipe(M(gg)),this.getClaimCustomerCouponResultLoading()]).pipe(R(([,n])=>!n),L(([n])=>{n.loading||n.success||n.error||this.loadCustomerCoupons(t)}),y(([n])=>n.value),R(cn))}getCustomerCouponsLoaded(){return this.store.pipe(M(q4))}getCustomerCouponsLoading(){return this.store.pipe(M(Y4))}subscribeCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new ah({userId:n,couponCode:t}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ai(So)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(Qr(So)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(M(Ti(So)))}unsubscribeCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new lh({userId:n,couponCode:t}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ai(Io)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(Qr(Io)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(M(Ti(Io)))}claimCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new hh({userId:n,couponCode:t}))})}disclaimCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new ph({userId:n,couponCode:t}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new gh)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(M(Qr(js)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(M(Ai(js)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(M(Qr(Gs)))}getClaimCustomerCouponResultError(){return this.store.pipe(M(Ti(js)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(M(Ti(Gs)))}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Tn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),J9=(()=>{class e{constructor(t,n,i,o){this.store=t,this.userIdService=n,this.userAddressConnector=i,this.command=o,this.userAddressVerificationCommand=this.command.create(s=>this.userIdService.takeUserId(!1).pipe(_(a=>this.userAddressConnector.verify(a,s.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new ep(t))})}addUserAddress(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new rp({userId:n,address:t}))})}setAddressAsDefault(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new xc({userId:n,addressId:t,address:{defaultAddress:!0}}))})}updateUserAddress(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new xc({userId:i,addressId:t,address:n}))})}deleteUserAddress(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new cp({userId:n,addressId:t}))})}getAddresses(){return this.store.pipe(M(aq))}getAddressesLoading(){return this.store.pipe(M(cq))}getAddressesLoadedSuccess(){return this.store.pipe(M(uq))}loadDeliveryCountries(){this.store.dispatch(new Ch)}getDeliveryCountries(){return this.store.pipe(M(Z4))}getCountry(t){return this.store.pipe(M(Q4(t)))}loadRegions(t){this.store.dispatch(new Zh(t))}clearRegions(){this.store.dispatch(new Xh)}getRegions(t){return this.store.pipe(M(sq),y(({regions:n,country:i,loading:o,loaded:s})=>!t&&(o||s)?(this.clearRegions(),[]):o&&!s?[]:!o&&t!==i&&t?(i&&this.clearRegions(),this.loadRegions(t),[]):n))}verifyAddress(t){return this.userAddressVerificationCommand.execute({address:t})}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Tn),f(EP),f(b3))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Jle=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadActiveCostCenters(){this.userIdService.takeUserId(!0).subscribe({next:t=>{this.store.dispatch(new Dp(t))},error:()=>{}})}getCostCentersState(){return this.store.select(TN)}getActiveCostCenters(){return this.getCostCentersState().pipe(Qt(Or),L(t=>{t.loading||t.success||t.error||this.loadActiveCostCenters()}),R(t=>!!(t.success||t.error)),y(t=>t.value??[]))}getCostCenterAddresses(t){return this.getActiveCostCenters().pipe(y(n=>{let i=n.find(o=>o.code===t);return i&&i.unit?i.unit.addresses??[]:[]}))}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Tn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Xle=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadProductInterests(t,n,i,o,s){this.userIdService.takeUserId().subscribe(a=>{this.store.dispatch(new qs({userId:a,pageSize:t,currentPage:n,sort:i,productCode:o,notificationType:s}))})}getProductInterests(){return this.store.pipe(M(iq))}getAndLoadProductInterests(t){return this.store.pipe(M(DD),L(n=>{n.loading||n.success||n.error||this.loadProductInterests(t)}),y(n=>n.value),R(cn))}getProdutInterestsLoading(){return this.store.pipe(M(oq))}removeProdutInterest(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Bh({userId:i,item:t,singleDelete:n}))})}getRemoveProdutInterestLoading(){return this.store.pipe(M(Ai(zs)))}getRemoveProdutInterestSuccess(){return this.store.pipe(M(Qr(zs)))}addProductInterest(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new zh({userId:i,productCode:t,notificationType:n}))})}getAddProductInterestSuccess(){return this.store.pipe(M(Qr(Hs)))}getAddProductInterestError(){return this.store.pipe(M(Ti(Hs)))}resetAddInterestState(){this.store.dispatch(new qh)}resetRemoveInterestState(){this.store.dispatch(new Yh)}clearProductInterests(){this.store.dispatch(new Kh)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Tn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ede=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}getPreferences(){return this.store.pipe(M(J4))}getEnabledPreferences(){return this.store.pipe(M(X4))}loadPreferences(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Dh(t))})}clearPreferences(){this.store.dispatch(new _h)}getPreferencesLoading(){return this.store.pipe(M(eq))}updatePreferences(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Th({userId:n,preferences:t}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ai(Wc))}resetNotificationPreferences(){this.store.dispatch(new Mh)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Tn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tde=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Ws(t))})}getPaymentMethods(){return this.store.pipe(M(tq))}getPaymentMethodsLoading(){return this.store.pipe(M(nq))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(M(rq))}setPaymentMethodAsDefault(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Nh({userId:n,paymentMethodId:t}))})}deletePaymentMethod(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Lh({userId:n,paymentMethodId:t}))})}getAllBillingCountries(){return this.store.pipe(M(W4))}loadBillingCountries(){this.store.dispatch(new th)}static{this.\u0275fac=function(n){return new(n||e)(f(ce),f(Tn))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tO=class{},X9=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadBillingCountries$=H(()=>this.actions$.pipe($(MI),_(()=>this.siteConnector.getCountries(KS.BILLING).pipe(y(i=>new rh(i)),F(i=>I(new nh(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Js))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),e7=(()=>{class e{constructor(t){this.actions$=t,this.clearMiscsData$=H(()=>this.actions$.pipe($(An,Zs),y(()=>new Tp)))}static{this.\u0275fac=function(n){return new(n||e)(f(De))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),t7=(()=>{class e{constructor(t,n){this.actions$=t,this.customerCouponConnector=n,this.logger=E(K),this.loadCustomerCoupons$=H(()=>this.actions$.pipe($(OI),y(i=>i.payload),z(i=>this.customerCouponConnector.getCustomerCoupons(i.userId,i.pageSize,i.currentPage,i.sort).pipe(y(o=>new sh(o)),F(o=>I(new oh(ae(o,this.logger)))))))),this.subscribeCustomerCoupon$=H(()=>this.actions$.pipe($(NI),y(i=>i.payload),z(i=>this.customerCouponConnector.turnOnNotification(i.userId,i.couponCode).pipe(y(o=>new uh(o)),F(o=>I(new ch(ae(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=H(()=>this.actions$.pipe($(FI),y(i=>i.payload),z(i=>this.customerCouponConnector.turnOffNotification(i.userId,i.couponCode).pipe(y(()=>new fh(i.couponCode)),F(o=>I(new dh(ae(o,this.logger)))))))),this.claimCustomerCoupon$=H(()=>this.actions$.pipe($(kI),y(i=>i.payload),z(i=>this.customerCouponConnector.claimCustomerCoupon(i.userId,i.couponCode).pipe(y(o=>new Eh(o)),F(o=>I(new yh(ae(o,this.logger)))))))),this.disclaimCustomerCoupon$=H(()=>this.actions$.pipe($(UI),y(i=>i.payload),z(i=>this.customerCouponConnector.disclaimCustomerCoupon(i.userId,i.couponCode).pipe(y(o=>new vh(o)),F(o=>I(new mh(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(G9))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),n7=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadDeliveryCountries$=H(()=>this.actions$.pipe($(jI),_(()=>this.siteConnector.getCountries(KS.SHIPPING).pipe(y(i=>new Ih(i)),F(i=>I(new Sh(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Js))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),r7=(()=>{class e{constructor(t,n){this.actions$=t,this.connector=n,this.logger=E(K),this.loadPreferences$=H(()=>this.actions$.pipe($(BI),y(i=>i.payload),_(i=>this.connector.loadAll(i).pipe(y(o=>new wh(o)),F(o=>I(new bh(ae(o,this.logger)))))))),this.updatePreferences$=H(()=>this.actions$.pipe($(zI),y(i=>i.payload),z(i=>this.connector.update(i.userId,i.preferences).pipe(y(()=>new Rh(i.preferences)),F(o=>I(new Ah(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(b4))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),i7=(()=>{class e{constructor(t,n,i){this.actions$=t,this.userPaymentMethodConnector=n,this.globalMessageService=i,this.logger=E(K),this.loadUserPaymentMethods$=H(()=>this.actions$.pipe($(WI),y(o=>o.payload),z(o=>this.userPaymentMethodConnector.getAll(o).pipe(y(s=>new xh(s)),F(s=>I(new Oh(ae(s,this.logger)))))))),this.setDefaultUserPaymentMethod$=H(()=>this.actions$.pipe($(KI),y(o=>o.payload),z(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(_(s=>[new Fh(s),new Ws(o.userId)]),F(s=>I(new Ph(ae(s,this.logger)))))))),this.deleteUserPaymentMethod$=H(()=>this.actions$.pipe($(ZI),y(o=>o.payload),z(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(_(s=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},Ue.MSG_TYPE_CONFIRMATION),[new Uh(s),new Ws(o.userId)])),F(s=>I(new kh(ae(s,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(q9),f(Qs))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),o7=(()=>{class e{constructor(t,n){this.actions$=t,this.userInterestsConnector=n,this.logger=E(K),this.loadProductInteres$=H(()=>this.actions$.pipe($(QI),y(i=>i.payload),_(i=>this.userInterestsConnector.getInterests(i.userId,i.pageSize,i.currentPage,i.sort,i.productCode,i.notificationType).pipe(y(o=>new $h(o)),F(o=>I(new jh(ae(o,this.logger)))))))),this.removeProductInterest$=H(()=>this.actions$.pipe($(eD),y(i=>i.payload),_(i=>this.userInterestsConnector.removeInterest(i.userId,i.item).pipe(_(o=>[new qs(i.singleDelete?{userId:i.userId,productCode:i.item.product?.code,notificationType:i.item.productInterestEntry?.[0].interestType}:{userId:i.userId}),new Vh(o)]),F(o=>I(new Hh(ae(o,this.logger)))))))),this.addProductInterest$=H(()=>this.actions$.pipe($(tD),y(i=>i.payload),_(i=>this.userInterestsConnector.addInterest(i.userId,i.productCode,i.notificationType).pipe(_(o=>[new qs({userId:i.userId,productCode:i.productCode,notificationType:i.notificationType}),new Gh(o)]),F(o=>I(new Wh(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(W9))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),s7=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadRegions$=H(()=>this.actions$.pipe($(nD),y(i=>i.payload),_(i=>this.siteConnector.getRegions(i).pipe(y(o=>new Jh({entities:o,country:i})),F(o=>I(new Qh(ae(o,this.logger)))))))),this.resetRegions$=H(()=>this.actions$.pipe($(Jc,iD),y(()=>new Xr(Yc))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Js))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),a7=(()=>{class e{constructor(t,n,i,o){this.actions$=t,this.userAddressConnector=n,this.userAddressService=i,this.messageService=o,this.logger=E(K),this.loadUserAddresses$=H(()=>this.actions$.pipe($(oD),y(s=>s.payload),_(s=>this.userAddressConnector.getAll(s).pipe(y(a=>new np(a)),F(a=>I(new tp(ae(a,this.logger)))))))),this.addUserAddress$=H(()=>this.actions$.pipe($(dg),y(s=>s.payload),z(s=>this.userAddressConnector.add(s.userId,s.address).pipe(y(a=>new op(a)),F(a=>I(new ip(ae(a,this.logger)))))))),this.updateUserAddress$=H(()=>this.actions$.pipe($(fg),y(s=>s.payload),z(s=>this.userAddressConnector.update(s.userId,s.addressId,s.address).pipe(y(()=>new ap(s)),F(a=>(this.showGlobalMessage("addressForm.invalidAddress",Ue.MSG_TYPE_ERROR),I(new sp(ae(a,this.logger))))))))),this.deleteUserAddress$=H(()=>this.actions$.pipe($(hg),y(s=>s.payload),z(s=>this.userAddressConnector.delete(s.userId,s.addressId).pipe(y(a=>new lp(a)),F(a=>I(new up(ae(a,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=H(()=>this.actions$.pipe($(cD),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=H(()=>this.actions$.pipe($(uD),y(s=>s.payload),L(s=>{this.loadAddresses(),(Object.keys(s?.address).length!==1||!s?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=H(()=>this.actions$.pipe($(lD),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(t,n){this.messageService.add({key:t},n??Ue.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(EP),f(J9),f(Qs))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),c7=(()=>{class e{constructor(t,n){this.actions$=t,this.userConsentConnector=n,this.logger=E(K),this.resetConsents$=H(()=>this.actions$.pipe($(An),y(()=>new Nc))),this.getConsents$=H(()=>this.actions$.pipe($(dD),y(i=>i.payload),je(i=>this.userConsentConnector.loadConsents(i).pipe(y(o=>new pp(o)),F(o=>I(new hp(ae(o,this.logger)))))))),this.giveConsent$=H(()=>this.actions$.pipe($(hD,dp),je(i=>this.userConsentConnector.giveConsent(i.payload.userId,i.payload.consentTemplateId??"",i.payload.consentTemplateVersion??0).pipe(y(o=>new mp(o)),F(o=>{let s=[new gp(ae(o,this.logger))];return i.type===dp&&o.status===409&&s.push(new eh(Ue.MSG_TYPE_ERROR)),I(...s)}))))),this.withdrawConsent$=H(()=>this.actions$.pipe($(gD),y(i=>i.payload),je(({userId:i,consentCode:o,consentId:s})=>this.userConsentConnector.withdrawConsent(i,o,s).pipe(y(()=>new Sp),F(a=>I(new Cp(ae(a,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(H9))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),u7=(()=>{class e{constructor(t,n){this.actions$=t,this.userCostCenterConnector=n,this.logger=E(K),this.loadActiveCostCenters$=H(()=>this.actions$.pipe($(mD),y(i=>i.payload),_(i=>this.userCostCenterConnector.getActiveList(i).pipe(y(o=>new wp(o.values)),F(o=>I(new bp(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(z9))}}static{this.\u0275prov=p({token:e,factory:e.\u0275fac})}}return e})(),l7=[e7,n7,s7,a7,i7,X9,c7,t7,r7,o7,u7],nO={entities:{}};function d7(e=nO,r){switch(r.type){case _I:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode]:o}),v({},e.entities));return w(v({},e),{entities:n})}case Jc:return nO}return e}var f7={coupons:[],sorts:[],pagination:{}};function h7(e=f7,r){switch(r.type){case xI:return r.payload;case PI:{let t=r.payload.coupon,n=new Array(e.coupons?.length??0);return e.coupons?.forEach((i,o)=>t&&i.couponId===t.couponId?n[o]=t:n[o]=i),w(v({},e),{coupons:n})}case LI:{let t=r.payload,n=new Array(e.coupons?.length??0);return e.coupons?.forEach((i,o)=>i.couponId===t?n[o]=w(v({},i),{notificationOn:!1}):n[o]=i),w(v({},e),{coupons:n})}}return e}var rO={entities:{}};function p7(e=rO,r){switch(r.type){case $I:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case Jc:return rO}return e}var SC=[];function g7(e=SC,r){switch(r.type){case VI:return SC;case HI:case GI:return r.payload?r.payload:SC}return e}var IC=[];function m7(e=IC,r){switch(r.type){case YI:return r.payload?r.payload:IC;case qI:return IC}return e}var DC={results:[],pagination:{},sorts:[]};function v7(e=DC,r){switch(r.type){case XI:return r.payload?r.payload:DC;case JI:return DC}return e}var iO={entities:[],country:null};function y7(e=iO,r){switch(r.type){case rD:{let t=r.payload.entities,n=r.payload.country;return t||n?w(v({},e),{entities:t,country:n}):iO}}return e}var bC=[];function E7(e=bC,r){switch(r.type){case sD:return bC;case aD:return r.payload?r.payload:bC}return e}var oO=[];function C7(e=oO,r){switch(r.type){case fD:{let t=r.payload;return t||oO}case pD:{let t=r.consentTemplate;return e.map(n=>n.id===t.id?t:n)}}return e}var wC=[];function S7(e=wC,r){switch(r.type){case vD:return wC;case yD:return r.payload?r.payload:wC}return e}function I7(){return{addresses:ft(un,E7),billingCountries:d7,consents:ft(qc,C7),payments:ft(wr,m7),countries:p7,regions:ft(Yc,y7),customerCoupons:ft(Kc,h7),notificationPreferences:ft(Zc,g7),productInterests:ft(Qc,v7),costCenters:ft(lg,S7)}}var SP=new S("UserReducers"),D7={provide:SP,useFactory:I7};function b7(e){return function(r,t){return t.type===Ir&&(r=void 0),e(r,t)}}var w7=[b7],T7=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[D7],imports:[Ye,oi,$n.forFeature(vx,SP,{metaReducers:w7}),Bn.forFeature(l7),GM]})}}return e})(),nde=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[CP],imports:[T7,Q9]})}}return e})();export{v as a,w as b,Dg as c,A7 as d,ot as e,Ee as f,V as g,ie as h,Re as i,Zt as j,kg as k,Or as l,VF as m,ge as n,cZ as o,uZ as p,Qt as q,me as r,I as s,Pt as t,nr as u,y as v,Fe as w,z as x,Jn as y,Xn as z,Ze as A,aa as B,ca as C,ua as D,Xt as E,QF as F,dn as G,jg as H,R as I,$g as J,Ui as K,ji as L,$u as M,F as N,je as O,NF as P,$i as Q,re as R,Ou as S,er as T,PF as U,fn as V,LF as W,Eb as X,tL as Y,_n as Z,Nt as _,xr as $,fa as aa,nL as ba,Bi as ca,ko as da,st as ea,Pg as fa,Vu as ga,tr as ha,_ as ia,ha as ja,UF as ka,L as la,rL as ma,at as na,B as oa,Rw as pa,p as qa,U as ra,S as sa,f as ta,E as ua,Iv as va,gn as wa,hn as xa,Hw as ya,j as za,Ut as Aa,Gt as Ba,ur as Ca,mi as Da,Yoe as Ea,Koe as Fa,qe as Ga,Uv as Ha,Qe as Ia,dr as Ja,yt as Ka,$e as La,yn as Ma,Zoe as Na,Qoe as Oa,xU as Pa,Joe as Qa,Xoe as Ra,ese as Sa,J as Ta,Ln as Ua,Gm as Va,El as Wa,Yl as Xa,Ji as Ya,as as Za,Ce as _a,qt as $a,V1 as ab,J1 as bb,cy as cb,p$ as db,H0 as eb,g$ as fb,ise as gb,ose as hb,sse as ib,Q0 as jb,J0 as kb,dy as lb,X0 as mb,eA as nb,R$ as ob,ase as pb,_$ as qb,fy as rb,cse as sb,use as tb,lse as ub,U$ as vb,nA as wb,j$ as xb,$$ as yb,rA as zb,dse as Ab,iA as Bb,oA as Cb,fse as Db,hse as Eb,H$ as Fb,sA as Gb,z$ as Hb,G$ as Ib,W$ as Jb,q$ as Kb,pse as Lb,Y$ as Mb,gse as Nb,mse as Ob,vse as Pb,yse as Qb,Ese as Rb,Cse as Sb,Sse as Tb,Ise as Ub,Dse as Vb,bse as Wb,wse as Xb,Tse as Yb,Ase as Zb,Rse as _b,Mse as $b,us as ac,Ct as bc,ls as cc,io as dc,pe as ec,Br as fc,yy as gc,Ba as hc,Ci as ic,Le as jc,pr as kc,Mt as lc,yd as mc,hr as nc,Yse as oc,Kse as pc,JB as qc,Zse as rc,Qse as sc,Jse as tc,Xse as uc,zA as vc,eae as wc,tae as xc,nae as yc,rae as zc,iae as Ac,oae as Bc,sae as Cc,aae as Dc,WA as Ec,cae as Fc,Ye as Gc,jn as Hc,oo as Ic,qA as Jc,de as Kc,jy as Lc,Ge as Mc,ps as Nc,so as Oc,_t as Pc,ke as Qc,rn as Rc,Cae as Sc,Sae as Tc,Iae as Uc,Pae as Vc,Fae as Wc,Jy as Xc,gR as Yc,tH as Zc,Si as _c,ms as $c,qr as ad,gs as bd,co as cd,ce as dd,M as ed,T as fd,Cn as gd,$n as hd,Kae as id,Zae as jd,H as kd,De as ld,$ as md,Bn as nd,In as od,lt as pd,Dn as qd,$d as rd,Yr as sd,B2 as td,vc as ud,Ne as vd,cM as wd,bce as xd,GM as yd,uf as zd,Tf as Ad,Dt as Bd,bt as Cd,Fc as Dd,Ys as Ed,N_ as Fd,wn as Gd,wo as Hd,we as Id,h8 as Jd,p8 as Kd,Bs as Ld,Rc as Md,g8 as Nd,m8 as Od,v8 as Pd,y8 as Qd,E8 as Rd,Hue as Sd,Fs as Td,Ls as Ud,q8 as Vd,zue as Wd,Gue as Xd,Tn as Yd,K8 as Zd,Tc as _d,ii as $d,Dr as ae,eg as be,br as ce,jO as de,jc as ee,K as fe,rg as ge,$c as he,VO as ie,_i as je,pI as ke,cn as le,Vs as me,ei as ne,To as oe,Ao as pe,ti as qe,zO as re,que as se,Ro as te,m3 as ue,qn as ve,Hc as we,KC as xe,Kue as ye,Zue as ze,Mc as Ae,XC as Be,Ke as Ce,Us as De,wI as Ee,xs as Fe,b3 as Ge,Ri as He,ni as Ie,_o as Je,Que as Ke,Jf as Le,tx as Me,zc as Ne,Xe as Oe,rt as Pe,_c as Qe,Jue as Re,Xue as Se,ele as Te,tle as Ue,nle as Ve,rle as We,ile as Xe,ole as Ye,sle as Ze,ale as _e,ag as $e,cle as af,ule as bf,j_ as cf,ae as df,Gc as ef,oi as ff,bn as gf,H_ as hf,Z3 as if,ux as jf,Ue as kf,Qs as lf,tW as mf,lle as nf,uW as of,dle as pf,gx as qf,ue as rf,fle as sf,hle as tf,vW as uf,CD as vf,Oi as wf,ple as xf,gle as yf,mle as zf,cN as Af,OW as Bf,xW as Cf,fN as Df,hN as Ef,UW as Ff,yle as Gf,Do as Hf,mN as If,Ele as Jf,Cle as Kf,Pp as Lf,xi as Mf,Xc as Nf,IN as Of,v4 as Pf,yC as Qf,T4 as Rf,Sle as Sf,pq as Tf,q_ as Uf,Y_ as Vf,Vp as Wf,wD as Xf,Jq as Yf,Rle as Zf,yg as _f,an as $f,Sr as ag,O6 as bg,Eg as cg,N6 as dg,P6 as eg,PD as fg,Mle as gg,_le as hg,Ole as ig,V6 as jg,xle as kg,Nle as lg,Ple as mg,Ar as ng,It as og,Fle as pg,uY as qg,Lle as rg,kle as sg,fY as tg,LD as ug,UY as vg,Ule as wg,jle as xg,jY as yg,$Y as zg,$le as Ag,Ble as Bg,BY as Cg,Vle as Dg,HY as Eg,XN as Fg,su as Gg,zle as Hg,Gle as Ig,Wle as Jg,F9 as Kg,qle as Lg,Yle as Mg,bo as Ng,Y9 as Og,K9 as Pg,Kle as Qg,Zle as Rg,Qle as Sg,J9 as Tg,Jle as Ug,Xle as Vg,ede as Wg,tde as Xg,tO as Yg,nde as Zg};
