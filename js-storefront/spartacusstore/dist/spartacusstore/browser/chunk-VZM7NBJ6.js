var nF=Object.create;var Eg=Object.defineProperty,rF=Object.defineProperties,iF=Object.getOwnPropertyDescriptor,oF=Object.getOwnPropertyDescriptors,sF=Object.getOwnPropertyNames,ou=Object.getOwnPropertySymbols,$D=Object.getPrototypeOf,Cg=Object.prototype.hasOwnProperty,BD=Object.prototype.propertyIsEnumerable,aF=Reflect.get;var jD=(e,r,t)=>r in e?Eg(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,v=(e,r)=>{for(var t in r||={})Cg.call(r,t)&&jD(e,t,r[t]);if(ou)for(var t of ou(r))BD.call(r,t)&&jD(e,t,r[t]);return e},w=(e,r)=>rF(e,oF(r));var VD=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Sg=(e,r)=>{var t={};for(var n in e)Cg.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&ou)for(var n of ou(e))r.indexOf(n)<0&&BD.call(e,n)&&(t[n]=e[n]);return t};var HD=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var cF=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of sF(r))!Cg.call(e,i)&&i!==t&&Eg(e,i,{get:()=>r[i],enumerable:!(n=iF(r,i))||n.enumerable});return e};var uF=(e,r,t)=>(t=e!=null?nF($D(e)):{},cF(r||!e||!e.__esModule?Eg(t,"default",{value:e,enumerable:!0}):t,e));var C7=(e,r,t)=>aF($D(e),t,r);var it=(e,r,t)=>new Promise((n,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(e,r)).next())});var o_=HD((wi,i_)=>{"use strict";var uf=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,lf=function(){function e(){this.fetch=!1,this.DOMException=uf.DOMException}return e.prototype=uf,new e}();(function(e){var r=function(t){var n=typeof e<"u"&&e||typeof self<"u"&&self||typeof n<"u"&&n,i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function o(b){return b&&DataView.prototype.isPrototypeOf(b)}if(i.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(b){return b&&s.indexOf(Object.prototype.toString.call(b))>-1};function c(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(b)||b==="")throw new TypeError('Invalid character in header field name: "'+b+'"');return b.toLowerCase()}function u(b){return typeof b!="string"&&(b=String(b)),b}function l(b){var O={next:function(){var ne=b.shift();return{done:ne===void 0,value:ne}}};return i.iterable&&(O[Symbol.iterator]=function(){return O}),O}function d(b){this.map={},b instanceof d?b.forEach(function(O,ne){this.append(ne,O)},this):Array.isArray(b)?b.forEach(function(O){this.append(O[0],O[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function(O){this.append(O,b[O])},this)}d.prototype.append=function(b,O){b=c(b),O=u(O);var ne=this.map[b];this.map[b]=ne?ne+", "+O:O},d.prototype.delete=function(b){delete this.map[c(b)]},d.prototype.get=function(b){return b=c(b),this.has(b)?this.map[b]:null},d.prototype.has=function(b){return this.map.hasOwnProperty(c(b))},d.prototype.set=function(b,O){this.map[c(b)]=u(O)},d.prototype.forEach=function(b,O){for(var ne in this.map)this.map.hasOwnProperty(ne)&&b.call(O,this.map[ne],ne,this)},d.prototype.keys=function(){var b=[];return this.forEach(function(O,ne){b.push(ne)}),l(b)},d.prototype.values=function(){var b=[];return this.forEach(function(O){b.push(O)}),l(b)},d.prototype.entries=function(){var b=[];return this.forEach(function(O,ne){b.push([ne,O])}),l(b)},i.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function h(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function m(b){return new Promise(function(O,ne){b.onload=function(){O(b.result)},b.onerror=function(){ne(b.error)}})}function C(b){var O=new FileReader,ne=m(O);return O.readAsArrayBuffer(b),ne}function D(b){var O=new FileReader,ne=m(O);return O.readAsText(b),ne}function A(b){for(var O=new Uint8Array(b),ne=new Array(O.length),ye=0;ye<O.length;ye++)ne[ye]=String.fromCharCode(O[ye]);return ne.join("")}function N(b){if(b.slice)return b.slice(0);var O=new Uint8Array(b.byteLength);return O.set(new Uint8Array(b)),O.buffer}function x(){return this.bodyUsed=!1,this._initBody=function(b){this.bodyUsed=this.bodyUsed,this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:i.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:i.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():i.arrayBuffer&&i.blob&&o(b)?(this._bodyArrayBuffer=N(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||a(b))?this._bodyArrayBuffer=N(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var b=h(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var b=h(this);return b||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(C)}),this.text=function(){var b=h(this);if(b)return b;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(fe)}),this.json=function(){return this.text().then(JSON.parse)},this}var Y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Z(b){var O=b.toUpperCase();return Y.indexOf(O)>-1?O:b}function X(b,O){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O=O||{};var ne=O.body;if(b instanceof X){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,O.headers||(this.headers=new d(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!ne&&b._bodyInit!=null&&(ne=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=O.credentials||this.credentials||"same-origin",(O.headers||!this.headers)&&(this.headers=new d(O.headers)),this.method=Z(O.method||this.method||"GET"),this.mode=O.mode||this.mode||null,this.signal=O.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(O.cache==="no-store"||O.cache==="no-cache")){var ye=/([?&])_=[^&]*/;if(ye.test(this.url))this.url=this.url.replace(ye,"$1_="+new Date().getTime());else{var Ae=/\?/;this.url+=(Ae.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}X.prototype.clone=function(){return new X(this,{body:this._bodyInit})};function fe(b){var O=new FormData;return b.trim().split("&").forEach(function(ne){if(ne){var ye=ne.split("="),Ae=ye.shift().replace(/\+/g," "),he=ye.join("=").replace(/\+/g," ");O.append(decodeURIComponent(Ae),decodeURIComponent(he))}}),O}function Te(b){var O=new d,ne=b.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ye){return ye.indexOf(`
`)===0?ye.substr(1,ye.length):ye}).forEach(function(ye){var Ae=ye.split(":"),he=Ae.shift().trim();if(he){var Ar=Ae.join(":").trim();O.append(he,Ar)}}),O}x.call(X.prototype);function He(b,O){if(!(this instanceof He))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');O||(O={}),this.type="default",this.status=O.status===void 0?200:O.status,this.ok=this.status>=200&&this.status<300,this.statusText=O.statusText===void 0?"":""+O.statusText,this.headers=new d(O.headers),this.url=O.url||"",this._initBody(b)}x.call(He.prototype),He.prototype.clone=function(){return new He(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},He.error=function(){var b=new He(null,{status:0,statusText:""});return b.type="error",b};var Ni=[301,302,303,307,308];He.redirect=function(b,O){if(Ni.indexOf(O)===-1)throw new RangeError("Invalid status code");return new He(null,{status:O,headers:{location:b}})},t.DOMException=n.DOMException;try{new t.DOMException}catch{t.DOMException=function(O,ne){this.message=O,this.name=ne;var ye=Error(O);this.stack=ye.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function Yn(b,O){return new Promise(function(ne,ye){var Ae=new X(b,O);if(Ae.signal&&Ae.signal.aborted)return ye(new t.DOMException("Aborted","AbortError"));var he=new XMLHttpRequest;function Ar(){he.abort()}he.onload=function(){var ze={status:he.status,statusText:he.statusText,headers:Te(he.getAllResponseHeaders()||"")};ze.url="responseURL"in he?he.responseURL:ze.headers.get("X-Request-URL");var cn="response"in he?he.response:he.responseText;setTimeout(function(){ne(new He(cn,ze))},0)},he.onerror=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},he.ontimeout=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},he.onabort=function(){setTimeout(function(){ye(new t.DOMException("Aborted","AbortError"))},0)};function mt(ze){try{return ze===""&&n.location.href?n.location.href:ze}catch{return ze}}he.open(Ae.method,mt(Ae.url),!0),Ae.credentials==="include"?he.withCredentials=!0:Ae.credentials==="omit"&&(he.withCredentials=!1),"responseType"in he&&(i.blob?he.responseType="blob":i.arrayBuffer&&Ae.headers.get("Content-Type")&&Ae.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(he.responseType="arraybuffer")),O&&typeof O.headers=="object"&&!(O.headers instanceof d)?Object.getOwnPropertyNames(O.headers).forEach(function(ze){he.setRequestHeader(ze,u(O.headers[ze]))}):Ae.headers.forEach(function(ze,cn){he.setRequestHeader(cn,ze)}),Ae.signal&&(Ae.signal.addEventListener("abort",Ar),he.onreadystatechange=function(){he.readyState===4&&Ae.signal.removeEventListener("abort",Ar)}),he.send(typeof Ae._bodyInit>"u"?null:Ae._bodyInit)})}return Yn.polyfill=!0,n.fetch||(n.fetch=Yn,n.Headers=d,n.Request=X,n.Response=He),t.Headers=d,t.Request=X,t.Response=He,t.fetch=Yn,t}({})})(lf);lf.fetch.ponyfill=!0;delete lf.fetch.polyfill;var bs=uf.fetch?uf:lf;wi=bs.fetch;wi.default=bs.fetch;wi.fetch=bs.fetch;wi.Headers=bs.Headers;wi.Request=bs.Request;wi.Response=bs.Response;i_.exports=wi});var a_=HD((rC,s_)=>{"use strict";var df;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?df=global.fetch:typeof window<"u"&&window.fetch?df=window.fetch:df=fetch);typeof VD<"u"&&typeof window>"u"&&(yc=df||o_(),yc.default&&(yc=yc.default),rC.default=yc,s_.exports=rC.default);var yc});function W(e){return typeof e=="function"}function oi(e){let t=e(n=>{Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var su=oi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Rr(e,r){if(e){let t=e.indexOf(r);0<=t&&e.splice(t,1)}}var Ee=class e{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:n}=this;if(W(n))try{n()}catch(o){r=o instanceof su?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zD(o)}catch(s){r=r??[],s instanceof su?r=[...r,...s.errors]:r.push(s)}}if(r)throw new su(r)}}add(r){var t;if(r&&r!==this)if(this.closed)zD(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}}_hasParent(r){let{_parentage:t}=this;return t===r||Array.isArray(t)&&t.includes(r)}_addParent(r){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r}_removeParent(r){let{_parentage:t}=this;t===r?this._parentage=null:Array.isArray(t)&&Rr(t,r)}remove(r){let{_finalizers:t}=this;t&&Rr(t,r),r instanceof e&&r._removeParent(this)}};Ee.EMPTY=(()=>{let e=new Ee;return e.closed=!0,e})();var Ig=Ee.EMPTY;function au(e){return e instanceof Ee||e&&"closed"in e&&W(e.remove)&&W(e.add)&&W(e.unsubscribe)}function zD(e){W(e)?e():e.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(e,r,...t){let{delegate:n}=_o;return n?.setTimeout?n.setTimeout(e,r,...t):setTimeout(e,r,...t)},clearTimeout(e){let{delegate:r}=_o;return(r?.clearTimeout||clearTimeout)(e)},delegate:void 0};function cu(e){_o.setTimeout(()=>{let{onUnhandledError:r}=Tn;if(r)r(e);else throw e})}function Ot(){}var GD=Dg("C",void 0,void 0);function WD(e){return Dg("E",void 0,e)}function qD(e){return Dg("N",e,void 0)}function Dg(e,r,t){return{kind:e,value:r,error:t}}var Pi=null;function Oo(e){if(Tn.useDeprecatedSynchronousErrorHandling){let r=!Pi;if(r&&(Pi={errorThrown:!1,error:null}),e(),r){let{errorThrown:t,error:n}=Pi;if(Pi=null,t)throw n}}else e()}function YD(e){Tn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=e)}var Fi=class extends Ee{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,au(r)&&r.add(this)):this.destination=fF}static create(r,t,n){return new Mr(r,t,n)}next(r){this.isStopped?wg(qD(r),this):this._next(r)}error(r){this.isStopped?wg(WD(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?wg(GD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lF=Function.prototype.bind;function bg(e,r){return lF.call(e,r)}var Tg=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:t}=this;if(t.next)try{t.next(r)}catch(n){uu(n)}}error(r){let{partialObserver:t}=this;if(t.error)try{t.error(r)}catch(n){uu(n)}else uu(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(t){uu(t)}}},Mr=class extends Fi{constructor(r,t,n){super();let i;if(W(r)||!r)i={next:r??void 0,error:t??void 0,complete:n??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(r),o.unsubscribe=()=>this.unsubscribe(),i={next:r.next&&bg(r.next,o),error:r.error&&bg(r.error,o),complete:r.complete&&bg(r.complete,o)}):i=r}this.destination=new Tg(i)}};function uu(e){Tn.useDeprecatedSynchronousErrorHandling?YD(e):cu(e)}function dF(e){throw e}function wg(e,r){let{onStoppedNotification:t}=Tn;t&&_o.setTimeout(()=>t(e,r))}var fF={closed:!0,next:Ot,error:dF,complete:Ot};var xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(e){return e}function Ag(...e){return Rg(e)}function Rg(e){return e.length===0?et:e.length===1?e[0]:function(t){return e.reduce((n,i)=>i(n),t)}}var V=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let n=new e;return n.source=this,n.operator=t,n}subscribe(t,n,i){let o=pF(t)?t:new Mr(t,n,i);return Oo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(n){t.error(n)}}forEach(t,n){return n=KD(n),new n((i,o)=>{let s=new Mr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)}[xo](){return this}pipe(...t){return Rg(t)(this)}toPromise(t){return t=KD(t),new t((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return e.create=r=>new e(r),e})();function KD(e){var r;return(r=e??Tn.Promise)!==null&&r!==void 0?r:Promise}function hF(e){return e&&W(e.next)&&W(e.error)&&W(e.complete)}function pF(e){return e&&e instanceof Fi||hF(e)&&au(e)}var ZD=oi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let n=new lu(this,this);return n.operator=t,n}_throwIfClosed(){if(this.closed)throw new ZD}next(t){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(t)}})}error(t){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:n}=this;for(;n.length;)n.shift().error(t)}})}complete(){Oo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:n,isStopped:i,observers:o}=this;return n||i?Ig:(this.currentObservers=null,o.push(t),new Ee(()=>{this.currentObservers=null,Rr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:n,thrownError:i,isStopped:o}=this;n?t.error(i):o&&t.complete()}asObservable(){let t=new V;return t.source=this,t}}return e.create=(r,t)=>new lu(r,t),e})(),lu=class extends ie{constructor(r,t){super(),this.destination=r,this.source=t}next(r){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.next)===null||n===void 0||n.call(t,r)}error(r){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.error)===null||n===void 0||n.call(t,r)}complete(){var r,t;(t=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||t===void 0||t.call(r)}_subscribe(r){var t,n;return(n=(t=this.source)===null||t===void 0?void 0:t.subscribe(r))!==null&&n!==void 0?n:Ig}};var Re=class extends ie{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let t=super._subscribe(r);return!t.closed&&r.next(this._value),t}getValue(){let{hasError:r,thrownError:t,_value:n}=this;if(r)throw t;return this._throwIfClosed(),n}next(r){super.next(this._value=r)}};var Qs={now(){return(Qs.delegate||Date).now()},delegate:void 0};var Yt=class extends ie{constructor(r=1/0,t=1/0,n=Qs){super(),this._bufferSize=r,this._windowTime=t,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,t)}next(r){let{isStopped:t,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(n.push(r),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(r),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!r.closed;s+=n?1:2)r.next(o[s]);return this._checkFinalizedStatuses(r),t}_trimBuffer(){let{_bufferSize:r,_timestampProvider:t,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*r;if(r<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=t.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var ge=new V(e=>e.complete());function du(e){return e&&W(e.schedule)}function Mg(e){return e[e.length-1]}function si(e){return W(Mg(e))?e.pop():void 0}function Kn(e){return du(Mg(e))?e.pop():void 0}function QD(e,r){return typeof Mg(e)=="number"?e.pop():r}function RK(e,r,t,n){var i=arguments.length,o=i<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,t,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(r,t,o):s(r,t))||o);return i>3&&o&&Object.defineProperty(r,t,o),o}function MK(e,r){return function(t,n){r(t,n,e)}}function XD(e,r,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(d){s(d)}}function c(l){try{u(n.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(e,r||[])).next())})}function JD(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Li(e){return this instanceof Li?(this.v=e,this):new Li(e)}function eb(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,d)}}function a(m,C){n[m]&&(i[m]=function(D){return new Promise(function(A,N){o.push([m,D,A,N])>1||c(m,D)})},C&&(i[m]=C(i[m])))}function c(m,C){try{u(n[m](C))}catch(D){h(o[0][3],D)}}function u(m){m.value instanceof Li?Promise.resolve(m.value.v).then(l,d):h(o[0][2],m)}function l(m){c("next",m)}function d(m){c("throw",m)}function h(m,C){m(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}function tb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof JD=="function"?JD(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var No=e=>e&&typeof e.length=="number"&&typeof e!="function";function fu(e){return W(e?.then)}function hu(e){return W(e[xo])}function pu(e){return Symbol.asyncIterator&&W(e?.[Symbol.asyncIterator])}function gu(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function gF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mu=gF();function vu(e){return W(e?.[mu])}function yu(e){return eb(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:n,done:i}=yield Li(t.read());if(i)return yield Li(void 0);yield yield Li(n)}}finally{t.releaseLock()}})}function Eu(e){return W(e?.getReader)}function G(e){if(e instanceof V)return e;if(e!=null){if(hu(e))return mF(e);if(No(e))return vF(e);if(fu(e))return yF(e);if(pu(e))return nb(e);if(vu(e))return EF(e);if(Eu(e))return CF(e)}throw gu(e)}function mF(e){return new V(r=>{let t=e[xo]();if(W(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vF(e){return new V(r=>{for(let t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function yF(e){return new V(r=>{e.then(t=>{r.closed||(r.next(t),r.complete())},t=>r.error(t)).then(null,cu)})}function EF(e){return new V(r=>{for(let t of e)if(r.next(t),r.closed)return;r.complete()})}function nb(e){return new V(r=>{SF(e,r).catch(t=>r.error(t))})}function CF(e){return nb(yu(e))}function SF(e,r){var t,n,i,o;return XD(this,void 0,void 0,function*(){try{for(t=tb(e);n=yield t.next(),!n.done;){let s=n.value;if(r.next(s),r.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}r.complete()})}function bt(e,r,t,n=0,i=!1){let o=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function _g(e){return W(e?.lift)}function L(e){return r=>{if(_g(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(e,r,t,n,i){return new Js(e,r,t,n,i)}var Js=class extends Fi{constructor(r,t,n,i,o,s){super(r),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){r.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){r.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){r.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function un(e,r=0){return L((t,n)=>{t.subscribe(P(n,i=>bt(n,e,()=>n.next(i),r),()=>bt(n,e,()=>n.complete(),r),i=>bt(n,e,()=>n.error(i),r)))})}function Cu(e,r=0){return L((t,n)=>{n.add(e.schedule(()=>t.subscribe(n),r))})}function rb(e,r){return G(e).pipe(Cu(r),un(r))}function ib(e,r){return G(e).pipe(Cu(r),un(r))}function ob(e,r){return new V(t=>{let n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}function sb(e,r){return new V(t=>{let n;return bt(t,r,()=>{n=e[mu](),bt(t,r,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>W(n?.return)&&n.return()})}function Su(e,r){if(!e)throw new Error("Iterable cannot be null");return new V(t=>{bt(t,r,()=>{let n=e[Symbol.asyncIterator]();bt(t,r,()=>{n.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function ab(e,r){return Su(yu(e),r)}function cb(e,r){if(e!=null){if(hu(e))return rb(e,r);if(No(e))return ob(e,r);if(fu(e))return ib(e,r);if(pu(e))return Su(e,r);if(vu(e))return sb(e,r);if(Eu(e))return ab(e,r)}throw gu(e)}function me(e,r){return r?cb(e,r):G(e)}function I(...e){let r=Kn(e);return me(e,r)}function y(e,r){return L((t,n)=>{let i=0;t.subscribe(P(n,o=>{n.next(e.call(r,o,i++))}))})}var{isArray:IF}=Array,{getPrototypeOf:DF,prototype:bF,keys:wF}=Object;function Iu(e){if(e.length===1){let r=e[0];if(IF(r))return{args:r,keys:null};if(TF(r)){let t=wF(r);return{args:t.map(n=>r[n]),keys:t}}}return{args:e,keys:null}}function TF(e){return e&&typeof e=="object"&&DF(e)===bF}var{isArray:AF}=Array;function RF(e,r){return AF(r)?e(...r):e(r)}function Po(e){return y(r=>RF(e,r))}function Du(e,r){return e.reduce((t,n,i)=>(t[n]=r[i],t),{})}function Ne(...e){let r=Kn(e),t=si(e),{args:n,keys:i}=Iu(e);if(n.length===0)return me([],r);let o=new V(MF(n,r,i?s=>Du(i,s):et));return t?o.pipe(Po(t)):o}function MF(e,r,t=et){return n=>{ub(r,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)ub(r,()=>{let u=me(e[c],r),l=!1;u.subscribe(P(n,d=>{o[c]=d,l||(l=!0,a--),a||n.next(t(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function ub(e,r,t){e?bt(t,e,r):r()}function lb(e,r,t,n,i,o,s,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&r.complete()},m=D=>u<n?C(D):c.push(D),C=D=>{o&&r.next(D),u++;let A=!1;G(t(D,l++)).subscribe(P(r,N=>{i?.(N),o?m(N):r.next(N)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;c.length&&u<n;){let N=c.shift();s?bt(r,s,()=>C(N)):C(N)}h()}catch(N){r.error(N)}}))};return e.subscribe(P(r,m,()=>{d=!0,h()})),()=>{a?.()}}function z(e,r,t=1/0){return W(r)?z((n,i)=>y((o,s)=>r(n,o,i,s))(G(e(n,i))),t):(typeof r=="number"&&(t=r),L((n,i)=>lb(n,i,e,t)))}var bu=class extends Ee{constructor(r,t){super()}schedule(r,t=0){return this}};var Xs={setInterval(e,r,...t){let{delegate:n}=Xs;return n?.setInterval?n.setInterval(e,r,...t):setInterval(e,r,...t)},clearInterval(e){let{delegate:r}=Xs;return(r?.clearInterval||clearInterval)(e)},delegate:void 0};var Zn=class extends bu{constructor(r,t){super(r,t),this.scheduler=r,this.work=t,this.pending=!1}schedule(r,t=0){var n;if(this.closed)return this;this.state=r;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,t),this}requestAsyncId(r,t,n=0){return Xs.setInterval(r.flush.bind(r,this),n)}recycleAsyncId(r,t,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&Xs.clearInterval(t)}execute(r,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(r,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,t){let n=!1,i;try{this.work(r)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:r,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Rr(n,this),r!=null&&(this.id=this.recycleAsyncId(t,r,null)),this.delay=null,super.unsubscribe()}}};var Fo=class e{constructor(r,t=e.now){this.schedulerActionCtor=r,this.now=t}schedule(r,t=0,n){return new this.schedulerActionCtor(this,r).schedule(n,t)}};Fo.now=Qs.now;var Qn=class extends Fo{constructor(r,t=Fo.now){super(r,t),this.actions=[],this._active=!1}flush(r){let{actions:t}=this;if(this._active){t.push(r);return}let n;this._active=!0;do if(n=r.execute(r.state,r.delay))break;while(r=t.shift());if(this._active=!1,n){for(;r=t.shift();)r.unsubscribe();throw n}}};var Kt=new Qn(Zn),db=Kt;function wu(e){return e instanceof Date&&!isNaN(e)}function Zt(e=0,r,t=db){let n=-1;return r!=null&&(du(r)?t=r:n=r),new V(i=>{let o=wu(e)?+e-t.now():e;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Jn(e=1/0){return z(et,e)}function ln(...e){let r=Kn(e),t=QD(e,1/0),n=e;return n.length?n.length===1?G(n[0]):Jn(t)(me(n,r)):ge}function M(e,r){return L((t,n)=>{let i=0;t.subscribe(P(n,o=>e.call(r,o,i++)&&n.next(o)))})}function F(e){return L((r,t)=>{let n=null,i=!1,o;n=r.subscribe(P(t,void 0,void 0,s=>{o=G(e(s,F(e)(r))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}function _F(e){return L((r,t)=>{let n=!1,i=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let a=i;i=null,t.next(a)}};r.subscribe(P(t,a=>{o?.unsubscribe(),n=!0,i=a,o=P(t,s,Ot),G(e(a)).subscribe(o)},()=>{s(),t.complete()},void 0,()=>{i=o=null}))})}function re(e){return e<=0?()=>ge:L((r,t)=>{let n=0;r.subscribe(P(t,i=>{++n<=e&&(t.next(i),e<=n&&t.complete())}))})}function fb(){return Jn(1)}function Xn(...e){return fb()(me(e,Kn(e)))}function ea(){return L((e,r)=>{e.subscribe(P(r,Ot))})}function ta(e){return y(()=>e)}function Tu(e,r){return r?t=>Xn(r.pipe(re(1),ea()),t.pipe(Tu(e))):z((t,n)=>G(e(t,n)).pipe(re(1),ta(t)))}function er(e,r=Kt){let t=Zt(e,r);return Tu(()=>t)}function OF(e,r){return L((t,n)=>{let i=new Set;t.subscribe(P(n,o=>{let s=e?e(o):o;i.has(s)||(i.add(s),n.next(o))})),r&&G(r).subscribe(P(n,()=>i.clear(),Ot))})}function dn(e,r=et){return e=e??xF,L((t,n)=>{let i,o=!0;t.subscribe(P(n,s=>{let a=r(s);(o||!e(i,a))&&(o=!1,i=a,n.next(s))}))})}function xF(e,r){return e===r}function NF(e,r){return dn((t,n)=>r?r(t[e],n[e]):t[e]===n[e])}var An=oi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function ai(e){return L((r,t)=>{let n=!1;r.subscribe(P(t,i=>{n=!0,t.next(i)},()=>{n||t.next(e),t.complete()}))})}function Au(e=PF){return L((r,t)=>{let n=!1;r.subscribe(P(t,i=>{n=!0,t.next(i)},()=>n?t.complete():t.error(e())))})}function PF(){return new An}function xt(e,r){let t=arguments.length>=2;return n=>n.pipe(e?M((i,o)=>e(i,o,n)):et,re(1),t?ai(r):Au(()=>new An))}function Lo(e={}){let{connector:r=()=>new ie,resetOnError:t=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,l=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},m=()=>{h(),s=c=void 0,l=d=!1},C=()=>{let D=s;m(),D?.unsubscribe()};return L((D,A)=>{u++,!d&&!l&&h();let N=c=c??r();A.add(()=>{u--,u===0&&!d&&!l&&(a=Og(C,i))}),N.subscribe(A),!s&&u>0&&(s=new Mr({next:x=>N.next(x),error:x=>{d=!0,h(),a=Og(m,t,x),N.error(x)},complete:()=>{l=!0,h(),a=Og(m,n),N.complete()}}),G(D).subscribe(s))})(o)}}function Og(e,r,...t){if(r===!0){e();return}if(r===!1)return;let n=new Mr({next:()=>{n.unsubscribe(),e()}});return G(r(...t)).subscribe(n)}function ot(e,r,t){let n,i=!1;return e&&typeof e=="object"?{bufferSize:n=1/0,windowTime:r=1/0,refCount:i=!1,scheduler:t}=e:n=e??1/0,Lo({connector:()=>new Yt(n,r,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function xg(e){return M((r,t)=>e<=t)}function tr(...e){let r=Kn(e);return L((t,n)=>{(r?Xn(e,t,r):Xn(e,t)).subscribe(n)})}function _(e,r){return L((t,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();t.subscribe(P(n,c=>{i?.unsubscribe();let u=0,l=o++;G(e(c,l)).subscribe(i=P(n,d=>n.next(r?r(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function FF(e,r=!1){return L((t,n)=>{let i=0;t.subscribe(P(n,o=>{let s=e(o,i++);(s||r)&&n.next(o),!s&&n.complete()}))})}function k(e,r,t){let n=W(e)||r||t?{next:e,error:r,complete:t}:e;return n?L((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(P(o,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),o.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),o.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):et}function ko(){return L((e,r)=>{let t=null;e._refCount++;let n=P(r,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),r.unsubscribe()});e.subscribe(n),n.closed||(t=e.connect())})}var ci=class extends V{constructor(r,t){super(),this.source=r,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_g(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Ee;let t=this.getSubject();r.add(this.source.subscribe(P(t,void 0,()=>{this._teardown(),t.complete()},n=>{this._teardown(),t.error(n)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Ee.EMPTY)}return r}refCount(){return ko()(this)}};var Uo={schedule(e){let r=requestAnimationFrame,t=cancelAnimationFrame,{delegate:n}=Uo;n&&(r=n.requestAnimationFrame,t=n.cancelAnimationFrame);let i=r(o=>{t=void 0,e(o)});return new Ee(()=>t?.(i))},requestAnimationFrame(...e){let{delegate:r}=Uo;return(r?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:r}=Uo;return(r?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var LF=1,Ng,Pg={};function hb(e){return e in Pg?(delete Pg[e],!0):!1}var pb={setImmediate(e){let r=LF++;return Pg[r]=!0,Ng||(Ng=Promise.resolve()),Ng.then(()=>hb(r)&&e()),r},clearImmediate(e){hb(e)}};var{setImmediate:kF,clearImmediate:UF}=pb,na={setImmediate(...e){let{delegate:r}=na;return(r?.setImmediate||kF)(...e)},clearImmediate(e){let{delegate:r}=na;return(r?.clearImmediate||UF)(e)},delegate:void 0};var Ru=class extends Zn{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return n!==null&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=na.setImmediate(r.flush.bind(r,void 0))))}recycleAsyncId(r,t,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);let{actions:o}=r;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(na.clearImmediate(t),r._scheduled===t&&(r._scheduled=void 0))}};var Mu=class extends Qn{flush(r){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw i}}};var Fg=new Mu(Ru);var _u=class extends Zn{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}schedule(r,t=0){return t>0?super.schedule(r,t):(this.delay=t,this.state=r,this.scheduler.flush(this),this)}execute(r,t){return t>0||this.closed?super.execute(r,t):this._execute(r,t)}requestAsyncId(r,t,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(r,t,n):(r.flush(this),0)}};var Ou=class extends Qn{};var ui=new Ou(_u);var xu=class extends Zn{constructor(r,t){super(r,t),this.scheduler=r,this.work=t}requestAsyncId(r,t,n=0){return n!==null&&n>0?super.requestAsyncId(r,t,n):(r.actions.push(this),r._scheduled||(r._scheduled=Uo.requestAnimationFrame(()=>r.flush(void 0))))}recycleAsyncId(r,t,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(r,t,n);let{actions:o}=r;t!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==t&&(Uo.cancelAnimationFrame(t),r._scheduled=void 0)}};var Nu=class extends Qn{flush(r){this._active=!0;let t=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while((r=n[0])&&r.id===t&&n.shift());if(this._active=!1,i){for(;(r=n[0])&&r.id===t&&n.shift();)r.unsubscribe();throw i}}};var jF=new Nu(xu);function Nt(e,r){let t=W(e)?e:()=>e,n=i=>i.error(t());return new V(r?i=>r.schedule(n,0,i):n)}var li=class e{constructor(r,t,n){this.kind=r,this.value=t,this.error=n,this.hasValue=r==="N"}observe(r){return Lg(this,r)}do(r,t,n){let{kind:i,value:o,error:s}=this;return i==="N"?r?.(o):i==="E"?t?.(s):n?.()}accept(r,t,n){var i;return W((i=r)===null||i===void 0?void 0:i.next)?this.observe(r):this.do(r,t,n)}toObservable(){let{kind:r,value:t,error:n}=this,i=r==="N"?I(t):r==="E"?Nt(()=>n):r==="C"?ge:0;if(!i)throw new TypeError(`Unexpected notification kind ${r}`);return i}static createNext(r){return new e("N",r)}static createError(r){return new e("E",void 0,r)}static createComplete(){return e.completeNotification}};li.completeNotification=new li("C");function Lg(e,r){var t,n,i;let{kind:o,value:s,error:a}=e;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=r.next)===null||t===void 0||t.call(r,s):o==="E"?(n=r.error)===null||n===void 0||n.call(r,a):(i=r.complete)===null||i===void 0||i.call(r)}function ki(e){return!!e&&(e instanceof V||W(e.lift)&&W(e.subscribe))}function nr(e,r){let t=typeof r=="object";return new Promise((n,i)=>{let o=!1,s;e.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?n(s):t?n(r.defaultValue):i(new An)}})})}var Pu=oi(e=>function(t=null){e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t});function ra(e,r){let{first:t,each:n,with:i=$F,scheduler:o=r??Kt,meta:s=null}=wu(e)?{first:e}:typeof e=="number"?{each:e}:e;if(t==null&&n==null)throw new TypeError("No timeout provided.");return L((a,c)=>{let u,l,d=null,h=0,m=C=>{l=bt(c,o,()=>{try{u.unsubscribe(),G(i({meta:s,lastValue:d,seen:h})).subscribe(c)}catch(D){c.error(D)}},C)};u=a.subscribe(P(c,C=>{l?.unsubscribe(),h++,c.next(d=C),n>0&&m(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),d=null})),!h&&m(t!=null?typeof t=="number"?t:+t-o.now():n)})}function $F(e){throw new Pu(e)}function Ze(e){return new V(r=>{G(e()).subscribe(r)})}var BF={connector:()=>new ie,resetOnDisconnect:!0};function Fu(e,r=BF){let t=null,{connector:n,resetOnDisconnect:i=!0}=r,o=n(),s=new V(a=>o.subscribe(a));return s.connect=()=>((!t||t.closed)&&(t=Ze(()=>e).subscribe(o),i&&t.add(()=>o=n())),t),s}function ia(...e){let r=si(e),{args:t,keys:n}=Iu(e),i=new V(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;G(t[l]).subscribe(P(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(n?Du(n,a):a),o.complete())}))}});return r?i.pipe(Po(r)):i}var VF=["addListener","removeListener"],HF=["addEventListener","removeEventListener"],zF=["on","off"];function oa(e,r,t,n){if(W(t)&&(n=t,t=void 0),n)return oa(e,r,t).pipe(Po(n));let[i,o]=qF(e)?HF.map(s=>a=>e[s](r,a,t)):GF(e)?VF.map(gb(e,r)):WF(e)?zF.map(gb(e,r)):[];if(!i&&No(e))return z(s=>oa(s,r,t))(G(e));if(!i)throw new TypeError("Invalid event target");return new V(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function gb(e,r){return t=>n=>e[t](r,n)}function GF(e){return W(e.addListener)&&W(e.removeListener)}function WF(e){return W(e.on)&&W(e.off)}function qF(e){return W(e.addEventListener)&&W(e.removeEventListener)}function sa(e,r,t){return Ze(()=>e()?r:t)}function YF(e=0,r=Kt){return e<0&&(e=0),Zt(e,e,r)}var kg=new V(Ot);var{isArray:KF}=Array;function Lu(e){return e.length===1&&KF(e[0])?e[0]:e}function Ug(...e){return e=Lu(e),e.length===1?G(e[0]):new V(ZF(e))}function ZF(e){return r=>{let t=[];for(let n=0;t&&!r.closed&&n<e.length;n++)t.push(G(e[n]).subscribe(P(r,i=>{if(t){for(let o=0;o<t.length;o++)o!==n&&t[o].unsubscribe();t=null}r.next(i)})))}}function Ui(e,r){return new V(t=>{let n=e(),i=r(n);return(i?G(i):ge).subscribe(t),()=>{n&&n.unsubscribe()}})}function ji(...e){let r=si(e),t=Lu(e);return t.length?new V(n=>{let i=t.map(()=>[]),o=t.map(()=>!1);n.add(()=>{i=o=null});for(let s=0;!n.closed&&s<t.length;s++)G(t[s]).subscribe(P(n,a=>{if(i[s].push(a),i.every(c=>c.length)){let c=i.map(u=>u.shift());n.next(r?r(...c):c),i.some((u,l)=>!u.length&&o[l])&&n.complete()}},()=>{o[s]=!0,!i[s].length&&n.complete()}));return()=>{i=o=null}}):ge}function aa(e){return L((r,t)=>{let n=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};r.subscribe(P(t,u=>{n=!0,i=u,o||G(e(u)).subscribe(o=P(t,a,c))},()=>{s=!0,(!n||!o||o.closed)&&t.complete()}))})}function ku(e,r=Kt){return aa(()=>Zt(e,r))}function ca(e,r=null){return r=r??e,L((t,n)=>{let i=[],o=0;t.subscribe(P(n,s=>{let a=null;o++%r===0&&i.push([]);for(let c of i)c.push(s),e<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)Rr(i,c),n.next(c)},()=>{for(let s of i)n.next(s);n.complete()},void 0,()=>{i=null}))})}function mb(e,r,t,n,i){return(o,s)=>{let a=t,c=r,u=0;o.subscribe(P(s,l=>{let d=u++;c=a?e(c,l,d):(a=!0,l),n&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Ue(e,r){return W(r)?z(e,r,1):z(e,1)}function vb(e){return new V(r=>e.subscribe(r))}var QF={connector:()=>new ie};function Uu(e,r=QF){let{connector:t}=r;return L((n,i)=>{let o=t();G(e(vb(o))).subscribe(i),i.add(n.subscribe(o))})}function $i(e,r=Kt){return L((t,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,n.next(u)}};function c(){let u=s+e,l=r.now();if(l<u){i=this.schedule(void 0,u-l),n.add(i);return}a()}t.subscribe(P(n,u=>{o=u,s=r.now(),i||(i=r.schedule(c,e),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function jg(){return L((e,r)=>{e.subscribe(P(r,t=>Lg(t,r)))})}function yb(...e){return r=>Xn(r,I(...e))}function JF(e,r){return L((t,n)=>{let i=0;t.subscribe(P(n,o=>{e.call(r,o,i++,t)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function rr(e,r){return r?t=>t.pipe(rr((n,i)=>G(e(n,i)).pipe(y((o,s)=>r(n,o,i,s))))):L((t,n)=>{let i=0,o=null,s=!1;t.subscribe(P(n,a=>{o||(o=P(n,void 0,()=>{o=null,s&&n.complete()}),G(e(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}function Rn(e){return L((r,t)=>{try{r.subscribe(t)}finally{t.add(e)}})}function _r(e,r,t,n){return L((i,o)=>{let s;!r||typeof r=="function"?s=r:{duration:t,element:s,connector:n}=r;let a=new Map,c=C=>{a.forEach(C),C(o)},u=C=>c(D=>D.error(C)),l=0,d=!1,h=new Js(o,C=>{try{let D=e(C),A=a.get(D);if(!A){a.set(D,A=n?n():new ie);let N=m(D,A);if(o.next(N),t){let x=P(A,()=>{A.complete(),x?.unsubscribe()},void 0,void 0,()=>a.delete(D));h.add(G(t(N)).subscribe(x))}}A.next(s?s(C):C)}catch(D){u(D)}},()=>c(C=>C.complete()),u,()=>a.clear(),()=>(d=!0,l===0));i.subscribe(h);function m(C,D){let A=new V(N=>{l++;let x=D.subscribe(N);return()=>{x.unsubscribe(),--l===0&&d&&h.unsubscribe()}});return A.key=C,A}})}function jo(e){return e<=0?()=>ge:L((r,t)=>{let n=[];r.subscribe(P(t,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(let i of n)t.next(i);t.complete()},void 0,()=>{n=null}))})}function $g(e,r){let t=arguments.length>=2;return n=>n.pipe(e?M((i,o)=>e(i,o,n)):et,jo(1),t?ai(r):Au(()=>new An))}function Bg(){return L((e,r)=>{e.subscribe(P(r,t=>{r.next(li.createNext(t))},()=>{r.next(li.createComplete()),r.complete()},t=>{r.next(li.createError(t)),r.complete()}))})}function Eb(e,r){let t=W(e)?e:()=>e;return W(r)?Uu(r,{connector:t}):n=>new ci(n,t)}function ua(){return L((e,r)=>{let t,n=!1;e.subscribe(P(r,i=>{let o=t;t=i,n&&r.next([o,i]),n=!0}))})}function Vg(...e){let r=e.length;if(r===0)throw new Error("list of properties cannot be empty.");return y(t=>{let n=t;for(let i=0;i<r;i++){let o=n?.[e[i]];if(typeof o<"u")n=o;else return}return n})}function XF(e){return e?r=>Uu(e)(r):r=>Eb(new ie)(r)}function Hg(e=1/0){let r;e&&typeof e=="object"?r=e:r={count:e};let{count:t=1/0,delay:n,resetOnSuccess:i=!1}=r;return t<=0?et:L((o,s)=>{let a=0,c,u=()=>{let l=!1;c=o.subscribe(P(s,d=>{i&&(a=0),s.next(d)},void 0,d=>{if(a++<t){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let m=typeof n=="number"?Zt(n):G(n(d,a)),C=P(s,()=>{C.unsubscribe(),h()},()=>{s.complete()});m.subscribe(C)}else h()}else s.error(d)})),l&&(c.unsubscribe(),c=null,u())};u()})}function Bi(e,r){return L(mb(e,r,arguments.length>=2,!0))}function ju(e){return L((r,t)=>{let n=!1,i=0;r.subscribe(P(t,o=>(n||(n=!e(o,i++)))&&t.next(o)))})}function la(e){return L((r,t)=>{G(e).subscribe(P(t,()=>t.complete(),Ot)),!t.closed&&r.subscribe(t)})}function Cb(e,r){return L((t,n)=>{let{leading:i=!0,trailing:o=!1}=r??{},s=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,o&&(m(),u&&n.complete())},d=()=>{c=null,u&&n.complete()},h=C=>c=G(e(C)).subscribe(P(n,l,d)),m=()=>{if(s){s=!1;let C=a;a=null,n.next(C),!u&&h(C)}};t.subscribe(P(n,C=>{s=!0,a=C,!(c&&!c.closed)&&(i?m():h(C))},()=>{u=!0,!(o&&s&&c&&!c.closed)&&n.complete()}))})}function eL(e,r=Kt,t){let n=Zt(e,r);return Cb(()=>n,t)}function st(...e){let r=si(e);return L((t,n)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let c=0;c<i;c++)G(e[c]).subscribe(P(n,u=>{o[c]=u,!a&&!s[c]&&(s[c]=!0,(a=s.every(et))&&(s=null))},Ot));t.subscribe(P(n,c=>{if(a){let u=[c,...o];n.next(r?r(...u):u)}}))})}function Sb(e,r){return Object.is(e,r)}var at=null,$u=!1,Bu=1,Or=Symbol("SIGNAL");function ve(e){let r=at;return at=e,r}var Hu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wg(e){if($u)throw new Error("");if(at===null)return;at.consumerOnSignalRead(e);let r=at.nextProducerIndex++;if($o(at),r<at.producerNode.length&&at.producerNode[r]!==e&&da(at)){let t=at.producerNode[r];zu(t,at.producerIndexOfThis[r])}at.producerNode[r]!==e&&(at.producerNode[r]=e,at.producerIndexOfThis[r]=da(at)?Tb(e,at,r):0),at.producerLastReadVersion[r]=e.version}function tL(){Bu++}function Ib(e){if(!(da(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Bu)){if(!e.producerMustRecompute(e)&&!Kg(e)){e.dirty=!1,e.lastCleanEpoch=Bu;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Bu}}function Db(e){if(e.liveConsumerNode===void 0)return;let r=$u;$u=!0;try{for(let t of e.liveConsumerNode)t.dirty||nL(t)}finally{$u=r}}function bb(){return at?.consumerAllowSignalWrites!==!1}function nL(e){e.dirty=!0,Db(e),e.consumerMarkedDirty?.(e)}function qg(e){return e&&(e.nextProducerIndex=0),ve(e)}function Yg(e,r){if(ve(r),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(da(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)zu(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Kg(e){$o(e);for(let r=0;r<e.producerNode.length;r++){let t=e.producerNode[r],n=e.producerLastReadVersion[r];if(n!==t.version||(Ib(t),n!==t.version))return!0}return!1}function wb(e){if($o(e),da(e))for(let r=0;r<e.producerNode.length;r++)zu(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Tb(e,r,t){if(Ab(e),$o(e),e.liveConsumerNode.length===0)for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=Tb(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(r)-1}function zu(e,r){if(Ab(e),$o(e),e.liveConsumerNode.length===1)for(let n=0;n<e.producerNode.length;n++)zu(e.producerNode[n],e.producerIndexOfThis[n]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[r],i=e.liveConsumerNode[r];$o(i),i.producerIndexOfThis[n]=r}}function da(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function $o(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ab(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Rb(e){let r=Object.create(rL);r.computation=e;let t=()=>{if(Ib(r),Wg(r),r.value===Vu)throw r.error;return r.value};return t[Or]=r,t}var zg=Symbol("UNSET"),Gg=Symbol("COMPUTING"),Vu=Symbol("ERRORED"),rL=w(v({},Hu),{value:zg,dirty:!0,error:null,equal:Sb,producerMustRecompute(e){return e.value===zg||e.value===Gg},producerRecomputeValue(e){if(e.value===Gg)throw new Error("Detected cycle in computations.");let r=e.value;e.value=Gg;let t=qg(e),n;try{n=e.computation()}catch(i){n=Vu,e.error=i}finally{Yg(e,t)}if(r!==zg&&r!==Vu&&n!==Vu&&e.equal(r,n)){e.value=r;return}e.value=n,e.version++}});function iL(){throw new Error}var Mb=iL;function _b(){Mb()}function Ob(e){Mb=e}var oL=null;function xb(e){let r=Object.create(Pb);r.value=e;let t=()=>(Wg(r),r.value);return t[Or]=r,t}function Zg(e,r){bb()||_b(),e.equal(e.value,r)||(e.value=r,sL(e))}function Nb(e,r){bb()||_b(),Zg(e,r(e.value))}var Pb=w(v({},Hu),{equal:Sb,value:void 0});function sL(e){e.version++,tL(),Db(e),oL?.()}var Tw="https://g.co/ng/security#xss",B=class extends Error{constructor(r,t){super(wl(r,t)),this.code=r}};function wl(e,r){return`${`NG0${Math.abs(e)}`}${r?": "+r:""}`}function ba(e){return{toString:e}.toString()}var Gu="__parameters__";function aL(e){return function(...t){if(e){let n=e(...t);for(let i in n)this[i]=n[i]}}}function vv(e,r,t){return ba(()=>{let n=aL(r);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Gu)?c[Gu]:Object.defineProperty(c,Gu,{value:[]})[Gu];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var We=globalThis;function Me(e){for(let r in e)if(e[r]===Me)return r;throw Error("Could not find renamed property on target object.")}function cL(e,r){for(let t in r)r.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Ft(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ft).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let r=e.toString();if(r==null)return""+r;let t=r.indexOf(`
`);return t===-1?r:r.substring(0,t)}function fm(e,r){return e==null||e===""?r===null?"":r:r==null||r===""?e:e+" "+r}var uL=Me({__forward_ref__:Me});function Aw(e){return e.__forward_ref__=Aw,e.toString=function(){return Ft(this())},e}function Pt(e){return Rw(e)?e():e}function Rw(e){return typeof e=="function"&&e.hasOwnProperty(uL)&&e.__forward_ref__===Aw}function g(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function U(e){return{providers:e.providers||[],imports:e.imports||[]}}function Tl(e){return Fb(e,_w)||Fb(e,Ow)}function Mw(e){return Tl(e)!==null}function Fb(e,r){return e.hasOwnProperty(r)?e[r]:null}function lL(e){let r=e&&(e[_w]||e[Ow]);return r||null}function Lb(e){return e&&(e.hasOwnProperty(kb)||e.hasOwnProperty(dL))?e[kb]:null}var _w=Me({\u0275prov:Me}),kb=Me({\u0275inj:Me}),Ow=Me({ngInjectableDef:Me}),dL=Me({ngInjectorDef:Me}),S=class{constructor(r,t){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=g({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xw(e){return e&&!!e.\u0275providers}var fL=Me({\u0275cmp:Me}),hL=Me({\u0275dir:Me}),pL=Me({\u0275pipe:Me}),gL=Me({\u0275mod:Me}),il=Me({\u0275fac:Me}),fa=Me({__NG_ELEMENT_ID__:Me}),Ub=Me({__NG_ENV_ID__:Me});function _n(e){return typeof e=="string"?e:e==null?"":String(e)}function mL(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():_n(e)}function vL(e,r){let t=r?`. Dependency path: ${r.join(" > ")} > ${e}`:"";throw new B(-200,e)}function yv(e,r){throw new B(-201,!1)}var ue=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ue||{}),hm;function Nw(){return hm}function Vt(e){let r=hm;return hm=e,r}function Pw(e,r,t){let n=Tl(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(t&ue.Optional)return null;if(r!==void 0)return r;yv(e,"Injector")}var yL={},pa=yL,pm="__NG_DI_FLAG__",ol="ngTempTokenPath",EL="ngTokenPath",CL=/\n/gm,SL="\u0275",jb="__source",Go;function IL(){return Go}function di(e){let r=Go;return Go=e,r}function DL(e,r=ue.Default){if(Go===void 0)throw new B(-203,!1);return Go===null?Pw(e,void 0,r):Go.get(e,r&ue.Optional?null:void 0,r)}function f(e,r=ue.Default){return(Nw()||DL)(Pt(e),r)}function E(e,r=ue.Default){return f(e,Al(r))}function Al(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function gm(e){let r=[];for(let t=0;t<e.length;t++){let n=Pt(e[t]);if(Array.isArray(n)){if(n.length===0)throw new B(900,!1);let i,o=ue.Default;for(let s=0;s<n.length;s++){let a=n[s],c=bL(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}r.push(f(i,o))}else r.push(f(n))}return r}function Ev(e,r){return e[pm]=r,e.prototype[pm]=r,e}function bL(e){return e[pm]}function wL(e,r,t,n){let i=e[ol];throw r[jb]&&i.unshift(r[jb]),e.message=TL(`
`+e.message,i,t,n),e[EL]=i,e[ol]=null,e}function TL(e,r,t,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==SL?e.slice(2):e;let i=Ft(r);if(Array.isArray(r))i=r.map(Ft).join(" -> ");else if(typeof r=="object"){let o=[];for(let s in r)if(r.hasOwnProperty(s)){let a=r[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ft(a)))}i=`{${o.join(", ")}}`}return`${t}${n?"("+n+")":""}[${i}]: ${e.replace(CL,`
  `)}`}var Cv=Ev(vv("Inject",e=>({token:e})),-1),pn=Ev(vv("Optional"),8);var Rl=Ev(vv("SkipSelf"),4);function Gi(e,r){let t=e.hasOwnProperty(il);return t?e[il]:null}function AL(e,r,t){if(e.length!==r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=r[n];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function RL(e){return e.flat(Number.POSITIVE_INFINITY)}function Sv(e,r){e.forEach(t=>Array.isArray(t)?Sv(t,r):r(t))}function Fw(e,r,t){r>=e.length?e.push(t):e.splice(r,0,t)}function sl(e,r){return r>=e.length-1?e.pop():e.splice(r,1)[0]}function ML(e,r){let t=[];for(let n=0;n<e;n++)t.push(r);return t}function _L(e,r,t,n){let i=e.length;if(i==r)e.push(t,n);else if(i===1)e.push(n,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>r;){let o=i-2;e[i]=e[o],i--}e[r]=t,e[r+1]=n}}function wa(e,r,t){let n=Ta(e,r);return n>=0?e[n|1]=t:(n=~n,_L(e,n,r,t)),n}function Qg(e,r){let t=Ta(e,r);if(t>=0)return e[t|1]}function Ta(e,r){return OL(e,r,1)}function OL(e,r,t){let n=0,i=e.length>>t;for(;i!==n;){let o=n+(i-n>>1),s=e[o<<t];if(r===s)return o<<t;s>r?i=o:n=o+1}return~(i<<t)}var qo={},Ht=[],sr=new S(""),Lw=new S("",-1),kw=new S(""),al=class{get(r,t=pa){if(t===pa){let n=new Error(`NullInjectorError: No provider for ${Ft(r)}!`);throw n.name="NullInjectorError",n}return t}},Uw=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Uw||{}),ar=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ar||{}),fn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fn||{});function xL(e,r,t){let n=e.length;for(;;){let i=e.indexOf(r,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=r.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}t=i+1}}function mm(e,r,t){let n=0;for(;n<t.length;){let i=t[n];if(typeof i=="number"){if(i!==0)break;n++;let o=t[n++],s=t[n++],a=t[n++];e.setAttribute(r,s,a,o)}else{let o=i,s=t[++n];NL(o)?e.setProperty(r,o,s):e.setAttribute(r,o,s),n++}}return n}function jw(e){return e===3||e===4||e===6}function NL(e){return e.charCodeAt(0)===64}function ga(e,r){if(!(r===null||r.length===0))if(e===null||e.length===0)e=r.slice();else{let t=-1;for(let n=0;n<r.length;n++){let i=r[n];typeof i=="number"?t=i:t===0||(t===-1||t===2?$b(e,t,i,null,r[++n]):$b(e,t,i,null,null))}}return e}function $b(e,r,t,n,i){let o=0,s=e.length;if(r===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===r){s=-1;break}else if(a>r){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===t){if(n===null){i!==null&&(e[o+1]=i);return}else if(n===e[o+1]){e[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,r),o=s+1),e.splice(o++,0,t),n!==null&&e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}var $w="ng-template";function PL(e,r,t,n){let i=0;if(n){for(;i<r.length&&typeof r[i]=="string";i+=2)if(r[i]==="class"&&xL(r[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Iv(e))return!1;if(i=r.indexOf(1,i),i>-1){let o;for(;++i<r.length&&typeof(o=r[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Iv(e){return e.type===4&&e.value!==$w}function FL(e,r,t){let n=e.type===4&&!t?$w:e.value;return r===n}function LL(e,r,t){let n=4,i=e.attrs,o=i!==null?jL(i):0,s=!1;for(let a=0;a<r.length;a++){let c=r[a];if(typeof c=="number"){if(!s&&!Mn(n)&&!Mn(c))return!1;if(s&&Mn(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!FL(e,c,t)||c===""&&r.length===1){if(Mn(n))return!1;s=!0}}else if(n&8){if(i===null||!PL(e,i,c,t)){if(Mn(n))return!1;s=!0}}else{let u=r[++a],l=kL(c,i,Iv(e),t);if(l===-1){if(Mn(n))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),n&2&&u!==d){if(Mn(n))return!1;s=!0}}}}return Mn(n)||s}function Mn(e){return(e&1)===0}function kL(e,r,t,n){if(r===null)return-1;let i=0;if(n||!t){let o=!1;for(;i<r.length;){let s=r[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=r[++i];for(;typeof a=="string";)a=r[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $L(r,e)}function Bw(e,r,t=!1){for(let n=0;n<r.length;n++)if(LL(e,r[n],t))return!0;return!1}function UL(e){let r=e.attrs;if(r!=null){let t=r.indexOf(5);if(!(t&1))return r[t+1]}return null}function jL(e){for(let r=0;r<e.length;r++){let t=e[r];if(jw(t))return r}return e.length}function $L(e,r){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let n=e[t];if(typeof n=="number")return-1;if(n===r)return t;t++}return-1}function BL(e,r){e:for(let t=0;t<r.length;t++){let n=r[t];if(e.length===n.length){for(let i=0;i<e.length;i++)if(e[i]!==n[i])continue e;return!0}}return!1}function Bb(e,r){return e?":not("+r.trim()+")":r}function VL(e){let r=e[0],t=1,n=2,i="",o=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(n&2){let a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!Mn(s)&&(r+=Bb(o,i),i=""),n=s,o=o||!Mn(n);t++}return i!==""&&(r+=Bb(o,i)),r}function HL(e){return e.map(VL).join(",")}function zL(e){let r=[],t=[],n=1,i=2;for(;n<e.length;){let o=e[n];if(typeof o=="string")i===2?o!==""&&r.push(o,e[++n]):i===8&&t.push(o);else{if(!Mn(i))break;i=o}n++}return{attrs:r,classes:t}}function Vw(e){return ba(()=>{let r=qw(e),t=w(v({},r),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Uw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ar.Emulated,styles:e.styles||Ht,_:null,schemas:e.schemas||null,tView:null,id:""});Yw(t);let n=e.dependencies;return t.directiveDefs=Hb(n,!1),t.pipeDefs=Hb(n,!0),t.id=qL(t),t})}function GL(e){return hi(e)||Hw(e)}function WL(e){return e!==null}function j(e){return ba(()=>({type:e.type,bootstrap:e.bootstrap||Ht,declarations:e.declarations||Ht,imports:e.imports||Ht,exports:e.exports||Ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Vb(e,r){if(e==null)return qo;let t={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],o,s,a=fn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),r?(t[o]=a!==fn.None?[n,a]:n,r[o]=s):t[o]=n}return t}function Lt(e){return ba(()=>{let r=qw(e);return Yw(r),r})}function Jt(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function hi(e){return e[fL]||null}function Hw(e){return e[hL]||null}function zw(e){return e[pL]||null}function Gw(e){let r=hi(e)||Hw(e)||zw(e);return r!==null?r.standalone:!1}function Ww(e,r){let t=e[gL]||null;if(!t&&r===!0)throw new Error(`Type ${Ft(e)} does not have '\u0275mod' property.`);return t}function qw(e){let r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:e.inputs||qo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vb(e.inputs,r),outputs:Vb(e.outputs),debugInfo:null}}function Yw(e){e.features?.forEach(r=>r(e))}function Hb(e,r){if(!e)return null;let t=r?zw:GL;return()=>(typeof e=="function"?e():e).map(n=>t(n)).filter(WL)}function qL(e){let r=0,t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of t)r=Math.imul(31,r)+i.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function ur(e){return{\u0275providers:e}}function YL(...e){return{\u0275providers:Kw(!0,e),\u0275fromNgModule:!0}}function Kw(e,...r){let t=[],n=new Set,i,o=s=>{t.push(s)};return Sv(r,s=>{let a=s;vm(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&Zw(i,o),t}function Zw(e,r){for(let t=0;t<e.length;t++){let{ngModule:n,providers:i}=e[t];Dv(i,o=>{r(o,n)})}}function vm(e,r,t,n){if(e=Pt(e),!e)return!1;let i=null,o=Lb(e),s=!o&&hi(e);if(!o&&!s){let c=e.ngModule;if(o=Lb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)vm(u,r,t,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let u;try{Sv(o.imports,l=>{vm(l,r,t,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Zw(u,r)}if(!a){let u=Gi(i)||(()=>new i);r({provide:i,useFactory:u,deps:Ht},i),r({provide:kw,useValue:i,multi:!0},i),r({provide:sr,useValue:()=>f(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=e;Dv(c,l=>{r(l,u)})}}else return!1;return i!==e&&e.providers!==void 0}function Dv(e,r){for(let t of e)xw(t)&&(t=t.\u0275providers),Array.isArray(t)?Dv(t,r):r(t)}var KL=Me({provide:String,useValue:Me});function Qw(e){return e!==null&&typeof e=="object"&&KL in e}function ZL(e){return!!(e&&e.useExisting)}function QL(e){return!!(e&&e.useFactory)}function Yo(e){return typeof e=="function"}function JL(e){return!!e.useClass}var Ml=new S(""),Ju={},XL={},Jg;function bv(){return Jg===void 0&&(Jg=new al),Jg}var wt=class{},ma=class extends wt{get destroyed(){return this._destroyed}constructor(r,t,n,i){super(),this.parent=t,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Em(r,s=>this.processProvider(s)),this.records.set(Lw,Bo(void 0,this)),i.has("environment")&&this.records.set(wt,Bo(void 0,this));let o=this.records.get(Ml);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kw,Ht,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let r=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();let t=di(this),n=Vt(void 0),i;try{return r()}finally{di(t),Vt(n)}}get(r,t=pa,n=ue.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ub))return r[Ub](this);n=Al(n);let i,o=di(this),s=Vt(void 0);try{if(!(n&ue.SkipSelf)){let c=this.records.get(r);if(c===void 0){let u=ik(r)&&Tl(r);u&&this.injectableDefInScope(u)?c=Bo(ym(r),Ju):c=null,this.records.set(r,c)}if(c!=null)return this.hydrate(r,c)}let a=n&ue.Self?bv():this.parent;return t=n&ue.Optional&&t===pa?null:t,a.get(r,t)}catch(a){if(a.name==="NullInjectorError"){if((a[ol]=a[ol]||[]).unshift(Ft(r)),o)throw a;return wL(a,r,"R3InjectorError",this.source)}else throw a}finally{Vt(s),di(o)}}resolveInjectorInitializers(){let r=ve(null),t=di(this),n=Vt(void 0),i;try{let o=this.get(sr,Ht,ue.Self);for(let s of o)s()}finally{di(t),Vt(n),ve(r)}}toString(){let r=[],t=this.records;for(let n of t.keys())r.push(Ft(n));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(r){r=Pt(r);let t=Yo(r)?r:Pt(r&&r.provide),n=tk(r);if(!Yo(r)&&r.multi===!0){let i=this.records.get(t);i||(i=Bo(void 0,Ju,!0),i.factory=()=>gm(i.multi),this.records.set(t,i)),t=r,i.multi.push(r)}this.records.set(t,n)}hydrate(r,t){let n=ve(null);try{return t.value===Ju&&(t.value=XL,t.value=t.factory()),typeof t.value=="object"&&t.value&&rk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(n)}}injectableDefInScope(r){if(!r.providedIn)return!1;let t=Pt(r.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(r){let t=this._onDestroyHooks.indexOf(r);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ym(e){let r=Tl(e),t=r!==null?r.factory:Gi(e);if(t!==null)return t;if(e instanceof S)throw new B(204,!1);if(e instanceof Function)return ek(e);throw new B(204,!1)}function ek(e){if(e.length>0)throw new B(204,!1);let t=lL(e);return t!==null?()=>t.factory(e):()=>new e}function tk(e){if(Qw(e))return Bo(void 0,e.useValue);{let r=Jw(e);return Bo(r,Ju)}}function Jw(e,r,t){let n;if(Yo(e)){let i=Pt(e);return Gi(i)||ym(i)}else if(Qw(e))n=()=>Pt(e.useValue);else if(QL(e))n=()=>e.useFactory(...gm(e.deps||[]));else if(ZL(e))n=()=>f(Pt(e.useExisting));else{let i=Pt(e&&(e.useClass||e.provide));if(nk(e))n=()=>new i(...gm(e.deps));else return Gi(i)||ym(i)}return n}function Bo(e,r,t=!1){return{factory:e,value:r,multi:t?[]:void 0}}function nk(e){return!!e.deps}function rk(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function ik(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function Em(e,r){for(let t of e)Array.isArray(t)?Em(t,r):t&&xw(t)?Em(t.\u0275providers,r):r(t)}function Ln(e,r){e instanceof ma&&e.assertNotDestroyed();let t,n=di(e),i=Vt(void 0);try{return r()}finally{di(n),Vt(i)}}function Xw(){return Nw()!==void 0||IL()!=null}function Aa(e){if(!Xw())throw new B(-203,!1)}function ok(e){let r=We.ng;if(r&&r.\u0275compilerFacade)return r.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function sk(e){return typeof e=="function"}var Lr=0,oe=1,Q=2,yt=3,On=4,Xt=5,va=6,ya=7,xn=8,Ko=9,Nn=10,Pe=11,Ea=12,zb=13,ns=14,Pn=15,Ra=16,Vo=17,xr=18,_l=19,eT=20,fi=21,Xg=22,Wi=23,Tt=25,tT=1;var qi=7,cl=8,Zo=9,Qt=10,wv=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(wv||{});function Hi(e){return Array.isArray(e)&&typeof e[tT]=="object"}function kr(e){return Array.isArray(e)&&e[tT]===!0}function Tv(e){return(e.flags&4)!==0}function Ol(e){return e.componentOffset>-1}function xl(e){return(e.flags&1)===1}function pi(e){return!!e.template}function ak(e){return(e[Q]&512)!==0}var Cm=class{constructor(r,t,n){this.previousValue=r,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}};function nT(e,r,t,n){r!==null?r.applyValueToInputSignal(r,n):e[t]=n}function mi(){return rT}function rT(e){return e.type.prototype.ngOnChanges&&(e.setInput=uk),ck}mi.ngInherit=!0;function ck(){let e=oT(this),r=e?.current;if(r){let t=e.previous;if(t===qo)e.previous=r;else for(let n in r)t[n]=r[n];e.current=null,this.ngOnChanges(r)}}function uk(e,r,t,n,i){let o=this.declaredInputs[n],s=oT(e)||lk(e,{previous:qo,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new Cm(u&&u.currentValue,t,c===qo),nT(e,r,i,t)}var iT="__ngSimpleChanges__";function oT(e){return e[iT]||null}function lk(e,r){return e[iT]=r}var Gb=null;var ir=function(e,r,t){Gb?.(e,r,t)},dk="svg",fk="math",hk=!1;function pk(){return hk}function cr(e){for(;Array.isArray(e);)e=e[Lr];return e}function sT(e,r){return cr(r[e])}function gn(e,r){return cr(r[e.index])}function aT(e,r){return e.data[r]}function Ma(e,r){return e[r]}function vi(e,r){let t=r[e];return Hi(t)?t:t[Lr]}function gk(e){return(e[Q]&4)===4}function Av(e){return(e[Q]&128)===128}function mk(e){return kr(e[yt])}function Qo(e,r){return r==null?null:e[r]}function cT(e){e[Vo]=0}function vk(e){e[Q]&1024||(e[Q]|=1024,Av(e)&&Ca(e))}function yk(e,r){for(;e>0;)r=r[ns],e--;return r}function Rv(e){return!!(e[Q]&9216||e[Wi]?.dirty)}function Sm(e){e[Nn].changeDetectionScheduler?.notify(1),Rv(e)?Ca(e):e[Q]&64&&(pk()?(e[Q]|=1024,Ca(e)):e[Nn].changeDetectionScheduler?.notify())}function Ca(e){e[Nn].changeDetectionScheduler?.notify();let r=Sa(e);for(;r!==null&&!(r[Q]&8192||(r[Q]|=8192,!Av(r)));)r=Sa(r)}function uT(e,r){if((e[Q]&256)===256)throw new B(911,!1);e[fi]===null&&(e[fi]=[]),e[fi].push(r)}function Ek(e,r){if(e[fi]===null)return;let t=e[fi].indexOf(r);t!==-1&&e[fi].splice(t,1)}function Sa(e){let r=e[yt];return kr(r)?r[yt]:r}var se={lFrame:vT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ck(){return se.lFrame.elementDepthCount}function Sk(){se.lFrame.elementDepthCount++}function Ik(){se.lFrame.elementDepthCount--}function lT(){return se.bindingsEnabled}function dT(){return se.skipHydrationRootTNode!==null}function Dk(e){return se.skipHydrationRootTNode===e}function bk(){se.skipHydrationRootTNode=null}function q(){return se.lFrame.lView}function je(){return se.lFrame.tView}function Boe(e){return se.lFrame.contextLView=e,e[xn]}function Voe(e){return se.lFrame.contextLView=null,e}function At(){let e=fT();for(;e!==null&&e.type===64;)e=e.parent;return e}function fT(){return se.lFrame.currentTNode}function wk(){let e=se.lFrame,r=e.currentTNode;return e.isParent?r:r.parent}function to(e,r){let t=se.lFrame;t.currentTNode=e,t.isParent=r}function Mv(){return se.lFrame.isParent}function _v(){se.lFrame.isParent=!1}function Tk(){return se.lFrame.contextLView}function mn(){let e=se.lFrame,r=e.bindingRootIndex;return r===-1&&(r=e.bindingRootIndex=e.tView.bindingStartIndex),r}function hT(){return se.lFrame.bindingIndex}function Ak(e){return se.lFrame.bindingIndex=e}function _a(){return se.lFrame.bindingIndex++}function Nl(e){let r=se.lFrame,t=r.bindingIndex;return r.bindingIndex=r.bindingIndex+e,t}function Rk(){return se.lFrame.inI18n}function Mk(e,r){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=e,Im(r)}function _k(){return se.lFrame.currentDirectiveIndex}function Im(e){se.lFrame.currentDirectiveIndex=e}function Ok(e){let r=se.lFrame.currentDirectiveIndex;return r===-1?null:e[r]}function pT(){return se.lFrame.currentQueryIndex}function Ov(e){se.lFrame.currentQueryIndex=e}function xk(e){let r=e[oe];return r.type===2?r.declTNode:r.type===1?e[Xt]:null}function gT(e,r,t){if(t&ue.SkipSelf){let i=r,o=e;for(;i=i.parent,i===null&&!(t&ue.Host);)if(i=xk(o),i===null||(o=o[ns],i.type&10))break;if(i===null)return!1;r=i,e=o}let n=se.lFrame=mT();return n.currentTNode=r,n.lView=e,!0}function xv(e){let r=mT(),t=e[oe];se.lFrame=r,r.currentTNode=t.firstChild,r.lView=e,r.tView=t,r.contextLView=e,r.bindingIndex=t.bindingStartIndex,r.inI18n=!1}function mT(){let e=se.lFrame,r=e===null?null:e.child;return r===null?vT(e):r}function vT(e){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=r),r}function yT(){let e=se.lFrame;return se.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ET=yT;function Nv(){let e=yT();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Nk(e){return(se.lFrame.contextLView=yk(e,se.lFrame.contextLView))[xn]}function Ur(){return se.lFrame.selectedIndex}function Yi(e){se.lFrame.selectedIndex=e}function Oa(){let e=se.lFrame;return aT(e.tView,e.selectedIndex)}function Pk(){return se.lFrame.currentNamespace}var CT=!0;function Pl(){return CT}function Fl(e){CT=e}function Fk(e,r,t){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=r.type.prototype;if(n){let s=rT(r);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function Ll(e,r){for(let t=r.directiveStart,n=r.directiveEnd;t<n;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),l!=null&&(e.destroyHooks??=[]).push(t,l)}}function Xu(e,r,t){ST(e,r,3,t)}function el(e,r,t,n){(e[Q]&3)===t&&ST(e,r,t,n)}function em(e,r){let t=e[Q];(t&3)===r&&(t&=16383,t+=1,e[Q]=t)}function ST(e,r,t,n){let i=n!==void 0?e[Vo]&65535:0,o=n??-1,s=r.length-1,a=0;for(let c=i;c<s;c++)if(typeof r[c+1]=="number"){if(a=r[c],n!=null&&a>=n)break}else r[c]<0&&(e[Vo]+=65536),(a<o||o==-1)&&(Lk(e,t,r,c),e[Vo]=(e[Vo]&4294901760)+c+2),c++}function Wb(e,r){ir(4,e,r);let t=ve(null);try{r.call(e)}finally{ve(t),ir(5,e,r)}}function Lk(e,r,t,n){let i=t[n]<0,o=t[n+1],s=i?-t[n]:t[n],a=e[s];i?e[Q]>>14<e[Vo]>>16&&(e[Q]&3)===r&&(e[Q]+=16384,Wb(a,o)):Wb(a,o)}var Wo=-1,Ki=class{constructor(r,t,n){this.factory=r,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}};function kk(e){return e instanceof Ki}function Uk(e){return(e.flags&8)!==0}function jk(e){return(e.flags&16)!==0}function IT(e){return e!==Wo}function ul(e){return e&32767}function $k(e){return e>>16}function ll(e,r){let t=$k(e),n=r;for(;t>0;)n=n[ns],t--;return n}var Dm=!0;function dl(e){let r=Dm;return Dm=e,r}var Bk=256,DT=Bk-1,bT=5,Vk=0,or={};function Hk(e,r,t){let n;typeof t=="string"?n=t.charCodeAt(0)||0:t.hasOwnProperty(fa)&&(n=t[fa]),n==null&&(n=t[fa]=Vk++);let i=n&DT,o=1<<i;r.data[e+(i>>bT)]|=o}function fl(e,r){let t=wT(e,r);if(t!==-1)return t;let n=r[oe];n.firstCreatePass&&(e.injectorIndex=r.length,tm(n.data,e),tm(r,null),tm(n.blueprint,null));let i=Pv(e,r),o=e.injectorIndex;if(IT(i)){let s=ul(i),a=ll(i,r),c=a[oe].data;for(let u=0;u<8;u++)r[o+u]=a[s+u]|c[s+u]}return r[o+8]=i,o}function tm(e,r){e.push(0,0,0,0,0,0,0,0,r)}function wT(e,r){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||r[e.injectorIndex+8]===null?-1:e.injectorIndex}function Pv(e,r){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,n=null,i=r;for(;i!==null;){if(n=_T(i),n===null)return Wo;if(t++,i=i[ns],n.injectorIndex!==-1)return n.injectorIndex|t<<16}return Wo}function bm(e,r,t){Hk(e,r,t)}function zk(e,r){if(r==="class")return e.classes;if(r==="style")return e.styles;let t=e.attrs;if(t){let n=t.length,i=0;for(;i<n;){let o=t[i];if(jw(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof t[i]=="string";)i++;else{if(o===r)return t[i+1];i=i+2}}}return null}function TT(e,r,t){if(t&ue.Optional||e!==void 0)return e;yv(r,"NodeInjector")}function AT(e,r,t,n){if(t&ue.Optional&&n===void 0&&(n=null),!(t&(ue.Self|ue.Host))){let i=e[Ko],o=Vt(void 0);try{return i?i.get(r,n,t&ue.Optional):Pw(r,n,t&ue.Optional)}finally{Vt(o)}}return TT(n,r,t)}function RT(e,r,t,n=ue.Default,i){if(e!==null){if(r[Q]&2048&&!(n&ue.Self)){let s=Yk(e,r,t,n,or);if(s!==or)return s}let o=MT(e,r,t,n,or);if(o!==or)return o}return AT(r,t,n,i)}function MT(e,r,t,n,i){let o=Wk(t);if(typeof o=="function"){if(!gT(r,e,n))return n&ue.Host?TT(i,t,n):AT(r,t,n,i);try{let s;if(s=o(n),s==null&&!(n&ue.Optional))yv(t);else return s}finally{ET()}}else if(typeof o=="number"){let s=null,a=wT(e,r),c=Wo,u=n&ue.Host?r[Pn][Xt]:null;for((a===-1||n&ue.SkipSelf)&&(c=a===-1?Pv(e,r):r[a+8],c===Wo||!Yb(n,!1)?a=-1:(s=r[oe],a=ul(c),r=ll(c,r)));a!==-1;){let l=r[oe];if(qb(o,a,l.data)){let d=Gk(a,r,t,s,n,u);if(d!==or)return d}c=r[a+8],c!==Wo&&Yb(n,r[oe].data[a+8]===u)&&qb(o,a,r)?(s=l,a=ul(c),r=ll(c,r)):a=-1}}return i}function Gk(e,r,t,n,i,o){let s=r[oe],a=s.data[e+8],c=n==null?Ol(a)&&Dm:n!=s&&(a.type&3)!==0,u=i&ue.Host&&o===a,l=tl(a,s,t,c,u);return l!==null?Zi(r,s,l,a):or}function tl(e,r,t,n,i){let o=e.providerIndexes,s=r.data,a=o&1048575,c=e.directiveStart,u=e.directiveEnd,l=o>>20,d=n?a:a+l,h=i?a+l:u;for(let m=d;m<h;m++){let C=s[m];if(m<c&&t===C||m>=c&&C.type===t)return m}if(i){let m=s[c];if(m&&pi(m)&&m.type===t)return c}return null}function Zi(e,r,t,n){let i=e[t],o=r.data;if(kk(i)){let s=i;s.resolving&&vL(mL(o[t]));let a=dl(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Vt(s.injectImpl):null,l=gT(e,n,ue.Default);try{i=e[t]=s.factory(void 0,o,e,n),r.firstCreatePass&&t>=n.directiveStart&&Fk(t,o[t],r)}finally{u!==null&&Vt(u),dl(a),s.resolving=!1,ET()}}return i}function Wk(e){if(typeof e=="string")return e.charCodeAt(0)||0;let r=e.hasOwnProperty(fa)?e[fa]:void 0;return typeof r=="number"?r>=0?r&DT:qk:r}function qb(e,r,t){let n=1<<e;return!!(t[r+(e>>bT)]&n)}function Yb(e,r){return!(e&ue.Self)&&!(e&ue.Host&&r)}var zi=class{constructor(r,t){this._tNode=r,this._lView=t}get(r,t,n){return RT(this._tNode,this._lView,r,Al(n),t)}};function qk(){return new zi(At(),q())}function qe(e){return ba(()=>{let r=e.prototype.constructor,t=r[il]||wm(r),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let o=i[il]||wm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wm(e){return Rw(e)?()=>{let r=wm(Pt(e));return r&&r()}:Gi(e)}function Yk(e,r,t,n,i){let o=e,s=r;for(;o!==null&&s!==null&&s[Q]&2048&&!(s[Q]&512);){let a=MT(o,s,t,n|ue.Self,or);if(a!==or)return a;let c=o.parent;if(!c){let u=s[eT];if(u){let l=u.get(t,or,n);if(l!==or)return l}c=_T(s),s=s[ns]}o=c}return i}function _T(e){let r=e[oe],t=r.type;return t===2?r.declTNode:t===1?e[Xt]:null}function Fv(e){return zk(At(),e)}function Kb(e,r=null,t=null,n){let i=OT(e,r,t,n);return i.resolveInjectorInitializers(),i}function OT(e,r=null,t=null,n,i=new Set){let o=[t||Ht,YL(e)];return n=n||(typeof e=="object"?void 0:Ft(e)),new ma(o,r||bv(),n||null,i)}var Qe=(()=>{class e{static{this.THROW_IF_NOT_FOUND=pa}static{this.NULL=new al}static create(t,n){if(Array.isArray(t))return Kb({name:""},n,t,"");{let i=t.name??"";return Kb({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=g({token:e,providedIn:"any",factory:()=>f(Lw)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var Kk="ngOriginalError";function nm(e){return e[Kk]}var ct=class{constructor(){this._console=console}handleError(r){let t=this._findOriginalError(r);this._console.error("ERROR",r),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(r){let t=r&&nm(r);for(;t&&nm(t);)t=nm(t);return t||null}},xT=new S("",{providedIn:"root",factory:()=>E(ct).handleError.bind(void 0)}),yi=(()=>{class e{static{this.__NG_ELEMENT_ID__=Zk}static{this.__NG_ENV_ID__=t=>t}}return e})(),Tm=class extends yi{constructor(r){super(),this._lView=r}onDestroy(r){return uT(this._lView,r),()=>Ek(this._lView,r)}};function Zk(){return new Tm(q())}function Qk(){return rs(At(),q())}function rs(e,r){return new lr(gn(e,r))}var lr=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Qk}}return e})();function Jk(e){return e instanceof lr?e.nativeElement:e}var Am=class extends ie{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,Xw()&&(this.destroyRef=E(yi,{optional:!0})??void 0)}emit(r){let t=ve(null);try{super.next(r)}finally{ve(t)}}subscribe(r,t,n){let i=r,o=t||(()=>null),s=n;if(r&&typeof r=="object"){let c=r;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=rm(o),i&&(i=rm(i)),s&&(s=rm(s)));let a=super.subscribe({next:i,error:o,complete:s});return r instanceof Ee&&r.add(a),a}};function rm(e){return r=>{setTimeout(e,void 0,r)}}var vt=Am;function Xk(){return this._results[Symbol.iterator]()}var Rm=class e{get changes(){return this._changes??=new vt}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=e.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Xk)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,t){return this._results.reduce(r,t)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,t){this.dirty=!1;let n=RL(r);(this._changesDetected=!AL(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function NT(e){return(e.flags&128)===128}var PT=new Map,eU=0;function tU(){return eU++}function nU(e){PT.set(e[_l],e)}function rU(e){PT.delete(e[_l])}var Zb="__ngContext__";function gi(e,r){Hi(r)?(e[Zb]=r[_l],nU(r)):e[Zb]=r}function FT(e){return kT(e[Ea])}function LT(e){return kT(e[On])}function kT(e){for(;e!==null&&!kr(e);)e=e[On];return e}var Mm;function UT(e){Mm=e}function Lv(){if(Mm!==void 0)return Mm;if(typeof document<"u")return document;throw new B(210,!1)}var xa=new S("",{providedIn:"root",factory:()=>iU}),iU="ng",kv=new S(""),$e=new S("",{providedIn:"platform",factory:()=>"unknown"});var Uv=new S("",{providedIn:"root",factory:()=>Lv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function oU(){let e=new Na;return E($e)==="browser"&&(e.store=sU(Lv(),E(xa))),e}var Na=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=g({token:e,providedIn:"root",factory:oU})}get(t,n){return this.store[t]!==void 0?this.store[t]:n}set(t,n){this.store[t]=n}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(t,n){this.onSerializeCallbacks[t]=n}toJson(){for(let t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(n){console.warn("Exception in onSerialize callback: ",n)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function sU(e,r){let t=e.getElementById(r+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+r,n)}return{}}var aU="h",cU="b";var uU=()=>null;function jv(e,r,t=!1){return uU(e,r,t)}var jT=!1,lU=new S("",{providedIn:"root",factory:()=>jT});var Wu;function dU(){if(Wu===void 0&&(Wu=null,We.trustedTypes))try{Wu=We.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Wu}function kl(e){return dU()?.createHTML(e)||e}var qu;function $T(){if(qu===void 0&&(qu=null,We.trustedTypes))try{qu=We.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return qu}function Qb(e){return $T()?.createHTML(e)||e}function Jb(e){return $T()?.createScriptURL(e)||e}var Nr=class{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tw})`}},_m=class extends Nr{getTypeName(){return"HTML"}},Om=class extends Nr{getTypeName(){return"Style"}},xm=class extends Nr{getTypeName(){return"Script"}},Nm=class extends Nr{getTypeName(){return"URL"}},Pm=class extends Nr{getTypeName(){return"ResourceURL"}};function zt(e){return e instanceof Nr?e.changingThisBreaksApplicationSecurity:e}function dr(e,r){let t=fU(e);if(t!=null&&t!==r){if(t==="ResourceURL"&&r==="URL")return!0;throw new Error(`Required a safe ${r}, got a ${t} (see ${Tw})`)}return t===r}function fU(e){return e instanceof Nr&&e.getTypeName()||null}function BT(e){return new _m(e)}function VT(e){return new Om(e)}function HT(e){return new xm(e)}function zT(e){return new Nm(e)}function GT(e){return new Pm(e)}function hU(e){let r=new Lm(e);return pU()?new Fm(r):r}var Fm=class{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{let t=new window.DOMParser().parseFromString(kl(r),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(r):(t.removeChild(t.firstChild),t)}catch{return null}}},Lm=class{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){let t=this.inertDocument.createElement("template");return t.innerHTML=kl(r),t}};function pU(){try{return!!new window.DOMParser().parseFromString(kl(""),"text/html")}catch{return!1}}var gU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ul(e){return e=String(e),e.match(gU)?e:"unsafe:"+e}function jr(e){let r={};for(let t of e.split(","))r[t]=!0;return r}function Pa(...e){let r={};for(let t of e)for(let n in t)t.hasOwnProperty(n)&&(r[n]=!0);return r}var WT=jr("area,br,col,hr,img,wbr"),qT=jr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),YT=jr("rp,rt"),mU=Pa(YT,qT),vU=Pa(qT,jr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yU=Pa(YT,jr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xb=Pa(WT,vU,yU,mU),KT=jr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),EU=jr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),CU=jr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),SU=Pa(KT,EU,CU),IU=jr("script,style,template"),km=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let t=r.firstChild,n=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild){i.push(t),t=wU(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=bU(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(r){let t=ew(r).toLowerCase();if(!Xb.hasOwnProperty(t))return this.sanitizedSomething=!0,!IU.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let n=r.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!SU.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;KT[a]&&(c=Ul(c)),this.buf.push(" ",s,'="',tw(c),'"')}return this.buf.push(">"),!0}endElement(r){let t=ew(r).toLowerCase();Xb.hasOwnProperty(t)&&!WT.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(r){this.buf.push(tw(r))}};function DU(e,r){return(e.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function bU(e){let r=e.nextSibling;if(r&&e!==r.previousSibling)throw ZT(r);return r}function wU(e){let r=e.firstChild;if(r&&DU(e,r))throw ZT(r);return r}function ew(e){let r=e.nodeName;return typeof r=="string"?r:"FORM"}function ZT(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var TU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,AU=/([^\#-~ |!])/g;function tw(e){return e.replace(/&/g,"&amp;").replace(TU,function(r){let t=r.charCodeAt(0),n=r.charCodeAt(1);return"&#"+((t-55296)*1024+(n-56320)+65536)+";"}).replace(AU,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Yu;function $v(e,r){let t=null;try{Yu=Yu||hU(e);let n=r?String(r):"";t=Yu.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=t.innerHTML,t=Yu.getInertBodyElement(n)}while(n!==o);let a=new km().sanitizeChildren(nw(t)||t);return kl(a)}finally{if(t){let n=nw(t)||t;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function nw(e){return"content"in e&&RU(e)?e.content:null}function RU(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var vn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(vn||{});function Hoe(e){let r=jl();return r?Qb(r.sanitize(vn.HTML,e)||""):dr(e,"HTML")?Qb(zt(e)):$v(Lv(),_n(e))}function zoe(e){let r=jl();return r?r.sanitize(vn.STYLE,e)||"":dr(e,"Style")?zt(e):_n(e)}function MU(e){let r=jl();return r?r.sanitize(vn.URL,e)||"":dr(e,"URL")?zt(e):Ul(_n(e))}function _U(e){let r=jl();if(r)return Jb(r.sanitize(vn.RESOURCE_URL,e)||"");if(dr(e,"ResourceURL"))return Jb(zt(e));throw new B(904,!1)}function OU(e,r){return r==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||r==="href"&&(e==="base"||e==="link")?_U:MU}function QT(e,r,t){return OU(r,t)(e)}function jl(){let e=q();return e&&e[Nn].sanitizer}var xU=/^>|^->|<!--|-->|--!>|<!-$/g,NU=/(<|>)/g,PU="\u200B$1\u200B";function FU(e){return e.replace(xU,r=>r.replace(NU,PU))}function Goe(e){return e.ownerDocument.defaultView}function Woe(e){return e.ownerDocument}function JT(e){return e instanceof Function?e():e}function LU(e){return(e??E(Qe)).get($e)==="browser"}var Pr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Pr||{}),kU;function Bv(e,r){return kU(e,r)}function Ho(e,r,t,n,i){if(n!=null){let o,s=!1;kr(n)?o=n:Hi(n)&&(s=!0,n=n[Lr]);let a=cr(n);e===0&&t!==null?i==null?i0(r,t,a):hl(r,t,a,i||null,!0):e===1&&t!==null?hl(r,t,a,i||null,!0):e===2?XU(r,a,s):e===3&&r.destroyNode(a),o!=null&&tj(r,e,o,t,i)}}function UU(e,r){return e.createText(r)}function jU(e,r,t){e.setValue(r,t)}function $U(e,r){return e.createComment(FU(r))}function XT(e,r,t){return e.createElement(r,t)}function BU(e,r){e0(e,r),r[Lr]=null,r[Xt]=null}function VU(e,r,t,n,i,o){n[Lr]=i,n[Xt]=r,Bl(e,n,t,1,i,o)}function e0(e,r){r[Nn].changeDetectionScheduler?.notify(1),Bl(e,r,r[Pe],2,null,null)}function HU(e){let r=e[Ea];if(!r)return im(e[oe],e);for(;r;){let t=null;if(Hi(r))t=r[Ea];else{let n=r[Qt];n&&(t=n)}if(!t){for(;r&&!r[On]&&r!==e;)Hi(r)&&im(r[oe],r),r=r[yt];r===null&&(r=e),Hi(r)&&im(r[oe],r),t=r&&r[On]}r=t}}function zU(e,r,t,n){let i=Qt+n,o=t.length;n>0&&(t[i-1][On]=r),n<o-Qt?(r[On]=t[i],Fw(t,Qt+n,r)):(t.push(r),r[On]=null),r[yt]=t;let s=r[Ra];s!==null&&t!==s&&GU(s,r);let a=r[xr];a!==null&&a.insertView(e),Sm(r),r[Q]|=128}function GU(e,r){let t=e[Zo],i=r[yt][yt][Pn];r[Pn]!==i&&(e[Q]|=wv.HasTransplantedViews),t===null?e[Zo]=[r]:t.push(r)}function t0(e,r){let t=e[Zo],n=t.indexOf(r);t.splice(n,1)}function Um(e,r){if(e.length<=Qt)return;let t=Qt+r,n=e[t];if(n){let i=n[Ra];i!==null&&i!==e&&t0(i,n),r>0&&(e[t-1][On]=n[On]);let o=sl(e,Qt+r);BU(n[oe],n);let s=o[xr];s!==null&&s.detachView(o[oe]),n[yt]=null,n[On]=null,n[Q]&=-129}return n}function n0(e,r){if(!(r[Q]&256)){let t=r[Pe];t.destroyNode&&Bl(e,r,t,3,null,null),HU(r)}}function im(e,r){if(r[Q]&256)return;let t=ve(null);try{r[Q]&=-129,r[Q]|=256,r[Wi]&&wb(r[Wi]),qU(e,r),WU(e,r),r[oe].type===1&&r[Pe].destroy();let n=r[Ra];if(n!==null&&kr(r[yt])){n!==r[yt]&&t0(n,r);let i=r[xr];i!==null&&i.detachView(e)}rU(r)}finally{ve(t)}}function WU(e,r){let t=e.cleanup,n=r[ya];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[t[o+1]];t[o].call(s)}n!==null&&(r[ya]=null);let i=r[fi];if(i!==null){r[fi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function qU(e,r){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let n=0;n<t.length;n+=2){let i=r[t[n]];if(!(i instanceof Ki)){let o=t[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ir(4,a,c);try{c.call(a)}finally{ir(5,a,c)}}else{ir(4,i,o);try{o.call(i)}finally{ir(5,i,o)}}}}}function r0(e,r,t){return YU(e,r.parent,t)}function YU(e,r,t){let n=r;for(;n!==null&&n.type&40;)r=n,n=r.parent;if(n===null)return t[Lr];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=e.data[n.directiveStart+i];if(o===ar.None||o===ar.Emulated)return null}return gn(n,t)}}function hl(e,r,t,n,i){e.insertBefore(r,t,n,i)}function i0(e,r,t){e.appendChild(r,t)}function rw(e,r,t,n,i){n!==null?hl(e,r,t,n,i):i0(e,r,t)}function KU(e,r,t,n){e.removeChild(r,t,n)}function Vv(e,r){return e.parentNode(r)}function ZU(e,r){return e.nextSibling(r)}function o0(e,r,t){return JU(e,r,t)}function QU(e,r,t){return e.type&40?gn(e,t):null}var JU=QU,iw;function $l(e,r,t,n){let i=r0(e,n,r),o=r[Pe],s=n.parent||r[Xt],a=o0(s,n,r);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)rw(o,i,t[c],a,!1);else rw(o,i,t,a,!1);iw!==void 0&&iw(o,n,r,t,i)}function nl(e,r){if(r!==null){let t=r.type;if(t&3)return gn(r,e);if(t&4)return jm(-1,e[r.index]);if(t&8){let n=r.child;if(n!==null)return nl(e,n);{let i=e[r.index];return kr(i)?jm(-1,i):cr(i)}}else{if(t&32)return Bv(r,e)()||cr(e[r.index]);{let n=s0(e,r);if(n!==null){if(Array.isArray(n))return n[0];let i=Sa(e[Pn]);return nl(i,n)}else return nl(e,r.next)}}}return null}function s0(e,r){if(r!==null){let n=e[Pn][Xt],i=r.projection;return n.projection[i]}return null}function jm(e,r){let t=Qt+e+1;if(t<r.length){let n=r[t],i=n[oe].firstChild;if(i!==null)return nl(n,i)}return r[qi]}function XU(e,r,t){let n=Vv(e,r);n&&KU(e,n,r,t)}function Hv(e,r,t,n,i,o,s){for(;t!=null;){let a=n[t.index],c=t.type;if(s&&r===0&&(a&&gi(cr(a),n),t.flags|=2),(t.flags&32)!==32)if(c&8)Hv(e,r,t.child,n,i,o,!1),Ho(r,e,i,a,o);else if(c&32){let u=Bv(t,n),l;for(;l=u();)Ho(r,e,i,l,o);Ho(r,e,i,a,o)}else c&16?a0(e,r,n,t,i,o):Ho(r,e,i,a,o);t=s?t.projectionNext:t.next}}function Bl(e,r,t,n,i,o){Hv(t,n,e.firstChild,r,i,o,!1)}function ej(e,r,t){let n=r[Pe],i=r0(e,t,r),o=t.parent||r[Xt],s=o0(o,t,r);a0(n,0,r,t,i,s)}function a0(e,r,t,n,i,o){let s=t[Pn],c=s[Xt].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ho(r,e,i,l,o)}else{let u=c,l=s[yt];NT(n)&&(u.flags|=128),Hv(e,r,u,l,i,o,!0)}}function tj(e,r,t,n,i){let o=t[qi],s=cr(t);o!==s&&Ho(r,e,n,o,i);for(let a=Qt;a<t.length;a++){let c=t[a];Bl(c[oe],c,e,r,n,o)}}function nj(e,r,t,n,i){if(r)i?e.addClass(t,n):e.removeClass(t,n);else{let o=n.indexOf("-")===-1?void 0:Pr.DashCase;i==null?e.removeStyle(t,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Pr.Important),e.setStyle(t,n,i,o))}}function rj(e,r,t){e.setAttribute(r,"style",t)}function c0(e,r,t){t===""?e.removeAttribute(r,"class"):e.setAttribute(r,"class",t)}function u0(e,r,t){let{mergedAttrs:n,classes:i,styles:o}=t;n!==null&&mm(e,r,n),i!==null&&c0(e,r,i),o!==null&&rj(e,r,o)}var kt={};function qoe(e=1){l0(je(),q(),Ur()+e,!1)}function l0(e,r,t,n){if(!n)if((r[Q]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Xu(r,o,t)}else{let o=e.preOrderHooks;o!==null&&el(r,o,0,t)}Yi(t)}function J(e,r=ue.Default){let t=q();if(t===null)return f(e,r);let n=At();return RT(n,t,Pt(e),r)}function d0(){let e="invalid";throw new Error(e)}function f0(e,r,t,n,i,o){let s=ve(null);try{let a=null;i&fn.SignalBased&&(a=r[n][Or]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&fn.HasDecoratorInputTransform&&(o=e.inputTransforms[n].call(r,o)),e.setInput!==null?e.setInput(r,a,o,t,n):nT(r,a,n,o)}finally{ve(s)}}function ij(e,r){let t=e.hostBindingOpCodes;if(t!==null)try{for(let n=0;n<t.length;n++){let i=t[n];if(i<0)Yi(~i);else{let o=i,s=t[++n],a=t[++n];Mk(s,o);let c=r[o];a(2,c)}}}finally{Yi(-1)}}function Vl(e,r,t,n,i,o,s,a,c,u,l){let d=r.blueprint.slice();return d[Lr]=i,d[Q]=n|4|128|8|64,(u!==null||e&&e[Q]&2048)&&(d[Q]|=2048),cT(d),d[yt]=d[ns]=e,d[xn]=t,d[Nn]=s||e&&e[Nn],d[Pe]=a||e&&e[Pe],d[Ko]=c||e&&e[Ko]||null,d[Xt]=o,d[_l]=tU(),d[va]=l,d[eT]=u,d[Pn]=r.type==2?e[Pn]:d,d}function is(e,r,t,n,i){let o=e.data[r];if(o===null)o=oj(e,r,t,n,i),Rk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=n,o.attrs=i;let s=wk();o.injectorIndex=s===null?-1:s.injectorIndex}return to(o,!0),o}function oj(e,r,t,n,i){let o=fT(),s=Mv(),a=s?o:o&&o.parent,c=e.data[r]=dj(e,a,t,r,n,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function h0(e,r,t,n){if(t===0)return-1;let i=r.length;for(let o=0;o<t;o++)r.push(n),e.blueprint.push(n),e.data.push(null);return i}function p0(e,r,t,n,i){let o=Ur(),s=n&2;try{Yi(-1),s&&r.length>Tt&&l0(e,r,Tt,!1),ir(s?2:0,i),t(n,i)}finally{Yi(o),ir(s?3:1,i)}}function zv(e,r,t){if(Tv(r)){let n=ve(null);try{let i=r.directiveStart,o=r.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(n)}}}function Gv(e,r,t){lT()&&(vj(e,r,t,gn(t,r)),(t.flags&64)===64&&v0(e,r,t))}function Wv(e,r,t=gn){let n=r.localNames;if(n!==null){let i=r.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?t(r,e):e[s];e[i++]=a}}}function g0(e){let r=e.tView;return r===null||r.incompleteFirstPass?e.tView=qv(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):r}function qv(e,r,t,n,i,o,s,a,c,u,l){let d=Tt+n,h=d+i,m=sj(d,h),C=typeof u=="function"?u():u;return m[oe]={type:e,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:r,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:l}}function sj(e,r){let t=[];for(let n=0;n<r;n++)t.push(n<e?null:kt);return t}function aj(e,r,t,n){let o=n.get(lU,jT)||t===ar.ShadowDom,s=e.selectRootElement(r,o);return cj(s),s}function cj(e){uj(e)}var uj=()=>null;function lj(e,r,t,n){let i=C0(r);i.push(t),e.firstCreatePass&&S0(e).push(n,i.length-1)}function dj(e,r,t,n,i,o){let s=r?r.injectorIndex:-1,a=0;return dT()&&(a|=128),{type:t,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ow(e,r,t,n,i){for(let o in r){if(!r.hasOwnProperty(o))continue;let s=r[o];if(s===void 0)continue;n??={};let a,c=fn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}e===0?sw(n,t,u,a,c):sw(n,t,u,a)}return n}function sw(e,r,t,n,i){let o;e.hasOwnProperty(t)?(o=e[t]).push(r,n):o=e[t]=[r,n],i!==void 0&&o.push(i)}function fj(e,r,t){let n=r.directiveStart,i=r.directiveEnd,o=e.data,s=r.attrs,a=[],c=null,u=null;for(let l=n;l<i;l++){let d=o[l],h=t?t.get(d):null,m=h?h.inputs:null,C=h?h.outputs:null;c=ow(0,d.inputs,l,c,m),u=ow(1,d.outputs,l,u,C);let D=c!==null&&s!==null&&!Iv(r)?Rj(c,l,s):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(r.flags|=8),c.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=a,r.inputs=c,r.outputs=u}function hj(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Hl(e,r,t,n,i,o,s,a){let c=gn(r,t),u=r.inputs,l;!a&&u!=null&&(l=u[n])?(Kv(e,t,l,n,i),Ol(r)&&pj(t,r.index)):r.type&3?(n=hj(n),i=s!=null?s(i,r.value||"",n):i,o.setProperty(c,n,i)):r.type&12}function pj(e,r){let t=vi(r,e);t[Q]&16||(t[Q]|=64)}function Yv(e,r,t,n){if(lT()){let i=n===null?null:{"":-1},o=Ej(e,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&m0(e,r,t,s,i,a),i&&Cj(t,n,i)}t.mergedAttrs=ga(t.mergedAttrs,t.attrs)}function m0(e,r,t,n,i,o){for(let u=0;u<n.length;u++)bm(fl(t,r),e,n[u].type);Ij(t,e.data.length,n.length);for(let u=0;u<n.length;u++){let l=n[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=h0(e,r,n.length,null);for(let u=0;u<n.length;u++){let l=n[u];t.mergedAttrs=ga(t.mergedAttrs,l.hostAttrs),Dj(e,t,r,c,l),Sj(c,l,i),l.contentQueries!==null&&(t.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(t.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}fj(e,t,o)}function gj(e,r,t,n,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~r.index;mj(s)!=a&&s.push(a),s.push(t,n,o)}}function mj(e){let r=e.length;for(;r>0;){let t=e[--r];if(typeof t=="number"&&t<0)return t}return 0}function vj(e,r,t,n){let i=t.directiveStart,o=t.directiveEnd;Ol(t)&&bj(r,t,e.data[i+t.componentOffset]),e.firstCreatePass||fl(t,r),gi(n,r);let s=t.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],u=Zi(r,e,a,t);if(gi(u,r),s!==null&&Aj(r,a-i,u,c,t,s),pi(c)){let l=vi(t.index,r);l[xn]=Zi(r,e,a,t)}}}function v0(e,r,t){let n=t.directiveStart,i=t.directiveEnd,o=t.index,s=_k();try{Yi(o);for(let a=n;a<i;a++){let c=e.data[a],u=r[a];Im(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&yj(c,u)}}finally{Yi(-1),Im(s)}}function yj(e,r){e.hostBindings!==null&&e.hostBindings(1,r)}function Ej(e,r){let t=e.directiveRegistry,n=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(Bw(r,s.selectors,!1))if(n||(n=[]),pi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let c=a.length;$m(e,r,c)}else n.unshift(s),$m(e,r,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function $m(e,r,t){r.componentOffset=t,(e.components??=[]).push(r.index)}function Cj(e,r,t){if(r){let n=e.localNames=[];for(let i=0;i<r.length;i+=2){let o=t[r[i+1]];if(o==null)throw new B(-301,!1);n.push(r[i],o)}}}function Sj(e,r,t){if(t){if(r.exportAs)for(let n=0;n<r.exportAs.length;n++)t[r.exportAs[n]]=e;pi(r)&&(t[""]=e)}}function Ij(e,r,t){e.flags|=1,e.directiveStart=r,e.directiveEnd=r+t,e.providerIndexes=r}function Dj(e,r,t,n,i){e.data[n]=i;let o=i.factory||(i.factory=Gi(i.type,!0)),s=new Ki(o,pi(i),J);e.blueprint[n]=s,t[n]=s,gj(e,r,n,h0(e,t,i.hostVars,kt),i)}function bj(e,r,t){let n=gn(r,e),i=g0(t),o=e[Nn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=zl(e,Vl(e,i,null,s,n,r,null,o.createRenderer(n,t),null,null,null));e[r.index]=a}function wj(e,r,t,n,i,o){let s=gn(e,r);Tj(r[Pe],s,o,e.value,t,n,i)}function Tj(e,r,t,n,i,o,s){if(o==null)e.removeAttribute(r,i,t);else{let a=s==null?_n(o):s(o,n||"",i);e.setAttribute(r,i,a,t)}}function Aj(e,r,t,n,i,o){let s=o[r];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];f0(n,t,c,u,l,d)}}function Rj(e,r,t){let n=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){n===null&&(n=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===r){n.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return n}function y0(e,r,t,n){return[e,!0,0,r,null,n,null,t,null,null]}function E0(e,r){let t=e.contentQueries;if(t!==null){let n=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=e.data[s];Ov(o),a.contentQueries(2,r[s],s)}}}finally{ve(n)}}}function zl(e,r){return e[Ea]?e[zb][On]=r:e[Ea]=r,e[zb]=r,r}function Bm(e,r,t){Ov(0);let n=ve(null);try{r(e,t)}finally{ve(n)}}function C0(e){return e[ya]||(e[ya]=[])}function S0(e){return e.cleanup||(e.cleanup=[])}function I0(e,r){let t=e[Ko],n=t?t.get(ct,null):null;n&&n.handleError(r)}function Kv(e,r,t,n,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],c=t[o++],u=r[s],l=e.data[s];f0(l,u,n,a,c,i)}}function Zv(e,r,t){let n=sT(r,e);jU(e[Pe],n,t)}function Mj(e,r){let t=vi(r,e),n=t[oe];_j(n,t);let i=t[Lr];i!==null&&t[va]===null&&(t[va]=jv(i,t[Ko])),Qv(n,t,t[xn])}function _j(e,r){for(let t=r.length;t<e.blueprint.length;t++)r.push(e.blueprint[t])}function Qv(e,r,t){xv(r);try{let n=e.viewQuery;n!==null&&Bm(1,n,t);let i=e.template;i!==null&&p0(e,r,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),r[xr]?.finishViewCreation(e),e.staticContentQueries&&E0(e,r),e.staticViewQueries&&Bm(2,e.viewQuery,t);let o=e.components;o!==null&&Oj(r,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{r[Q]&=-5,Nv()}}function Oj(e,r){for(let t=0;t<r.length;t++)Mj(e,r[t])}function xj(e,r,t,n){let i=ve(null);try{let o=r.tView,a=e[Q]&4096?4096:16,c=Vl(e,o,t,a,null,r,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=e[r.index];c[Ra]=u;let l=e[xr];return l!==null&&(c[xr]=l.createEmbeddedView(o)),Qv(o,c,t),c}finally{ve(i)}}function aw(e,r){return!r||r.firstChild===null||NT(e)}function Nj(e,r,t,n=!0){let i=r[oe];if(zU(i,r,e,t),n){let s=jm(t,e),a=r[Pe],c=Vv(a,e[qi]);c!==null&&VU(i,e[Xt],a,r,c,s)}let o=r[va];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function pl(e,r,t,n,i=!1){for(;t!==null;){let o=r[t.index];o!==null&&n.push(cr(o)),kr(o)&&Pj(o,n);let s=t.type;if(s&8)pl(e,r,t.child,n);else if(s&32){let a=Bv(t,r),c;for(;c=a();)n.push(c)}else if(s&16){let a=s0(r,t);if(Array.isArray(a))n.push(...a);else{let c=Sa(r[Pn]);pl(c[oe],c,a,n,!0)}}t=i?t.projectionNext:t.next}return n}function Pj(e,r){for(let t=Qt;t<e.length;t++){let n=e[t],i=n[oe].firstChild;i!==null&&pl(n[oe],n,i,r)}e[qi]!==e[Lr]&&r.push(e[qi])}var D0=[];function Fj(e){return e[Wi]??Lj(e)}function Lj(e){let r=D0.pop()??Object.create(Uj);return r.lView=e,r}function kj(e){e.lView[Wi]!==e&&(e.lView=null,D0.push(e))}var Uj=w(v({},Hu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ca(e.lView)},consumerOnSignalRead(){this.lView[Wi]=this}}),b0=100;function w0(e,r=!0,t=0){let n=e[Nn],i=n.rendererFactory,o=!1;o||i.begin?.();try{jj(e,t)}catch(s){throw r&&I0(e,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function jj(e,r){Vm(e,r);let t=0;for(;Rv(e);){if(t===b0)throw new B(103,!1);t++,Vm(e,1)}}function $j(e,r,t,n){let i=r[Q];if((i&256)===256)return;let o=!1;!o&&r[Nn].inlineEffectRunner?.flush(),xv(r);let s=null,a=null;!o&&Bj(e)&&(a=Fj(r),s=qg(a));try{cT(r),Ak(e.bindingStartIndex),t!==null&&p0(e,r,t,2,n);let c=(i&3)===3;if(!o)if(c){let d=e.preOrderCheckHooks;d!==null&&Xu(r,d,null)}else{let d=e.preOrderHooks;d!==null&&el(r,d,0,null),em(r,0)}if(Vj(r),T0(r,0),e.contentQueries!==null&&E0(e,r),!o)if(c){let d=e.contentCheckHooks;d!==null&&Xu(r,d)}else{let d=e.contentHooks;d!==null&&el(r,d,1),em(r,1)}ij(e,r);let u=e.components;u!==null&&R0(r,u,0);let l=e.viewQuery;if(l!==null&&Bm(2,l,n),!o)if(c){let d=e.viewCheckHooks;d!==null&&Xu(r,d)}else{let d=e.viewHooks;d!==null&&el(r,d,2),em(r,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),r[Xg]){for(let d of r[Xg])d();r[Xg]=null}o||(r[Q]&=-73)}catch(c){throw Ca(r),c}finally{a!==null&&(Yg(a,s),kj(a)),Nv()}}function Bj(e){return e.type!==2}function T0(e,r){for(let t=FT(e);t!==null;t=LT(t))for(let n=Qt;n<t.length;n++){let i=t[n];A0(i,r)}}function Vj(e){for(let r=FT(e);r!==null;r=LT(r)){if(!(r[Q]&wv.HasTransplantedViews))continue;let t=r[Zo];for(let n=0;n<t.length;n++){let i=t[n],o=i[yt];vk(i)}}}function Hj(e,r,t){let n=vi(r,e);A0(n,t)}function A0(e,r){Av(e)&&Vm(e,r)}function Vm(e,r){let n=e[oe],i=e[Q],o=e[Wi],s=!!(r===0&&i&16);if(s||=!!(i&64&&r===0),s||=!!(i&1024),s||=!!(o?.dirty&&Kg(o)),o&&(o.dirty=!1),e[Q]&=-9217,s)$j(n,e,n.template,e[xn]);else if(i&8192){T0(e,1);let a=n.components;a!==null&&R0(e,a,1)}}function R0(e,r,t){for(let n=0;n<r.length;n++)Hj(e,r[n],t)}function Jv(e){for(e[Nn].changeDetectionScheduler?.notify();e;){e[Q]|=64;let r=Sa(e);if(ak(e)&&!r)return e;e=r}return null}var Qi=class{get rootNodes(){let r=this._lView,t=r[oe];return pl(t,r,t.firstChild,[])}constructor(r,t,n=!0){this._lView=r,this._cdRefInjectingView=t,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(r){this._lView[xn]=r}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[yt];if(kr(r)){let t=r[cl],n=t?t.indexOf(this):-1;n>-1&&(Um(r,n),sl(t,n))}this._attachedToViewContainer=!1}n0(this._lView[oe],this._lView)}onDestroy(r){uT(this._lView,r)}markForCheck(){Jv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Sm(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,w0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,e0(this._lView[oe],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=r,Sm(this._lView)}},Fn=(()=>{class e{static{this.__NG_ELEMENT_ID__=Wj}}return e})(),zj=Fn,Gj=class extends zj{constructor(r,t,n){super(),this._declarationLView=r,this._declarationTContainer=t,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,t){return this.createEmbeddedViewImpl(r,t)}createEmbeddedViewImpl(r,t,n){let i=xj(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:t,dehydratedView:n});return new Qi(i)}};function Wj(){return Gl(At(),q())}function Gl(e,r){return e.type&4?new Gj(r,e,rs(e,r)):null}var Koe=new RegExp(`^(\\d+)*(${cU}|${aU})*(.*)`);var qj=()=>null;function cw(e,r){return qj(e,r)}var gl=class{},Hm=class{},ml=class{};function Yj(e){let r=Error(`No component factory found for ${Ft(e)}.`);return r[Kj]=e,r}var Kj="ngComponent";var zm=class{resolveComponentFactory(r){throw Yj(r)}},Wl=(()=>{class e{static{this.NULL=new zm}}return e})(),Ji=class{},os=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>Zj()}}return e})();function Zj(){let e=q(),r=At(),t=vi(r.index,e);return(Hi(t)?t:e)[Pe]}var Qj=(()=>{class e{static{this.\u0275prov=g({token:e,providedIn:"root",factory:()=>null})}}return e})(),om={};var uw=new Set;function ss(e){uw.has(e)||(uw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function lw(...e){}function Jj(){let e=typeof We.requestAnimationFrame=="function",r=We[e?"requestAnimationFrame":"setTimeout"],t=We[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&t){let n=r[Zone.__symbol__("OriginalDelegate")];n&&(r=n);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:t}}var Ce=class e{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vt(!1),this.onMicrotaskEmpty=new vt(!1),this.onStable=new vt(!1),this.onError=new vt(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&t,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Jj().nativeRequestAnimationFrame,t1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new B(909,!1)}run(r,t,n){return this._inner.run(r,t,n)}runTask(r,t,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,r,Xj,lw,lw);try{return o.runTask(s,t,n)}finally{o.cancelTask(s)}}runGuarded(r,t,n){return this._inner.runGuarded(r,t,n)}runOutsideAngular(r){return this._outer.run(r)}},Xj={};function Xv(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function e1(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(We,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Gm(e),e.isCheckStableRunning=!0,Xv(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Gm(e))}function t1(e){let r=()=>{e1(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,o,s,a)=>{if(n1(a))return t.invokeTask(i,o,s,a);try{return dw(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&r(),fw(e)}},onInvoke:(t,n,i,o,s,a,c)=>{try{return dw(e),t.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&r(),fw(e)}},onHasTask:(t,n,i,o)=>{t.hasTask(i,o),n===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Gm(e),Xv(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,n,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Gm(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function dw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fw(e){e._nesting--,Xv(e)}var Wm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vt,this.onMicrotaskEmpty=new vt,this.onStable=new vt,this.onError=new vt}run(r,t,n){return r.apply(t,n)}runGuarded(r,t,n){return r.apply(t,n)}runOutsideAngular(r){return r()}runTask(r,t,n,i){return r.apply(t,n)}};function n1(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}function r1(e="zone.js",r){return e==="noop"?new Wm:e==="zone.js"?new Ce(r):e}var zo=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(zo||{}),i1={destroy(){}};function ql(e,r){!r&&Aa(ql);let t=r?.injector??E(Qe);if(!LU(t))return i1;ss("NgAfterNextRender");let n=t.get(ey),i=n.handler??=new Ym,o=r?.phase??zo.MixedReadWrite,s=()=>{i.unregister(c),a()},a=t.get(yi).onDestroy(s),c=Ln(t,()=>new qm(o,()=>{s(),e()}));return i.register(c),{destroy:s}}var qm=class{constructor(r,t){this.phase=r,this.callbackFn=t,this.zone=E(Ce),this.errorHandler=E(ct,{optional:!0}),E(gl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}},Ym=class{constructor(){this.executingCallbacks=!1,this.buckets={[zo.EarlyRead]:new Set,[zo.Write]:new Set,[zo.MixedReadWrite]:new Set,[zo.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(let r of Object.values(this.buckets))for(let t of r)t.invoke();this.executingCallbacks=!1;for(let r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(let r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}},ey=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let n of t)n()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=g({token:e,providedIn:"root",factory:()=>new e})}}return e})();function vl(e,r,t){let n=t?e.styles:null,i=t?e.classes:null,o=0;if(r!==null)for(let s=0;s<r.length;s++){let a=r[s];if(typeof a=="number")o=a;else if(o==1)i=fm(i,a);else if(o==2){let c=a,u=r[++s];n=fm(n,c+": "+u+";")}}t?e.styles=n:e.stylesWithoutHost=n,t?e.classes=i:e.classesWithoutHost=i}var yl=class extends Wl{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let t=hi(r);return new Jo(t,this.ngModule)}};function hw(e){let r=[];for(let t in e){if(!e.hasOwnProperty(t))continue;let n=e[t];n!==void 0&&r.push({propName:Array.isArray(n)?n[0]:n,templateName:t})}return r}function o1(e){let r=e.toLowerCase();return r==="svg"?dk:r==="math"?fk:null}var Km=class{constructor(r,t){this.injector=r,this.parentInjector=t}get(r,t,n){n=Al(n);let i=this.injector.get(r,om,n);return i!==om||t===om?i:this.parentInjector.get(r,t,n)}},Jo=class extends ml{get inputs(){let r=this.componentDef,t=r.inputTransforms,n=hw(r.inputs);if(t!==null)for(let i of n)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return n}get outputs(){return hw(this.componentDef.outputs)}constructor(r,t){super(),this.componentDef=r,this.ngModule=t,this.componentType=r.type,this.selector=HL(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!t}create(r,t,n,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof wt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Km(r,s):r,c=a.get(Ji,null);if(c===null)throw new B(407,!1);let u=a.get(Qj,null),l=a.get(ey,null),d=a.get(gl,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},m=c.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",D=n?aj(m,n,this.componentDef.encapsulation,a):XT(m,C,o1(C)),A=512;this.componentDef.signals?A|=4096:this.componentDef.onPush||(A|=16);let N=null;D!==null&&(N=jv(D,a,!0));let x=qv(0,null,null,1,0,null,null,null,null,null,null),Y=Vl(null,x,null,A,null,null,h,m,a,null,N);xv(Y);let Z,X;try{let fe=this.componentDef,Te,He=null;fe.findHostDirectiveDefs?(Te=[],He=new Map,fe.findHostDirectiveDefs(fe,Te,He),Te.push(fe)):Te=[fe];let Ni=s1(Y,D),Yn=a1(Ni,D,fe,Te,Y,h,m);X=aT(x,Tt),D&&l1(m,fe,D,n),t!==void 0&&d1(X,this.ngContentSelectors,t),Z=u1(Yn,fe,Te,He,Y,[f1]),Qv(x,Y,null)}finally{Nv()}return new Zm(this.componentType,Z,rs(X,Y),Y,X)}finally{ve(o)}}},Zm=class extends Hm{constructor(r,t,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Qi(i,void 0,!1),this.componentType=r}setInput(r,t){let n=this._tNode.inputs,i;if(n!==null&&(i=n[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),t))return;let o=this._rootLView;Kv(o[oe],o,i,r,t),this.previousInputValues.set(r,t);let s=vi(this._tNode.index,o);Jv(s)}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function s1(e,r){let t=e[oe],n=Tt;return e[n]=r,is(t,n,2,"#host",null)}function a1(e,r,t,n,i,o,s){let a=i[oe];c1(n,e,r,s);let c=null;r!==null&&(c=jv(r,i[Ko]));let u=o.rendererFactory.createRenderer(r,t),l=16;t.signals?l=4096:t.onPush&&(l=64);let d=Vl(i,g0(t),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&$m(a,e,n.length-1),zl(i,d),i[e.index]=d}function c1(e,r,t,n){for(let i of e)r.mergedAttrs=ga(r.mergedAttrs,i.hostAttrs);r.mergedAttrs!==null&&(vl(r,r.mergedAttrs,!0),t!==null&&u0(n,t,r))}function u1(e,r,t,n,i,o){let s=At(),a=i[oe],c=gn(s,i);m0(a,i,s,t,null,n);for(let l=0;l<t.length;l++){let d=s.directiveStart+l,h=Zi(i,a,d,s);gi(h,i)}v0(a,i,s),c&&gi(c,i);let u=Zi(i,a,s.directiveStart+s.componentOffset,s);if(e[xn]=i[xn]=u,o!==null)for(let l of o)l(u,r);return zv(a,s,i),u}function l1(e,r,t,n){if(n)mm(e,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=zL(r.selectors[0]);i&&mm(e,t,i),o&&o.length>0&&c0(e,t,o.join(" "))}}function d1(e,r,t){let n=e.projection=[];for(let i=0;i<r.length;i++){let o=t[i];n.push(o!=null?Array.from(o):null)}}function f1(){let e=At();Ll(q()[oe],e)}var Gt=(()=>{class e{static{this.__NG_ELEMENT_ID__=h1}}return e})();function h1(){let e=At();return _0(e,q())}var p1=Gt,M0=class extends p1{constructor(r,t,n){super(),this._lContainer=r,this._hostTNode=t,this._hostLView=n}get element(){return rs(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){let r=Pv(this._hostTNode,this._hostLView);if(IT(r)){let t=ll(r,this._hostLView),n=ul(r),i=t[oe].data[n+8];return new zi(i,t)}else return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let t=pw(this._lContainer);return t!==null&&t[r]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(r,t,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=cw(this._lContainer,r.ssrId),a=r.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,aw(this._hostTNode,s)),a}createComponent(r,t,n,i,o){let s=r&&!sk(r),a;if(s)a=t;else{let C=t||{};a=C.index,n=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let c=s?r:new Jo(hi(r)),u=n||this.parentInjector;if(!o&&c.ngModule==null){let D=(s?u:this.parentInjector).get(wt,null);D&&(o=D)}let l=hi(c.componentType??{}),d=cw(this._lContainer,l?.id??null),h=d?.firstChild??null,m=c.create(u,i,h,o);return this.insertImpl(m.hostView,a,aw(this._hostTNode,d)),m}insert(r,t){return this.insertImpl(r,t,!0)}insertImpl(r,t,n){let i=r._lView;if(mk(i)){let a=this.indexOf(r);if(a!==-1)this.detach(a);else{let c=i[yt],u=new M0(c,c[Xt],c[yt]);u.detach(u.indexOf(r))}}let o=this._adjustIndex(t),s=this._lContainer;return Nj(s,i,o,n),r.attachToViewContainerRef(),Fw(sm(s),o,r),r}move(r,t){return this.insert(r,t)}indexOf(r){let t=pw(this._lContainer);return t!==null?t.indexOf(r):-1}remove(r){let t=this._adjustIndex(r,-1),n=Um(this._lContainer,t);n&&(sl(sm(this._lContainer),t),n0(n[oe],n))}detach(r){let t=this._adjustIndex(r,-1),n=Um(this._lContainer,t);return n&&sl(sm(this._lContainer),t)!=null?new Qi(n):null}_adjustIndex(r,t=0){return r??this.length+t}};function pw(e){return e[cl]}function sm(e){return e[cl]||(e[cl]=[])}function _0(e,r){let t,n=r[e.index];return kr(n)?t=n:(t=y0(n,r,null,e),r[e.index]=t,zl(r,t)),m1(t,r,e,n),new M0(t,e,r)}function g1(e,r){let t=e[Pe],n=t.createComment(""),i=gn(r,e),o=Vv(t,i);return hl(t,o,n,ZU(t,i),!1),n}var m1=E1,v1=()=>!1;function y1(e,r,t){return v1(e,r,t)}function E1(e,r,t,n){if(e[qi])return;let i;t.type&8?i=cr(n):i=g1(r,t),e[qi]=i}var Qm=class e{constructor(r){this.queryList=r,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Jm=class e{constructor(r=[]){this.queries=r}createEmbeddedView(r){let t=r.queries;if(t!==null){let n=r.contentQueries!==null?r.contentQueries[0]:t.length,i=[];for(let o=0;o<n;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let t=0;t<this.queries.length;t++)ty(r,t).matches!==null&&this.queries[t].setDirty()}},El=class{constructor(r,t,n=null){this.flags=t,this.read=n,typeof r=="string"?this.predicate=A1(r):this.predicate=r}},Xm=class e{constructor(r=[]){this.queries=r}elementStart(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(r,t)}elementEnd(r){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(r)}embeddedTView(r){let t=null;for(let n=0;n<this.length;n++){let i=t!==null?t.length:0,o=this.getByIndex(n).embeddedTView(r,i);o&&(o.indexInDeclarationView=n,t!==null?t.push(o):t=[o])}return t!==null?new e(t):null}template(r,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(r,t)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}},ev=class e{constructor(r,t=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(r,t){this.isApplyingToNode(t)&&this.matchTNode(r,t)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,t){this.elementStart(r,t)}embeddedTView(r,t){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,t),new e(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,n=r.parent;for(;n!==null&&n.type&8&&n.index!==t;)n=n.parent;return t===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(r,t){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(r,t,C1(t,o)),this.matchTNodeWithReadOption(r,t,tl(t,r,o,!1,!1))}else n===Fn?t.type&4&&this.matchTNodeWithReadOption(r,t,-1):this.matchTNodeWithReadOption(r,t,tl(t,r,n,!1,!1))}matchTNodeWithReadOption(r,t,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===lr||i===Gt||i===Fn&&t.type&4)this.addMatch(t.index,-2);else{let o=tl(t,r,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,n)}}addMatch(r,t){this.matches===null?this.matches=[r,t]:this.matches.push(r,t)}};function C1(e,r){let t=e.localNames;if(t!==null){for(let n=0;n<t.length;n+=2)if(t[n]===r)return t[n+1]}return null}function S1(e,r){return e.type&11?rs(e,r):e.type&4?Gl(e,r):null}function I1(e,r,t,n){return t===-1?S1(r,e):t===-2?D1(e,r,n):Zi(e,e[oe],t,r)}function D1(e,r,t){if(t===lr)return rs(r,e);if(t===Fn)return Gl(r,e);if(t===Gt)return _0(r,e)}function O0(e,r,t,n){let i=r[xr].queries[n];if(i.matches===null){let o=e.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let l=o[u];a.push(I1(r,l,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function tv(e,r,t,n){let i=e.queries.getByIndex(t),o=i.matches;if(o!==null){let s=O0(e,r,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)n.push(s[a/2]);else{let u=o[a+1],l=r[-c];for(let d=Qt;d<l.length;d++){let h=l[d];h[Ra]===h[yt]&&tv(h[oe],h,u,n)}if(l[Zo]!==null){let d=l[Zo];for(let h=0;h<d.length;h++){let m=d[h];tv(m[oe],m,u,n)}}}}}return n}function b1(e,r){return e[xr].queries[r].queryList}function x0(e,r,t){let n=new Rm((t&4)===4);return lj(e,r,n,n.destroy),(r[xr]??=new Jm).queries.push(new Qm(n))-1}function w1(e,r,t){let n=je();return n.firstCreatePass&&(N0(n,new El(e,r,t),-1),(r&2)===2&&(n.staticViewQueries=!0)),x0(n,q(),r)}function T1(e,r,t,n){let i=je();if(i.firstCreatePass){let o=At();N0(i,new El(r,t,n),o.index),R1(i,e),(t&2)===2&&(i.staticContentQueries=!0)}return x0(i,q(),t)}function A1(e){return e.split(",").map(r=>r.trim())}function N0(e,r,t){e.queries===null&&(e.queries=new Xm),e.queries.track(new ev(r,t))}function R1(e,r){let t=e.contentQueries||(e.contentQueries=[]),n=t.length?t[t.length-1]:-1;r!==n&&t.push(e.queries.length-1,r)}function ty(e,r){return e.queries.getByIndex(r)}function M1(e,r){let t=e[oe],n=ty(t,r);return n.crossesNgTemplate?tv(t,e,r,[]):O0(t,e,n,r)}function _1(e){return typeof e=="function"&&e[Or]!==void 0}function ny(e,r){ss("NgSignals");let t=xb(e),n=t[Or];return r?.equal&&(n.equal=r.equal),t.set=i=>Zg(n,i),t.update=i=>Nb(n,i),t.asReadonly=O1.bind(t),t}function O1(){let e=this[Or];if(e.readonlyFn===void 0){let r=()=>this();r[Or]=e,e.readonlyFn=r}return e.readonlyFn}function P0(e){return _1(e)&&typeof e.set=="function"}function x1(e){let r=[],t=new Map;function n(i){let o=t.get(i);if(!o){let s=e(i);t.set(i,o=s.then(L1))}return o}return Cl.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(n(i.templateUrl).then(u=>{i.template=u}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let u=i.styles.length,l=i.styleUrls;i.styleUrls.forEach((d,h)=>{a.push(""),s.push(n(d).then(m=>{a[u+h]=m,l.splice(l.indexOf(d),1),l.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(n(i.styleUrl).then(u=>{a.push(u),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>k1(o));r.push(c)}),P1(),Promise.all(r).then(()=>{})}var Cl=new Map,N1=new Set;function P1(){let e=Cl;return Cl=new Map,e}function F1(){return Cl.size===0}function L1(e){return typeof e=="string"?e:e.text()}function k1(e){N1.delete(e)}function U1(e){return Object.getPrototypeOf(e.prototype).constructor}function j1(e){let r=U1(e.type),t=!0,n=[e];for(;r;){let i;if(pi(e))i=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new B(903,!1);i=r.\u0275dir}if(i){if(t){n.push(i);let s=e;s.inputs=Ku(e.inputs),s.inputTransforms=Ku(e.inputTransforms),s.declaredInputs=Ku(e.declaredInputs),s.outputs=Ku(e.outputs);let a=i.hostBindings;a&&z1(e,a);let c=i.viewQuery,u=i.contentQueries;if(c&&V1(e,c),u&&H1(e,u),$1(e,i),cL(e.outputs,i.outputs),pi(i)&&i.data.animation){let l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===j1&&(t=!1)}}r=Object.getPrototypeOf(r)}B1(n)}function $1(e,r){for(let t in r.inputs){if(!r.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let n=r.inputs[t];if(n!==void 0&&(e.inputs[t]=n,e.declaredInputs[t]=r.declaredInputs[t],r.inputTransforms!==null)){let i=Array.isArray(n)?n[0]:n;if(!r.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=r.inputTransforms[i]}}}function B1(e){let r=0,t=null;for(let n=e.length-1;n>=0;n--){let i=e[n];i.hostVars=r+=i.hostVars,i.hostAttrs=ga(i.hostAttrs,t=ga(t,i.hostAttrs))}}function Ku(e){return e===qo?{}:e===Ht?[]:e}function V1(e,r){let t=e.viewQuery;t?e.viewQuery=(n,i)=>{r(n,i),t(n,i)}:e.viewQuery=r}function H1(e,r){let t=e.contentQueries;t?e.contentQueries=(n,i,o)=>{r(n,i,o),t(n,i,o)}:e.contentQueries=r}function z1(e,r){let t=e.hostBindings;t?e.hostBindings=(n,i)=>{r(n,i),t(n,i)}:e.hostBindings=r}function ry(e){let r=e.inputConfig,t={};for(let n in r)if(r.hasOwnProperty(n)){let i=r[n];Array.isArray(i)&&i[3]&&(t[n]=i[3])}e.inputTransforms=t}var Fr=class{},Xi=class{};function F0(e,r){return new Ia(e,r??null,[])}var Ia=class extends Fr{constructor(r,t,n){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yl(this);let i=Ww(r);this._bootstrapComponents=JT(i.bootstrap),this._r3Injector=OT(r,t,[{provide:Fr,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver},...n],Ft(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},Sl=class extends Xi{constructor(r){super(),this.moduleType=r}create(r){return new Ia(this.moduleType,r,[])}};function G1(e,r,t){return new Ia(e,r,t)}var nv=class extends Fr{constructor(r){super(),this.componentFactoryResolver=new yl(this),this.instance=null;let t=new ma([...r.providers,{provide:Fr,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],r.parent||bv(),r.debugName,new Set(["environment"]));this.injector=t,r.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function Yl(e,r,t=null){return new nv({providers:e,parent:r,debugName:t,runEnvironmentInitializers:!0}).injector}var no=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Re(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function L0(e){return iy(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function W1(e,r){if(Array.isArray(e))for(let t=0;t<e.length;t++)r(e[t]);else{let t=e[Symbol.iterator](),n;for(;!(n=t.next()).done;)r(n.value)}}function iy(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ei(e,r,t){return e[r]=t}function Kl(e,r){return e[r]}function hn(e,r,t){let n=e[r];return Object.is(n,t)?!1:(e[r]=t,!0)}function Xo(e,r,t,n){let i=hn(e,r,t);return hn(e,r+1,n)||i}function oy(e,r,t,n,i){let o=Xo(e,r,t,n);return hn(e,r+2,i)||o}function Zl(e,r,t,n,i,o){let s=Xo(e,r,t,n);return Xo(e,r+2,i,o)||s}function q1(e){return(e.flags&32)===32}function Y1(e,r,t,n,i,o,s,a,c){let u=r.consts,l=is(r,e,4,s||null,Qo(u,a));Yv(r,t,l,Qo(u,c)),Ll(r,l);let d=l.tView=qv(2,l,n,i,o,r.directiveRegistry,r.pipeRegistry,null,r.schemas,u,null);return r.queries!==null&&(r.queries.template(r,l),d.queries=r.queries.embeddedTView(l)),l}function K1(e,r,t,n,i,o,s,a){let c=q(),u=je(),l=e+Tt,d=u.firstCreatePass?Y1(l,u,c,r,t,n,i,o,s):u.data[l];to(d,!1);let h=Z1(u,c,d,e);Pl()&&$l(u,c,h,d),gi(h,c);let m=y0(h,c,h,d);return c[l]=m,zl(c,m),y1(m,d,c),xl(d)&&Gv(u,c,d),s!=null&&Wv(c,d,a),K1}var Z1=Q1;function Q1(e,r,t,n){return Fl(!0),r[Pe].createComment("")}function sy(e,r,t,n){let i=q(),o=_a();if(hn(i,o,r)){let s=je(),a=Oa();wj(a,i,e,r,t,n)}return sy}function ay(e,r,t,n){return hn(e,_a(),t)?r+_n(t)+n:kt}function J1(e,r,t,n,i,o){let s=hT(),a=Xo(e,s,t,i);return Nl(2),a?r+_n(t)+n+_n(i)+o:kt}function X1(e,r,t,n,i,o,s,a){let c=hT(),u=oy(e,c,t,i,s);return Nl(3),u?r+_n(t)+n+_n(i)+o+_n(s)+a:kt}function Zu(e,r){return e<<17|r<<2}function eo(e){return e>>17&32767}function e$(e){return(e&2)==2}function t$(e,r){return e&131071|r<<17}function rv(e){return e|2}function es(e){return(e&131068)>>2}function am(e,r){return e&-131069|r<<2}function n$(e){return(e&1)===1}function iv(e){return e|1}function r$(e,r,t,n,i,o){let s=o?r.classBindings:r.styleBindings,a=eo(s),c=es(s);e[n]=t;let u=!1,l;if(Array.isArray(t)){let d=t;l=d[1],(l===null||Ta(d,l)>0)&&(u=!0)}else l=t;if(i)if(c!==0){let h=eo(e[a+1]);e[n+1]=Zu(h,a),h!==0&&(e[h+1]=am(e[h+1],n)),e[a+1]=t$(e[a+1],n)}else e[n+1]=Zu(a,0),a!==0&&(e[a+1]=am(e[a+1],n)),a=n;else e[n+1]=Zu(c,0),a===0?a=n:e[c+1]=am(e[c+1],n),c=n;u&&(e[n+1]=rv(e[n+1])),gw(e,l,n,!0),gw(e,l,n,!1),i$(r,l,e,n,o),s=Zu(a,c),o?r.classBindings=s:r.styleBindings=s}function i$(e,r,t,n,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof r=="string"&&Ta(o,r)>=0&&(t[n+1]=iv(t[n+1]))}function gw(e,r,t,n){let i=e[t+1],o=r===null,s=n?eo(i):es(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],u=e[s+1];o$(c,r)&&(a=!0,e[s+1]=n?iv(u):rv(u)),s=n?eo(u):es(u)}a&&(e[t+1]=n?rv(i):iv(i))}function o$(e,r){return e===null||r==null||(Array.isArray(e)?e[1]:e)===r?!0:Array.isArray(e)&&typeof r=="string"?Ta(e,r)>=0:!1}var tt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function k0(e){return e.substring(tt.key,tt.keyEnd)}function s$(e){return e.substring(tt.value,tt.valueEnd)}function a$(e){return $0(e),U0(e,ts(e,0,tt.textEnd))}function U0(e,r){let t=tt.textEnd;return t===r?-1:(r=tt.keyEnd=u$(e,tt.key=r,t),ts(e,r,t))}function c$(e){return $0(e),j0(e,ts(e,0,tt.textEnd))}function j0(e,r){let t=tt.textEnd,n=tt.key=ts(e,r,t);return t===n?-1:(n=tt.keyEnd=l$(e,n,t),n=mw(e,n,t,58),n=tt.value=ts(e,n,t),n=tt.valueEnd=d$(e,n,t),mw(e,n,t,59))}function $0(e){tt.key=0,tt.keyEnd=0,tt.value=0,tt.valueEnd=0,tt.textEnd=e.length}function ts(e,r,t){for(;r<t&&e.charCodeAt(r)<=32;)r++;return r}function u$(e,r,t){for(;r<t&&e.charCodeAt(r)>32;)r++;return r}function l$(e,r,t){let n;for(;r<t&&((n=e.charCodeAt(r))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)r++;return r}function mw(e,r,t,n){return r=ts(e,r,t),r<t&&r++,r}function d$(e,r,t){let n=-1,i=-1,o=-1,s=r,a=s;for(;s<t;){let c=e.charCodeAt(s++);if(c===59)return a;c===34||c===39?a=s=vw(e,c,s,t):r===s-4&&o===85&&i===82&&n===76&&c===40?a=s=vw(e,41,s,t):c>32&&(a=s),o=i,i=n,n=c&-33}return a}function vw(e,r,t,n){let i=-1,o=t;for(;o<n;){let s=e.charCodeAt(o++);if(s==r&&i!==92)return o;s==92&&i===92?i=0:i=s}throw new Error}function f$(e,r,t){let n=q(),i=_a();if(hn(n,i,r)){let o=je(),s=Oa();Hl(o,s,n,e,r,n[Pe],t,!1)}return f$}function ov(e,r,t,n,i){let o=r.inputs,s=i?"class":"style";Kv(e,t,o[s],s,n)}function B0(e,r,t){return H0(e,r,t,!1),B0}function h$(e,r){return H0(e,r,null,!0),h$}function Qoe(e){cy(W0,p$,e,!1)}function p$(e,r){for(let t=c$(r);t>=0;t=j0(r,t))W0(e,k0(r),s$(r))}function Joe(e){cy(C$,V0,e,!0)}function V0(e,r){for(let t=a$(r);t>=0;t=U0(r,t))wa(e,k0(r),!0)}function H0(e,r,t,n){let i=q(),o=je(),s=Nl(2);if(o.firstUpdatePass&&G0(o,e,s,n),r!==kt&&hn(i,s,r)){let a=o.data[Ur()];q0(o,a,i,i[Pe],e,i[s+1]=I$(r,t),n,s)}}function cy(e,r,t,n){let i=je(),o=Nl(2);i.firstUpdatePass&&G0(i,null,o,n);let s=q();if(t!==kt&&hn(s,o,t)){let a=i.data[Ur()];if(Y0(a,n)&&!z0(i,o)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=fm(c,t||"")),ov(i,a,s,t,n)}else S$(i,a,s,s[Pe],s[o+1],s[o+1]=E$(e,r,t),n,o)}}function z0(e,r){return r>=e.expandoStartIndex}function G0(e,r,t,n){let i=e.data;if(i[t+1]===null){let o=i[Ur()],s=z0(e,t);Y0(o,n)&&r===null&&!s&&(r=!1),r=g$(i,o,r,n),r$(i,o,r,t,s,n)}}function g$(e,r,t,n){let i=Ok(e),o=n?r.residualClasses:r.residualStyles;if(i===null)(n?r.classBindings:r.styleBindings)===0&&(t=cm(null,e,r,t,n),t=Da(t,r.attrs,n),o=null);else{let s=r.directiveStylingLast;if(s===-1||e[s]!==i)if(t=cm(i,e,r,t,n),o===null){let c=m$(e,r,n);c!==void 0&&Array.isArray(c)&&(c=cm(null,e,r,c[1],n),c=Da(c,r.attrs,n),v$(e,r,n,c))}else o=y$(e,r,n)}return o!==void 0&&(n?r.residualClasses=o:r.residualStyles=o),t}function m$(e,r,t){let n=t?r.classBindings:r.styleBindings;if(es(n)!==0)return e[eo(n)]}function v$(e,r,t,n){let i=t?r.classBindings:r.styleBindings;e[eo(i)]=n}function y$(e,r,t){let n,i=r.directiveEnd;for(let o=1+r.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;n=Da(n,s,t)}return Da(n,r.attrs,t)}function cm(e,r,t,n,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=r[a],n=Da(n,o.hostAttrs,i),o!==e);)a++;return e!==null&&(t.directiveStylingLast=a),n}function Da(e,r,t){let n=t?1:2,i=-1;if(r!==null)for(let o=0;o<r.length;o++){let s=r[o];typeof s=="number"?i=s:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),wa(e,s,t?!0:r[++o]))}return e===void 0?null:e}function E$(e,r,t){if(t==null||t==="")return Ht;let n=[],i=zt(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(n,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(n,o,i[o]);else typeof i=="string"&&r(n,i);return n}function W0(e,r,t){wa(e,r,zt(t))}function C$(e,r,t){let n=String(r);n!==""&&!n.includes(" ")&&wa(e,n,t)}function S$(e,r,t,n,i,o,s,a){i===kt&&(i=Ht);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;l!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0,C=null,D;l===d?(c+=2,u+=2,h!==m&&(C=d,D=m)):d===null||l!==null&&l<d?(c+=2,C=l):(u+=2,C=d,D=m),C!==null&&q0(e,r,t,n,C,D,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}function q0(e,r,t,n,i,o,s,a){if(!(r.type&3))return;let c=e.data,u=c[a+1],l=n$(u)?yw(c,r,t,i,es(u),s):void 0;if(!Il(l)){Il(o)||e$(u)&&(o=yw(c,null,t,i,a,s));let d=sT(Ur(),t);nj(n,s,d,i,o)}}function yw(e,r,t,n,i,o){let s=r===null,a;for(;i>0;){let c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=t[i+1];h===kt&&(h=d?Ht:void 0);let m=d?Qg(h,n):l===n?h:void 0;if(u&&!Il(m)&&(m=Qg(c,n)),Il(m)&&(a=m,s))return a;let C=e[i+1];i=s?eo(C):es(C)}if(r!==null){let c=o?r.residualClasses:r.residualStyles;c!=null&&(a=Qg(c,n))}return a}function Il(e){return e!==void 0}function I$(e,r){return e==null||e===""||(typeof r=="string"?e=e+r:typeof e=="object"&&(e=Ft(zt(e)))),e}function Y0(e,r){return(e.flags&(r?8:16))!==0}function Xoe(e,r,t){let n=q(),i=ay(n,e,r,t);cy(wa,V0,i,!0)}function D$(e,r,t,n,i,o){let s=r.consts,a=Qo(s,i),c=is(r,e,2,n,a);return Yv(r,t,c,Qo(s,o)),c.attrs!==null&&vl(c,c.attrs,!1),c.mergedAttrs!==null&&vl(c,c.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,c),c}function K0(e,r,t,n){let i=q(),o=je(),s=Tt+e,a=i[Pe],c=o.firstCreatePass?D$(s,o,i,r,t,n):o.data[s],u=b$(o,i,c,a,r,e);i[s]=u;let l=xl(c);return to(c,!0),u0(a,u,c),!q1(c)&&Pl()&&$l(o,i,u,c),Ck()===0&&gi(u,i),Sk(),l&&(Gv(o,i,c),zv(o,c,i)),n!==null&&Wv(i,c),K0}function Z0(){let e=At();Mv()?_v():(e=e.parent,to(e,!1));let r=e;Dk(r)&&bk(),Ik();let t=je();return t.firstCreatePass&&(Ll(t,e),Tv(e)&&t.queries.elementEnd(e)),r.classesWithoutHost!=null&&Uk(r)&&ov(t,r,q(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&jk(r)&&ov(t,r,q(),r.stylesWithoutHost,!1),Z0}function uy(e,r,t,n){return K0(e,r,t,n),Z0(),uy}var b$=(e,r,t,n,i,o)=>(Fl(!0),XT(n,i,Pk()));function w$(e,r,t,n,i){let o=r.consts,s=Qo(o,n),a=is(r,e,8,"ng-container",s);s!==null&&vl(a,s,!0);let c=Qo(o,i);return Yv(r,t,a,c),r.queries!==null&&r.queries.elementStart(r,a),a}function Q0(e,r,t){let n=q(),i=je(),o=e+Tt,s=i.firstCreatePass?w$(o,i,n,r,t):i.data[o];to(s,!0);let a=A$(i,n,s,e);return n[o]=a,Pl()&&$l(i,n,a,s),gi(a,n),xl(s)&&(Gv(i,n,s),zv(i,s,n)),t!=null&&Wv(n,s),Q0}function J0(){let e=At(),r=je();return Mv()?_v():(e=e.parent,to(e,!1)),r.firstCreatePass&&(Ll(r,e),Tv(e)&&r.queries.elementEnd(e)),J0}function T$(e,r,t){return Q0(e,r,t),J0(),T$}var A$=(e,r,t,n)=>(Fl(!0),$U(r[Pe],""));function ese(){return q()}function R$(e,r,t){let n=q(),i=_a();if(hn(n,i,r)){let o=je(),s=Oa();Hl(o,s,n,e,r,n[Pe],t,!0)}return R$}var Vi=void 0;function M$(e){let r=e,t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var _$=["en",[["a","p"],["AM","PM"],Vi],[["AM","PM"],Vi,Vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vi,"{1} 'at' {0}",Vi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",M$],um={};function Wt(e){let r=O$(e),t=Ew(r);if(t)return t;let n=r.split("-")[0];if(t=Ew(n),t)return t;if(n==="en")return _$;throw new B(701,!1)}function Ew(e){return e in um||(um[e]=We.ng&&We.ng.common&&We.ng.common.locales&&We.ng.common.locales[e]),um[e]}var Be=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Be||{});function O$(e){return e.toLowerCase().replace(/_/g,"-")}var Dl="en-US";var x$=Dl;function N$(e){typeof e=="string"&&(x$=e.toLowerCase().replace(/_/g,"-"))}function ly(e,r,t,n){let i=q(),o=je(),s=At();return X0(o,i,i[Pe],s,e,r,n),ly}function P$(e,r,t,n){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===n){let a=r[ya],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function X0(e,r,t,n,i,o,s){let a=xl(n),u=e.firstCreatePass&&S0(e),l=r[xn],d=C0(r),h=!0;if(n.type&3||s){let D=gn(n,r),A=s?s(D):D,N=d.length,x=s?Z=>s(cr(Z[n.index])):n.index,Y=null;if(!s&&a&&(Y=P$(e,r,i,n.index)),Y!==null){let Z=Y.__ngLastListenerFn__||Y;Z.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,h=!1}else{o=Sw(n,r,l,o,!1);let Z=t.listen(A,i,o);d.push(o,Z),u&&u.push(i,x,N,N+1)}}else o=Sw(n,r,l,o,!1);let m=n.outputs,C;if(h&&m!==null&&(C=m[i])){let D=C.length;if(D)for(let A=0;A<D;A+=2){let N=C[A],x=C[A+1],X=r[N][x].subscribe(o),fe=d.length;d.push(o,X),u&&u.push(i,n.index,fe,-(fe+1))}}}function Cw(e,r,t,n){let i=ve(null);try{return ir(6,r,t),t(n)!==!1}catch(o){return I0(e,o),!1}finally{ir(7,r,t),ve(i)}}function Sw(e,r,t,n,i){return function o(s){if(s===Function)return n;let a=e.componentOffset>-1?vi(e.index,r):r;Jv(a);let c=Cw(r,t,n,s),u=o.__ngNextListenerFn__;for(;u;)c=Cw(r,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function tse(e=1){return Nk(e)}function F$(e,r){let t=null,n=UL(e);for(let i=0;i<r.length;i++){let o=r[i];if(o==="*"){t=i;continue}if(n===null?Bw(e,o,!0):BL(n,o))return i}return t}function nse(e){let r=q()[Pn][Xt];if(!r.projection){let t=e?e.length:1,n=r.projection=ML(t,null),i=n.slice(),o=r.child;for(;o!==null;){let s=e?F$(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function rse(e,r=0,t){let n=q(),i=je(),o=is(i,Tt+e,16,null,t||null);o.projection===null&&(o.projection=r),_v(),(!n[va]||dT())&&(o.flags&32)!==32&&ej(i,n,o)}function L$(e,r,t){return eA(e,"",r,"",t),L$}function eA(e,r,t,n,i){let o=q(),s=ay(o,r,t,n);if(s!==kt){let a=je(),c=Oa();Hl(a,c,o,e,s,o[Pe],i,!1)}return eA}function tA(e,r,t,n){T1(e,r,t,n)}function ise(e,r,t){w1(e,r,t)}function nA(e){let r=q(),t=je(),n=pT();Ov(n+1);let i=ty(t,n);if(e.dirty&&gk(r)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=M1(r,n);e.reset(o,Jk),e.notifyOnChanges()}return!0}return!1}function rA(){return b1(q(),pT())}function k$(e,r,t,n){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),r[t]=n}function ose(e){let r=Tk();return Ma(r,Tt+e)}function sse(e,r=""){let t=q(),n=je(),i=e+Tt,o=n.firstCreatePass?is(n,i,1,r,null):n.data[i],s=U$(n,t,o,r,e);t[i]=s,Pl()&&$l(n,t,s,o),to(o,!1)}var U$=(e,r,t,n,i)=>(Fl(!0),UU(r[Pe],n));function j$(e){return iA("",e,""),j$}function iA(e,r,t){let n=q(),i=ay(n,e,r,t);return i!==kt&&Zv(n,Ur(),i),iA}function $$(e,r,t,n,i){let o=q(),s=J1(o,e,r,t,n,i);return s!==kt&&Zv(o,Ur(),s),$$}function B$(e,r,t,n,i,o,s){let a=q(),c=X1(a,e,r,t,n,i,o,s);return c!==kt&&Zv(a,Ur(),c),B$}function V$(e,r,t){P0(r)&&(r=r());let n=q(),i=_a();if(hn(n,i,r)){let o=je(),s=Oa();Hl(o,s,n,e,r,n[Pe],t,!1)}return V$}function ase(e,r){let t=P0(e);return t&&e.set(r),t}function H$(e,r){let t=q(),n=je(),i=At();return X0(n,t,t[Pe],i,e,r),H$}function z$(e,r,t){let n=je();if(n.firstCreatePass){let i=pi(e);sv(t,n.data,n.blueprint,i,!0),sv(r,n.data,n.blueprint,i,!1)}}function sv(e,r,t,n,i){if(e=Pt(e),Array.isArray(e))for(let o=0;o<e.length;o++)sv(e[o],r,t,n,i);else{let o=je(),s=q(),a=At(),c=Yo(e)?e:Pt(e.provide),u=Jw(e),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Yo(e)||!e.multi){let m=new Ki(u,i,J),C=dm(c,r,i?l:l+h,d);C===-1?(bm(fl(a,s),o,c),lm(o,e,r.length),r.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[C]=m,s[C]=m)}else{let m=dm(c,r,l+h,d),C=dm(c,r,l,l+h),D=m>=0&&t[m],A=C>=0&&t[C];if(i&&!A||!i&&!D){bm(fl(a,s),o,c);let N=q$(i?W$:G$,t.length,i,n,u);!i&&A&&(t[C].providerFactory=N),lm(o,e,r.length,0),r.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else{let N=oA(t[i?C:m],u,!i&&n);lm(o,e,m>-1?m:C,N)}!i&&n&&A&&t[C].componentProviders++}}}function lm(e,r,t,n){let i=Yo(r),o=JL(r);if(i||o){let c=(o?Pt(r.useClass):r).prototype.ngOnDestroy;if(c){let u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&r.multi){let l=u.indexOf(t);l===-1?u.push(t,[n,c]):u[l+1].push(n,c)}else u.push(t,c)}}}function oA(e,r,t){return t&&e.componentProviders++,e.multi.push(r)-1}function dm(e,r,t,n){for(let i=t;i<n;i++)if(r[i]===e)return i;return-1}function G$(e,r,t,n){return av(this.multi,[])}function W$(e,r,t,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Zi(t,t[oe],this.providerFactory.index,n);o=a.slice(0,s),av(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],av(i,o);return o}function av(e,r){for(let t=0;t<e.length;t++){let n=e[t];r.push(n())}return r}function q$(e,r,t,n,i){let o=new Ki(e,t,J);return o.multi=[],o.index=r,o.componentProviders=0,oA(o,i,n&&!t),o}function cse(e,r=[]){return t=>{t.providersResolver=(n,i)=>z$(n,i?i(e):e,r)}}var Y$=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let n=Kw(!1,t.type),i=n.length>0?Yl([n],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=g({token:e,providedIn:"environment",factory:()=>new e(f(wt))})}}return e})();function sA(e){ss("NgStandalone"),e.getStandaloneInjector=r=>r.get(Y$).getOrCreateStandaloneInjector(e)}function use(e,r,t){let n=mn()+e,i=q();return i[n]===kt?Ei(i,n,t?r.call(t):r()):Kl(i,n)}function lse(e,r,t,n){return aA(q(),mn(),e,r,t,n)}function dse(e,r,t,n,i){return cA(q(),mn(),e,r,t,n,i)}function fse(e,r,t,n,i,o){return uA(q(),mn(),e,r,t,n,i,o)}function hse(e,r,t,n,i,o,s){return lA(q(),mn(),e,r,t,n,i,o,s)}function pse(e,r,t,n,i,o,s,a){let c=mn()+e,u=q(),l=Zl(u,c,t,n,i,o);return hn(u,c+4,s)||l?Ei(u,c+5,a?r.call(a,t,n,i,o,s):r(t,n,i,o,s)):Kl(u,c+5)}function gse(e,r,t,n,i,o,s,a,c){let u=mn()+e,l=q(),d=Zl(l,u,t,n,i,o);return Xo(l,u+4,s,a)||d?Ei(l,u+6,c?r.call(c,t,n,i,o,s,a):r(t,n,i,o,s,a)):Kl(l,u+6)}function mse(e,r,t,n,i,o,s,a,c,u){let l=mn()+e,d=q(),h=Zl(d,l,t,n,i,o);return oy(d,l+4,s,a,c)||h?Ei(d,l+7,u?r.call(u,t,n,i,o,s,a,c):r(t,n,i,o,s,a,c)):Kl(d,l+7)}function Ql(e,r){let t=e[r];return t===kt?void 0:t}function aA(e,r,t,n,i,o){let s=r+t;return hn(e,s,i)?Ei(e,s+1,o?n.call(o,i):n(i)):Ql(e,s+1)}function cA(e,r,t,n,i,o,s){let a=r+t;return Xo(e,a,i,o)?Ei(e,a+2,s?n.call(s,i,o):n(i,o)):Ql(e,a+2)}function uA(e,r,t,n,i,o,s,a){let c=r+t;return oy(e,c,i,o,s)?Ei(e,c+3,a?n.call(a,i,o,s):n(i,o,s)):Ql(e,c+3)}function lA(e,r,t,n,i,o,s,a,c){let u=r+t;return Zl(e,u,i,o,s,a)?Ei(e,u+4,c?n.call(c,i,o,s,a):n(i,o,s,a)):Ql(e,u+4)}function vse(e,r){let t=je(),n,i=e+Tt;t.firstCreatePass?(n=K$(r,t.pipeRegistry),t.data[i]=n,n.onDestroy&&(t.destroyHooks??=[]).push(i,n.onDestroy)):n=t.data[i];let o=n.factory||(n.factory=Gi(n.type,!0)),s,a=Vt(J);try{let c=dl(!1),u=o();return dl(c),k$(t,q(),i,u),u}finally{Vt(a)}}function K$(e,r){if(r)for(let t=r.length-1;t>=0;t--){let n=r[t];if(e===n.name)return n}}function yse(e,r,t){let n=e+Tt,i=q(),o=Ma(i,n);return Jl(i,n)?aA(i,mn(),r,o.transform,t,o):o.transform(t)}function Ese(e,r,t,n){let i=e+Tt,o=q(),s=Ma(o,i);return Jl(o,i)?cA(o,mn(),r,s.transform,t,n,s):s.transform(t,n)}function Cse(e,r,t,n,i){let o=e+Tt,s=q(),a=Ma(s,o);return Jl(s,o)?uA(s,mn(),r,a.transform,t,n,i,a):a.transform(t,n,i)}function Sse(e,r,t,n,i,o){let s=e+Tt,a=q(),c=Ma(a,s);return Jl(a,s)?lA(a,mn(),r,c.transform,t,n,i,o,c):c.transform(t,n,i,o)}function Jl(e,r){return e[oe].data[r].pure}function Ise(e,r){return Gl(e,r)}var Qu=null;function Z$(e){Qu!==null&&(e.defaultEncapsulation!==Qu.defaultEncapsulation||e.preserveWhitespaces!==Qu.preserveWhitespaces)||(Qu=e)}var Xl=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var dy=new S(""),Fa=new S(""),ed=(()=>{class e{constructor(t,n,i){this._ngZone=t,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,fy||(Q$(i),i.addToWindow(n)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>n.updateCb&&n.updateCb(t)?(clearTimeout(n.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,n,i){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},n)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,n,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,n,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,n,i){return[]}static{this.\u0275fac=function(n){return new(n||e)(f(Ce),f(td),f(Fa))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),td=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,n){this._applications.set(t,n)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,n=!0){return fy?.findTestabilityInTree(this,t,n)??null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Q$(e){fy=e}var fy;function as(e){return!!e&&typeof e.then=="function"}function hy(e){return!!e&&typeof e.subscribe=="function"}var Et=new S(""),dA=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,n)=>{this.resolve=t,this.reject=n}),this.appInits=E(Et,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(as(o))t.push(o);else if(hy(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{n()}).catch(i=>{this.reject(i)}),t.length===0&&n(),this.initialized=!0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cs=new S("");function J$(){Ob(()=>{throw new B(600,!1)})}function X$(e){return e.isBoundToModule}function eB(e,r,t){try{let n=t();return as(n)?n.catch(i=>{throw r.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw r.runOutsideAngular(()=>e.handleError(n)),n}}function fA(e,r){return Array.isArray(r)?r.reduce(fA,e):v(v({},e),r)}var ro=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=E(xT),this.afterRenderEffectManager=E(ey),this.externalTestViews=new Set,this.beforeRender=new ie,this.afterTick=new ie,this.componentTypes=[],this.components=[],this.isStable=E(no).hasPendingTasks.pipe(y(t=>!t)),this._injector=E(wt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,n){let i=t instanceof ml;if(!this._injector.get(dA).done){let h=!i&&Gw(t),m=!1;throw new B(405,m)}let s;i?s=t:s=this._injector.get(Wl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=X$(s)?void 0:this._injector.get(Fr),c=n||s.selector,u=s.create(Qe.NULL,[],c,a),l=u.location.nativeElement,d=u.injector.get(dy,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),rl(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new B(101,!1);let n=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,ve(n)}}detectChangesInAttachedViews(t){let n=0,i=this.afterRenderEffectManager;for(;;){if(n===b0)throw new B(103,!1);if(t){let o=n===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)tB(s,o,a)}if(n++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>cv(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>cv(o))))break}}attachView(t){let n=t;this._views.push(n),n.attachToAppRef(this)}detachView(t){let n=t;rl(this._views,n),n.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let n=this._injector.get(cs,[]);[...this._bootstrapListeners,...n].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>rl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rl(e,r){let t=e.indexOf(r);t>-1&&e.splice(t,1)}function tB(e,r,t){!r&&!cv(e)||nB(e,t,r)}function cv(e){return Rv(e)}function nB(e,r,t){let n;t?(n=0,e[Q]|=1024):e[Q]&64?n=0:n=1,w0(e,r,n)}var uv=class{constructor(r,t){this.ngModuleFactory=r,this.componentFactories=t}},us=(()=>{class e{compileModuleSync(t){return new Sl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let n=this.compileModuleSync(t),i=Ww(t),o=JT(i.declarations).reduce((s,a)=>{let c=hi(a);return c&&s.push(new Jo(c)),s},[]);return new uv(n,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rB=new S("");function iB(e,r,t){let n=new Sl(t);return Promise.resolve(n)}function Iw(e){for(let r=e.length-1;r>=0;r--)if(e[r]!==void 0)return e[r]}var oB=(()=>{class e{constructor(){this.zone=E(Ce),this.applicationRef=E(ro)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sB(e){return[{provide:Ce,useFactory:e},{provide:sr,multi:!0,useFactory:()=>{let r=E(oB,{optional:!0});return()=>r.initialize()}},{provide:sr,multi:!0,useFactory:()=>{let r=E(uB);return()=>{r.initialize()}}},{provide:xT,useFactory:aB}]}function aB(){let e=E(Ce),r=E(ct);return t=>e.runOutsideAngular(()=>r.handleError(t))}function cB(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var uB=(()=>{class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=E(Ce),this.pendingTasks=E(no)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lB(){return typeof $localize<"u"&&$localize.locale||Dl}var La=new S("",{providedIn:"root",factory:()=>E(La,ue.Optional|ue.SkipSelf)||lB()});var hA=new S(""),pA=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,n){let i=r1(n?.ngZone,cB({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return i.run(()=>{let o=G1(t.moduleType,this.injector,sB(()=>i)),s=o.injector.get(ct,null);return i.runOutsideAngular(()=>{let a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{rl(this._modules,o),a.unsubscribe()})}),eB(s,i,()=>{let a=o.injector.get(dA);return a.runInitializers(),a.donePromise.then(()=>{let c=o.injector.get(La,Dl);return N$(c||Dl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(t,n=[]){let i=fA({},n);return iB(this.injector,i,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){let n=t.injector.get(ro);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());let t=this._injector.get(hA,null);t&&(t.forEach(n=>n()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(n){return new(n||e)(f(Qe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ha=null,gA=new S("");function dB(e){if(ha&&!ha.get(gA,!1))throw new B(400,!1);J$(),ha=e;let r=e.get(pA);return pB(e),r}function py(e,r,t=[]){let n=`Platform: ${r}`,i=new S(n);return(o=[])=>{let s=mA();if(!s||s.injector.get(gA,!1)){let a=[...t,...o,{provide:i,useValue:!0}];e?e(a):dB(fB(a,n))}return hB(i)}}function fB(e=[],r){return Qe.create({name:r,providers:[{provide:Ml,useValue:"platform"},{provide:hA,useValue:new Set([()=>ha=null])},...e]})}function hB(e){let r=mA();if(!r)throw new B(401,!1);return r}function mA(){return ha?.get(pA)??null}function pB(e){e.get(kv,null)?.forEach(t=>t())}function pe(){return!1}var $r=(()=>{class e{static{this.__NG_ELEMENT_ID__=gB}}return e})();function gB(e){return mB(At(),q(),(e&16)===16)}function mB(e,r,t){if(Ol(e)&&!t){let n=vi(e.index,r);return new Qi(n,n)}else if(e.type&47){let n=r[Pn];return new Qi(n,r)}return null}var lv=class{constructor(){}supports(r){return L0(r)}create(r){return new dv(r)}},vB=(e,r)=>r,dv=class{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||vB}forEachItem(r){let t;for(t=this._itHead;t!==null;t=t._next)r(t)}forEachOperation(r){let t=this._itHead,n=this._removalsHead,i=0,o=null;for(;t||n;){let s=!n||t&&t.currentIndex<Dw(n,i,o)?t:n,a=Dw(s,i,o),c=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){let m=h<o.length?o[h]:o[h]=0,C=m+h;l<=C&&C<u&&(o[h]=m+1)}let d=s.previousIndex;o[d]=l-u}}a!==c&&r(s,a,c)}}forEachPreviousItem(r){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t)}forEachMovedItem(r){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t)}forEachIdentityChange(r){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)r(t)}diff(r){if(r==null&&(r=[]),!L0(r))throw new B(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._itHead,n=!1,i,o,s;if(Array.isArray(r)){this.length=r.length;for(let a=0;a<this.length;a++)o=r[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),n=!0):(n&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,W1(r,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),n=!0):(n&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=r,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;r!==null;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;r!==null;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,t,n,i){let o;return r===null?o=this._itTail:(o=r._prev,this._remove(r)),r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._reinsertAfter(r,o,i)):(r=this._linkedRecords===null?null:this._linkedRecords.get(n,i),r!==null?(Object.is(r.item,t)||this._addIdentityChange(r,t),this._moveAfter(r,o,i)):r=this._addAfter(new fv(t,n),o,i)),r}_verifyReinsertion(r,t,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?r=this._reinsertAfter(o,r._prev,i):r.currentIndex!=i&&(r.currentIndex=i,this._addToMoves(r,i)),r}_truncate(r){for(;r!==null;){let t=r._next;this._addToRemovals(this._unlink(r)),r=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,t,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(r);let i=r._prevRemoved,o=r._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(r,t,n),this._addToMoves(r,n),r}_moveAfter(r,t,n){return this._unlink(r),this._insertAfter(r,t,n),this._addToMoves(r,n),r}_addAfter(r,t,n){return this._insertAfter(r,t,n),this._additionsTail===null?this._additionsTail=this._additionsHead=r:this._additionsTail=this._additionsTail._nextAdded=r,r}_insertAfter(r,t,n){let i=t===null?this._itHead:t._next;return r._next=i,r._prev=t,i===null?this._itTail=r:i._prev=r,t===null?this._itHead=r:t._next=r,this._linkedRecords===null&&(this._linkedRecords=new bl),this._linkedRecords.put(r),r.currentIndex=n,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){this._linkedRecords!==null&&this._linkedRecords.remove(r);let t=r._prev,n=r._next;return t===null?this._itHead=n:t._next=n,n===null?this._itTail=t:n._prev=t,r}_addToMoves(r,t){return r.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=r:this._movesTail=this._movesTail._nextMoved=r),r}_addToRemovals(r){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bl),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,t){return r.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=r:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=r,r}},fv=class{constructor(r,t){this.item=r,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},hv=class{constructor(){this._head=null,this._tail=null}add(r){this._head===null?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,t){let n;for(n=this._head;n!==null;n=n._nextDup)if((t===null||t<=n.currentIndex)&&Object.is(n.trackById,r))return n;return null}remove(r){let t=r._prevDup,n=r._nextDup;return t===null?this._head=n:t._nextDup=n,n===null?this._tail=t:n._prevDup=t,this._head===null}},bl=class{constructor(){this.map=new Map}put(r){let t=r.trackById,n=this.map.get(t);n||(n=new hv,this.map.set(t,n)),n.add(r)}get(r,t){let n=r,i=this.map.get(n);return i?i.get(r,t):null}remove(r){let t=r.trackById;return this.map.get(t).remove(r)&&this.map.delete(t),r}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Dw(e,r,t){let n=e.previousIndex;if(n===null)return n;let i=0;return t&&n<t.length&&(i=t[n]),n+r+i}var pv=class{constructor(){}supports(r){return r instanceof Map||iy(r)}create(){return new gv}},gv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(r){let t;for(t=this._mapHead;t!==null;t=t._next)r(t)}forEachPreviousItem(r){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)r(t)}forEachChangedItem(r){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)r(t)}forEachAddedItem(r){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)r(t)}forEachRemovedItem(r){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)r(t)}diff(r){if(!r)r=new Map;else if(!(r instanceof Map||iy(r)))throw new B(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(r,(n,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,n),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,n);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let n=t;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,t){if(r){let n=r._prev;return t._next=r,t._prev=n,r._prev=t,n&&(n._next=t),r===this._mapHead&&(this._mapHead=t),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(r,t){if(this._records.has(r)){let i=this._records.get(r);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new mv(r);return this._records.set(r,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;r!==null;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;r!==null;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;r!=null;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,t){Object.is(t,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=t,this._addToChanges(r))}_addToAdditions(r){this._additionsHead===null?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){this._changesHead===null?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,t){r instanceof Map?r.forEach(t):Object.keys(r).forEach(n=>t(r[n],n))}},mv=class{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function bw(){return new gy([new lv])}var gy=(()=>{class e{static{this.\u0275prov=g({token:e,providedIn:"root",factory:bw})}constructor(t){this.factories=t}static create(t,n){if(n!=null){let i=n.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||bw()),deps:[[e,new Rl,new pn]]}}find(t){let n=this.factories.find(i=>i.supports(t));if(n!=null)return n;throw new B(901,!1)}}return e})();function ww(){return new my([new pv])}var my=(()=>{class e{static{this.\u0275prov=g({token:e,providedIn:"root",factory:ww})}constructor(t){this.factories=t}static create(t,n){if(n){let i=n.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ww()),deps:[[e,new Rl,new pn]]}}find(t){let n=this.factories.find(i=>i.supports(t));if(n)return n;throw new B(901,!1)}}return e})();var vA=py(null,"core",[]),yA=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(ro))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function ka(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function nd(e,r){ss("NgSignals");let t=Rb(e);return r?.equal&&(t[Or].equal=r.equal),t}function rd(e){let r=ve(null);try{return e()}finally{ve(r)}}function EA(e){let r=hi(e);if(!r)return null;let t=new Jo(r);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}var OA=null;function Ci(){return OA}function xA(e){OA??=e}var fd=class{};var Fe=new S(""),My=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>E(yB),providedIn:"platform"})}}return e})(),md=new S(""),yB=(()=>{class e extends My{constructor(){super(),this._doc=E(Fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ci().getBaseHref(this._doc)}onPopState(t){let n=Ci().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",t,!1),()=>n.removeEventListener("popstate",t)}onHashChange(t){let n=Ci().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",t,!1),()=>n.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,n,i){this._history.pushState(t,n,i)}replaceState(t,n,i){this._history.replaceState(t,n,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function _y(e,r){if(e.length==0)return r;if(r.length==0)return e;let t=0;return e.endsWith("/")&&t++,r.startsWith("/")&&t++,t==2?e+r.substring(1):t==1?e+r:e+"/"+r}function CA(e){let r=e.match(/#|\?|$/),t=r&&r.index||e.length,n=t-(e[t-1]==="/"?1:0);return e.slice(0,n)+e.slice(t)}function Hr(e){return e&&e[0]!=="?"?"?"+e:e}var Gr=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>E(Oy),providedIn:"root"})}}return e})(),NA=new S(""),Oy=(()=>{class e extends Gr{constructor(t,n){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??E(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _y(this._baseHref,t)}path(t=!1){let n=this._platformLocation.pathname+Hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${n}${i}`:n}pushState(t,n,i,o){let s=this.prepareExternalUrl(i+Hr(o));this._platformLocation.pushState(t,n,s)}replaceState(t,n,i,o){let s=this.prepareExternalUrl(i+Hr(o));this._platformLocation.replaceState(t,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(n){return new(n||e)(f(My),f(NA,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),PA=(()=>{class e extends Gr{constructor(t,n){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(t){let n=_y(this._baseHref,t);return n.length>0?"#"+n:n}pushState(t,n,i,o){let s=this.prepareExternalUrl(i+Hr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,n,s)}replaceState(t,n,i,o){let s=this.prepareExternalUrl(i+Hr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(n){return new(n||e)(f(My),f(NA,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),hr=(()=>{class e{constructor(t){this._subject=new vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let n=this._locationStrategy.getBaseHref();this._basePath=SB(CA(SA(n))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,n=""){return this.path()==this.normalize(t+Hr(n))}normalize(t){return e.stripTrailingSlash(CB(this._basePath,SA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,n="",i=null){this._locationStrategy.pushState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hr(n)),i)}replaceState(t,n="",i=null){this._locationStrategy.replaceState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hr(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",n){this._urlChangeListeners.forEach(i=>i(t,n))}subscribe(t,n,i){return this._subject.subscribe({next:t,error:n,complete:i})}static{this.normalizeQueryParams=Hr}static{this.joinWithSlash=_y}static{this.stripTrailingSlash=CA}static{this.\u0275fac=function(n){return new(n||e)(f(Gr))}}static{this.\u0275prov=g({token:e,factory:()=>EB(),providedIn:"root"})}}return e})();function EB(){return new hr(f(Gr))}function CB(e,r){if(!e||!r.startsWith(e))return r;let t=r.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:r}function SA(e){return e.replace(/\/index.html$/,"")}function SB(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var FA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},xy=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(xy||{});var Ut=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ut||{}),_e=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(_e||{}),en=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(en||{}),Rt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function vd(e){return Wt(e)[Be.LocaleId]}function IB(e,r,t){let n=Wt(e),i=[n[Be.DayPeriodsFormat],n[Be.DayPeriodsStandalone]],o=yn(i,r);return yn(o,t)}function DB(e,r,t){let n=Wt(e),i=[n[Be.DaysFormat],n[Be.DaysStandalone]],o=yn(i,r);return yn(o,t)}function bB(e,r,t){let n=Wt(e),i=[n[Be.MonthsFormat],n[Be.MonthsStandalone]],o=yn(i,r);return yn(o,t)}function wB(e,r){let n=Wt(e)[Be.Eras];return yn(n,r)}function id(e,r){let t=Wt(e);return yn(t[Be.DateFormat],r)}function od(e,r){let t=Wt(e);return yn(t[Be.TimeFormat],r)}function sd(e,r){let n=Wt(e)[Be.DateTimeFormat];return yn(n,r)}function fr(e,r){let t=Wt(e),n=t[Be.NumberSymbols][r];if(typeof n>"u"){if(r===Rt.CurrencyDecimal)return t[Be.NumberSymbols][Rt.Decimal];if(r===Rt.CurrencyGroup)return t[Be.NumberSymbols][Rt.Group]}return n}function LA(e,r){return Wt(e)[Be.NumberFormats][r]}function TB(e){return Wt(e)[Be.Currencies]}function kA(e){if(!e[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function AB(e){let r=Wt(e);return kA(r),(r[Be.ExtraData][2]||[]).map(n=>typeof n=="string"?vy(n):[vy(n[0]),vy(n[1])])}function RB(e,r,t){let n=Wt(e);kA(n);let i=[n[Be.ExtraData][0],n[Be.ExtraData][1]],o=yn(i,r)||[];return yn(o,t)||[]}function yn(e,r){for(let t=r;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function vy(e){let[r,t]=e.split(":");return{hours:+r,minutes:+t}}function Bse(e,r,t="en"){let n=TB(t)[e]||FA[e]||[],i=n[1];return r==="narrow"&&typeof i=="string"?i:n[0]||e}var MB=2;function _B(e){let r,t=FA[e];return t&&(r=t[2]),typeof r=="number"?r:MB}var OB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ad={},xB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,zr=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(zr||{}),Ie=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(Ie||{}),Se=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Se||{});function NB(e,r,t,n){let i=VB(e);r=Vr(t,r)||r;let s=[],a;for(;r;)if(a=xB.exec(r),a){s=s.concat(a.slice(1));let l=s.pop();if(!l)break;r=l}else{s.push(r);break}let c=i.getTimezoneOffset();n&&(c=jA(n,c),i=BB(i,n,!0));let u="";return s.forEach(l=>{let d=jB(l);u+=d?d(i,t,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function hd(e,r,t){let n=new Date(0);return n.setFullYear(e,r,t),n.setHours(0,0,0),n}function Vr(e,r){let t=vd(e);if(ad[t]??={},ad[t][r])return ad[t][r];let n="";switch(r){case"shortDate":n=id(e,en.Short);break;case"mediumDate":n=id(e,en.Medium);break;case"longDate":n=id(e,en.Long);break;case"fullDate":n=id(e,en.Full);break;case"shortTime":n=od(e,en.Short);break;case"mediumTime":n=od(e,en.Medium);break;case"longTime":n=od(e,en.Long);break;case"fullTime":n=od(e,en.Full);break;case"short":let i=Vr(e,"shortTime"),o=Vr(e,"shortDate");n=cd(sd(e,en.Short),[i,o]);break;case"medium":let s=Vr(e,"mediumTime"),a=Vr(e,"mediumDate");n=cd(sd(e,en.Medium),[s,a]);break;case"long":let c=Vr(e,"longTime"),u=Vr(e,"longDate");n=cd(sd(e,en.Long),[c,u]);break;case"full":let l=Vr(e,"fullTime"),d=Vr(e,"fullDate");n=cd(sd(e,en.Full),[l,d]);break}return n&&(ad[t][r]=n),n}function cd(e,r){return r&&(e=e.replace(/\{([^}]+)}/g,function(t,n){return r!=null&&n in r?r[n]:t})),e}function kn(e,r,t="-",n,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let s=String(e);for(;s.length<r;)s="0"+s;return n&&(s=s.slice(s.length-r)),o+s}function PB(e,r){return kn(e,3).substring(0,r)}function Je(e,r,t=0,n=!1,i=!1){return function(o,s){let a=FB(e,o);if((t>0||a>-t)&&(a+=t),e===Ie.Hours)a===0&&t===-12&&(a=12);else if(e===Ie.FractionalSeconds)return PB(a,r);let c=fr(s,Rt.MinusSign);return kn(a,r,c,n,i)}}function FB(e,r){switch(e){case Ie.FullYear:return r.getFullYear();case Ie.Month:return r.getMonth();case Ie.Date:return r.getDate();case Ie.Hours:return r.getHours();case Ie.Minutes:return r.getMinutes();case Ie.Seconds:return r.getSeconds();case Ie.FractionalSeconds:return r.getMilliseconds();case Ie.Day:return r.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Oe(e,r,t=Ut.Format,n=!1){return function(i,o){return LB(i,o,e,r,t,n)}}function LB(e,r,t,n,i,o){switch(t){case Se.Months:return bB(r,i,n)[e.getMonth()];case Se.Days:return DB(r,i,n)[e.getDay()];case Se.DayPeriods:let s=e.getHours(),a=e.getMinutes();if(o){let u=AB(r),l=RB(r,i,n),d=u.findIndex(h=>{if(Array.isArray(h)){let[m,C]=h,D=s>=m.hours&&a>=m.minutes,A=s<C.hours||s===C.hours&&a<C.minutes;if(m.hours<C.hours){if(D&&A)return!0}else if(D||A)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return l[d]}return IB(r,i,n)[s<12?0:1];case Se.Eras:return wB(r,n)[e.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function ud(e){return function(r,t,n){let i=-1*n,o=fr(t,Rt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case zr.Short:return(i>=0?"+":"")+kn(s,2,o)+kn(Math.abs(i%60),2,o);case zr.ShortGMT:return"GMT"+(i>=0?"+":"")+kn(s,1,o);case zr.Long:return"GMT"+(i>=0?"+":"")+kn(s,2,o)+":"+kn(Math.abs(i%60),2,o);case zr.Extended:return n===0?"Z":(i>=0?"+":"")+kn(s,2,o)+":"+kn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}var kB=0,dd=4;function UB(e){let r=hd(e,kB,1).getDay();return hd(e,0,1+(r<=dd?dd:dd+7)-r)}function UA(e){let r=e.getDay(),t=r===0?-3:dd-r;return hd(e.getFullYear(),e.getMonth(),e.getDate()+t)}function yy(e,r=!1){return function(t,n){let i;if(r){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=UA(t),s=UB(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return kn(i,e,fr(n,Rt.MinusSign))}}function ld(e,r=!1){return function(t,n){let o=UA(t).getFullYear();return kn(o,e,fr(n,Rt.MinusSign),r)}}var Ey={};function jB(e){if(Ey[e])return Ey[e];let r;switch(e){case"G":case"GG":case"GGG":r=Oe(Se.Eras,_e.Abbreviated);break;case"GGGG":r=Oe(Se.Eras,_e.Wide);break;case"GGGGG":r=Oe(Se.Eras,_e.Narrow);break;case"y":r=Je(Ie.FullYear,1,0,!1,!0);break;case"yy":r=Je(Ie.FullYear,2,0,!0,!0);break;case"yyy":r=Je(Ie.FullYear,3,0,!1,!0);break;case"yyyy":r=Je(Ie.FullYear,4,0,!1,!0);break;case"Y":r=ld(1);break;case"YY":r=ld(2,!0);break;case"YYY":r=ld(3);break;case"YYYY":r=ld(4);break;case"M":case"L":r=Je(Ie.Month,1,1);break;case"MM":case"LL":r=Je(Ie.Month,2,1);break;case"MMM":r=Oe(Se.Months,_e.Abbreviated);break;case"MMMM":r=Oe(Se.Months,_e.Wide);break;case"MMMMM":r=Oe(Se.Months,_e.Narrow);break;case"LLL":r=Oe(Se.Months,_e.Abbreviated,Ut.Standalone);break;case"LLLL":r=Oe(Se.Months,_e.Wide,Ut.Standalone);break;case"LLLLL":r=Oe(Se.Months,_e.Narrow,Ut.Standalone);break;case"w":r=yy(1);break;case"ww":r=yy(2);break;case"W":r=yy(1,!0);break;case"d":r=Je(Ie.Date,1);break;case"dd":r=Je(Ie.Date,2);break;case"c":case"cc":r=Je(Ie.Day,1);break;case"ccc":r=Oe(Se.Days,_e.Abbreviated,Ut.Standalone);break;case"cccc":r=Oe(Se.Days,_e.Wide,Ut.Standalone);break;case"ccccc":r=Oe(Se.Days,_e.Narrow,Ut.Standalone);break;case"cccccc":r=Oe(Se.Days,_e.Short,Ut.Standalone);break;case"E":case"EE":case"EEE":r=Oe(Se.Days,_e.Abbreviated);break;case"EEEE":r=Oe(Se.Days,_e.Wide);break;case"EEEEE":r=Oe(Se.Days,_e.Narrow);break;case"EEEEEE":r=Oe(Se.Days,_e.Short);break;case"a":case"aa":case"aaa":r=Oe(Se.DayPeriods,_e.Abbreviated);break;case"aaaa":r=Oe(Se.DayPeriods,_e.Wide);break;case"aaaaa":r=Oe(Se.DayPeriods,_e.Narrow);break;case"b":case"bb":case"bbb":r=Oe(Se.DayPeriods,_e.Abbreviated,Ut.Standalone,!0);break;case"bbbb":r=Oe(Se.DayPeriods,_e.Wide,Ut.Standalone,!0);break;case"bbbbb":r=Oe(Se.DayPeriods,_e.Narrow,Ut.Standalone,!0);break;case"B":case"BB":case"BBB":r=Oe(Se.DayPeriods,_e.Abbreviated,Ut.Format,!0);break;case"BBBB":r=Oe(Se.DayPeriods,_e.Wide,Ut.Format,!0);break;case"BBBBB":r=Oe(Se.DayPeriods,_e.Narrow,Ut.Format,!0);break;case"h":r=Je(Ie.Hours,1,-12);break;case"hh":r=Je(Ie.Hours,2,-12);break;case"H":r=Je(Ie.Hours,1);break;case"HH":r=Je(Ie.Hours,2);break;case"m":r=Je(Ie.Minutes,1);break;case"mm":r=Je(Ie.Minutes,2);break;case"s":r=Je(Ie.Seconds,1);break;case"ss":r=Je(Ie.Seconds,2);break;case"S":r=Je(Ie.FractionalSeconds,1);break;case"SS":r=Je(Ie.FractionalSeconds,2);break;case"SSS":r=Je(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=ud(zr.Short);break;case"ZZZZZ":r=ud(zr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=ud(zr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=ud(zr.Long);break;default:return null}return Ey[e]=r,r}function jA(e,r){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?r:t}function $B(e,r){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+r),e}function BB(e,r,t){let n=t?-1:1,i=e.getTimezoneOffset(),o=jA(r,i);return $B(e,n*(o-i))}function VB(e){if(IA(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,s=1]=e.split("-").map(a=>+a);return hd(i,o-1,s)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(OB))return HB(n)}let r=new Date(e);if(!IA(r))throw new Error(`Unable to convert "${e}" into a date`);return r}function HB(e){let r=new Date(0),t=0,n=0,i=e[8]?r.setUTCFullYear:r.setFullYear,o=e[8]?r.setUTCHours:r.setHours;e[9]&&(t=Number(e[9]+e[10]),n=Number(e[9]+e[11])),i.call(r,Number(e[1]),Number(e[2])-1,Number(e[3]));let s=Number(e[4]||0)-t,a=Number(e[5]||0)-n,c=Number(e[6]||0),u=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(r,s,a,c,u),r}function IA(e){return e instanceof Date&&!isNaN(e.valueOf())}var zB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,DA=22,pd=".",Ua="0",GB=";",WB=",",Cy="#",bA="\xA4";function $A(e,r,t,n,i,o,s=!1){let a="",c=!1;if(!isFinite(e))a=fr(t,Rt.Infinity);else{let u=KB(e);s&&(u=YB(u));let l=r.minInt,d=r.minFrac,h=r.maxFrac;if(o){let x=o.match(zB);if(x===null)throw new Error(`${o} is not a valid digit info`);let Y=x[1],Z=x[3],X=x[5];Y!=null&&(l=Sy(Y)),Z!=null&&(d=Sy(Z)),X!=null?h=Sy(X):Z!=null&&d>h&&(h=d)}ZB(u,d,h);let m=u.digits,C=u.integerLen,D=u.exponent,A=[];for(c=m.every(x=>!x);C<l;C++)m.unshift(0);for(;C<0;C++)m.unshift(0);C>0?A=m.splice(C,m.length):(A=m,m=[0]);let N=[];for(m.length>=r.lgSize&&N.unshift(m.splice(-r.lgSize,m.length).join(""));m.length>r.gSize;)N.unshift(m.splice(-r.gSize,m.length).join(""));m.length&&N.unshift(m.join("")),a=N.join(fr(t,n)),A.length&&(a+=fr(t,i)+A.join("")),D&&(a+=fr(t,Rt.Exponential)+"+"+D)}return e<0&&!c?a=r.negPre+a+r.negSuf:a=r.posPre+a+r.posSuf,a}function Vse(e,r,t,n,i){let o=LA(r,xy.Currency),s=BA(o,fr(r,Rt.MinusSign));return s.minFrac=_B(n),s.maxFrac=s.minFrac,$A(e,s,r,Rt.CurrencyGroup,Rt.CurrencyDecimal,i).replace(bA,t).replace(bA,"").trim()}function qB(e,r,t){let n=LA(r,xy.Decimal),i=BA(n,fr(r,Rt.MinusSign));return $A(e,i,r,Rt.Group,Rt.Decimal,t)}function BA(e,r="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(GB),i=n[0],o=n[1],s=i.indexOf(pd)!==-1?i.split(pd):[i.substring(0,i.lastIndexOf(Ua)+1),i.substring(i.lastIndexOf(Ua)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Cy));for(let l=0;l<c.length;l++){let d=c.charAt(l);d===Ua?t.minFrac=t.maxFrac=l+1:d===Cy?t.maxFrac=l+1:t.posSuf+=d}let u=a.split(WB);if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){let l=i.length-t.posPre.length-t.posSuf.length,d=o.indexOf(Cy);t.negPre=o.substring(0,d).replace(/'/g,""),t.negSuf=o.slice(d+l).replace(/'/g,"")}else t.negPre=r+t.posPre,t.negSuf=t.posSuf;return t}function YB(e){if(e.digits[0]===0)return e;let r=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(r===0?e.digits.push(0,0):r===1&&e.digits.push(0),e.integerLen+=2),e}function KB(e){let r=Math.abs(e)+"",t=0,n,i,o,s,a;for((i=r.indexOf(pd))>-1&&(r=r.replace(pd,"")),(o=r.search(/e/i))>0?(i<0&&(i=o),i+=+r.slice(o+1),r=r.substring(0,o)):i<0&&(i=r.length),o=0;r.charAt(o)===Ua;o++);if(o===(a=r.length))n=[0],i=1;else{for(a--;r.charAt(a)===Ua;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(r.charAt(o))}return i>DA&&(n=n.splice(0,DA-1),t=i-1,i=1),{digits:n,exponent:t,integerLen:i}}function ZB(e,r,t){if(r>t)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${t}).`);let n=e.digits,i=n.length-e.integerLen,o=Math.min(Math.max(r,i),t),s=o+e.integerLen,a=n[s];if(s>0){n.splice(Math.max(e.integerLen,s));for(let d=s;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),e.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let d=1;d<s;d++)n[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let c=o!==0,u=r+e.integerLen,l=n.reduceRight(function(d,h,m,C){return h=h+d,C[m]=h<10?h:h-10,c&&(C[m]===0&&m>=u?C.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),e.integerLen++)}function Sy(e){let r=parseInt(e);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+e);return r}function yd(e,r){r=encodeURIComponent(r);for(let t of e.split(";")){let n=t.indexOf("="),[i,o]=n==-1?[t,""]:[t.slice(0,n),t.slice(n+1)];if(i.trim()===r)return decodeURIComponent(o)}return null}var Iy=/\s+/,wA=[],Hse=(()=>{class e{constructor(t,n){this._ngEl=t,this._renderer=n,this.initialClasses=wA,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Iy):wA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Iy):t}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let n of t)this._updateState(n,!0);else if(t!=null)for(let n of Object.keys(t))this._updateState(n,!!t[n]);this._applyStateDiff()}_updateState(t,n){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==n&&(i.changed=!0,i.enabled=n),i.touched=!0):this.stateMap.set(t,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let n=t[0],i=t[1];i.changed?(this._toggleClass(n,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),i.touched=!1}}_toggleClass(t,n){t=t.trim(),t.length>0&&t.split(Iy).forEach(i=>{n?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(n){return new(n||e)(J(lr),J(os))}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[fn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})(),zse=(()=>{class e{constructor(t){this._viewContainerRef=t,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(t){return t.ngComponentOutletNgModule!==void 0||t.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(t){return t.ngComponentOutlet!==void 0||t.ngComponentOutletContent!==void 0||t.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(t)}ngOnChanges(t){if(this._needToReCreateComponentInstance(t)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let n=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(t)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=F0(this.ngComponentOutletNgModule,TA(n)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(TA(n)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:n,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let t of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(t,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(t){for(let[n,i]of this._inputsUsed)i?(t.setInput(n,this.ngComponentOutletInputs[n]),this._inputsUsed.set(n,!1)):(t.setInput(n,void 0),this._inputsUsed.delete(n))}static{this.\u0275fac=function(n){return new(n||e)(J(Gt))}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[mi]})}}return e})();function TA(e){return e.get(Fr).injector}var Dy=class{constructor(r,t,n,i){this.$implicit=r,this.ngForOf=t,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gse=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,n,i){this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let n=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)n.createEmbeddedView(this._template,new Dy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let a=n.get(o);n.move(a,s),AA(a,i)}});for(let i=0,o=n.length;i<o;i++){let a=n.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=n.get(i.currentIndex);AA(o,i)})}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(J(Gt),J(Fn),J(gy))}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function AA(e,r){e.context.$implicit=r.item}var Wse=(()=>{class e{constructor(t,n){this._viewContainer=t,this._context=new by,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RA("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RA("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,n){return!0}static{this.\u0275fac=function(n){return new(n||e)(J(Gt),J(Fn))}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),by=class{constructor(){this.$implicit=null,this.ngIf=null}};function RA(e,r){if(!!!(!r||r.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ft(r)}'.`)}var QB=!0,gd=class{constructor(r,t){this._viewContainerRef=r,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(r){r&&!this._created?this.create():!r&&this._created&&this.destroy()}},VA=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let n=QB?t===this._ngSwitch:t==this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let n of this._defaultViews)n.enforceState(t)}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return e})(),qse=(()=>{class e{constructor(t,n,i){this.ngSwitch=i,i._addCase(),this._view=new gd(t,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(n){return new(n||e)(J(Gt),J(Fn),J(VA,9))}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return e})(),Yse=(()=>{class e{constructor(t,n,i){i._addDefault(new gd(t,n))}static{this.\u0275fac=function(n){return new(n||e)(J(Gt),J(Fn),J(VA,9))}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return e})();var Kse=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,n,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,i):!1,get:(t,n,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,i)}})}static{this.\u0275fac=function(n){return new(n||e)(J(Gt))}}static{this.\u0275dir=Lt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[mi]})}}return e})();function ja(e,r){return new B(2100,!1)}var wy=class{createSubscription(r,t){return rd(()=>r.subscribe({next:t,error:n=>{throw n}}))}dispose(r){rd(()=>r.unsubscribe())}},Ty=class{createSubscription(r,t){return r.then(t,n=>{throw n})}dispose(r){}},JB=new Ty,XB=new wy,Zse=(()=>{class e{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,n=>this._updateLatestValue(t,n))}_selectStrategy(t){if(as(t))return JB;if(hy(t))return XB;throw ja(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,n){t===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(n){return new(n||e)(J($r,16))}}static{this.\u0275pipe=Jt({name:"async",type:e,pure:!1,standalone:!0})}}return e})(),Qse=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw ja(e,t);return t.toLowerCase()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=Jt({name:"lowercase",type:e,pure:!0,standalone:!0})}}return e})();var eV="mediumDate",tV=new S(""),nV=new S(""),HA=(()=>{class e{constructor(t,n,i){this.locale=t,this.defaultTimezone=n,this.defaultOptions=i}transform(t,n,i,o){if(t==null||t===""||t!==t)return null;try{let s=n??this.defaultOptions?.dateFormat??eV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return NB(t,s,o||this.locale,a)}catch(s){throw ja(e,s.message)}}static{this.\u0275fac=function(n){return new(n||e)(J(La,16),J(tV,24),J(nV,24))}}static{this.\u0275pipe=Jt({name:"date",type:e,pure:!0,standalone:!0})}}return e})();var Jse=(()=>{class e{transform(t){return JSON.stringify(t,null,2)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=Jt({name:"json",type:e,pure:!1,standalone:!0})}}return e})();function rV(e,r){return{key:e,value:r}}var Xse=(()=>{class e{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=MA}transform(t,n=MA){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=n!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(rV(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}static{this.\u0275fac=function(n){return new(n||e)(J(my,16))}}static{this.\u0275pipe=Jt({name:"keyvalue",type:e,pure:!1,standalone:!0})}}return e})();function MA(e,r){let t=e.key,n=r.key;if(t===n)return 0;if(t===void 0)return 1;if(n===void 0)return-1;if(t===null)return 1;if(n===null)return-1;if(typeof t=="string"&&typeof n=="string")return t<n?-1:1;if(typeof t=="number"&&typeof n=="number")return t-n;if(typeof t=="boolean"&&typeof n=="boolean")return t<n?-1:1;let i=String(t),o=String(n);return i==o?0:i<o?-1:1}var zA=(()=>{class e{constructor(t){this._locale=t}transform(t,n,i){if(!iV(t))return null;i||=this._locale;try{let o=oV(t);return qB(o,i,n)}catch(o){throw ja(e,o.message)}}static{this.\u0275fac=function(n){return new(n||e)(J(La,16))}}static{this.\u0275pipe=Jt({name:"number",type:e,pure:!0,standalone:!0})}}return e})();function iV(e){return!(e==null||e===""||e!==e)}function oV(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var eae=(()=>{class e{transform(t,n,i){if(t==null)return null;if(!this.supports(t))throw ja(e,t);return t.slice(n,i)}supports(t){return typeof t=="string"||Array.isArray(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275pipe=Jt({name:"slice",type:e,pure:!1,standalone:!0})}}return e})();var Ye=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),Ny="browser",sV="server";function Un(e){return e===Ny}function io(e){return e===sV}var GA=(()=>{class e{static{this.\u0275prov=g({token:e,providedIn:"root",factory:()=>Un(E($e))?new Ay(E(Fe),window):new Ry})}}return e})(),Ay=class{constructor(r,t){this.document=r,this.window=t,this.offset=()=>[0,0]}setOffset(r){Array.isArray(r)?this.offset=()=>r:this.offset=r}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(r){this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){let t=aV(this.document,r);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(r){this.window.history.scrollRestoration=r}scrollToElement(r){let t=r.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}};function aV(e,r){let t=e.getElementById(r)||e.getElementsByName(r)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(r)||o.querySelector(`[name="${r}"]`);if(s)return s}i=n.nextNode()}}return null}var Ry=class{setOffset(r){}getScrollPosition(){return[0,0]}scrollToPosition(r){}scrollToAnchor(r){}setHistoryScrollRestoration(r){}},ls=class{};var Ba=class{},Va=class{},de=class e{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let i=t.slice(0,n),o=i.toLowerCase(),s=t.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,t){return this.clone({name:r,value:t,op:"a"})}set(r,t){return this.clone({name:r,value:t,op:"s"})}delete(r,t){return this.clone({name:r,value:t,op:"d"})}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t))})}clone(r){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t}applyUpdate(r){let t=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,t);let i=(r.op==="a"?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":let o=r.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(r,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=r.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(r,i)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)))}};var ky=class{encodeKey(r){return WA(r)}encodeValue(r){return WA(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function cV(e,r){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,o)),r.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var uV=/%(\d[a-f0-9])/gi,lV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WA(e){return encodeURIComponent(e).replace(uV,(r,t)=>lV[t]??r)}function Ed(e){return`${e}`}var Ge=class e{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new ky,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cV(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(t=>{let n=r.fromObject[t],i=Array.isArray(n)?n.map(Ed):[Ed(n)];this.map.set(t,i)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let t=this.map.get(r);return t?t[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,t){return this.clone({param:r,value:t,op:"a"})}appendAll(r){let t=[];return Object.keys(r).forEach(n=>{let i=r[n];Array.isArray(i)?i.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(r,t){return this.clone({param:r,value:t,op:"s"})}delete(r,t){return this.clone({param:r,value:t,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let t=this.encoder.encodeKey(r);return this.map.get(r).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let t=(r.op==="a"?this.map.get(r.param):void 0)||[];t.push(Ed(r.value)),this.map.set(r.param,t);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],i=n.indexOf(Ed(r.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}},Ha=class{constructor(r){this.defaultValue=r}},ds=class{constructor(){this.map=new Map}set(r,t){return this.map.set(r,t),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function dV(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qA(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function YA(e){return typeof Blob<"u"&&e instanceof Blob}function KA(e){return typeof FormData<"u"&&e instanceof FormData}function fV(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var $a=class e{constructor(r,t,n,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let o;if(dV(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new de,this.context??=new ds,!this.params)this.params=new Ge,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qA(this.body)||YA(this.body)||KA(this.body)||fV(this.body)?this.body:this.body instanceof Ge?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||KA(this.body)?null:YA(this.body)?this.body.type||null:qA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Ge?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let t=r.method||this.method,n=r.url||this.url,i=r.responseType||this.responseType,o=r.transferCache??this.transferCache,s=r.body!==void 0?r.body:this.body,a=r.withCredentials??this.withCredentials,c=r.reportProgress??this.reportProgress,u=r.headers||this.headers,l=r.params||this.params,d=r.context??this.context;return r.setHeaders!==void 0&&(u=Object.keys(r.setHeaders).reduce((h,m)=>h.set(m,r.setHeaders[m]),u)),r.setParams&&(l=Object.keys(r.setParams).reduce((h,m)=>h.set(m,r.setParams[m]),l)),new e(t,n,s,{params:l,headers:u,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},pr=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(pr||{}),za=class{constructor(r,t=Ga.Ok,n="OK"){this.headers=r.headers||new de,this.status=r.status!==void 0?r.status:t,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},Cd=class e extends za{constructor(r={}){super(r),this.type=pr.ResponseHeader}clone(r={}){return new e({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},oo=class e extends za{constructor(r={}){super(r),this.type=pr.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new e({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Mt=class extends za{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Ga=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Ga||{});function Fy(e,r){return{body:r,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Le=(()=>{class e{constructor(t){this.handler=t}request(t,n,i={}){let o;if(t instanceof $a)o=t;else{let c;i.headers instanceof de?c=i.headers:c=new de(i.headers);let u;i.params&&(i.params instanceof Ge?u=i.params:u=new Ge({fromObject:i.params})),o=new $a(t,n,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=I(o).pipe(Ue(c=>this.handler.handle(c)));if(t instanceof $a||i.observe==="events")return s;let a=s.pipe(M(c=>c instanceof oo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(y(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(y(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(y(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(y(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new Ge().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,i={}){return this.request("PATCH",t,Fy(i,n))}post(t,n,i={}){return this.request("POST",t,Fy(i,n))}put(t,n,i={}){return this.request("PUT",t,Fy(i,n))}static{this.\u0275fac=function(n){return new(n||e)(f(Ba))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),hV=/^\)\]\}',?\n/,pV="X-Request-URL";function ZA(e){if(e.url)return e.url;let r=pV.toLocaleLowerCase();return e.headers.get(r)}var Ly=(()=>{class e{constructor(){this.fetchImpl=E(Uy,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=E(Ce)}handle(t){return new V(n=>{let i=new AbortController;return this.doRequest(t,i.signal,n).then(jy,o=>n.error(new Mt({error:o}))),()=>i.abort()})}doRequest(t,n,i){return it(this,null,function*(){let o=this.createRequestInit(t),s;try{let m=this.fetchImpl(t.urlWithParams,v({signal:n},o));gV(m),i.next({type:pr.Sent}),s=yield m}catch(m){i.error(new Mt({error:m,status:m.status??0,statusText:m.statusText,url:t.urlWithParams,headers:m.headers}));return}let a=new de(s.headers),c=s.statusText,u=ZA(s)??t.urlWithParams,l=s.status,d=null;if(t.reportProgress&&i.next(new Cd({headers:a,status:l,statusText:c,url:u})),s.body){let m=s.headers.get("content-length"),C=[],D=s.body.getReader(),A=0,N,x,Y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>it(this,null,function*(){for(;;){let{done:X,value:fe}=yield D.read();if(X)break;if(C.push(fe),A+=fe.length,t.reportProgress){x=t.responseType==="text"?(x??"")+(N??=new TextDecoder).decode(fe,{stream:!0}):void 0;let Te=()=>i.next({type:pr.DownloadProgress,total:m?+m:void 0,loaded:A,partialText:x});Y?Y.run(Te):Te()}}}));let Z=this.concatChunks(C,A);try{let X=s.headers.get("Content-Type")??"";d=this.parseBody(t,Z,X)}catch(X){i.error(new Mt({error:X,headers:new de(s.headers),status:s.status,statusText:s.statusText,url:ZA(s)??t.urlWithParams}));return}}l===0&&(l=d?Ga.Ok:0),l>=200&&l<300?(i.next(new oo({body:d,headers:a,status:l,statusText:c,url:u})),i.complete()):i.error(new Mt({error:d,headers:a,status:l,statusText:c,url:u}))})}parseBody(t,n,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(n).replace(hV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:i});case"arraybuffer":return n.buffer}}createRequestInit(t){let n={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>n[o]=s.join(",")),n.Accept??="application/json, text/plain, */*",!n["Content-Type"]){let o=t.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:i}}concatChunks(t,n){let i=new Uint8Array(n),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Uy=class{};function jy(){}function gV(e){e.then(jy,jy)}function tR(e,r){return r(e)}function mV(e,r){return(t,n)=>r.intercept(t,{handle:i=>e(i,n)})}function vV(e,r,t){return(n,i)=>Ln(t,()=>r(n,o=>e(o,i)))}var tn=new S(""),$y=new S(""),yV=new S(""),nR=new S("");function EV(){let e=null;return(r,t)=>{e===null&&(e=(E(tn,{optional:!0})??[]).reduceRight(mV,tR));let n=E(no),i=n.add();return e(r,t).pipe(Rn(()=>n.remove(i)))}}var QA=(()=>{class e extends Ba{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=E(no);let i=E(nR,{optional:!0});this.backend=i??t}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get($y),...this.injector.get(yV,[])]));this.chain=i.reduceRight((o,s)=>vV(o,s,this.injector),tR)}let n=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Rn(()=>this.pendingTasks.remove(n)))}static{this.\u0275fac=function(n){return new(n||e)(f(Va),f(wt))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();var CV=/^\)\]\}',?\n/;function SV(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var JA=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new B(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?me(n.\u0275loadImpl()):I(null)).pipe(_(()=>new V(o=>{let s=n.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((D,A)=>s.setRequestHeader(D,A.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let D=t.detectContentTypeHeader();D!==null&&s.setRequestHeader("Content-Type",D)}if(t.responseType){let D=t.responseType.toLowerCase();s.responseType=D!=="json"?D:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let D=s.statusText||"OK",A=new de(s.getAllResponseHeaders()),N=SV(s)||t.url;return c=new Cd({headers:A,status:s.status,statusText:D,url:N}),c},l=()=>{let{headers:D,status:A,statusText:N,url:x}=u(),Y=null;A!==Ga.NoContent&&(Y=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=Y?Ga.Ok:0);let Z=A>=200&&A<300;if(t.responseType==="json"&&typeof Y=="string"){let X=Y;Y=Y.replace(CV,"");try{Y=Y!==""?JSON.parse(Y):null}catch(fe){Y=X,Z&&(Z=!1,Y={error:fe,text:Y})}}Z?(o.next(new oo({body:Y,headers:D,status:A,statusText:N,url:x||void 0})),o.complete()):o.error(new Mt({error:Y,headers:D,status:A,statusText:N,url:x||void 0}))},d=D=>{let{url:A}=u(),N=new Mt({error:D,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(N)},h=!1,m=D=>{h||(o.next(u()),h=!0);let A={type:pr.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},C=D=>{let A={type:pr.UploadProgress,loaded:D.loaded};D.lengthComputable&&(A.total=D.total),o.next(A)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:pr.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(n){return new(n||e)(f(ls))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),rR=new S(""),IV="XSRF-TOKEN",DV=new S("",{providedIn:"root",factory:()=>IV}),bV="X-XSRF-TOKEN",wV=new S("",{providedIn:"root",factory:()=>bV}),Sd=class{},TV=(()=>{class e{constructor(t,n,i){this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=yd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(n){return new(n||e)(f(Fe),f($e),f(DV))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function AV(e,r){let t=e.url.toLowerCase();if(!E(rR)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return r(e);let n=E(Sd).getToken(),i=E(wV);return n!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),r(e)}var By=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(By||{});function iR(e,r){return{\u0275kind:e,\u0275providers:r}}function fae(...e){let r=[Le,JA,QA,{provide:Ba,useExisting:QA},{provide:Va,useExisting:JA},{provide:$y,useValue:AV,multi:!0},{provide:rR,useValue:!0},{provide:Sd,useClass:TV}];for(let t of e)r.push(...t.\u0275providers);return ur(r)}var XA=new S("");function hae(){return iR(By.LegacyInterceptors,[{provide:XA,useFactory:EV},{provide:$y,useExisting:XA,multi:!0}])}function pae(){return iR(By.Fetch,[Ly,{provide:Va,useExisting:Ly},{provide:nR,useExisting:Ly}])}var zy=class extends fd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gy=class e extends zy{static makeCurrent(){xA(new e)}onAndCancel(r,t,n){return r.addEventListener(t,n),()=>{r.removeEventListener(t,n)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,t){return t=t||this.getDefaultDocument(),t.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return t==="window"?window:t==="document"?r:t==="body"?r.body:null}getBaseHref(r){let t=RV();return t==null?null:MV(t)}resetBaseElement(){Wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return yd(document.cookie,r)}},Wa=null;function RV(){return Wa=Wa||document.querySelector("base"),Wa?Wa.getAttribute("href"):null}function MV(e){return new URL(e,document.baseURI).pathname}var Wy=class{addToWindow(r){We.getAngularTestability=(n,i=!0)=>{let o=r.findTestabilityInTree(n,i);if(o==null)throw new B(5103,!1);return o},We.getAllAngularTestabilities=()=>r.getAllTestabilities(),We.getAllAngularRootElements=()=>r.getAllRootElements();let t=n=>{let i=We.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&n()};i.forEach(a=>{a.whenStable(s)})};We.frameworkStabilizers||(We.frameworkStabilizers=[]),We.frameworkStabilizers.push(t)}findTestabilityInTree(r,t,n){if(t==null)return null;let i=r.getTestability(t);return i??(n?Ci().isShadowRoot(t)?this.findTestabilityInTree(r,t.host,!0):this.findTestabilityInTree(r,t.parentElement,!0):null)}},_V=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),qy=new S(""),uR=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,i){return this._findPluginFor(n).addEventListener(t,n,i)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(o=>o.supports(t)),!n)throw new B(5101,!1);return this._eventNameToPlugin.set(t,n),n}static{this.\u0275fac=function(n){return new(n||e)(f(qy),f(Ce))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Id=class{constructor(r){this._doc=r}},Vy="ng-app-id",lR=(()=>{class e{constructor(t,n,i,o={}){this.doc=t,this.appId=n,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=io(o),this.resetHostNodes()}addStyles(t){for(let n of t)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(t){for(let n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){let n=this.styleRef;n.get(t)?.elements?.forEach(i=>i.remove()),n.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Vy}="${this.appId}"]`);if(t?.length){let n=new Map;return t.forEach(i=>{i.textContent!=null&&n.set(i.textContent,i)}),n}return null}changeUsageCount(t,n){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=n,o.usage}return i.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){let i=this.styleNodesInDOM,o=i?.get(n);if(o?.parentNode===t)return i.delete(n),o.removeAttribute(Vy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(Vy,this.appId),t.appendChild(s),s}}addStyleToHost(t,n){let i=this.getStyleElement(t,n),o=this.styleRef,s=o.get(n)?.elements;s?s.push(i):o.set(n,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||e)(f(Fe),f(xa),f(Uv,8),f($e))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Hy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ky=/%COMP%/g,dR="%COMP%",OV=`_nghost-${dR}`,xV=`_ngcontent-${dR}`,NV=!0,PV=new S("",{providedIn:"root",factory:()=>NV});function FV(e){return xV.replace(Ky,e)}function LV(e){return OV.replace(Ky,e)}function fR(e,r){return r.map(t=>t.replace(Ky,e))}var sR=(()=>{class e{constructor(t,n,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=io(a),this.defaultRenderer=new qa(t,s,c,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===ar.ShadowDom&&(n=w(v({},n),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(t,n);return i instanceof Dd?i.applyToHost(t):i instanceof Ya&&i.applyStyles(),i}getOrCreateRenderer(t,n){let i=this.rendererByCompId,o=i.get(n.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(n.encapsulation){case ar.Emulated:o=new Dd(c,u,n,this.appId,l,s,a,d);break;case ar.ShadowDom:return new Yy(c,u,t,n,s,a,this.nonce,d);default:o=new Ya(c,u,n,l,s,a,d);break}i.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||e)(f(uR),f(lR),f(xa),f(PV),f(Fe),f($e),f(Ce),f(Uv))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),qa=class{constructor(r,t,n,i){this.eventManager=r,this.doc=t,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,t){return t?this.doc.createElementNS(Hy[t]||t,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,t){(aR(r)?r.content:r).appendChild(t)}insertBefore(r,t,n){r&&(aR(r)?r.content:r).insertBefore(t,n)}removeChild(r,t){r&&r.removeChild(t)}selectRootElement(r,t){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new B(-5104,!1);return t||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,n,i){if(i){t=i+":"+t;let o=Hy[i];o?r.setAttributeNS(o,t,n):r.setAttribute(t,n)}else r.setAttribute(t,n)}removeAttribute(r,t,n){if(n){let i=Hy[n];i?r.removeAttributeNS(i,t):r.removeAttribute(`${n}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,n,i){i&(Pr.DashCase|Pr.Important)?r.style.setProperty(t,n,i&Pr.Important?"important":""):r.style[t]=n}removeStyle(r,t,n){n&Pr.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,n){r!=null&&(r[t]=n)}setValue(r,t){r.nodeValue=t}listen(r,t,n){if(typeof r=="string"&&(r=Ci().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${t}`);return this.eventManager.addEventListener(r,t,this.decoratePreventDefault(n))}decoratePreventDefault(r){return t=>{if(t==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(t)):r(t))===!1&&t.preventDefault()}}};function aR(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Yy=class extends qa{constructor(r,t,n,i,o,s,a,c){super(r,o,s,c),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=fR(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,n){return super.insertBefore(this.nodeOrShadowRoot(r),t,n)}removeChild(r,t){return super.removeChild(this.nodeOrShadowRoot(r),t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ya=class extends qa{constructor(r,t,n,i,o,s,a,c){super(r,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?fR(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Dd=class extends Ya{constructor(r,t,n,i,o,s,a,c){let u=i+"-"+n.id;super(r,t,n,o,s,a,c,u),this.contentAttr=FV(u),this.hostAttr=LV(u)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,t){let n=super.createElement(r,t);return super.setAttribute(n,this.contentAttr,""),n}},kV=(()=>{class e extends Id{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,i){return t.addEventListener(n,i,!1),()=>this.removeEventListener(t,n,i)}removeEventListener(t,n,i){return t.removeEventListener(n,i)}static{this.\u0275fac=function(n){return new(n||e)(f(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),cR=["alt","control","meta","shift"],UV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},$V=(()=>{class e extends Id{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,n,i){let o=e.parseEventName(n),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ci().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let n=t.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(n.pop()),s="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),s="code."),cR.forEach(u=>{let l=n.indexOf(u);l>-1&&(n.splice(l,1),s+=u+".")}),s+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,n){let i=UV[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cR.forEach(s=>{if(s!==i){let a=jV[s];a(t)&&(o+=s+".")}}),o+=i,o===n)}static eventCallback(t,n,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>n(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(n){return new(n||e)(f(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function BV(){Gy.makeCurrent()}function VV(){return new ct}function HV(){return UT(document),document}var zV=[{provide:$e,useValue:Ny},{provide:kv,useValue:BV,multi:!0},{provide:Fe,useFactory:HV,deps:[]}],Tae=py(vA,"browser",zV),GV=new S(""),WV=[{provide:Fa,useClass:Wy,deps:[]},{provide:dy,useClass:ed,deps:[Ce,td,Fa]},{provide:ed,useClass:ed,deps:[Ce,td,Fa]}],qV=[{provide:Ml,useValue:"root"},{provide:ct,useFactory:VV,deps:[]},{provide:qy,useClass:kV,multi:!0,deps:[Fe,Ce,$e]},{provide:qy,useClass:$V,multi:!0,deps:[Fe]},sR,lR,uR,{provide:Ji,useExisting:sR},{provide:ls,useClass:_V,deps:[]},[]],Aae=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:xa,useValue:t.appId}]}}static{this.\u0275fac=function(n){return new(n||e)(f(GV,12))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[...qV,...WV],imports:[Ye,yA]})}}return e})(),Zy=(()=>{class e{constructor(t){this._doc=t,this._dom=Ci()}addTag(t,n=!1){return t?this._getOrCreateElement(t,n):null}addTags(t,n=!1){return t?t.reduce((i,o)=>(o&&i.push(this._getOrCreateElement(o,n)),i),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];let n=this._doc.querySelectorAll(`meta[${t}]`);return n?[].slice.call(n):[]}updateTag(t,n){if(!t)return null;n=n||this._parseSelector(t);let i=this.getTag(n);return i?this._setMetaElementAttributes(t,i):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,n=!1){if(!n){let s=this._parseSelector(t),a=this.getTags(s).filter(c=>this._containsAttributes(t,c))[0];if(a!==void 0)return a}let i=this._dom.createElement("meta");return this._setMetaElementAttributes(t,i),this._doc.getElementsByTagName("head")[0].appendChild(i),i}_setMetaElementAttributes(t,n){return Object.keys(t).forEach(i=>n.setAttribute(this._getMetaKeyMap(i),t[i])),n}_parseSelector(t){let n=t.name?"name":"property";return`${n}="${t[n]}"`}_containsAttributes(t,n){return Object.keys(t).every(i=>n.getAttribute(this._getMetaKeyMap(i))===t[i])}_getMetaKeyMap(t){return YV[t]||t}static{this.\u0275fac=function(n){return new(n||e)(f(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),YV={httpEquiv:"http-equiv"},hR=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(n){return new(n||e)(f(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var KV=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(ZV),i},providedIn:"root"})}}return e})(),ZV=(()=>{class e extends KV{constructor(t){super(),this._doc=t}sanitize(t,n){if(n==null)return null;switch(t){case vn.NONE:return n;case vn.HTML:return dr(n,"HTML")?zt(n):$v(this._doc,String(n)).toString();case vn.STYLE:return dr(n,"Style")?zt(n):n;case vn.SCRIPT:if(dr(n,"Script"))return zt(n);throw new B(5200,!1);case vn.URL:return dr(n,"URL")?zt(n):Ul(String(n));case vn.RESOURCE_URL:if(dr(n,"ResourceURL"))return zt(n);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(t){return BT(t)}bypassSecurityTrustStyle(t){return VT(t)}bypassSecurityTrustScript(t){return HT(t)}bypassSecurityTrustUrl(t){return zT(t)}bypassSecurityTrustResourceUrl(t){return GT(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Fe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Qy(e,r){let t=!r?.manualCleanup;t&&!r?.injector&&Aa(Qy);let n=t?r?.injector?.get(yi)??E(yi):null,i;r?.requireSync?i=ny({kind:0}):i=ny({kind:1,value:r?.initialValue});let o=e.subscribe({next:s=>i.set({kind:1,value:s}),error:s=>{if(r?.rejectErrors)throw s;i.set({kind:2,error:s})}});return n?.onDestroy(o.unsubscribe.bind(o)),nd(()=>{let s=i();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new B(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var tE={};function Si(e,r){if(tE[e]=(tE[e]||0)+1,typeof r=="function")return Jy(e,(...n)=>w(v({},r(...n)),{type:e}));switch(r?r._as:"empty"){case"empty":return Jy(e,()=>({type:e}));case"props":return Jy(e,n=>w(v({},n),{type:e}));default:throw new Error("Unexpected config.")}}function hs(){return{_as:"props",_p:void 0}}function Jy(e,r){return Object.defineProperty(r,"type",{value:e,writable:!1})}var Ad="@ngrx/store/init",Wr=(()=>{class e extends Re{constructor(){super({type:Ad})}next(t){if(typeof t=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof t>"u")throw new TypeError("Actions must be objects");if(typeof t.type>"u")throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),JV=[Wr],MR=new S("@ngrx/store Internal Root Guard"),pR=new S("@ngrx/store Internal Initial State"),oE=new S("@ngrx/store Initial State"),_R=new S("@ngrx/store Reducer Factory"),gR=new S("@ngrx/store Internal Reducer Factory Provider"),OR=new S("@ngrx/store Initial Reducers"),Xy=new S("@ngrx/store Internal Initial Reducers"),mR=new S("@ngrx/store Store Features"),vR=new S("@ngrx/store Internal Store Reducers"),eE=new S("@ngrx/store Internal Feature Reducers"),yR=new S("@ngrx/store Internal Feature Configs"),xR=new S("@ngrx/store Internal Store Features"),ER=new S("@ngrx/store Internal Feature Reducers Token"),NR=new S("@ngrx/store Feature Reducers"),CR=new S("@ngrx/store User Provided Meta Reducers"),fs=new S("@ngrx/store Meta Reducers"),SR=new S("@ngrx/store Internal Resolved Meta Reducers"),IR=new S("@ngrx/store User Runtime Checks Config"),DR=new S("@ngrx/store Internal User Runtime Checks Config"),so=new S("@ngrx/store Internal Runtime Checks"),sE=new S("@ngrx/store Check if Action types are unique"),XV=new S("@ngrx/store Root Store Provider"),eH=new S("@ngrx/store Feature State Provider");function ao(e,r={}){let t=Object.keys(e),n={};for(let o=0;o<t.length;o++){let s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}let i=Object.keys(n);return function(s,a){s=s===void 0?r:s;let c=!1,u={};for(let l=0;l<i.length;l++){let d=i[l],h=n[d],m=s[d],C=h(m,a);u[d]=C,c=c||C!==m}return c?u:s}}function tH(e,r){return Object.keys(e).filter(t=>t!==r).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{})}function PR(...e){return function(r){if(e.length===0)return r;let t=e[e.length-1];return e.slice(0,-1).reduceRight((i,o)=>o(i),t(r))}}function FR(e,r){return Array.isArray(r)&&r.length>0&&(e=PR.apply(null,[...r,e])),(t,n)=>{let i=e(t);return(o,s)=>(o=o===void 0?n:o,i(o,s))}}function nH(e){let r=Array.isArray(e)&&e.length>0?PR(...e):t=>t;return(t,n)=>(t=r(t),(i,o)=>(i=i===void 0?n:i,t(i,o)))}var Ka=class extends V{},bd=class extends Wr{},rH="@ngrx/store/update-reducers",wd=(()=>{class e extends Re{get currentReducers(){return this.reducers}constructor(t,n,i,o){super(o(i,n)),this.dispatcher=t,this.initialState=n,this.reducers=i,this.reducerFactory=o}addFeature(t){this.addFeatures([t])}addFeatures(t){let n=t.reduce((i,{reducers:o,reducerFactory:s,metaReducers:a,initialState:c,key:u})=>{let l=typeof o=="function"?nH(a)(o,c):FR(s,a)(o,c);return i[u]=l,i},{});this.addReducers(n)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(n=>n.key))}addReducer(t,n){this.addReducers({[t]:n})}addReducers(t){this.reducers=v(v({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(n=>{this.reducers=tH(this.reducers,n)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:rH,features:t})}ngOnDestroy(){this.complete()}static{this.\u0275fac=function(n){return new(n||e)(f(bd),f(oE),f(OR),f(_R))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),iH=[wd,{provide:Ka,useExisting:wd},{provide:bd,useExisting:Wr}],Za=(()=>{class e extends ie{ngOnDestroy(){this.complete()}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),oH=[Za],Td=class extends V{},bR=(()=>{class e extends Re{static{this.INIT=Ad}constructor(t,n,i,o){super(o);let a=t.pipe(un(ui)).pipe(st(n)),c={state:o},u=a.pipe(Bi(sH,c));this.stateSubscription=u.subscribe(({state:l,action:d})=>{this.next(l),i.next(d)}),this.state=Qy(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}static{this.\u0275fac=function(n){return new(n||e)(f(Wr),f(Ka),f(Za),f(oE))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function sH(e={state:void 0},[r,t]){let{state:n}=e;return{state:t(n,r),action:r}}var aH=[bR,{provide:Td,useExisting:bR}],le=(()=>{class e extends V{constructor(t,n,i){super(),this.actionsObserver=n,this.reducerManager=i,this.source=t,this.state=t.state}select(t,...n){return R.call(null,t,...n)(this)}selectSignal(t,n){return nd(()=>t(this.state()),n)}lift(t){let n=new e(this,this.actionsObserver,this.reducerManager);return n.operator=t,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,n){this.reducerManager.addReducer(t,n)}removeReducer(t){this.reducerManager.removeReducer(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Td),f(Wr),f(wd))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),cH=[le];function R(e,r,...t){return function(i){let o;if(typeof e=="string"){let s=[r,...t].filter(Boolean);o=i.pipe(Vg(e,...s))}else if(typeof e=="function")o=i.pipe(y(s=>e(s,r)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(dn())}}var aE="https://ngrx.io/guide/store/configuration/runtime-checks";function wR(e){return e===void 0}function TR(e){return e===null}function LR(e){return Array.isArray(e)}function uH(e){return typeof e=="string"}function lH(e){return typeof e=="boolean"}function dH(e){return typeof e=="number"}function kR(e){return typeof e=="object"&&e!==null}function fH(e){return kR(e)&&!LR(e)}function hH(e){if(!fH(e))return!1;let r=Object.getPrototypeOf(e);return r===Object.prototype||r===null}function nE(e){return typeof e=="function"}function pH(e){return nE(e)&&e.hasOwnProperty("\u0275cmp")}function gH(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var mH=!1;function cE(){return mH}function AR(e,r){return e===r}function vH(e,r,t){for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return!0;return!1}function UR(e,r=AR,t=AR){let n=null,i=null,o;function s(){n=null,i=null}function a(l=void 0){o={result:l}}function c(){o=void 0}function u(){if(o!==void 0)return o.result;if(!n)return i=e.apply(null,arguments),n=arguments,i;if(!vH(arguments,n,r))return i;let l=e.apply(null,arguments);return n=arguments,t(i,l)?i:(i=l,l)}return{memoized:u,reset:s,setResult:a,clearResult:c}}function T(...e){return EH(UR)(...e)}function yH(e,r,t,n){if(t===void 0){let o=r.map(s=>s(e));return n.memoized.apply(null,o)}let i=r.map(o=>o(e,t));return n.memoized.apply(null,[...i,t])}function EH(e,r={stateFn:yH}){return function(...t){let n=t;if(Array.isArray(n[0])){let[l,...d]=n;n=[...l,...d]}else n.length===1&&CH(n[0])&&(n=SH(n[0]));let i=n.slice(0,n.length-1),o=n[n.length-1],s=i.filter(l=>l.release&&typeof l.release=="function"),a=e(function(...l){return o.apply(null,l)}),c=UR(function(l,d){return r.stateFn.apply(null,[l,i,d,a])});function u(){c.reset(),a.reset(),s.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function En(e){return T(r=>{let t=r[e];return!cE()&&pe()&&!(e in r)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),t},r=>r)}function CH(e){return!!e&&typeof e=="object"&&Object.values(e).every(r=>typeof r=="function")}function SH(e){let r=Object.values(e),t=Object.keys(e),n=(...i)=>t.reduce((o,s,a)=>w(v({},o),{[s]:i[a]}),{});return[...r,n]}function IH(e){return e instanceof S?E(e):e}function DH(e,r){return r.map((t,n)=>{if(e[n]instanceof S){let i=E(e[n]);return{key:t.key,reducerFactory:i.reducerFactory?i.reducerFactory:ao,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return t})}function bH(e){return e.map(r=>r instanceof S?E(r):r)}function jR(e){return typeof e=="function"?e():e}function wH(e,r){return e.concat(r)}function TH(){if(E(le,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function AH(e,r){return function(t,n){let i=r.action(n)?rE(n):n,o=e(t,i);return r.state()?rE(o):o}}function rE(e){Object.freeze(e);let r=nE(e);return Object.getOwnPropertyNames(e).forEach(t=>{if(!t.startsWith("\u0275")&&gH(e,t)&&(!r||t!=="caller"&&t!=="callee"&&t!=="arguments")){let n=e[t];(kR(n)||nE(n))&&!Object.isFrozen(n)&&rE(n)}}),e}function RH(e,r){return function(t,n){if(r.action(n)){let o=iE(n);RR(o,"action")}let i=e(t,n);if(r.state()){let o=iE(i);RR(o,"state")}return i}}function iE(e,r=[]){return(wR(e)||TR(e))&&r.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,i)=>{if(n)return n;let o=e[i];return pH(o)?n:wR(o)||TR(o)||dH(o)||lH(o)||uH(o)||LR(o)?!1:hH(o)?iE(o,[...r,i]):{path:[...r,i],value:o}},!1)}function RR(e,r){if(e===!1)return;let t=e.path.join("."),n=new Error(`Detected unserializable ${r} at "${t}". ${aE}#strict${r}serializability`);throw n.value=e.value,n.unserializablePath=t,n}function MH(e,r){return function(t,n){if(r.action(n)&&!Ce.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${aE}#strictactionwithinngzone`);return e(t,n)}}function _H(e){return pe()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function OH({strictActionSerializability:e,strictStateSerializability:r}){return t=>e||r?RH(t,{action:n=>e&&!uE(n),state:()=>r}):t}function xH({strictActionImmutability:e,strictStateImmutability:r}){return t=>e||r?AH(t,{action:n=>e&&!uE(n),state:()=>r}):t}function uE(e){return e.type.startsWith("@ngrx")}function NH({strictActionWithinNgZone:e}){return r=>e?MH(r,{action:t=>e&&!uE(t)}):r}function PH(e){return[{provide:DR,useValue:e},{provide:IR,useFactory:FH,deps:[DR]},{provide:so,deps:[IR],useFactory:_H},{provide:fs,multi:!0,deps:[so],useFactory:xH},{provide:fs,multi:!0,deps:[so],useFactory:OH},{provide:fs,multi:!0,deps:[so],useFactory:NH}]}function $R(){return[{provide:sE,multi:!0,deps:[so],useFactory:LH}]}function FH(e){return e}function LH(e){if(!e.strictActionTypeUniqueness)return;let r=Object.entries(tE).filter(([,t])=>t>1).map(([t])=>t);if(r.length)throw new Error(`Action types are registered more than once, ${r.map(t=>`"${t}"`).join(", ")}. ${aE}#strictactiontypeuniqueness`)}function kH(e={},r={}){return[{provide:MR,useFactory:TH},{provide:pR,useValue:r.initialState},{provide:oE,useFactory:jR,deps:[pR]},{provide:Xy,useValue:e},{provide:vR,useExisting:e instanceof S?e:Xy},{provide:OR,deps:[Xy,[new Cv(vR)]],useFactory:IH},{provide:CR,useValue:r.metaReducers?r.metaReducers:[]},{provide:SR,deps:[fs,CR],useFactory:wH},{provide:gR,useValue:r.reducerFactory?r.reducerFactory:ao},{provide:_R,deps:[gR,SR],useFactory:FR},JV,iH,oH,aH,cH,PH(r.runtimeChecks),$R()]}function UH(e,r,t={}){return[{provide:yR,multi:!0,useValue:e instanceof Object?{}:t},{provide:mR,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(t instanceof S)&&t.reducerFactory?t.reducerFactory:ao,metaReducers:!(t instanceof S)&&t.metaReducers?t.metaReducers:[],initialState:!(t instanceof S)&&t.initialState?t.initialState:void 0}},{provide:xR,deps:[yR,mR],useFactory:DH},{provide:eE,multi:!0,useValue:e instanceof Object?e.reducer:r},{provide:ER,multi:!0,useExisting:r instanceof S?r:eE},{provide:NR,multi:!0,deps:[eE,[new Cv(ER)]],useFactory:bH},$R()]}var Qa=(()=>{class e{constructor(t,n,i,o,s,a){}static{this.\u0275fac=function(n){return new(n||e)(f(Wr),f(Ka),f(Za),f(le),f(MR,8),f(sE,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),Rd=(()=>{class e{constructor(t,n,i,o,s){this.features=t,this.featureReducers=n,this.reducerManager=i;let a=t.map((c,u)=>{let d=n.shift()[u];return w(v({},c),{reducers:d,initialState:jR(c.initialState)})});i.addFeatures(a)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}static{this.\u0275fac=function(n){return new(n||e)(f(xR),f(NR),f(wd),f(Qa),f(sE,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),jn=(()=>{class e{static forRoot(t,n){return{ngModule:Qa,providers:[...kH(t,n)]}}static forFeature(t,n,i={}){return{ngModule:Rd,providers:[...UH(t,n,i)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function Bae(...e){let r=e.pop(),t=e.map(n=>n.type);return{reducer:r,types:t}}function Vae(e,...r){let t=new Map;for(let n of r)for(let i of n.types){let o=t.get(i);if(o){let s=(a,c)=>n.reducer(o(a,c),c);t.set(i,s)}else t.set(i,n.reducer)}return function(n=e,i){let o=t.get(i.type);return o?o(n,i):n}}var jH={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},_d="__@ngrx/effects_create__";function H(e,r={}){let t=r.functional?e:e(),n=v(v({},jH),r);return Object.defineProperty(t,_d,{value:n}),t}function $H(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(_d)?e[n][_d].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][_d];return v({propertyName:n},i)})}function BH(e){return $H(e)}function zR(e){return Object.getPrototypeOf(e)}function VH(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function GR(e){return typeof e=="function"}function BR(e){return e.filter(GR)}function HH(e){return e instanceof S||GR(e)}function zH(e,r,t){let n=zR(e),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=BH(e).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof e[a]=="function"?e[a]():e[a],d=u?t(l,r):l;return c===!1?d.pipe(ea()):d.pipe(Bg()).pipe(y(m=>({effect:e[a],notification:m,propertyName:a,sourceName:o,sourceInstance:e})))});return ln(...s)}var GH=10;function WR(e,r,t=GH){return e.pipe(F(n=>(r&&r.handleError(n),t<=1?e:WR(e,r,t-1))))}var De=(()=>{class e extends V{constructor(t){super(),t&&(this.source=t)}lift(t){let n=new e;return n.source=this,n.operator=t,n}static{this.\u0275fac=function(n){return new(n||e)(f(Za))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $(...e){return M(r=>e.some(t=>typeof t=="string"?t===r.type:t.type===r.type))}var qR=new S("@ngrx/effects Internal Root Guard"),Md=new S("@ngrx/effects User Provided Effects"),dE=new S("@ngrx/effects Internal Root Effects"),YR=new S("@ngrx/effects Internal Root Effects Instances"),VR=new S("@ngrx/effects Internal Feature Effects"),KR=new S("@ngrx/effects Internal Feature Effects Instance Groups"),WH=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>WR}),ZR="@ngrx/effects/init",Jae=Si(ZR);function qH(e,r){if(e.notification.kind==="N"){let t=e.notification.value;!YH(t)&&r.handleError(new Error(`Effect ${KH(e)} dispatched an invalid action: ${ZH(t)}`))}}function YH(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function KH({propertyName:e,sourceInstance:r,sourceName:t}){let n=typeof r[e]=="function";return!!t?`"${t}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function ZH(e){try{return JSON.stringify(e)}catch{return e}}var QH="ngrxOnIdentifyEffects";function JH(e){return fE(e,QH)}var XH="ngrxOnRunEffects";function e2(e){return fE(e,XH)}var t2="ngrxOnInitEffects";function n2(e){return fE(e,t2)}function fE(e,r){return e&&r in e&&typeof e[r]=="function"}var QR=(()=>{class e extends ie{constructor(t,n){super(),this.errorHandler=t,this.effectsErrorHandler=n}addEffects(t){this.next(t)}toActions(){return this.pipe(_r(t=>VH(t)?zR(t):t),z(t=>t.pipe(_r(r2))),z(t=>{let n=t.pipe(rr(o=>i2(this.errorHandler,this.effectsErrorHandler)(o)),y(o=>(qH(o,this.errorHandler),o.notification)),M(o=>o.kind==="N"&&o.value!=null),jg()),i=t.pipe(re(1),M(n2),y(o=>o.ngrxOnInitEffects()));return ln(n,i)}))}static{this.\u0275fac=function(n){return new(n||e)(f(ct),f(WH))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function r2(e){return JH(e)?e.ngrxOnIdentifyEffects():""}function i2(e,r){return t=>{let n=zH(t,e,r);return e2(t)?t.ngrxOnRunEffects(n):n}}var JR=(()=>{class e{get isStarted(){return!!this.effectsSubscription}constructor(t,n){this.effectSources=t,this.store=n,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(n){return new(n||e)(f(QR),f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XR=(()=>{class e{constructor(t,n,i,o,s,a,c){this.sources=t,n.start();for(let u of o)t.addEffects(u);i.dispatch({type:ZR})}addEffects(t){this.sources.addEffects(t)}static{this.\u0275fac=function(n){return new(n||e)(f(QR),f(JR),f(le),f(YR),f(Qa,8),f(Rd,8),f(qR,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),o2=(()=>{class e{constructor(t,n,i,o){let s=n.flat();for(let a of s)t.addEffects(a)}static{this.\u0275fac=function(n){return new(n||e)(f(XR),f(KR),f(Qa,8),f(Rd,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),$n=(()=>{class e{static forFeature(...t){let n=t.flat(),i=BR(n);return{ngModule:o2,providers:[i,{provide:VR,multi:!0,useValue:n},{provide:Md,multi:!0,useValue:[]},{provide:KR,multi:!0,useFactory:HR,deps:[VR,Md]}]}}static forRoot(...t){let n=t.flat(),i=BR(n);return{ngModule:XR,providers:[i,{provide:dE,useValue:[n]},{provide:qR,useFactory:s2},{provide:Md,multi:!0,useValue:[]},{provide:YR,useFactory:HR,deps:[dE,Md]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function HR(e,r){let t=[];for(let n of e)t.push(...n);for(let n of r)t.push(...n);return t.map(n=>HH(n)?E(n):n)}function s2(){let e=E(JR,{optional:!0,skipSelf:!0}),r=E(dE,{self:!0});if(!(r.length===1&&r[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ee="primary",lc=Symbol("RouteTitle"),vE=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t[0]:t}return null}getAll(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ys(e){return new vE(e)}function c2(e,r,t){let n=t.path.split("/");if(n.length>e.length||t.pathMatch==="full"&&(r.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function u2(e,r){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!gr(e[t],r[t]))return!1;return!0}function gr(e,r){let t=e?yE(e):void 0,n=r?yE(r):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!uM(e[i],r[i]))return!1;return!0}function yE(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function uM(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;let t=[...e].sort(),n=[...r].sort();return t.every((i,o)=>n[o]===i)}else return e===r}function lM(e){return e.length>0?e[e.length-1]:null}function bi(e){return ki(e)?e:as(e)?me(Promise.resolve(e)):I(e)}var l2={exact:fM,subset:hM},dM={exact:d2,subset:f2,ignored:()=>!0};function eM(e,r,t){return l2[t.paths](e.root,r.root,t.matrixParams)&&dM[t.queryParams](e.queryParams,r.queryParams)&&!(t.fragment==="exact"&&e.fragment!==r.fragment)}function d2(e,r){return gr(e,r)}function fM(e,r,t){if(!uo(e.segments,r.segments)||!Nd(e.segments,r.segments,t)||e.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!e.children[n]||!fM(e.children[n],r.children[n],t))return!1;return!0}function f2(e,r){return Object.keys(r).length<=Object.keys(e).length&&Object.keys(r).every(t=>uM(e[t],r[t]))}function hM(e,r,t){return pM(e,r,r.segments,t)}function pM(e,r,t,n){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!uo(i,t)||r.hasChildren()||!Nd(i,t,n))}else if(e.segments.length===t.length){if(!uo(e.segments,t)||!Nd(e.segments,t,n))return!1;for(let i in r.children)if(!e.children[i]||!hM(e.children[i],r.children[i],n))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!uo(e.segments,i)||!Nd(e.segments,i,n)||!e.children[ee]?!1:pM(e.children[ee],r,o,n)}}function Nd(e,r,t){return r.every((n,i)=>dM[t](e[i].parameters,n.parameters))}var Ii=class{constructor(r=new be([],{}),t={},n=null){this.root=r,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=ys(this.queryParams),this._queryParamMap}toString(){return g2.serialize(this)}},be=class{constructor(r,t){this.segments=r,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pd(this)}},co=class{constructor(r,t){this.path=r,this.parameters=t}get parameterMap(){return this._parameterMap??=ys(this.parameters),this._parameterMap}toString(){return mM(this)}};function h2(e,r){return uo(e,r)&&e.every((t,n)=>gr(t.parameters,r[n].parameters))}function uo(e,r){return e.length!==r.length?!1:e.every((t,n)=>t.path===r[n].path)}function p2(e,r){let t=[];return Object.entries(e.children).forEach(([n,i])=>{n===ee&&(t=t.concat(r(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==ee&&(t=t.concat(r(i,n)))}),t}var ho=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>new lo,providedIn:"root"})}}return e})(),lo=class{parse(r){let t=new CE(r);return new Ii(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(r){let t=`/${Ja(r.root,!0)}`,n=y2(r.queryParams),i=typeof r.fragment=="string"?`#${m2(r.fragment)}`:"";return`${t}${n}${i}`}},g2=new lo;function Pd(e){return e.segments.map(r=>mM(r)).join("/")}function Ja(e,r){if(!e.hasChildren())return Pd(e);if(r){let t=e.children[ee]?Ja(e.children[ee],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ee&&n.push(`${i}:${Ja(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=p2(e,(n,i)=>i===ee?[Ja(e.children[ee],!1)]:[`${i}:${Ja(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[ee]!=null?`${Pd(e)}/${t[0]}`:`${Pd(e)}/(${t.join("//")})`}}function gM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Od(e){return gM(e).replace(/%3B/gi,";")}function m2(e){return encodeURI(e)}function EE(e){return gM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fd(e){return decodeURIComponent(e)}function tM(e){return Fd(e.replace(/\+/g,"%20"))}function mM(e){return`${EE(e.path)}${v2(e.parameters)}`}function v2(e){return Object.entries(e).map(([r,t])=>`;${EE(r)}=${EE(t)}`).join("")}function y2(e){let r=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(i=>`${Od(t)}=${Od(i)}`).join("&"):`${Od(t)}=${Od(n)}`).filter(t=>t);return r.length?`?${r.join("&")}`:""}var E2=/^[^\/()?;#]+/;function hE(e){let r=e.match(E2);return r?r[0]:""}var C2=/^[^\/()?;=#]+/;function S2(e){let r=e.match(C2);return r?r[0]:""}var I2=/^[^=?&#]+/;function D2(e){let r=e.match(I2);return r?r[0]:""}var b2=/^[^&#]+/;function w2(e){let r=e.match(b2);return r?r[0]:""}var CE=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(n[ee]=new be(r,t)),n}parseSegment(){let r=hE(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(r),new co(Fd(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let t=S2(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let i=hE(this.remaining);i&&(n=i,this.capture(n))}r[Fd(t)]=Fd(n)}parseQueryParam(r){let t=D2(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=w2(this.remaining);s&&(n=s,this.capture(n))}let i=tM(t),o=tM(n);if(r.hasOwnProperty(i)){let s=r[i];Array.isArray(s)||(s=[s],r[i]=s),s.push(o)}else r[i]=o}parseParens(r){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=hE(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=ee);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ee]:new be([],s),this.consumeOptional("//")}return t}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new B(4011,!1)}};function vM(e){return e.segments.length>0?new be([],{[ee]:e}):e}function yM(e){let r={};for(let[n,i]of Object.entries(e.children)){let o=yM(i);if(n===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))r[s]=a;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let t=new be(e.segments,r);return T2(t)}function T2(e){if(e.numberOfChildren===1&&e.children[ee]){let r=e.children[ee];return new be(e.segments.concat(r.segments),r.children)}return e}function Es(e){return e instanceof Ii}function A2(e,r,t=null,n=null){let i=EM(e);return CM(i,r,t,n)}function EM(e){let r;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new be(o.url,s);return o===e&&(r=a),a}let n=t(e.root),i=vM(n);return r??i}function CM(e,r,t,n){let i=e;for(;i.parent;)i=i.parent;if(r.length===0)return pE(i,i,i,t,n);let o=R2(r);if(o.toRoot())return pE(i,i,new be([],{}),t,n);let s=M2(o,i,e),a=s.processChildren?tc(s.segmentGroup,s.index,o.commands):IM(s.segmentGroup,s.index,o.commands);return pE(i,s.segmentGroup,a,t,n)}function Ld(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ic(e){return typeof e=="object"&&e!=null&&e.outlets}function pE(e,r,t,n,i){let o={};n&&Object.entries(n).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===r?s=t:s=SM(e,r,t);let a=vM(yM(s));return new Ii(a,o,i)}function SM(e,r,t){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===r?n[i]=t:n[i]=SM(o,r,t)}),new be(e.segments,n)}var kd=class{constructor(r,t,n){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=n,r&&n.length>0&&Ld(n[0]))throw new B(4003,!1);let i=n.find(ic);if(i&&i!==lM(n))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function R2(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new kd(!0,0,e);let r=0,t=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?r++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new kd(t,r,n)}var ms=class{constructor(r,t,n){this.segmentGroup=r,this.processChildren=t,this.index=n}};function M2(e,r,t){if(e.isAbsolute)return new ms(r,!0,0);if(!t)return new ms(r,!1,NaN);if(t.parent===null)return new ms(t,!0,0);let n=Ld(e.commands[0])?0:1,i=t.segments.length-1+n;return _2(t,i,e.numberOfDoubleDots)}function _2(e,r,t){let n=e,i=r,o=t;for(;o>i;){if(o-=i,n=n.parent,!n)throw new B(4005,!1);i=n.segments.length}return new ms(n,!1,i-o)}function O2(e){return ic(e[0])?e[0].outlets:{[ee]:e}}function IM(e,r,t){if(e??=new be([],{}),e.segments.length===0&&e.hasChildren())return tc(e,r,t);let n=x2(e,r,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new be(e.segments.slice(0,n.pathIndex),{});return o.children[ee]=new be(e.segments.slice(n.pathIndex),e.children),tc(o,0,i)}else return n.match&&i.length===0?new be(e.segments,{}):n.match&&!e.hasChildren()?SE(e,r,t):n.match?tc(e,0,i):SE(e,r,t)}function tc(e,r,t){if(t.length===0)return new be(e.segments,{});{let n=O2(t),i={};if(Object.keys(n).some(o=>o!==ee)&&e.children[ee]&&e.numberOfChildren===1&&e.children[ee].segments.length===0){let o=tc(e.children[ee],r,t);return new be(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=IM(e.children[o],r,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new be(e.segments,i)}}function x2(e,r,t){let n=0,i=r,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=t.length)return o;let s=e.segments[i],a=t[n];if(ic(a))break;let c=`${a}`,u=n<t.length-1?t[n+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!rM(c,u,s))return o;n+=2}else{if(!rM(c,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function SE(e,r,t){let n=e.segments.slice(0,r),i=0;for(;i<t.length;){let o=t[i];if(ic(o)){let c=N2(o.outlets);return new be(n,c)}if(i===0&&Ld(t[0])){let c=e.segments[r];n.push(new co(c.path,nM(t[0]))),i++;continue}let s=ic(o)?o.outlets[ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ld(a)?(n.push(new co(s,nM(a))),i+=2):(n.push(new co(s,{})),i++)}return new be(n,{})}function N2(e){let r={};return Object.entries(e).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[t]=SE(new be([],{}),0,n))}),r}function nM(e){let r={};return Object.entries(e).forEach(([t,n])=>r[t]=`${n}`),r}function rM(e,r,t){return e==t.path&&gr(r,t.parameters)}var nc="imperative",lt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(lt||{}),Cn=class{constructor(r,t){this.id=r,this.url=t}},Sn=class extends Cn{constructor(r,t,n="imperative",i=null){super(r,t),this.type=lt.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ut=class extends Cn{constructor(r,t,n){super(r,t),this.urlAfterRedirects=n,this.type=lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(rn||{}),Ud=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ud||{}),In=class extends Cn{constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i,this.type=lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends Cn{constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i,this.type=lt.NavigationSkipped}},mr=class extends Cn{constructor(r,t,n,i){super(r,t),this.error=n,this.target=i,this.type=lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fo=class extends Cn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IE=class extends Cn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DE=class extends Cn{constructor(r,t,n,i,o){super(r,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bE=class extends Cn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wE=class extends Cn{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},TE=class{constructor(r){this.route=r,this.type=lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},AE=class{constructor(r){this.route=r,this.type=lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},RE=class{constructor(r){this.snapshot=r,this.type=lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ME=class{constructor(r){this.snapshot=r,this.type=lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_E=class{constructor(r){this.snapshot=r,this.type=lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},OE=class{constructor(r){this.snapshot=r,this.type=lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{constructor(r,t,n){this.routerEvent=r,this.position=t,this.anchor=n,this.type=lt.Scroll}toString(){let r=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${r}')`}},oc=class{},sc=class{constructor(r){this.url=r}};var xE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dc,this.attachRef=null}},dc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,n){let i=this.getOrCreateContext(t);i.outlet=n,this.contexts.set(t,i)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new xE,this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$d=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null}children(r){let t=NE(r,this._root);return t?t.children.map(n=>n.value):[]}firstChild(r){let t=NE(r,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(r){let t=PE(r,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return PE(r,this._root).map(t=>t.value)}};function NE(e,r){if(e===r.value)return r;for(let t of r.children){let n=NE(e,t);if(n)return n}return null}function PE(e,r){if(e===r.value)return[r];for(let t of r.children){let n=PE(e,t);if(n.length)return n.unshift(r),n}return[]}var nn=class{constructor(r,t){this.value=r,this.children=t}toString(){return`TreeNode(${this.value})`}};function gs(e){let r={};return e&&e.children.forEach(t=>r[t.value.outlet]=t),r}var Bd=class extends $d{constructor(r,t){super(r),this.snapshot=t,zE(this,r)}toString(){return this.snapshot.toString()}};function DM(e){let r=P2(e),t=new Re([new co("",{})]),n=new Re({}),i=new Re({}),o=new Re({}),s=new Re(""),a=new qr(t,n,o,s,i,ee,e,r.root);return a.snapshot=r.root,new Bd(new nn(a,[]),r)}function P2(e){let r={},t={},n={},i="",o=new ac([],r,n,i,t,ee,e,null,{});return new Vd("",new nn(o,[]))}var qr=class{constructor(r,t,n,i,o,s,a,c){this.urlSubject=r,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(y(u=>u[lc]))??I(void 0),this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(y(r=>ys(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(y(r=>ys(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function HE(e,r,t="emptyOnly"){let n,{routeConfig:i}=e;return r!==null&&(t==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:v(v({},r.params),e.params),data:v(v({},r.data),e.data),resolve:v(v(v(v({},e.data),r.data),i?.data),e._resolvedData)}:n={params:v({},e.params),data:v({},e.data),resolve:v(v({},e.data),e._resolvedData??{})},i&&wM(i)&&(n.resolve[lc]=i.title),n}var ac=class{get title(){return this.data?.[lc]}constructor(r,t,n,i,o,s,a,c,u){this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ys(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ys(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${t}')`}},Vd=class extends $d{constructor(r,t){super(t),this.url=r,zE(this,t)}toString(){return bM(this._root)}};function zE(e,r){r.value._routerState=e,r.children.forEach(t=>zE(e,t))}function bM(e){let r=e.children.length>0?` { ${e.children.map(bM).join(", ")} } `:"";return`${e.value}${r}`}function gE(e){if(e.snapshot){let r=e.snapshot,t=e._futureSnapshot;e.snapshot=t,gr(r.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),r.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),gr(r.params,t.params)||e.paramsSubject.next(t.params),u2(r.url,t.url)||e.urlSubject.next(t.url),gr(r.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function FE(e,r){let t=gr(e.params,r.params)&&h2(e.url,r.url),n=!e.parent!=!r.parent;return t&&!n&&(!e.parent||FE(e.parent,r.parent))}function wM(e){return typeof e.title=="string"||e.title===null}var F2=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new vt,this.deactivateEvents=new vt,this.attachEvents=new vt,this.detachEvents=new vt,this.parentContexts=E(dc),this.location=E(Gt),this.changeDetector=E($r),this.environmentInjector=E(wt),this.inputBinder=E(qd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:i}=t.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new LE(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=Lt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mi]})}}return e})(),LE=class e{__ngOutletInjector(r){return new e(this.route,this.childContexts,r)}constructor(r,t,n){this.route=r,this.childContexts=t,this.parent=n}get(r,t){return r===qr?this.route:r===dc?this.childContexts:this.parent.get(r,t)}},qd=new S(""),iM=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:n}=t,i=Ne([n.queryParams,n.params,n.data]).pipe(_(([o,s,a],c)=>(a=v(v(v({},o),s),a),c===0?I(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(t);return}let s=EA(n.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function L2(e,r,t){let n=cc(e,r._root,t?t._root:void 0);return new Bd(n,r)}function cc(e,r,t){if(t&&e.shouldReuseRoute(r.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=r.value;let i=k2(e,r,t);return new nn(n,i)}else{if(e.shouldAttach(r.value)){let o=e.retrieve(r.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(a=>cc(e,a)),s}}let n=U2(r.value),i=r.children.map(o=>cc(e,o));return new nn(n,i)}}function k2(e,r,t){return r.children.map(n=>{for(let i of t.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return cc(e,n,i);return cc(e,n)})}function U2(e){return new qr(new Re(e.url),new Re(e.params),new Re(e.queryParams),new Re(e.fragment),new Re(e.data),e.outlet,e.component,e)}var TM="ngNavigationCancelingError";function AM(e,r){let{redirectTo:t,navigationBehaviorOptions:n}=Es(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=RM(!1,rn.Redirect);return i.url=t,i.navigationBehaviorOptions=n,i}function RM(e,r){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[TM]=!0,t.cancellationCode=r,t}function j2(e){return MM(e)&&Es(e.url)}function MM(e){return!!e&&e[TM]}var $2=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=Vw({type:e,selectors:[["ng-component"]],standalone:!0,features:[sA],decls:1,vars:0,template:function(n,i){n&1&&uy(0,"router-outlet")},dependencies:[F2],encapsulation:2})}}return e})();function B2(e,r){return e.providers&&!e._injector&&(e._injector=Yl(e.providers,r,`Route: ${e.path}`)),e._injector??r}function GE(e){let r=e.children&&e.children.map(GE),t=r?w(v({},e),{children:r}):v({},e);return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=$2),t}function vr(e){return e.outlet||ee}function V2(e,r){let t=e.filter(n=>vr(n)===r);return t.push(...e.filter(n=>vr(n)!==r)),t}function fc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let r=e.parent;r;r=r.parent){let t=r.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var H2=(e,r,t,n)=>y(i=>(new kE(r,i.targetRouterState,i.currentRouterState,t,n).activate(e),i)),kE=class{constructor(r,t,n,i,o){this.routeReuseStrategy=r,this.futureState=t,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(r){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,r),gE(this.futureState.root),this.activateChildRoutes(t,n,r)}deactivateChildRoutes(r,t,n){let i=gs(t);r.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(r,t,s.children)}else this.deactivateChildRoutes(r,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t)}detachAndStoreRouteSubtree(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=gs(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:a})}}deactivateRouteAndOutlet(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=gs(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,t,n){let i=gs(t);r.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new OE(o.value.snapshot))}),r.children.length&&this.forwardEvent(new ME(r.value.snapshot))}activateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(gE(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,t,s.children)}else this.activateChildRoutes(r,t,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gE(a.route.value),this.activateChildRoutes(r,null,s.children)}else{let a=fc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(r,null,s.children)}}else this.activateChildRoutes(r,null,n)}},Hd=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},vs=class{constructor(r,t){this.component=r,this.route=t}};function z2(e,r,t){let n=e._root,i=r?r._root:null;return Xa(n,i,t,[n.value])}function G2(e){let r=e.routeConfig?e.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:e,guards:r}}function Ss(e,r){let t=Symbol(),n=r.get(e,t);return n===t?typeof e=="function"&&!Mw(e)?e:r.get(e):n}function Xa(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=gs(r);return e.children.forEach(s=>{W2(s,o[s.value.outlet],t,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>rc(a,t.getContext(s),i)),i}function W2(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=r?r.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=q2(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Hd(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xa(e,r,a?a.children:null,n,i):Xa(e,r,t,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&rc(r,a,i),i.canActivateChecks.push(new Hd(n)),o.component?Xa(e,null,a?a.children:null,n,i):Xa(e,null,t,n,i);return i}function q2(e,r,t){if(typeof t=="function")return t(e,r);switch(t){case"pathParamsChange":return!uo(e.url,r.url);case"pathParamsOrQueryParamsChange":return!uo(e.url,r.url)||!gr(e.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FE(e,r)||!gr(e.queryParams,r.queryParams);case"paramsChange":default:return!FE(e,r)}}function rc(e,r,t){let n=gs(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?r?rc(s,r.children.getContext(o),t):rc(s,null,t):rc(s,r,t)}),i.component?r&&r.outlet&&r.outlet.isActivated?t.canDeactivateChecks.push(new vs(r.outlet.component,i)):t.canDeactivateChecks.push(new vs(null,i)):t.canDeactivateChecks.push(new vs(null,i))}function hc(e){return typeof e=="function"}function Y2(e){return typeof e=="boolean"}function K2(e){return e&&hc(e.canLoad)}function Z2(e){return e&&hc(e.canActivate)}function Q2(e){return e&&hc(e.canActivateChild)}function J2(e){return e&&hc(e.canDeactivate)}function X2(e){return e&&hc(e.canMatch)}function _M(e){return e instanceof An||e?.name==="EmptyError"}var xd=Symbol("INITIAL_VALUE");function Cs(){return _(e=>Ne(e.map(r=>r.pipe(re(1),tr(xd)))).pipe(y(r=>{for(let t of r)if(t!==!0){if(t===xd)return xd;if(t===!1||t instanceof Ii)return t}return!0}),M(r=>r!==xd),re(1)))}function ez(e,r){return z(t=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?I(w(v({},t),{guardsResult:!0})):tz(s,n,i,e).pipe(z(a=>a&&Y2(a)?nz(n,o,e,r):I(a)),y(a=>w(v({},t),{guardsResult:a})))})}function tz(e,r,t,n){return me(e).pipe(z(i=>az(i.component,i.route,t,r,n)),xt(i=>i!==!0,!0))}function nz(e,r,t,n){return me(r).pipe(Ue(i=>Xn(iz(i.route.parent,n),rz(i.route,n),sz(e,i.path,t),oz(e,i.route,t))),xt(i=>i!==!0,!0))}function rz(e,r){return e!==null&&r&&r(new _E(e)),I(!0)}function iz(e,r){return e!==null&&r&&r(new RE(e)),I(!0)}function oz(e,r,t){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let i=n.map(o=>Ze(()=>{let s=fc(r)??t,a=Ss(o,s),c=Z2(a)?a.canActivate(r,e):Ln(s,()=>a(r,e));return bi(c).pipe(xt())}));return I(i).pipe(Cs())}function sz(e,r,t){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(s=>G2(s)).filter(s=>s!==null).map(s=>Ze(()=>{let a=s.guards.map(c=>{let u=fc(s.node)??t,l=Ss(c,u),d=Q2(l)?l.canActivateChild(n,e):Ln(u,()=>l(n,e));return bi(d).pipe(xt())});return I(a).pipe(Cs())}));return I(o).pipe(Cs())}function az(e,r,t,n,i){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return I(!0);let s=o.map(a=>{let c=fc(r)??i,u=Ss(a,c),l=J2(u)?u.canDeactivate(e,r,t,n):Ln(c,()=>u(e,r,t,n));return bi(l).pipe(xt())});return I(s).pipe(Cs())}function cz(e,r,t,n){let i=r.canLoad;if(i===void 0||i.length===0)return I(!0);let o=i.map(s=>{let a=Ss(s,e),c=K2(a)?a.canLoad(r,t):Ln(e,()=>a(r,t));return bi(c)});return I(o).pipe(Cs(),OM(n))}function OM(e){return Ag(k(r=>{if(Es(r))throw AM(e,r)}),y(r=>r===!0))}function uz(e,r,t,n){let i=r.canMatch;if(!i||i.length===0)return I(!0);let o=i.map(s=>{let a=Ss(s,e),c=X2(a)?a.canMatch(r,t):Ln(e,()=>a(r,t));return bi(c)});return I(o).pipe(Cs(),OM(n))}var uc=class{constructor(r){this.segmentGroup=r||null}},zd=class extends Error{constructor(r){super(),this.urlTree=r}};function ps(e){return Nt(new uc(e))}function lz(e){return Nt(new B(4e3,!1))}function dz(e){return Nt(RM(!1,rn.GuardRejected))}var UE=class{constructor(r,t){this.urlSerializer=r,this.urlTree=t}lineralizeSegments(r,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return I(n);if(i.numberOfChildren>1||!i.children[ee])return lz(r.redirectTo);i=i.children[ee]}}applyRedirectCommands(r,t,n){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),r,n);if(t.startsWith("/"))throw new zd(i);return i}applyRedirectCreateUrlTree(r,t,n,i){let o=this.createSegmentGroup(r,t.root,n,i);return new Ii(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(r,t){let n={};return Object.entries(r).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=t[a]}else n[i]=o}),n}createSegmentGroup(r,t,n,i){let o=this.createSegments(r,t.segments,n,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(r,c,n,i)}),new be(o,s)}createSegments(r,t,n,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(r,o,i):this.findOrReturn(o,n))}findPosParam(r,t,n){let i=n[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(r,t){let n=0;for(let i of t){if(i.path===r.path)return t.splice(n),i;n++}return r}},jE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fz(e,r,t,n,i){let o=WE(e,r,t);return o.matched?(n=B2(r,n),uz(n,r,t,i).pipe(y(s=>s===!0?o:v({},jE)))):I(o)}function WE(e,r,t){if(r.path==="**")return hz(t);if(r.path==="")return r.pathMatch==="full"&&(e.hasChildren()||t.length>0)?v({},jE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(r.matcher||c2)(t,e,r);if(!i)return v({},jE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hz(e){return{matched:!0,parameters:e.length>0?lM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function oM(e,r,t,n){return t.length>0&&mz(e,t,n)?{segmentGroup:new be(r,gz(n,new be(t,e.children))),slicedSegments:[]}:t.length===0&&vz(e,t,n)?{segmentGroup:new be(e.segments,pz(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new be(e.segments,e.children),slicedSegments:t}}function pz(e,r,t,n){let i={};for(let o of t)if(Yd(e,r,o)&&!n[vr(o)]){let s=new be([],{});i[vr(o)]=s}return v(v({},n),i)}function gz(e,r){let t={};t[ee]=r;for(let n of e)if(n.path===""&&vr(n)!==ee){let i=new be([],{});t[vr(n)]=i}return t}function mz(e,r,t){return t.some(n=>Yd(e,r,n)&&vr(n)!==ee)}function vz(e,r,t){return t.some(n=>Yd(e,r,n))}function Yd(e,r,t){return(e.hasChildren()||r.length>0)&&t.pathMatch==="full"?!1:t.path===""}function yz(e,r,t,n){return vr(e)!==n&&(n===ee||!Yd(r,t,e))?!1:WE(r,e,t).matched}function Ez(e,r,t){return r.length===0&&!e.children[t]}var $E=class{};function Cz(e,r,t,n,i,o,s="emptyOnly"){return new BE(e,r,t,n,i,s,o).recognize()}var Sz=31,BE=class{constructor(r,t,n,i,o,s,a){this.injector=r,this.configLoader=t,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new UE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new B(4002,`'${r.segmentGroup}'`)}recognize(){let r=oM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(y(t=>{let n=new ac([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),i=new nn(n,t),o=new Vd("",i),s=A2(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(r){return this.processSegmentGroup(this.injector,this.config,r,ee).pipe(F(n=>{if(n instanceof zd)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof uc?this.noMatchError(n):n}))}inheritParamsAndData(r,t){let n=r.value,i=HE(n,t,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),r.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(r,t,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,t,n):this.processSegment(r,t,n,n.segments,i,!0).pipe(y(o=>o instanceof nn?[o]:[]))}processChildren(r,t,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return me(i).pipe(Ue(o=>{let s=n.children[o],a=V2(t,o);return this.processSegmentGroup(r,a,s,o)}),Bi((o,s)=>(o.push(...s),o)),ai(null),$g(),z(o=>{if(o===null)return ps(n);let s=xM(o);return Iz(s),I(s)}))}processSegment(r,t,n,i,o,s){return me(t).pipe(Ue(a=>this.processSegmentAgainstRoute(a._injector??r,t,a,n,i,o,s).pipe(F(c=>{if(c instanceof uc)return I(null);throw c}))),xt(a=>!!a),F(a=>{if(_M(a))return Ez(n,i,o)?I(new $E):ps(n);throw a}))}processSegmentAgainstRoute(r,t,n,i,o,s,a){return yz(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(r,i,t,n,o,s):ps(i):ps(i)}expandSegmentAgainstRouteUsingRedirect(r,t,n,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=WE(t,i,o);if(!a)return ps(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Sz&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(z(h=>this.processSegment(r,n,t,h.concat(l),s,!1)))}matchSegmentAgainstRoute(r,t,n,i,o){let s=fz(t,n,i,r,this.urlSerializer);return n.path==="**"&&(t.children={}),s.pipe(_(a=>a.matched?(r=n._injector??r,this.getChildConfig(r,n,i).pipe(_(({routes:c})=>{let u=n._loadedInjector??r,{consumedSegments:l,remainingSegments:d,parameters:h}=a,m=new ac(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,bz(n),vr(n),n.component??n._loadedComponent??null,n,wz(n)),{segmentGroup:C,slicedSegments:D}=oM(t,l,d,c);if(D.length===0&&C.hasChildren())return this.processChildren(u,c,C).pipe(y(N=>N===null?null:new nn(m,N)));if(c.length===0&&D.length===0)return I(new nn(m,[]));let A=vr(n)===o;return this.processSegment(u,c,C,D,A?ee:o,!0).pipe(y(N=>new nn(m,N instanceof nn?[N]:[])))}))):ps(t)))}getChildConfig(r,t,n){return t.children?I({routes:t.children,injector:r}):t.loadChildren?t._loadedRoutes!==void 0?I({routes:t._loadedRoutes,injector:t._loadedInjector}):cz(r,t,n,this.urlSerializer).pipe(z(i=>i?this.configLoader.loadChildren(r,t).pipe(k(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):dz(t))):I({routes:[],injector:r})}};function Iz(e){e.sort((r,t)=>r.value.outlet===ee?-1:t.value.outlet===ee?1:r.value.outlet.localeCompare(t.value.outlet))}function Dz(e){let r=e.value.routeConfig;return r&&r.path===""}function xM(e){let r=[],t=new Set;for(let n of e){if(!Dz(n)){r.push(n);continue}let i=r.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),t.add(i)):r.push(n)}for(let n of t){let i=xM(n.children);r.push(new nn(n.value,i))}return r.filter(n=>!t.has(n))}function bz(e){return e.data||{}}function wz(e){return e.resolve||{}}function Tz(e,r,t,n,i,o){return z(s=>Cz(e,r,t,n,s.extractedUrl,i,o).pipe(y(({state:a,tree:c})=>w(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Az(e,r){return z(t=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return I(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of NM(c))s.add(u);let a=0;return me(s).pipe(Ue(c=>o.has(c)?Rz(c,n,e,r):(c.data=HE(c,c.parent,e).resolve,I(void 0))),k(()=>a++),jo(1),z(c=>a===s.size?I(t):ge))})}function NM(e){let r=e.children.map(t=>NM(t)).flat();return[e,...r]}function Rz(e,r,t,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!wM(i)&&(o[lc]=i.title),Mz(o,e,r,n).pipe(y(s=>(e._resolvedData=s,e.data=HE(e,e.parent,t).resolve,null)))}function Mz(e,r,t,n){let i=yE(e);if(i.length===0)return I({});let o={};return me(i).pipe(z(s=>_z(e[s],r,t,n).pipe(xt(),k(a=>{o[s]=a}))),jo(1),ta(o),F(s=>_M(s)?ge:Nt(s)))}function _z(e,r,t,n){let i=fc(r)??n,o=Ss(e,i),s=o.resolve?o.resolve(r,t):Ln(i,()=>o(r,t));return bi(s)}function mE(e){return _(r=>{let t=e(r);return t?me(t).pipe(y(()=>r)):I(r)})}var PM=(()=>{class e{buildTitle(t){let n,i=t.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===ee);return n}getResolvedTitleForRoute(t){return t.data[lc]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>E(Oz),providedIn:"root"})}}return e})(),Oz=(()=>{class e extends PM{constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||e)(f(hR))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pc=new S("",{providedIn:"root",factory:()=>({})}),Gd=new S(""),qE=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=E(us)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return I(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let n=bi(t.loadComponent()).pipe(y(FM),k(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Rn(()=>{this.componentLoaders.delete(t)})),i=new ci(n,()=>new ie).pipe(ko());return this.componentLoaders.set(t,i),i}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return I({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=xz(n,this.compiler,t,this.onLoadEndListener).pipe(Rn(()=>{this.childrenLoaders.delete(n)})),s=new ci(o,()=>new ie).pipe(ko());return this.childrenLoaders.set(n,s),s}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xz(e,r,t,n){return bi(e.loadChildren()).pipe(y(FM),z(i=>i instanceof Xi||Array.isArray(i)?I(i):me(r.compileModuleAsync(i))),y(i=>{n&&n(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Gd,[],{optional:!0,self:!0}).flat()),{routes:s.map(GE),injector:o}}))}function Nz(e){return e&&typeof e=="object"&&"default"in e}function FM(e){return Nz(e)?e.default:e}var YE=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>E(Pz),providedIn:"root"})}}return e})(),Pz=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LM=new S(""),kM=new S("");function Fz(e,r,t){let n=e.get(kM),i=e.get(Fe);return e.get(Ce).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),Lz(e))),{onViewTransitionCreated:c}=n;return c&&Ln(e,()=>c({transition:a,from:r,to:t})),s})}function Lz(e){return new Promise(r=>{ql(r,{injector:e})})}var KE=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ie,this.transitionAbortSubject=new ie,this.configLoader=E(qE),this.environmentInjector=E(wt),this.urlSerializer=E(ho),this.rootContexts=E(dc),this.location=E(hr),this.inputBindingEnabled=E(qd,{optional:!0})!==null,this.titleStrategy=E(PM),this.options=E(pc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=E(YE),this.createViewTransition=E(LM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let t=i=>this.events.next(new TE(i)),n=i=>this.events.next(new AE(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;this.transitions?.next(w(v(v({},this.transitions.value),t),{id:n}))}setupNavigations(t,n,i){return this.transitions=new Re({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(M(o=>o.id!==0),y(o=>w(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),_(o=>{let s=!1,a=!1;return I(o).pipe(_(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),ge;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?w(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new Di(c.id,this.urlSerializer.serialize(c.rawUrl),d,Ud.IgnoredSameUrlNavigation)),c.resolve(null),ge}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return I(c).pipe(_(d=>{let h=this.transitions?.getValue();return this.events.next(new Sn(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?ge:Promise.resolve(d)}),Tz(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),k(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=w(v({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new fo(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:m,restoredState:C,extras:D}=c,A=new Sn(d,this.urlSerializer.serialize(h),m,C);this.events.next(A);let N=DM(this.rootComponentType).snapshot;return this.currentTransition=o=w(v({},c),{targetSnapshot:N,urlAfterRedirects:h,extras:w(v({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,I(o)}else{let d="";return this.events.next(new Di(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Ud.IgnoredByUrlHandlingStrategy)),c.resolve(null),ge}}),k(c=>{let u=new IE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),y(c=>(this.currentTransition=o=w(v({},c),{guards:z2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),ez(this.environmentInjector,c=>this.events.next(c)),k(c=>{if(o.guardsResult=c.guardsResult,Es(c.guardsResult))throw AM(this.urlSerializer,c.guardsResult);let u=new DE(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),M(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",rn.GuardRejected),!1)),mE(c=>{if(c.guards.canActivateChecks.length)return I(c).pipe(k(u=>{let l=new bE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),_(u=>{let l=!1;return I(u).pipe(Az(this.paramsInheritanceStrategy,this.environmentInjector),k({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",rn.NoDataFromResolver)}}))}),k(u=>{let l=new wE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),mE(c=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(k(h=>{l.component=h}),y(()=>{})));for(let h of l.children)d.push(...u(h));return d};return Ne(u(c.targetSnapshot.root)).pipe(ai(null),re(1))}),mE(()=>this.afterPreactivation()),_(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?me(l).pipe(y(()=>o)):I(o)}),y(c=>{let u=L2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=w(v({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),k(()=>{this.events.next(new oc)}),H2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),re(1),k({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ut(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),la(this.transitionAbortSubject.pipe(k(c=>{throw c}))),Rn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",rn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(c=>{if(a=!0,MM(c))this.events.next(new In(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),j2(c)?this.events.next(new sc(c.url)):o.resolve(!1);else{this.events.next(new mr(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ge}))}))}cancelNavigationTransition(t,n,i){let o=new In(t.id,this.urlSerializer.serialize(t.extractedUrl),n,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function kz(e){return e!==nc}var Uz=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>E(jz),providedIn:"root"})}}return e})(),VE=class{shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig}},jz=(()=>{class e extends VE{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UM=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>E($z),providedIn:"root"})}}return e})(),$z=(()=>{class e extends UM{constructor(){super(...arguments),this.location=E(hr),this.urlSerializer=E(ho),this.options=E(pc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=E(YE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=DM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof Sn)this.stateMemento=this.createStateMemento();else if(t instanceof Di)this.rawUrlTree=n.initialUrl;else if(t instanceof fo){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(i,n)}}else t instanceof oc?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):t instanceof In&&(t.code===rn.GuardRejected||t.code===rn.NoDataFromResolver)?this.restoreHistory(n):t instanceof mr?this.restoreHistory(n,!0):t instanceof ut&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){let o=this.browserPageId,s=v(v({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(i,"",s)}else{let o=v(v({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ec=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ec||{});function jM(e,r){e.events.pipe(M(t=>t instanceof ut||t instanceof In||t instanceof mr||t instanceof Di),y(t=>t instanceof ut||t instanceof Di?ec.COMPLETE:(t instanceof In?t.code===rn.Redirect||t.code===rn.SupersededByNewNavigation:!1)?ec.REDIRECTING:ec.FAILED),M(t=>t!==ec.REDIRECTING),re(1)).subscribe(()=>{r()})}function Bz(e){throw e}var Vz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xe=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=E(Xl),this.stateManager=E(UM),this.options=E(pc,{optional:!0})||{},this.pendingTasks=E(no),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=E(KE),this.urlSerializer=E(ho),this.location=E(hr),this.urlHandlingStrategy=E(YE),this._events=new ie,this.errorHandler=this.options.errorHandler||Bz,this.navigated=!1,this.routeReuseStrategy=E(Uz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=E(Gd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!E(qd,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=E(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof In&&n.code!==rn.Redirect&&n.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ut)this.navigated=!0;else if(n instanceof sc){let s=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||kz(i.source)};this.scheduleNavigation(s,nc,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Gz(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),nc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=v({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(GE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:s,l=null;switch(a){case"merge":l=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=EM(h)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return CM(d,t,l,u??null)}navigateByUrl(t,n={skipLocationChange:!1}){let i=Es(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,nc,null,n)}navigate(t,n={skipLocationChange:!1}){return zz(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let i;if(n===!0?i=v({},Vz):n===!1?i=v({},Hz):i=n,Es(t))return eM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return eM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(t,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return jM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zz(e){for(let r=0;r<e.length;r++)if(e[r]==null)throw new B(4008,!1)}function Gz(e){return!(e instanceof oc)&&!(e instanceof sc)}var sM=(()=>{class e{constructor(t,n,i,o,s,a){this.router=t,this.route=n,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ie,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,n,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||n||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let n=this.href===null?null:QT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(t,n){let i=this.renderer,o=this.el.nativeElement;n!==null?i.setAttribute(o,t,n):i.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||e)(J(xe),J(qr),Fv("tabindex"),J(os),J(lr),J(Gr))}}static{this.\u0275dir=Lt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&ly("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&sy("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[fn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ka],skipLocationChange:[fn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ka],replaceUrl:[fn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ka],routerLink:"routerLink"},standalone:!0,features:[ry,mi]})}}return e})(),mce=(()=>{class e{get isActive(){return this._isActive}constructor(t,n,i,o,s){this.router=t,this.element=n,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new vt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ut&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Jn()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=me(t).pipe(Jn()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(t){let n=Array.isArray(t)?t:t.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(n=>{t?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let n=Wz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,n):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(n){return new(n||e)(J(xe),J(lr),J(os),J($r),J(sM,8))}}static{this.\u0275dir=Lt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,o){if(n&1&&tA(o,sM,5),n&2){let s;nA(s=rA())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[mi]})}}return e})();function Wz(e){return!!e.paths}var Wd=class{};var qz=(()=>{class e{constructor(t,n,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(M(t=>t instanceof ut),Ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){let i=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Yl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return me(i).pipe(Jn())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(t,n):i=I(null);let o=i.pipe(z(s=>s===null?I(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return me([o,s]).pipe(Jn())}else return o})}static{this.\u0275fac=function(n){return new(n||e)(f(xe),f(us),f(wt),f(Wd),f(qE))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$M=new S(""),Yz=(()=>{class e{constructor(t,n,i,o,s={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=E(wt),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Sn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ut?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Di&&t.code===Ud.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>it(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),ql(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new jd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){d0()}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function Kz(e){return e.routerState.root}function gc(e,r){return{\u0275kind:e,\u0275providers:r}}function Zz(){let e=E(Qe);return r=>{let t=e.get(ro);if(r!==t.components[0])return;let n=e.get(xe),i=e.get(BM);e.get(ZE)===1&&n.initialNavigation(),e.get(VM,null,ue.Optional)?.setUpPreloading(),e.get($M,null,ue.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var BM=new S("",{factory:()=>new ie}),ZE=new S("",{providedIn:"root",factory:()=>1});function Qz(){return gc(2,[{provide:ZE,useValue:0},{provide:Et,multi:!0,deps:[Qe],useFactory:r=>{let t=r.get(md,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let i=r.get(xe),o=r.get(BM);jM(i,()=>{n(!0)}),r.get(KE).afterPreactivation=()=>(n(!0),o.closed?I(void 0):o),i.initialNavigation()}))}}])}function Jz(){return gc(3,[{provide:Et,multi:!0,useFactory:()=>{let r=E(xe);return()=>{r.setUpLocationChangeListener()}}},{provide:ZE,useValue:2}])}var VM=new S("");function Xz(e){return gc(0,[{provide:VM,useExisting:qz},{provide:Wd,useExisting:e}])}function eG(){return gc(8,[iM,{provide:qd,useExisting:iM}])}function tG(e){let r=[{provide:LM,useValue:Fz},{provide:kM,useValue:v({skipNextTransition:!!e?.skipInitialTransition},e)}];return gc(9,r)}var aM=new S("ROUTER_FORROOT_GUARD"),nG=[hr,{provide:ho,useClass:lo},xe,dc,{provide:qr,useFactory:Kz,deps:[xe]},qE,[]],HM=(()=>{class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[nG,[],{provide:Gd,multi:!0,useValue:t},{provide:aM,useFactory:sG,deps:[[xe,new pn,new Rl]]},{provide:pc,useValue:n||{}},n?.useHash?iG():oG(),rG(),n?.preloadingStrategy?Xz(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?aG(n):[],n?.bindToComponentInputs?eG().\u0275providers:[],n?.enableViewTransitions?tG().\u0275providers:[],cG()]}}static forChild(t){return{ngModule:e,providers:[{provide:Gd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(n){return new(n||e)(f(aM,8))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function rG(){return{provide:$M,useFactory:()=>{let e=E(GA),r=E(Ce),t=E(pc),n=E(KE),i=E(ho);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Yz(i,n,e,r,t)}}}function iG(){return{provide:Gr,useClass:PA}}function oG(){return{provide:Gr,useClass:Oy}}function sG(e){return"guarded"}function aG(e){return[e.initialNavigation==="disabled"?Jz().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Qz().\u0275providers:[]]}var cM=new S("");function cG(){return[{provide:cM,useFactory:Zz},{provide:cs,multi:!0,useExisting:cM}]}var Kd=class{validateSignature(r){return Promise.resolve(null)}validateAtHash(r){return Promise.resolve(!0)}},Zd=class{};var mc=class{},uG=(()=>{class e extends mc{now(){return Date.now()}new(){return new Date}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();var Qd=class{},go=class{},lG=(()=>{class e{constructor(){this.data=new Map}getItem(t){return this.data.get(t)}removeItem(t){this.data.delete(t)}setItem(t,n){this.data.set(t,n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();var vc=class{constructor(r){this.type=r}},jt=class extends vc{constructor(r,t=null){super(r),this.info=t}},Bn=class extends vc{constructor(r,t=null){super(r),this.info=t}},Ve=class extends vc{constructor(r,t,n=null){super(r),this.reason=t,this.params=n}};function GM(e){let r=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(r).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function WM(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Is=class{constructor(r){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=t=>{location.href=t},r&&Object.assign(this,r)}},po=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},Jd=class{};var qM=(()=>{class e{getHashFragmentParams(t){let n=t||window.location.hash;if(n=decodeURIComponent(n),n.indexOf("#")!==0)return{};let i=n.indexOf("?");return i>-1?n=n.substr(i+1):n=n.substr(1),this.parseQueryString(n)}parseQueryString(t){let n={},i,o,s,a,c,u;if(t===null)return n;let l=t.split("&");for(let d=0;d<l.length;d++)i=l[d],o=i.indexOf("="),o===-1?(s=i,a=null):(s=i.substr(0,o),a=i.substr(o+1)),c=decodeURIComponent(s),u=decodeURIComponent(a),c.substr(0,1)==="/"&&(c=c.substr(1)),n[c]=u;return n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),YM=32,dG=64,fG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function QE(e,r,t,n,i){let o,s,a,c,u,l,d,h,m,C,D,A,N;for(;i>=64;){for(o=r[0],s=r[1],a=r[2],c=r[3],u=r[4],l=r[5],d=r[6],h=r[7],C=0;C<16;C++)D=n+C*4,e[C]=(t[D]&255)<<24|(t[D+1]&255)<<16|(t[D+2]&255)<<8|t[D+3]&255;for(C=16;C<64;C++)m=e[C-2],A=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,m=e[C-15],N=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3,e[C]=(A+e[C-7]|0)+(N+e[C-16]|0);for(C=0;C<64;C++)A=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&d)|0)+(h+(fG[C]+e[C]|0)|0)|0,N=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0,h=d,d=l,l=u,u=c+A|0,c=a,a=s,s=o,o=A+N|0;r[0]+=o,r[1]+=s,r[2]+=a,r[3]+=c,r[4]+=u,r[5]+=l,r[6]+=d,r[7]+=h,n+=64,i-=64}return n}var JE=class{constructor(){this.digestLength=YM,this.blockSize=dG,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let r=0;r<this.buffer.length;r++)this.buffer[r]=0;for(let r=0;r<this.temp.length;r++)this.temp[r]=0;this.reset()}update(r,t=r.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=t,this.bufferLength>0){for(;this.bufferLength<64&&t>0;)this.buffer[this.bufferLength++]=r[n++],t--;this.bufferLength===64&&(QE(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(t>=64&&(n=QE(this.temp,this.state,r,n,t),t%=64);t>0;)this.buffer[this.bufferLength++]=r[n++],t--;return this}finish(r){if(!this.finished){let t=this.bytesHashed,n=this.bufferLength,i=t/536870912|0,o=t<<3,s=t%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<s-8;a++)this.buffer[a]=0;this.buffer[s-8]=i>>>24&255,this.buffer[s-7]=i>>>16&255,this.buffer[s-6]=i>>>8&255,this.buffer[s-5]=i>>>0&255,this.buffer[s-4]=o>>>24&255,this.buffer[s-3]=o>>>16&255,this.buffer[s-2]=o>>>8&255,this.buffer[s-1]=o>>>0&255,QE(this.temp,this.state,this.buffer,0,s),this.finished=!0}for(let t=0;t<8;t++)r[t*4+0]=this.state[t]>>>24&255,r[t*4+1]=this.state[t]>>>16&255,r[t*4+2]=this.state[t]>>>8&255,r[t*4+3]=this.state[t]>>>0&255;return this}digest(){let r=new Uint8Array(this.digestLength);return this.finish(r),r}_saveState(r){for(let t=0;t<this.state.length;t++)r[t]=this.state[t]}_restoreState(r,t){for(let n=0;n<this.state.length;n++)this.state[n]=r[n];this.bytesHashed=t,this.finished=!1,this.bufferLength=0}};function hG(e){let r=new JE().update(e),t=r.digest();return r.clean(),t}var Ace=new Uint8Array(YM);var Xd=class{};function pG(e){if(typeof e!="string")throw new TypeError("expected string");let r=e,t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}function gG(e){let r=[];for(let t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return r.join("")}var mG=(()=>{class e{calcHash(t,n){return it(this,null,function*(){return gG(hG(pG(t)))})}toHashString2(t){let n="";for(let i of t)n+=String.fromCharCode(i);return n}toHashString(t){let n=new Uint8Array(t),i="";for(let o of n)i+=String.fromCharCode(o);return i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),tf=(()=>{class e extends Is{constructor(t,n,i,o,s,a,c,u,l,d){super(),this.ngZone=t,this.http=n,this.config=s,this.urlHelper=a,this.logger=c,this.crypto=u,this.dateTimeService=d,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new ie,this.discoveryDocumentLoadedSubject=new ie,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=l,s||(s={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),s&&this.configure(s);try{i?this.setStorage(i):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(h){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",h)}if(this.checkLocalStorageAccessable()){let h=window?.navigator?.userAgent;(h?.includes("MSIE ")||h?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let t="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(t,t),localStorage.removeItem(t),!0)}catch{return!1}}configure(t){Object.assign(this,new Is,t),this.config=Object.assign({},new Is,t),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(M(t=>t.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(t={},n,i=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(k(s=>{s.type==="token_received"?o=!0:s.type==="logout"&&(o=!1)}),M(s=>s.type==="token_expires"&&(n==null||n==="any"||s.info===n)),$i(1e3)).subscribe(()=>{o&&this.refreshInternal(t,i).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(t,n){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(t,n)}loadDiscoveryDocumentAndTryLogin(t=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(t))}loadDiscoveryDocumentAndLogin(t=null){return t=t||{},this.loadDiscoveryDocumentAndTryLogin(t).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let n=typeof t.state=="string"?t.state:"";return this.initLoginFlow(n),!1}else return!0})}debug(...t){this.showDebugInformation&&this.logger.debug(...t)}validateUrlFromDiscoveryDocument(t){let n=[],i=this.validateUrlForHttps(t),o=this.validateUrlAgainstIssuer(t);return i||n.push("https for all urls required. Also for urls received by discovery."),o||n.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),n}validateUrlForHttps(t){if(!t)return!0;let n=t.toLowerCase();return this.requireHttps===!1||(n.match(/^http:\/\/localhost($|[:/])/)||n.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:n.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(t,n){if(!t)throw new Error(`'${n}' should not be null`);if(!this.validateUrlForHttps(t))throw new Error(`'${n}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(t){return!this.strictDiscoveryDocumentValidation||!t?!0:t.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(M(t=>t.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let t=this.getAccessTokenExpiration(),n=this.getAccessTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=I(new Bn("token_expires","access_token")).pipe(er(i)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let t=this.getIdTokenExpiration(),n=this.getIdTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=I(new Bn("token_expires","id_token")).pipe(er(i)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(t,n){let i=this.dateTimeService.now(),o=(n-t)*this.timeoutFactor-(i-t),s=Math.max(0,o),a=2147483647;return s>a?a:s}setStorage(t){this._storage=t,this.configChanged()}loadDiscoveryDocument(t=null){return new Promise((n,i)=>{if(t||(t=this.issuer||"",t.endsWith("/")||(t+="/"),t+=".well-known/openid-configuration"),!this.validateUrlForHttps(t)){i("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(t).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new Ve("discovery_document_validation_error",null)),i("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(s=>{let a={discoveryDocument:o,jwks:s},c=new jt("discovery_document_loaded",a);this.eventsSubject.next(c),n(c)}).catch(s=>{this.eventsSubject.next(new Ve("discovery_document_load_error",s)),i(s)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new Ve("discovery_document_load_error",o)),i(o)})})}loadJwks(){return new Promise((t,n)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(i=>{this.jwks=i,t(i)},i=>{this.logger.error("error loading jwks",i),this.eventsSubject.next(new Ve("jwks_load_error",i)),n(i)}):t(null)})}validateDiscoveryDocument(t){let n;return!this.skipIssuerCheck&&t.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+t.issuer),!1):(n=this.validateUrlFromDiscoveryDocument(t.authorization_endpoint),n.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.end_session_endpoint),n.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.token_endpoint),n.length>0&&this.logger.error("error validating token_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.revocation_endpoint),n.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.userinfo_endpoint),n.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.jwks_uri),n.length>0?(this.logger.error("error validating jwks_uri in discovery document",n),!1):(this.sessionChecksEnabled&&!t.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(t,n,i=new de){return this.fetchTokenUsingPasswordFlow(t,n,i).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((t,n)=>{let i=new de().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:i,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let s=JSON.parse(o.body),a=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!a.sub||s.sub!==a.sub)){n(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}s=Object.assign({},a,s),this._storage.setItem("id_token_claims_obj",JSON.stringify(s)),this.eventsSubject.next(new jt("user_profile_loaded")),t({info:s})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new jt("user_profile_loaded")),t(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new Ve("user_profile_load_error",o)),n(o)})})}fetchTokenUsingPasswordFlow(t,n,i=new de){let o={username:t,password:n};return this.fetchTokenUsingGrant("password",o,i)}fetchTokenUsingGrant(t,n,i=new de){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new Ge({encoder:new po}).set("grant_type",t).set("scope",this.scope);if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(s,this.customQueryParams[s]);for(let s of Object.keys(n))o=o.set(s,n[s]);return i=i.set("Content-Type","application/x-www-form-urlencoded"),new Promise((s,a)=>{this.http.post(this.tokenEndpoint,o,{headers:i}).subscribe(c=>{this.debug("tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token&&this.processIdToken(c.id_token,c.access_token).then(u=>{this.storeIdToken(u),s(c)}),this.eventsSubject.next(new jt("token_received")),s(c)},c=>{this.logger.error("Error performing ${grantType} flow",c),this.eventsSubject.next(new Ve("token_error",c)),a(c)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((t,n)=>{let i=new Ge({encoder:new po}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new de().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let s=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+s)}if(this.useHttpBasicAuth||(i=i.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let s of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(s,this.customQueryParams[s]);this.http.post(this.tokenEndpoint,i,{headers:o}).pipe(_(s=>this.oidc&&s.id_token?me(this.processIdToken(s.id_token,s.access_token,!0)).pipe(k(a=>this.storeIdToken(a)),y(()=>s)):I(s))).subscribe(s=>{this.debug("refresh tokenResponse",s),this.storeAccessTokenResponse(s.access_token,s.refresh_token,s.expires_in||this.fallbackAccessTokenExpirationTimeInSec,s.scope,this.extractRecognizedCustomParameters(s)),this.eventsSubject.next(new jt("token_received")),this.eventsSubject.next(new jt("token_refreshed")),t(s)},s=>{this.logger.error("Error refreshing token",s),this.eventsSubject.next(new Ve("token_refresh_error",s)),n(s)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=t=>{let n=this.processMessageEventMessage(t);this.checkOrigin&&t.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(i=>this.debug("tryLogin during silent refresh failed",i))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(t={},n=!0){let i=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(t.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=i.sub;let s=this.document.createElement("iframe");s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let a=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,a,n,t).then(d=>{s.setAttribute("src",d),this.silentRefreshShowIFrame||(s.style.display="none"),this.document.body.appendChild(s)});let c=this.events.pipe(M(d=>d instanceof Ve),xt()),u=this.events.pipe(M(d=>d.type==="token_received"),xt()),l=I(new Ve("silent_refresh_timeout",null)).pipe(er(this.silentRefreshTimeout));return Ug([c,u,l]).pipe(y(d=>{if(d instanceof Ve)throw d.type==="silent_refresh_timeout"?this.eventsSubject.next(d):(d=new Ve("silent_refresh_error",d),this.eventsSubject.next(d)),d;return d.type==="token_received"&&(d=new jt("silently_refreshed"),this.eventsSubject.next(d)),d})).toPromise()}initImplicitFlowInPopup(t){return this.initLoginFlowInPopup(t)}initLoginFlowInPopup(t){return t=t||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(n=>new Promise((i,o)=>{let a=null;t.windowRef?t.windowRef&&!t.windowRef.closed&&(a=t.windowRef,a.location.href=n):a=window.open(n,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(t));let c,u=C=>{this.tryLogin({customHashFragment:C,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{d(),i(!0)},D=>{d(),o(D)})},l=()=>{(!a||a.closed)&&(d(),o(new Ve("popup_closed",{})))};a?c=window.setInterval(l,500):o(new Ve("popup_blocked",{}));let d=()=>{window.clearInterval(c),window.removeEventListener("storage",m),window.removeEventListener("message",h),a!==null&&a.close(),a=null},h=C=>{let D=this.processMessageEventMessage(C);D&&D!==null?(window.removeEventListener("storage",m),u(D)):console.log("false event firing")},m=C=>{C.key==="auth_hash"&&(window.removeEventListener("message",h),u(C.newValue))};window.addEventListener("message",h),window.addEventListener("storage",m)}))}calculatePopupFeatures(t){let n=t.height||470,i=t.width||500,o=window.screenLeft+(window.outerWidth-i)/2,s=window.screenTop+(window.outerHeight-n)/2;return`location=no,toolbar=no,width=${i},height=${n},top=${s},left=${o}`}processMessageEventMessage(t){let n="#";if(this.silentRefreshMessagePrefix&&(n+=this.silentRefreshMessagePrefix),!t||!t.data||typeof t.data!="string")return;let i=t.data;if(i.startsWith(n))return"#"+i.substr(n.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=t=>{let n=t.origin.toLowerCase(),i=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!i.startsWith(n)){this.debug("sessionCheckEventListener","wrong origin",n,"expected",i,"event",t);return}switch(t.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",t)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Bn("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Bn("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Bn("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Bn("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(M(t=>t.type==="silently_refreshed"||t.type==="silent_refresh_timeout"||t.type==="silent_refresh_error"),xt()).subscribe(t=>{t.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Bn("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Bn("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let t=this.document.getElementById(this.sessionCheckIFrameName);t&&this.document.body.removeChild(t);let n=this.document.createElement("iframe");n.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let i=this.sessionCheckIFrameUrl;n.setAttribute("src",i),n.style.display="none",this.document.body.appendChild(n),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let t=this.document.getElementById(this.sessionCheckIFrameName);t||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let n=this.getSessionState();n||this.stopSessionCheckTimer();let i=this.clientId+" "+n;t.contentWindow.postMessage(i,this.issuer)}createLoginUrl(){return it(this,arguments,function*(t="",n="",i="",o=!1,s={}){let a=this,c;i?c=i:c=this.redirectUri;let u=yield this.createAndSaveNonce();if(t?t=u+this.config.nonceStateSeparator+encodeURIComponent(t):t=u,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let l=a.loginUrl.indexOf("?")>-1?"&":"?",d=a.scope;this.oidc&&!d.match(/(^|\s)openid($|\s)/)&&(d="openid "+d);let h=a.loginUrl+l+"response_type="+encodeURIComponent(a.responseType)+"&client_id="+encodeURIComponent(a.clientId)+"&state="+encodeURIComponent(t)+"&redirect_uri="+encodeURIComponent(c)+"&scope="+encodeURIComponent(d);if(this.responseType.includes("code")&&!this.disablePKCE){let[m,C]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",C):this._storage.setItem("PKCE_verifier",C),h+="&code_challenge="+m,h+="&code_challenge_method=S256"}n&&(h+="&login_hint="+encodeURIComponent(n)),a.resource&&(h+="&resource="+encodeURIComponent(a.resource)),a.oidc&&(h+="&nonce="+encodeURIComponent(u)),o&&(h+="&prompt=none");for(let m of Object.keys(s))h+="&"+encodeURIComponent(m)+"="+encodeURIComponent(s[m]);if(this.customQueryParams)for(let m of Object.getOwnPropertyNames(this.customQueryParams))h+="&"+m+"="+encodeURIComponent(this.customQueryParams[m]);return h})}initImplicitFlowInternal(t="",n=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(i=n),this.createLoginUrl(t,o,null,!1,i).then(this.config.openUri).catch(s=>{console.error("Error in initImplicitFlow",s),this.inImplicitFlow=!1})}initImplicitFlow(t="",n=""){this.loginUrl!==""?this.initImplicitFlowInternal(t,n):this.events.pipe(M(i=>i.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(t,n))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(t){let n=this;if(t.onTokenReceived){let i={idClaims:n.getIdentityClaims(),idToken:n.getIdToken(),accessToken:n.getAccessToken(),state:n.state};t.onTokenReceived(i)}}storeAccessTokenResponse(t,n,i,o,s){if(this._storage.setItem("access_token",t),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),i){let a=i*1e3,u=this.dateTimeService.new().getTime()+a;this._storage.setItem("expires_at",""+u)}n&&this._storage.setItem("refresh_token",n),s&&s.forEach((a,c)=>{this._storage.setItem(c,a)})}tryLogin(t=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(t).then(()=>!0):this.tryLoginImplicitFlow(t)}parseQueryString(t){return!t||t.length===0?{}:(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}tryLoginCodeFlow(t=null){return it(this,null,function*(){t=t||{};let n=t.customHashFragment?t.customHashFragment.substring(1):window.location.search,i=this.getCodePartsFromUrl(n),o=i.code,s=i.state,a=i.session_state;if(!t.preventClearHashAfterLogin){let l=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,l)}let[c,u]=this.parseState(s);if(this.state=u,i.error){this.debug("error trying to login"),this.handleLoginError(t,i);let l=new Ve("code_error",{},i);return this.eventsSubject.next(l),Promise.reject(l)}if(!t.disableNonceCheck){if(!c)return this.saveRequestedRoute(),Promise.resolve();if(!t.disableOAuth2StateCheck&&!this.validateNonce(c)){let d=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(d),Promise.reject(d)}}return this.storeSessionState(a),o&&(yield this.getTokenFromCode(o,t),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let t=this._storage.getItem("requested_route");t&&history.replaceState(null,"",window.location.origin+t)}getCodePartsFromUrl(t){return!t||t.length===0?this.urlHelper.getHashFragmentParams():(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}getTokenFromCode(t,n){let i=new Ge({encoder:new po}).set("grant_type","authorization_code").set("code",t).set("redirect_uri",n.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?i=i.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(i,n)}fetchAndProcessToken(t,n){n=n||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let i=new de().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(t=t.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(t=t.set("client_secret",this.dummyClientSecret)),new Promise((o,s)=>{if(this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))t=t.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,t,{headers:i}).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.oidc&&a.id_token?this.processIdToken(a.id_token,a.access_token,n.disableNonceCheck).then(c=>{this.storeIdToken(c),this.eventsSubject.next(new jt("token_received")),this.eventsSubject.next(new jt("token_refreshed")),o(a)}).catch(c=>{this.eventsSubject.next(new Ve("token_validation_error",c)),console.error("Error validating tokens"),console.error(c),s(c)}):(this.eventsSubject.next(new jt("token_received")),this.eventsSubject.next(new jt("token_refreshed")),o(a))},a=>{console.error("Error getting token",a),this.eventsSubject.next(new Ve("token_refresh_error",a)),s(a)})})}tryLoginImplicitFlow(t=null){t=t||{};let n;t.customHashFragment?n=this.urlHelper.getHashFragmentParams(t.customHashFragment):n=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",n);let i=n.state,[o,s]=this.parseState(i);if(this.state=s,n.error){this.debug("error trying to login"),this.handleLoginError(t,n);let d=new Ve("token_error",{},n);return this.eventsSubject.next(d),Promise.reject(d)}let a=n.access_token,c=n.id_token,u=n.session_state,l=n.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!a||this.requestAccessToken&&!t.disableOAuth2StateCheck&&!i||this.oidc&&!c)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!u&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!t.disableNonceCheck&&!this.validateNonce(o)){let h=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}return this.requestAccessToken&&this.storeAccessTokenResponse(a,null,n.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l),this.oidc?this.processIdToken(c,a,t.disableNonceCheck).then(d=>t.validationHandler?t.validationHandler({accessToken:a,idClaims:d.idTokenClaims,idToken:d.idToken,state:i}).then(()=>d):d).then(d=>(this.storeIdToken(d),this.storeSessionState(u),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new jt("token_received")),this.callOnTokenReceivedIfExists(t),this.inImplicitFlow=!1,!0)).catch(d=>(this.eventsSubject.next(new Ve("token_validation_error",d)),this.logger.error("Error validating tokens"),this.logger.error(d),Promise.reject(d))):(this.eventsSubject.next(new jt("token_received")),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(t),Promise.resolve(!0))}parseState(t){let n=t,i="";if(t){let o=t.indexOf(this.config.nonceStateSeparator);o>-1&&(n=t.substr(0,o),i=t.substr(o+this.config.nonceStateSeparator.length))}return[n,i]}validateNonce(t){let n;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?n=localStorage.getItem("nonce"):n=this._storage.getItem("nonce"),n!==t?(console.error("Validating access_token failed, wrong state/nonce.",n,t),!1):!0}storeIdToken(t){this._storage.setItem("id_token",t.idToken),this._storage.setItem("id_token_claims_obj",t.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+t.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(t){this._storage.setItem("session_state",t)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(t,n){t.onLoginError&&t.onLoginError(n),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(t=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?t:this.clockSkewInSec*1e3}processIdToken(t,n,i=!1){let o=t.split("."),s=this.padBase64(o[0]),a=GM(s),c=JSON.parse(a),u=this.padBase64(o[1]),l=GM(u),d=JSON.parse(l),h;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?h=localStorage.getItem("nonce"):h=this._storage.getItem("nonce"),Array.isArray(d.aud)){if(d.aud.every(x=>x!==this.clientId)){let x="Wrong audience: "+d.aud.join(",");return this.logger.warn(x),Promise.reject(x)}}else if(d.aud!==this.clientId){let x="Wrong audience: "+d.aud;return this.logger.warn(x),Promise.reject(x)}if(!d.sub){let x="No sub claim in id_token";return this.logger.warn(x),Promise.reject(x)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==d.sub){let x=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${d.sub}`;return this.logger.warn(x),Promise.reject(x)}if(!d.iat){let x="No iat claim in id_token";return this.logger.warn(x),Promise.reject(x)}if(!this.skipIssuerCheck&&d.iss!==this.issuer){let x="Wrong issuer: "+d.iss;return this.logger.warn(x),Promise.reject(x)}if(!i&&d.nonce!==h){let x="Wrong nonce: "+d.nonce;return this.logger.warn(x),Promise.reject(x)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!d.at_hash){let x="An at_hash is needed!";return this.logger.warn(x),Promise.reject(x)}let m=this.dateTimeService.now(),C=d.iat*1e3,D=d.exp*1e3,A=this.getClockSkewInMsec();if(C-A>=m||D+A-this.decreaseExpirationBySec<=m){let x="Token has expired";return console.error(x),console.error({now:m,issuedAtMSec:C,expiresAtMSec:D}),Promise.reject(x)}let N={accessToken:n,idToken:t,jwks:this.jwks,idTokenClaims:d,idTokenHeader:c,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(N).then(()=>({idToken:t,idTokenClaims:d,idTokenClaimsJson:l,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:D})):this.checkAtHash(N).then(x=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!x){let Y="Wrong at_hash";return this.logger.warn(Y),Promise.reject(Y)}return this.checkSignature(N).then(()=>{let Y=!this.disableAtHashCheck,Z={idToken:t,idTokenClaims:d,idTokenClaimsJson:l,idTokenHeader:c,idTokenHeaderJson:a,idTokenExpiresAt:D};return Y?this.checkAtHash(N).then(X=>{if(this.requestAccessToken&&!X){let fe="Wrong at_hash";return this.logger.warn(fe),Promise.reject(fe)}else return Z}):Z})})}getIdentityClaims(){let t=this._storage.getItem("id_token_claims_obj");return t?JSON.parse(t):null}getGrantedScopes(){let t=this._storage.getItem("granted_scopes");return t?JSON.parse(t):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(t){for(;t.length%4!==0;)t+="=";return t}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let t=this._storage.getItem("expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let t=this._storage.getItem("id_token_expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(t){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(t)>=0&&this._storage.getItem(t)!==null?JSON.parse(this._storage.getItem(t)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(t={},n=""){let i=!1;typeof t=="boolean"&&(i=t,t={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(a=>this._storage.removeItem(a)),this.silentRefreshSubject=null,this.eventsSubject.next(new Bn("logout")),!this.logoutUrl||i)return;let s;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)s=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let a=new Ge({encoder:new po});o&&(a=a.set("id_token_hint",o));let c=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";c&&(a=a.set("post_logout_redirect_uri",c),n&&(a=a.set("state",n)));for(let u in t)a=a.set(u,t[u]);s=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+a.toString()}this.config.openUri(s)}createAndSaveNonce(){let t=this;return this.createNonce().then(function(n){return t.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",n):t._storage.setItem("nonce",n),n})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let t=this.document.getElementById(this.silentRefreshIFrameName);t&&t.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let n=this.document.getElementById(this.sessionCheckIFrameName);n&&n.remove()}createNonce(){return new Promise(t=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=45,o="",s=typeof self>"u"?null:self.crypto||self.msCrypto;if(s){let a=new Uint8Array(i);s.getRandomValues(a),a.map||(a.map=Array.prototype.map),a=a.map(c=>n.charCodeAt(c%n.length)),o=String.fromCharCode.apply(null,a)}else for(;0<i--;)o+=n[Math.random()*n.length|0];t(WM(o))})}checkAtHash(t){return it(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(t){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(t="",n={}){return this.responseType==="code"?this.initCodeFlow(t,n):this.initImplicitFlow(t,n)}initCodeFlow(t="",n={}){this.loginUrl!==""?this.initCodeFlowInternal(t,n):this.events.pipe(M(i=>i.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(t,n))}initCodeFlowInternal(t="",n={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let i={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(i=n),this.createLoginUrl(t,o,null,!1,i).then(this.config.openUri).catch(s=>{console.error("Error in initAuthorizationCodeFlow"),console.error(s)})}createChallangeVerifierPairForPKCE(){return it(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let t=yield this.createNonce(),n=yield this.crypto.calcHash(t,"sha-256");return[WM(n),t]})}extractRecognizedCustomParameters(t){let n=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(i=>{t[i]&&n.set(i,JSON.stringify(t[i]))}),n}revokeTokenAndLogout(t={},n=!1){let i=this.revocationEndpoint,o=this.getAccessToken(),s=this.getRefreshToken();if(!o)return Promise.resolve();let a=new Ge({encoder:new po}),c=new de().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let u=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+u)}if(this.useHttpBasicAuth||(a=a.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(a=a.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let u of Object.getOwnPropertyNames(this.customQueryParams))a=a.set(u,this.customQueryParams[u]);return new Promise((u,l)=>{let d,h;if(o){let m=a.set("token",o).set("token_type_hint","access_token");d=this.http.post(i,m,{headers:c})}else d=I(null);if(s){let m=a.set("token",s).set("token_type_hint","refresh_token");h=this.http.post(i,m,{headers:c})}else h=I(null);n&&(d=d.pipe(F(m=>m.status===0?I(null):Nt(m))),h=h.pipe(F(m=>m.status===0?I(null):Nt(m)))),Ne([d,h]).subscribe(m=>{this.logOut(t),u(m),this.logger.info("Token successfully revoked")},m=>{this.logger.error("Error revoking token",m),this.eventsSubject.next(new Ve("token_revoke_error",m)),l(m)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}static{this.\u0275fac=function(n){return new(n||e)(f(Ce),f(Le),f(go,8),f(Jd,8),f(Is,8),f(qM),f(Qd),f(Xd,8),f(Fe),f(mc))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),ef=class{},XE=class{handleError(r){return Nt(r)}},vG=(()=>{class e{constructor(t,n,i){this.oAuthService=t,this.errorHandler=n,this.moduleConfig=i}checkUrl(t){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(t):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(n=>t.toLowerCase().startsWith(n.toLowerCase())):!0}intercept(t,n){let i=t.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(i)?n.handle(t):this.moduleConfig.resourceServer.sendAccessToken?ln(I(this.oAuthService.getAccessToken()).pipe(M(s=>!!s)),this.oAuthService.events.pipe(M(s=>s.type==="token_received"),ra(this.oAuthService.waitForTokenInMsec||0),F(()=>I(null)),y(()=>this.oAuthService.getAccessToken()))).pipe(re(1),z(s=>{if(s){let a="Bearer "+s,c=t.headers.set("Authorization",a);t=t.clone({headers:c})}return n.handle(t).pipe(F(a=>this.errorHandler.handleError(a)))})):n.handle(t).pipe(F(s=>this.errorHandler.handleError(s)))}static{this.\u0275fac=function(n){return new(n||e)(f(tf),f(ef),f(Zd,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function yG(){return console}function EG(){return typeof sessionStorage<"u"?sessionStorage:new lG}function CG(e=null,r=Kd){return ur([tf,qM,{provide:Qd,useFactory:yG},{provide:go,useFactory:EG},{provide:Jd,useClass:r},{provide:Xd,useClass:mG},{provide:ef,useClass:XE},{provide:Zd,useValue:e},{provide:tn,useClass:vG,multi:!0},{provide:mc,useClass:uG}])}var KM=(()=>{class e{static forRoot(t=null,n=Kd){return{ngModule:e,providers:[CG(t,n)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye]})}}return e})();var Rce=new S("AUTH_CONFIG");var XM="@ngrx/router-store/request",kce=Si(XM,hs()),of="@ngrx/router-store/navigation",Uce=Si(of,hs()),sf="@ngrx/router-store/cancel",jce=Si(sf,hs()),af="@ngrx/router-store/error",$ce=Si(af,hs()),cf="@ngrx/router-store/navigated",Bce=Si(cf,hs());var nf=class{serialize(r){return{root:this.serializeRoute(r.root),url:r.url}}serializeRoute(r){let t=r.children.map(n=>this.serializeRoute(n));return{params:r.params,data:r.data,url:r.url,outlet:r.outlet,title:r.title,routeConfig:r.routeConfig?{path:r.routeConfig.path,pathMatch:r.routeConfig.pathMatch,redirectTo:r.routeConfig.redirectTo,outlet:r.routeConfig.outlet,title:typeof r.routeConfig.title=="string"?r.routeConfig.title:void 0}:null,queryParams:r.queryParams,fragment:r.fragment,firstChild:t[0],children:t}}},eC=function(e){return e[e.PreActivation=1]="PreActivation",e[e.PostActivation=2]="PostActivation",e}(eC||{}),IG="router",ZM=new S("@ngrx/router-store Internal Configuration"),e_=new S("@ngrx/router-store Configuration");function DG(e){return v({stateKey:IG,serializer:nf,navigationActionTiming:eC.PreActivation},e)}var rf=class{serialize(r){return{root:this.serializeRoute(r.root),url:r.url}}serializeRoute(r){let t=r.children.map(n=>this.serializeRoute(n));return{params:r.params,paramMap:r.paramMap,data:r.data,url:r.url,outlet:r.outlet,title:r.title,routeConfig:r.routeConfig?{component:r.routeConfig.component,path:r.routeConfig.path,pathMatch:r.routeConfig.pathMatch,redirectTo:r.routeConfig.redirectTo,outlet:r.routeConfig.outlet,title:r.routeConfig.title}:null,queryParams:r.queryParams,queryParamMap:r.queryParamMap,fragment:r.fragment,component:r.routeConfig?r.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:t[0],pathFromRoot:void 0,children:t}}},Ds=class{},yr=function(e){return e[e.NONE=1]="NONE",e[e.ROUTER=2]="ROUTER",e[e.STORE=3]="STORE",e}(yr||{}),QM=(()=>{class e{constructor(t,n,i,o,s,a){this.store=t,this.router=n,this.serializer=i,this.errorHandler=o,this.config=s,this.activeRuntimeChecks=a,this.lastEvent=null,this.routerState=null,this.trigger=yr.NONE,this.stateKey=this.config.stateKey,!cE()&&pe()&&(a?.strictActionSerializability||a?.strictStateSerializability)&&this.serializer instanceof rf&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(R(this.stateKey),st(this.store)).subscribe(([t,n])=>{this.navigateIfNeeded(t,n)})}navigateIfNeeded(t,n){if(!t||!t.state||this.trigger===yr.ROUTER||this.lastEvent instanceof Sn)return;let i=t.state.url;bG(this.router.url,i)||(this.storeState=n,this.trigger=yr.STORE,this.router.navigateByUrl(i).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let t=this.config.navigationActionTiming===eC.PostActivation,n;this.router.events.pipe(st(this.store)).subscribe(([i,o])=>{this.lastEvent=i,i instanceof Sn?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==yr.STORE&&(this.storeState=o,this.dispatchRouterRequest(i))):i instanceof fo?(n=i,!t&&this.trigger!==yr.STORE&&this.dispatchRouterNavigation(i)):i instanceof In?(this.dispatchRouterCancel(i),this.reset()):i instanceof mr?(this.dispatchRouterError(i),this.reset()):i instanceof ut&&(this.trigger!==yr.STORE&&(t&&this.dispatchRouterNavigation(n),this.dispatchRouterNavigated(i)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction(XM,{event:t})}dispatchRouterNavigation(t){let n=this.serializer.serialize(t.state);this.dispatchRouterAction(of,{routerState:n,event:new fo(t.id,t.url,t.urlAfterRedirects,n)})}dispatchRouterCancel(t){this.dispatchRouterAction(sf,{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction(af,{storeState:this.storeState,event:new mr(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){let n=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(cf,{event:t,routerState:n})}dispatchRouterAction(t,n){this.trigger=yr.ROUTER;try{this.store.dispatch({type:t,payload:w(v({routerState:this.routerState},n),{event:this.config.routerState===0?n.event:{id:n.event.id,url:n.event.url,urlAfterRedirects:n.event.urlAfterRedirects}})})}finally{this.trigger=yr.NONE}}reset(){this.trigger=yr.NONE,this.storeState=null,this.routerState=null}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(xe),f(Ds),f(ct),f(e_),f(so))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function bG(e,r){return JM(e)===JM(r)}function JM(e){return e?.length>0&&e[e.length-1]==="/"?e.substring(0,e.length-1):e}function wG(e={}){return ur([{provide:ZM,useValue:e},{provide:e_,useFactory:DG,deps:[ZM]},{provide:Ds,useClass:e.serializer?e.serializer:e.routerState===0?rf:nf},{provide:sr,multi:!0,useFactory(){return()=>E(QM)}},QM])}var t_=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[wG(t)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function tC(e){"@babel/helpers - typeof";return tC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tC(e)}var n_=[],Hce=n_.forEach,zce=n_.slice;function nC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":tC(XMLHttpRequest))==="object"}function AG(e){return!!e&&typeof e.then=="function"}function r_(e){return AG(e)?e:Promise.resolve(e)}var ff=uF(a_(),1);function c_(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function u_(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?c_(Object(t),!0).forEach(function(n){RG(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function RG(e,r,t){return(r=MG(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function MG(e){var r=_G(e,"string");return mo(r)=="symbol"?r:r+""}function _G(e,r){if(mo(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mo(e)}var Yr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Yr=global.fetch:typeof window<"u"&&window.fetch?Yr=window.fetch:Yr=fetch);var Ec;nC()&&(typeof global<"u"&&global.XMLHttpRequest?Ec=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(Ec=window.XMLHttpRequest));var hf;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?hf=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(hf=window.ActiveXObject));!Yr&&ff&&!Ec&&!hf&&(Yr=ff.default||ff);typeof Yr!="function"&&(Yr=void 0);var iC=function(r,t){if(t&&mo(t)==="object"){var n="";for(var i in t)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(t[i]);if(!n)return r;r=r+(r.indexOf("?")!==-1?"&":"?")+n.slice(1)}return r},l_=function(r,t,n,i){var o=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(i){var s=i(r,t);if(s instanceof Promise){s.then(o).catch(n);return}}typeof fetch=="function"?fetch(r,t).then(o).catch(n):Yr(r,t).then(o).catch(n)},d_=!1,OG=function(r,t,n,i){r.queryStringParams&&(t=iC(t,r.queryStringParams));var o=u_({},typeof r.customHeaders=="function"?r.customHeaders():r.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(o["Content-Type"]="application/json");var s=typeof r.requestOptions=="function"?r.requestOptions(n):r.requestOptions,a=u_({method:n?"POST":"GET",body:n?r.stringify(n):void 0,headers:o},d_?{}:s),c=typeof r.alternateFetch=="function"&&r.alternateFetch.length>=1?r.alternateFetch:void 0;try{l_(t,a,i,c)}catch(u){if(!s||Object.keys(s).length===0||!u.message||u.message.indexOf("not implemented")<0)return i(u);try{Object.keys(s).forEach(function(l){delete a[l]}),l_(t,a,i,c),d_=!0}catch(l){i(l)}}},xG=function(r,t,n,i){n&&mo(n)==="object"&&(n=iC("",n).slice(1)),r.queryStringParams&&(t=iC(t,r.queryStringParams));try{var o;Ec?o=new Ec:o=new hf("MSXML2.XMLHTTP.3.0"),o.open(n?"POST":"GET",t,1),r.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!r.withCredentials,n&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=r.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(n)}catch(c){console&&console.log(c)}},NG=function(r,t,n,i){if(typeof n=="function"&&(i=n,n=void 0),i=i||function(){},Yr&&t.indexOf("file:")!==0)return OG(r,t,n,i);if(nC()||typeof ActiveXObject=="function")return xG(r,t,n,i);i(new Error("No fetch and no xhr implementation found!"))},f_=NG;function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ws(e)}function h_(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function oC(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?h_(Object(t),!0).forEach(function(n){g_(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PG(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function p_(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m_(n.key),n)}}function FG(e,r,t){return r&&p_(e.prototype,r),t&&p_(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g_(e,r,t){return(r=m_(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function m_(e){var r=LG(e,"string");return ws(r)=="symbol"?r:r+""}function LG(e,r){if(ws(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r||"default");if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var kG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,n,i){return g_({},n,i||"")},parseLoadPayload:function(t,n){},request:f_,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},v_=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};PG(this,e),this.services=r,this.options=t,this.allOptions=n,this.type="backend",this.init(r,t,n)}return FG(e,[{key:"init",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=t,this.options=oC(oC(oC({},kG()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return n.reload()},this.options.reloadInterval);ws(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(t,n,i){this._readAny(t,t,n,n,i)}},{key:"read",value:function(t,n,i){this._readAny([t],t,[n],n,i)}},{key:"_readAny",value:function(t,n,i,o,s){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(t,i)),c=r_(c),c.then(function(u){if(!u)return s(null,{});var l=a.services.interpolator.interpolate(u,{lng:t.join("+"),ns:i.join("+")});a.loadUrl(l,s,n,o)})}},{key:"loadUrl",value:function(t,n,i,o){var s=this,a=typeof i=="string"?[i]:i,c=typeof o=="string"?[o]:o,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,t,u,function(l,d){if(d&&(d.status>=500&&d.status<600||!d.status))return n("failed loading "+t+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return n("failed loading "+t+"; status code: "+d.status,!1);if(!d&&l&&l.message){var h=l.message.toLowerCase(),m=["failed","fetch","network","load"].find(function(A){return h.indexOf(A)>-1});if(m)return n("failed loading "+t+": "+l.message,!0)}if(l)return n(l,!1);var C,D;try{typeof d.data=="string"?C=s.options.parse(d.data,i,o):C=d.data}catch{D="failed parsing "+t+" to json"}if(D)return n(D,!1);n(null,C)})}},{key:"create",value:function(t,n,i,o,s){var a=this;if(this.options.addPath){typeof t=="string"&&(t=[t]);var c=this.options.parsePayload(n,i,o),u=0,l=[],d=[];t.forEach(function(h){var m=a.options.addPath;typeof a.options.addPath=="function"&&(m=a.options.addPath(h,n));var C=a.services.interpolator.interpolate(m,{lng:h,ns:n});a.options.request(a.options,C,c,function(D,A){u+=1,l.push(D),d.push(A),u===t.length&&typeof s=="function"&&s(l,d)})})}}},{key:"reload",value:function(){var t=this,n=this.services,i=n.backendConnector,o=n.languageUtils,s=n.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(d){var h=o.toResolveHierarchy(d);h.forEach(function(m){c.indexOf(m)<0&&c.push(m)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){t.allOptions.ns.forEach(function(d){i.read(l,d,"read",null,null,function(h,m){h&&s.warn("loading namespace ".concat(d," for language ").concat(l," failed"),h),!h&&m&&s.log("loaded namespace ".concat(d," for language ").concat(l),m),i.loaded("".concat(l,"|").concat(d),h,m)})})})}}}])}();v_.type="backend";var y_=v_;var te=e=>typeof e=="string",Cc=()=>{let e,r,t=new Promise((n,i)=>{e=n,r=i});return t.resolve=e,t.reject=r,t},E_=e=>e==null?"":""+e,UG=(e,r,t)=>{e.forEach(n=>{r[n]&&(t[n]=r[n])})},jG=/###/g,C_=e=>e&&e.indexOf("###")>-1?e.replace(jG,"."):e,S_=e=>!e||te(e),Sc=(e,r,t)=>{let n=te(r)?r.split("."):r,i=0;for(;i<n.length-1;){if(S_(e))return{};let o=C_(n[i]);!e[o]&&t&&(e[o]=new t),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++i}return S_(e)?{}:{obj:e,k:C_(n[i])}},I_=(e,r,t)=>{let{obj:n,k:i}=Sc(e,r,Object);if(n!==void 0||r.length===1){n[i]=t;return}let o=r[r.length-1],s=r.slice(0,r.length-1),a=Sc(e,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=Sc(e,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=t},$G=(e,r,t,n)=>{let{obj:i,k:o}=Sc(e,r,Object);i[o]=i[o]||[],i[o].push(t)},gf=(e,r)=>{let{obj:t,k:n}=Sc(e,r);if(t)return t[n]},BG=(e,r,t)=>{let n=gf(e,t);return n!==void 0?n:gf(r,t)},R_=(e,r,t)=>{for(let n in r)n!=="__proto__"&&n!=="constructor"&&(n in e?te(e[n])||e[n]instanceof String||te(r[n])||r[n]instanceof String?t&&(e[n]=r[n]):R_(e[n],r[n],t):e[n]=r[n]);return e},Ts=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),VG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},HG=e=>te(e)?e.replace(/[&<>"'\/]/g,r=>VG[r]):e,cC=class{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){let t=this.regExpMap.get(r);if(t!==void 0)return t;let n=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,n),this.regExpQueue.push(r),n}},zG=[" ",",","?","!",";"],GG=new cC(20),WG=(e,r,t)=>{r=r||"",t=t||"";let n=zG.filter(s=>r.indexOf(s)<0&&t.indexOf(s)<0);if(n.length===0)return!0;let i=GG.getRegExp(`(${n.map(s=>s==="?"?"\\?":s).join("|")})`),o=!i.test(e);if(!o){let s=e.indexOf(t);s>0&&!i.test(e.substring(0,s))&&(o=!0)}return o},uC=function(e,r){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[r])return e[r];let n=r.split(t),i=e;for(let o=0;o<n.length;){if(!i||typeof i!="object")return;let s,a="";for(let c=o;c<n.length;++c)if(c!==o&&(a+=t),a+=n[c],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<n.length-1)continue;o+=c-o+1;break}i=s}return i},mf=e=>e&&e.replace("_","-"),qG={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,r){console&&console[e]&&console[e].apply(console,r)}},lC=class e{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(r,t)}init(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=r||qG,this.options=t,this.debug=t.debug}log(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(r,t,n,i){return i&&!this.debug?null:(te(r[0])&&(r[0]=`${n}${this.prefix} ${r[0]}`),this.logger[t](r))}create(r){return new e(this.logger,v({prefix:`${this.prefix}:${r}:`},this.options))}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new e(this.logger,r)}},Er=new lC,Rs=class{constructor(){this.observers={}}on(r,t){return r.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(r,t){if(this.observers[r]){if(!t){delete this.observers[r];return}this.observers[r].delete(t)}}emit(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[r]&&Array.from(this.observers[r].entries()).forEach(s=>{let[a,c]=s;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,c]=s;for(let u=0;u<c;u++)a.apply(a,[r,...n])})}},vf=class extends Rs{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=r||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){let t=this.options.ns.indexOf(r);t>-1&&this.options.ns.splice(t,1)}getResource(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,a;r.indexOf(".")>-1?a=r.split("."):(a=[r,t],n&&(Array.isArray(n)?a.push(...n):te(n)&&o?a.push(...n.split(o)):a.push(n)));let c=gf(this.data,a);return!c&&!t&&!n&&r.indexOf(".")>-1&&(r=a[0],t=a[1],n=a.slice(2).join(".")),c||!s||!te(n)?c:uC(this.data&&this.data[r]&&this.data[r][t],n,o)}addResource(r,t,n,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=[r,t];n&&(a=a.concat(s?n.split(s):n)),r.indexOf(".")>-1&&(a=r.split("."),i=t,t=a[1]),this.addNamespaces(t),I_(this.data,a,i),o.silent||this.emit("added",r,t,n,i)}addResources(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let o in n)(te(n[o])||Array.isArray(n[o]))&&this.addResource(r,t,o,n[o],{silent:!0});i.silent||this.emit("added",r,t,n)}addResourceBundle(r,t,n,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[r,t];r.indexOf(".")>-1&&(a=r.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let c=gf(this.data,a)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?R_(c,n,o):c=v(v({},c),n),I_(this.data,a,c),s.silent||this.emit("added",r,t,n)}removeResourceBundle(r,t){this.hasResourceBundle(r,t)&&delete this.data[r][t],this.removeNamespaces(t),this.emit("removed",r,t)}hasResourceBundle(r,t){return this.getResource(r,t)!==void 0}getResourceBundle(r,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?v({},this.getResource(r,t)):this.getResource(r,t)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){let t=this.getDataByLanguage(r);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}},M_={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,r,t,n,i){return e.forEach(o=>{this.processors[o]&&(r=this.processors[o].process(r,t,n,i))}),r}},D_={},yf=class e extends Rs{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),UG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Er.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;let n=this.resolve(r,t);return n&&n.res!==void 0}extractFromKey(r,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,o=t.ns||this.options.defaultNS||[],s=n&&r.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!WG(r,n,i);if(s&&!a){let c=r.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:r,namespaces:o};let u=r.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),r=u.join(i)}return te(o)&&(o=[o]),{key:r,namespaces:o}}translate(r,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t=v({},t)),t||(t={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);let i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(r[r.length-1],t),c=a[a.length-1],u=t.lng||this.language,l=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){let Z=t.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${Z}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${Z}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:s}let d=this.resolve(r,t),h=d&&d.res,m=d&&d.usedKey||s,C=d&&d.exactUsedKey||s,D=Object.prototype.toString.apply(h),A=["[object Number]","[object Function]","[object RegExp]"],N=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,Y=!te(h)&&typeof h!="boolean"&&typeof h!="number";if(x&&h&&Y&&A.indexOf(D)<0&&!(te(N)&&Array.isArray(h))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,w(v({},t),{ns:a})):`key '${s} (${this.language})' returned an object instead of string.`;return i?(d.res=Z,d.usedParams=this.getUsedParamsDetails(t),d):Z}if(o){let Z=Array.isArray(h),X=Z?[]:{},fe=Z?C:m;for(let Te in h)if(Object.prototype.hasOwnProperty.call(h,Te)){let He=`${fe}${o}${Te}`;X[Te]=this.translate(He,w(v({},t),{joinArrays:!1,ns:a})),X[Te]===He&&(X[Te]=h[Te])}h=X}}else if(x&&te(N)&&Array.isArray(h))h=h.join(N),h&&(h=this.extendTranslation(h,r,t,n));else{let Z=!1,X=!1,fe=t.count!==void 0&&!te(t.count),Te=e.hasDefaultValue(t),He=fe?this.pluralResolver.getSuffix(u,t.count,t):"",Ni=t.ordinal&&fe?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",Yn=fe&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),b=Yn&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${He}`]||t[`defaultValue${Ni}`]||t.defaultValue;!this.isValidLookup(h)&&Te&&(Z=!0,h=b),this.isValidLookup(h)||(X=!0,h=s);let ne=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:h,ye=Te&&b!==h&&this.options.updateMissing;if(X||Z||ye){if(this.logger.log(ye?"updateKey":"missingKey",u,c,s,ye?b:h),o){let mt=this.resolve(s,w(v({},t),{keySeparator:!1}));mt&&mt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Ae=[],he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let mt=0;mt<he.length;mt++)Ae.push(he[mt]);else this.options.saveMissingTo==="all"?Ae=this.languageUtils.toResolveHierarchy(t.lng||this.language):Ae.push(t.lng||this.language);let Ar=(mt,ze,cn)=>{let iu=Te&&cn!==h?cn:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(mt,c,ze,iu,ye,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(mt,c,ze,iu,ye,t),this.emit("missingKey",mt,c,ze,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&fe?Ae.forEach(mt=>{let ze=this.pluralResolver.getSuffixes(mt,t);Yn&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ze.indexOf(`${this.options.pluralSeparator}zero`)<0&&ze.push(`${this.options.pluralSeparator}zero`),ze.forEach(cn=>{Ar([mt],s+cn,t[`defaultValue${cn}`]||b)})}):Ar(Ae,s,b))}h=this.extendTranslation(h,r,t,d,n),X&&h===s&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${s}`),(X||Z)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,Z?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(d.res=h,d.usedParams=this.getUsedParamsDetails(t),d):h}extendTranslation(r,t,n,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(w(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=te(r)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=r.match(this.interpolator.nestingRegexp);l=h&&h.length}let d=n.replace&&!te(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d=v(v({},this.options.interpolation.defaultVariables),d)),r=this.interpolator.interpolate(r,d,n.lng||this.language||i.usedLng,n),u){let h=r.match(this.interpolator.nestingRegexp),m=h&&h.length;l<m&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var h=arguments.length,m=new Array(h),C=0;C<h;C++)m[C]=arguments[C];return o&&o[0]===m[0]&&!n.context?(s.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${t[0]}`),null):s.translate(...m,t)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=te(a)?[a]:a;return r!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(r=M_.handle(c,r,t,this.options&&this.options.postProcessPassResolved?v({i18nResolved:w(v({},i),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),r}resolve(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,o,s,a;return te(r)&&(r=[r]),r.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,t),l=u.key;i=l;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let h=t.count!==void 0&&!te(t.count),m=h&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),C=t.context!==void 0&&(te(t.context)||typeof t.context=="number")&&t.context!=="",D=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);d.forEach(A=>{this.isValidLookup(n)||(a=A,!D_[`${D[0]}-${A}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(D_[`${D[0]}-${A}`]=!0,this.logger.warn(`key "${i}" for languages "${D.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(N=>{if(this.isValidLookup(n))return;s=N;let x=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,l,N,A,t);else{let Z;h&&(Z=this.pluralResolver.getSuffix(N,t.count,t));let X=`${this.options.pluralSeparator}zero`,fe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(x.push(l+Z),t.ordinal&&Z.indexOf(fe)===0&&x.push(l+Z.replace(fe,this.options.pluralSeparator)),m&&x.push(l+X)),C){let Te=`${l}${this.options.contextSeparator}${t.context}`;x.push(Te),h&&(x.push(Te+Z),t.ordinal&&Z.indexOf(fe)===0&&x.push(Te+Z.replace(fe,this.options.pluralSeparator)),m&&x.push(Te+X))}}let Y;for(;Y=x.pop();)this.isValidLookup(n)||(o=Y,n=this.getResource(N,A,Y,t))}))})}),{res:n,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,t,n,i):this.resourceStore.getResource(r,t,n,i)}getUsedParamsDetails(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=r.replace&&!te(r.replace),i=n?r.replace:r;if(n&&typeof r.count<"u"&&(i.count=r.count),this.options.interpolation.defaultVariables&&(i=v(v({},this.options.interpolation.defaultVariables),i)),!n){i=v({},i);for(let o of t)delete i[o]}return i}static hasDefaultValue(r){let t="defaultValue";for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&t===n.substring(0,t.length)&&r[n]!==void 0)return!0;return!1}},sC=e=>e.charAt(0).toUpperCase()+e.slice(1),Ef=class{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Er.create("languageUtils")}getScriptPartFromCode(r){if(r=mf(r),!r||r.indexOf("-")<0)return null;let t=r.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(r){if(r=mf(r),!r||r.indexOf("-")<0)return r;let t=r.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(r){if(te(r)&&r.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(r)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}let t=["hans","hant","latn","cyrl","cans","mong","arab"],n=r.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=sC(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=sC(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=sC(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let t;return r.forEach(n=>{if(t)return;let i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&r.forEach(n=>{if(t)return;let i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(r,t){if(!r)return[];if(typeof r=="function"&&(r=r(t)),te(r)&&(r=[r]),Array.isArray(r))return r;if(!t)return r.default||[];let n=r[t];return n||(n=r[this.getScriptPartFromCode(t)]),n||(n=r[this.formatLanguageCode(t)]),n||(n=r[this.getLanguagePartFromCode(t)]),n||(n=r.default),n||[]}toResolveHierarchy(r,t){let n=this.getFallbackCodes(t||this.options.fallbackLng||[],r),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return te(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):te(r)&&o(this.formatLanguageCode(r)),n.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}},YG=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],KG={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3},ZG=["v1","v2","v3"],QG=["v4"],b_={zero:0,one:1,two:2,few:3,many:4,other:5},JG=()=>{let e={};return YG.forEach(r=>{r.lngs.forEach(t=>{e[t]={numbers:r.nr,plurals:KG[r.fc]}})}),e},dC=class{constructor(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=r,this.options=t,this.logger=Er.create("pluralResolver"),(!this.options.compatibilityJSON||QG.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=JG(),this.pluralRulesCache={}}addRule(r,t){this.rules[r]=t}clearCache(){this.pluralRulesCache={}}getRule(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{let n=mf(r==="dev"?"en":r),i=t.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let s=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[o]=s,s}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}needsPlural(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(r,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,n).map(i=>`${t}${i}`)}getSuffixes(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(r,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,o)=>b_[i]-b_[o]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(r,i,t)):[]}getSuffix(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.getRule(r,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${r}`),"")}getSuffixRetroCompatible(r,t){let n=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),i=r.numbers[n];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));let o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!ZG.includes(this.options.compatibilityJSON)}},w_=function(e,r,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=BG(e,r,t);return!o&&i&&te(t)&&(o=uC(e,t,n),o===void 0&&(o=uC(r,t,n))),o},aC=e=>e.replace(/\$/g,"$$$$"),fC=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Er.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||(t=>t),this.init(r)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});let{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:m,nestingSuffix:C,nestingSuffixEscaped:D,nestingOptionsSeparator:A,maxReplaces:N,alwaysFormat:x}=r.interpolation;this.escape=t!==void 0?t:HG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Ts(o):s||"{{",this.suffix=a?Ts(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?Ts(h):m||Ts("$t("),this.nestingSuffix=C?Ts(C):D||Ts(")"),this.nestingOptionsSeparator=A||",",this.maxReplaces=N||1e3,this.alwaysFormat=x!==void 0?x:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let r=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(r,t,n,i){let o,s,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=m=>{if(m.indexOf(this.formatSeparator)<0){let N=w_(t,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,n,w(v(v({},i),t),{interpolationkey:m})):N}let C=m.split(this.formatSeparator),D=C.shift().trim(),A=C.join(this.formatSeparator).trim();return this.format(w_(t,c,D,this.options.keySeparator,this.options.ignoreJSONStructure),A,n,w(v(v({},i),t),{interpolationkey:D}))};this.resetRegExp();let l=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>aC(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?aC(this.escape(m)):aC(m)}].forEach(m=>{for(a=0;o=m.regex.exec(r);){let C=o[1].trim();if(s=u(C),s===void 0)if(typeof l=="function"){let A=l(r,o,i);s=te(A)?A:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))s="";else if(d){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${r}`),s="";else!te(s)&&!this.useRawValueToEscape&&(s=E_(s));let D=m.safeValue(s);if(r=r.replace(o[0],D),d?(m.regex.lastIndex+=s.length,m.regex.lastIndex-=o[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),r}nest(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s,a=(c,u)=>{let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let d=c.split(new RegExp(`${l}[ ]*{`)),h=`{${d[1]}`;c=d[0],h=this.interpolate(h,s);let m=h.match(/'/g),C=h.match(/"/g);(m&&m.length%2===0&&!C||C.length%2!==0)&&(h=h.replace(/'/g,'"'));try{s=JSON.parse(h),u&&(s=v(v({},u),s))}catch(D){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,D),`${c}${l}${h}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(r);){let c=[];s=v({},n),s=s.replace&&!te(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){let l=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=l.shift(),c=l,u=!0}if(o=t(a.call(this,i[1].trim(),s),s),o&&i[0]===r&&!te(o))return o;te(o)||(o=E_(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${r}`),o=""),u&&(o=c.reduce((l,d)=>this.format(l,d,n.lng,w(v({},n),{interpolationkey:i[1].trim()})),o.trim())),r=r.replace(i[0],o),this.regexp.lastIndex=0}return r}},XG=e=>{let r=e.toLowerCase().trim(),t={};if(e.indexOf("(")>-1){let n=e.split("(");r=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);r==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):r==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(s=>{if(s){let[a,...c]=s.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();t[l]||(t[l]=u),u==="false"&&(t[l]=!1),u==="true"&&(t[l]=!0),isNaN(u)||(t[l]=parseInt(u,10))}})}return{formatName:r,formatOptions:t}},As=e=>{let r={};return(t,n,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o=w(v({},o),{[i.interpolationkey]:void 0}));let s=n+JSON.stringify(o),a=r[s];return a||(a=e(mf(n),i),r[s]=a),a(t)}},hC=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Er.create("formatter"),this.options=r,this.formats={number:As((t,n)=>i=>new Intl.NumberFormat(t,v({},n)).format(i)),currency:As((t,n)=>i=>new Intl.NumberFormat(t,w(v({},n),{style:"currency"})).format(i)),datetime:As((t,n)=>i=>new Intl.DateTimeFormat(t,v({},n)).format(i)),relativetime:As((t,n)=>i=>new Intl.RelativeTimeFormat(t,v({},n)).format(i,n.range||"day")),list:As((t,n)=>i=>new Intl.ListFormat(t,v({},n)).format(i))},this.init(r)}init(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(r,t){this.formats[r.toLowerCase().trim()]=t}addCached(r,t){this.formats[r.toLowerCase().trim()]=As(t)}format(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=t.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){let a=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,c)=>{let{formatName:u,formatOptions:l}=XG(c);if(this.formats[u]){let d=a;try{let h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=h.locale||h.lng||i.locale||i.lng||n;d=this.formats[u](a,m,v(v(v({},l),i),h))}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${u}`);return a},r)}},e8=(e,r)=>{e.pending[r]!==void 0&&(delete e.pending[r],e.pendingCount--)},pC=class extends Rs{constructor(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=r,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Er.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(r,t,n,i){let o={},s={},a={},c={};return r.forEach(u=>{let l=!0;t.forEach(d=>{let h=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?s[h]===void 0&&(s[h]=!0):(this.state[h]=1,l=!1,s[h]===void 0&&(s[h]=!0),o[h]===void 0&&(o[h]=!0),c[d]===void 0&&(c[d]=!0)))}),l||(a[u]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(r,t,n){let i=r.split("|"),o=i[0],s=i[1];t&&this.emit("failedLoading",o,s,t),!t&&n&&this.store.addResourceBundle(o,s,n,void 0,void 0,{skipCopy:!0}),this.state[r]=t?-1:2,t&&n&&(this.state[r]=0);let a={};this.queue.forEach(c=>{$G(c.loaded,[o],s),e8(c,r),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(r,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!r.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:t,fcName:n,tried:i,wait:o,callback:s});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&l&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,r,t,n,i+1,o*2,s)},o);return}s(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(r,t);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(r,t,a)}prepareLoading(r,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();te(r)&&(r=this.languageUtils.toResolveHierarchy(r)),te(t)&&(t=[t]);let o=this.queueLoad(r,t,n,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(r,t,n){this.prepareLoading(r,t,{},n)}reload(r,t,n){this.prepareLoading(r,t,{reload:!0},n)}loadOne(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.split("|"),i=n[0],o=n[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${o} for language ${i}`,a),this.loaded(r,s,a)})}saveMissing(r,t,n,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){let c=w(v({},s),{isUpdate:o}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(r,t,n,i,c):l=u(r,t,n,i),l&&typeof l.then=="function"?l.then(d=>a(null,d)).catch(a):a(null,l)}catch(l){a(l)}else u(r,t,n,i,a,c)}!r||!r[0]||this.store.addResource(r[0],t,n,i)}}},T_=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let r={};if(typeof e[1]=="object"&&(r=e[1]),te(e[1])&&(r.defaultValue=e[1]),te(e[2])&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){let t=e[3]||e[2];Object.keys(t).forEach(n=>{r[n]=t[n]})}return r},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),A_=e=>(te(e.ns)&&(e.ns=[e.ns]),te(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),te(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),pf=()=>{},t8=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{typeof e[t]=="function"&&(e[t]=e[t].bind(e))})},Cf=class e extends Rs{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=A_(r),this.services={},this.logger=Er,this.modules={external:[]},t8(this),t&&!this.isInitialized&&!r.isClone){if(!this.options.initImmediate)return this.init(r,t),this;setTimeout(()=>{this.init(r,t)},0)}}init(){var r=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(te(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));let i=T_();this.options=v(v(v({},i),this.options),A_(t)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=v(v({},i.interpolation),this.options.interpolation)),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);let o=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?Er.init(o(this.modules.logger),this.options):Er.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=hC);let d=new Ef(this.options);this.store=new vf(this.options.resources,this.options);let h=this.services;h.logger=Er,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new dC(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=o(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new fC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new pC(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(m){for(var C=arguments.length,D=new Array(C>1?C-1:0),A=1;A<C;A++)D[A-1]=arguments[A];r.emit(m,...D)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new yf(this.services,this.options),this.translator.on("*",function(m){for(var C=arguments.length,D=new Array(C>1?C-1:0),A=1;A<C;A++)D[A-1]=arguments[A];r.emit(m,...D)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,n||(n=pf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return r.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return r.store[l](...arguments),r}});let c=Cc(),u=()=>{let l=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(d,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(r){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pf,i=te(r)?r:this.language;if(typeof r=="function"&&(n=r),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(r,t,n){let i=Cc();return typeof r=="function"&&(n=r,r=void 0),typeof t=="function"&&(n=t,t=void 0),r||(r=this.languages),t||(t=this.options.ns),n||(n=pf),this.services.backendConnector.reload(r,t,o=>{i.resolve(),n(o)}),i}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&M_.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(let t=0;t<this.languages.length;t++){let n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(r,t){var n=this;this.isLanguageChangingTo=r;let i=Cc();this.emit("languageChanging",r);let o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(c,function(){return n.t(...arguments)})},a=c=>{!r&&!c&&this.services.languageDetector&&(c=[]);let u=te(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{s(l,u)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(r),i}getFixedT(r,t,n){var i=this;let o=function(s,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),d=2;d<u;d++)l[d-2]=arguments[d];c=i.options.overloadTranslationOptionHandler([s,a].concat(l))}else c=v({},a);c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);let h=i.options.keySeparator||".",m;return c.keyPrefix&&Array.isArray(s)?m=s.map(C=>`${c.keyPrefix}${h}${C}`):m=c.keyPrefix?`${c.keyPrefix}${h}${s}`:s,i.t(m,c)};return te(r)?o.lng=r:o.lngs=r,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let s=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===0||u===2};if(t.precheck){let a=t.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(n,r)&&(!i||s(o,r)))}loadNamespaces(r,t){let n=Cc();return this.options.ns?(te(r)&&(r=[r]),r.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(r,t){let n=Cc();te(r)&&(r=[r]);let i=this.options.preload||[],o=r.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{n.resolve(),t&&t(s)}),n):(t&&t(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";let t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Ef(T_());return t.indexOf(n.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new e(r,t)}cloneInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pf,n=r.forkResourceStore;n&&delete r.forkResourceStore;let i=w(v(v({},this.options),r),{isClone:!0}),o=new e(i);return(r.debug!==void 0||r.prefix!==void 0)&&(o.logger=o.logger.clone(r)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services=v({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new vf(this.store.data,i),o.services.resourceStore=o.store),o.translator=new yf(o.services,i),o.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];o.emit(a,...u)}),o.init(i,t),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},Ct=Cf.createInstance();Ct.createInstance=Cf.createInstance;var Jce=Ct.createInstance,Xce=Ct.dir,eue=Ct.init,tue=Ct.loadResources,nue=Ct.reloadResources,rue=Ct.use,iue=Ct.changeLanguage,oue=Ct.getFixedT,sue=Ct.t,aue=Ct.exists,cue=Ct.setDefaultNamespace,uue=Ct.hasLoadedNamespace,lue=Ct.loadNamespaces,due=Ct.loadLanguages;var __=function(r){return{type:"backend",init:function(n,i,o){},read:function(n,i,o){if(typeof r=="function"){if(r.length<3){try{var s=r(n,i);s&&typeof s.then=="function"?s.then(function(a){return o(null,a&&a.default||a)}).catch(o):o(null,s)}catch(a){o(a)}return}r(n,i,o);return}o(null,r&&r[n]&&r[n][i])}}};function wf(e){return e&&typeof e=="object"&&!Array.isArray(e)}function n8(e){return e==="__proto__"||e==="constructor"}function It(e={},...r){if(!r.length)return e;let t=r.shift()||{};if(!wf(t))return It(e,...r);for(let n in t)n8(n)||(t[n]instanceof Date?e[n]=t[n]:wf(t[n])?(wf(e[n])||(e[n]={}),It(e[n],t[n])):e[n]=t[n]);return It(e,...r)}function r8(){return It({},E(iO),E(qS))}var Dt=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>r8(),providedIn:"root"})}}return e})();function i8(){return It({},...E(Gs,{optional:!0})??[])}var iO=new S("DefaultConfiguration",{providedIn:"root",factory:i8});function o8(){return It({},...E(xc,{optional:!0})??[])}var qS=new S("RootConfiguration",{providedIn:"root",factory:o8}),xc=new S("ConfigurationChunk"),Gs=new S("DefaultConfigurationChunk");function O_(e={},r=!1){return{provide:r?Gs:xc,useValue:e,multi:!0}}function Tf(e,r,t=!1){return{provide:t?Gs:xc,useFactory:e,multi:!0,deps:r}}function bn(e={}){return{provide:Gs,useValue:e,multi:!0}}function bo(e,r){return{provide:Gs,useFactory:e,multi:!0,deps:r}}var s8={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},YS=function(e){return e.BILLING="BILLING",e.SHIPPING="SHIPPING",e}(YS||{}),we=function(e){return e.CONTENT_PAGE="ContentPage",e.PRODUCT_PAGE="ProductPage",e.CATEGORY_PAGE="CategoryPage",e.CATALOG_PAGE="CatalogPage",e}(we||{}),a8=function(e){return e.AUTO="auto",e.SMOOTH="smooth",e}(a8||{});var c8=function(e){return e.NO_BACKGROUND="NO_BACKGROUND",e.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",e.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",e}(c8||{});var _s="userCmsEndpoints",Us=function(e){return e.GIVEN="GIVEN",e.WITHDRAWN="WITHDRAWN",e}(Us||{}),bC="X-Anonymous-Consents";var wc=class{};var u8=function(e){return e.BACK_IN_STOCK="BACK_IN_STOCK",e}(u8||{}),l8=function(e){return e.SIZE="ApparelSizeVariantProduct",e.STYLE="ApparelStyleVariantProduct",e.COLOR="ElectronicsColorVariantProduct",e}(l8||{});var d8=function(e){return e.SIZE="size",e.STYLE="style",e.COLOR="color",e.THUMBNAIL="thumbnail",e.PRODUCT="product",e.STYLE_SWATCH="styleSwatch",e.ROLLUP_PROPERTY="rollupProperty",e}(d8||{}),oO="[ENTITY] REMOVE",sO="[ENTITY] REMOVE ALL";function Mi(e,r){return{entityType:e,entityId:r}}function aO(e,r){return{entityId:r,entityType:e,entityRemove:!0}}function cO(e){return{entityId:null,entityType:e,entityRemove:!0}}var wC=class{constructor(r,t){this.type=oO,this.meta=aO(r,t)}},Af=class{constructor(r){this.type=sO,this.meta=cO(r)}},uO="[LOADER] LOAD",lO="[LOADER] FAIL",dO="[LOADER] SUCCESS",fO="[LOADER] RESET";function KS(e){return{entityType:e,loader:{load:!0}}}function ZS(e,r){return{entityType:e,loader:{error:r||!0}}}function QS(e){return{entityType:e,loader:{success:!0}}}function Zp(e){return{entityType:e,loader:{}}}var ft=class{constructor(r){this.type=uO,this.meta=KS(r)}},ht=class{constructor(r,t){this.type=lO,this.meta=ZS(r,t),this.error=t}},pt=class{constructor(r){this.type=dO,this.meta=QS(r)}},Jr=class{constructor(r){this.type=fO,this.meta=Zp(r)}},JS="[ENTITY] LOAD",XS="[ENTITY] LOAD FAIL",eI="[ENTITY] LOAD SUCCESS",tI="[ENTITY] RESET";function nI(e,r){return v(v({},KS(e)),Mi(e,r))}function rI(e,r,t){return v(v({},ZS(e,t)),Mi(e,r))}function iI(e,r){return v(v({},QS(e)),Mi(e,r))}function oI(e,r){return v(v({},Zp(e)),Mi(e,r))}var $t=class{constructor(r,t){this.type=JS,this.meta=nI(r,t)}},_t=class{constructor(r,t,n){this.type=XS,this.meta=rI(r,t,n),this.error=n}},gt=class{constructor(r,t,n){this.payload=n,this.type=eI,this.meta=iI(r,t)}},Hn=class{constructor(r,t){this.type=tI,this.meta=oI(r,t)}};function rt(e){return e.value}function Bt(e){return e.loading??!1}function Ws(e){return e.error??!1}function Gn(e){return e.success??!1}var Vn={loading:!1,error:!1,success:!1,value:void 0};function dt(e,r){return(t=Vn,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===e){let o=n.meta.loader;return o.load?w(v({},t),{loading:!0,value:i(t.value)}):o.error?w(v({},t),{loading:!1,error:!0,success:!1,value:i(void 0)}):o.success?w(v({},t),{value:i(n.payload),loading:!1,error:!1,success:!0}):w(v({},Vn),{value:r?r(Vn.value,n):Vn.value})}if(r){let o=r(t.value,n);if(o!==t.value)return w(v({},t),{value:o})}return t;function i(o){return r?r(t.value,n):o}}}function qt(e,r){return e.entities[r]||Vn}function f8(e,r){let t=qt(e,r);return rt(t)}function h8(e,r){let t=qt(e,r);return Bt(t)}function p8(e,r){let t=qt(e,r);return Ws(t)}function g8(e,r){let t=qt(e,r);return Gn(t)}var TC={entities:{}};function Nc(e,r){return(n=TC,i)=>{let o=[],s=!1;if(i.meta&&i.meta.entityType===e&&i.meta.entityId!==void 0){if(i.meta.entityId!==null&&(o=[].concat(i.meta.entityId)),i.meta.entityRemove)return t(i,n,o);s=Array.isArray(i.meta.entityId)&&Array.isArray(i.payload)}else o=Object.keys(n.entities);let a={};for(let c=0;c<o.length;c++){let u=o[c],l=s?w(v({},i),{payload:i.payload[c]}):i,d=r(n.entities[u],l);d&&(a[u]=d)}return Object.keys(a).length>0?w(v({},n),{entities:v(v({},n.entities),a)}):n};function t(n,i,o){if(n?.meta?.entityId===null)return TC;{let s=!1,a=Object.keys(i.entities).reduce((c,u)=>(o.includes(u)?s=!0:c[u]=i.entities[u],c),{});return s?{entities:a}:i}}}function vo(e,r){return Nc(e,dt(e,r))}var hO="[PROCESSES LOADER] INCREMENT",pO="[PROCESSES LOADER] DECREMENT",gO="[PROCESSES LOADER] RESET";function sI(e){return{entityType:e,loader:void 0,processesCountDiff:1}}function aI(e){return{entityType:e,loader:void 0,processesCountDiff:-1}}function cI(e){return w(v({},Zp(e)),{processesCountDiff:null})}var AC=class{constructor(r){this.type=gO,this.meta=cI(r)}},RC=class{constructor(r){this.type=hO,this.meta=sI(r)}},MC=class{constructor(r){this.type=pO,this.meta=aI(r)}},mO="[ENTITY] PROCESSES LOADER RESET",vO="[ENTITY] PROCESSES INCREMENT",yO="[ENTITY] PROCESSES DECREMENT";function EO(e,r){return v(v({},cI(e)),Mi(e,r))}function CO(e,r){return v(v({},sI(e)),Mi(e,r))}function SO(e,r){return v(v({},aI(e)),Mi(e,r))}var _C=class{constructor(r,t){this.type=mO,this.meta=EO(r,t)}},OC=class{constructor(r,t){this.type=vO,this.meta=CO(r,t)}},xC=class{constructor(r,t){this.type=yO,this.meta=SO(r,t)}};function IO(e){return!e.processesCount&&!e.loading}function DO(e){return e.processesCount!==void 0&&e.processesCount>0}var Rf={processesCount:0};function bO(e,r){return(t=v(v({},Rf),Vn),n)=>{let i=dt(e,r)(t,n);if(n.meta&&n.meta.entityType===e){let o=n.meta.processesCountDiff;if(pe()&&t.processesCount&&o&&t.processesCount+o<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),o)return w(v({},i),{processesCount:t.processesCount?t.processesCount+o:o});if(o===null)return v(v({},i),Rf)}return i}}var m8=v(v({},Vn),Rf);function v8(e,r){let t=qt(e,r);return DO(t)}function y8(e,r){let t=qt(e,r);return IO(t)}function E8(e,r){return e.entities[r]||m8}function C8(e,r){return Nc(e,bO(e,r))}function wO(e,r){return e.entities[r]||void 0}var uI=".";function S8(e,r){return e.split(uI).reduce((n,i)=>n?n[i]:void 0,r)}function I8(e,r,t){if(!e||!t||Object.keys(t).length===0)return{};let n=e.split(uI).reduceRight((i,o)=>({[o]:i}),t);return D8(e,r,n)}function lI(e,r,t){if(e&&e.length===0)return{};let n={};for(let i of e){let o=S8(i,t),s=I8(i,r,o);n=It(n,s)}return n}function D8(e,r,t){let n=b8(e,r);if(n.length===0)return t;let i=It({},t);for(let o of n){let s=o.split(uI),a=i;for(let c=0;c<s.length;c++){let u=s[c];c===s.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return i}function b8(e,r){if(!e||!r)return[];let t=[];for(let n of r)n.includes(e)&&t.push(n);return t}function TO(e,r){return e?Object.keys(e).filter(t=>e[t]===r):[]}var w8="all";function dI(e,r){return`${r??""}?pageSize=${e.pageSize??""}&currentPage=${e.currentPage??""}&sort=${e.sort??""}`}function T8(e,r){return AO(e.list,e.entities,r)}function AO(e,r,t,n){let i=qt(e,t?dI(t,n):n??w8);if(!i.value||!i.value.ids)return i;let o=Object.assign({},i,{value:{values:i.value.ids.map(s=>qt(r,s).value)}});return t&&o.value&&(o.value.pagination=i.value.pagination,o.value.sorts=i.value.sorts),o}function A8(e,r){let t=e.values||[],n={ids:t.map(i=>i[r])};return e.pagination&&(n.pagination=e.pagination),e.sorts&&(n.sorts=e.sorts),{values:t,page:n}}function R8(e,r){return[e,dI(r)].toString()}var Fue=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:XS,ENTITY_LOAD_ACTION:JS,ENTITY_PROCESSES_DECREMENT_ACTION:yO,ENTITY_PROCESSES_INCREMENT_ACTION:vO,ENTITY_PROCESSES_LOADER_RESET_ACTION:mO,ENTITY_REMOVE_ACTION:oO,ENTITY_REMOVE_ALL_ACTION:sO,ENTITY_RESET_ACTION:tI,ENTITY_SUCCESS_ACTION:eI,EntityFailAction:_t,EntityLoadAction:$t,EntityLoaderResetAction:Hn,EntityProcessesDecrementAction:xC,EntityProcessesIncrementAction:OC,EntityProcessesLoaderResetAction:_C,EntityRemoveAction:wC,EntityRemoveAllAction:Af,EntitySuccessAction:gt,LOADER_FAIL_ACTION:lO,LOADER_LOAD_ACTION:uO,LOADER_RESET_ACTION:fO,LOADER_SUCCESS_ACTION:dO,LoaderFailAction:ht,LoaderLoadAction:ft,LoaderResetAction:Jr,LoaderSuccessAction:pt,PROCESSES_DECREMENT_ACTION:pO,PROCESSES_INCREMENT_ACTION:hO,PROCESSES_LOADER_RESET_ACTION:gO,ProcessesDecrementAction:MC,ProcessesIncrementAction:RC,ProcessesLoaderResetAction:AC,denormalizeCustomB2BSearch:AO,denormalizeSearch:T8,entityErrorSelector:p8,entityFailMeta:rI,entityHasPendingProcessesSelector:v8,entityIsStableSelector:y8,entityLoadMeta:nI,entityLoaderReducer:vo,entityLoaderStateSelector:qt,entityLoadingSelector:h8,entityMeta:Mi,entityProcessesDecrementMeta:SO,entityProcessesIncrementMeta:CO,entityProcessesLoaderReducer:C8,entityProcessesLoaderResetMeta:EO,entityProcessesLoaderStateSelector:E8,entityReducer:Nc,entityRemoveAllMeta:cO,entityRemoveMeta:aO,entityResetMeta:oI,entitySelector:wO,entitySuccessMeta:iI,entitySuccessSelector:g8,entityValueSelector:f8,failMeta:ZS,getStateSlice:lI,hasPendingProcessesSelector:DO,initialEntityState:TC,initialLoaderState:Vn,initialProcessesState:Rf,isStableSelector:IO,loadMeta:KS,loaderErrorSelector:Ws,loaderLoadingSelector:Bt,loaderReducer:dt,loaderSuccessSelector:Gn,loaderValueSelector:rt,normalizeListPage:A8,processesDecrementMeta:aI,processesIncrementMeta:sI,processesLoaderReducer:bO,processesLoaderResetMeta:cI,resetMeta:Zp,serializeParams:R8,serializeSearchConfig:dI,successMeta:QS}),RO="anonymous-consents",Pc="[Anonymous Consents] Anonymous Consents",MO="[Anonymous Consents] Load Anonymous Consent Templates",M8="[Anonymous Consents] Load Anonymous Consent Templates Success",_8="[Anonymous Consents] Load Anonymous Consent Templates Fail",O8="[Anonymous Consents] Reset Load Anonymous Consent Templates";var _O="[Anonymous Consents] Set Anonymous Consents",OO="[Anonymous Consents] Give Anonymous Consent",xO="[Anonymous Consents] Withdraw Anonymous Consent",NO="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",PO="[Anonymous Consents] Anonymous Consent Templates Updated",FO="[Anonymous Consents] Check Updated Versions",Mf=class extends ft{constructor(){super(Pc),this.type=MO}},_f=class extends pt{constructor(r){super(Pc),this.payload=r,this.type=M8}},Of=class extends ht{constructor(r){super(Pc,r),this.type=_8}},NC=class extends Jr{constructor(){super(Pc),this.type=O8}};var PC=class{constructor(r){this.payload=r,this.type=_O}},FC=class{constructor(r){this.templateCode=r,this.type=OO}},LC=class{constructor(r){this.templateCode=r,this.type=xO}},kC=class{constructor(r){this.dismissed=r,this.type=NO}},xf=class{constructor(r){this.updated=r,this.type=PO}},UC=class{constructor(){this.type=FO}};var Fc=En(RO),Qp=T(Fc,e=>e.templates),jC=T(Qp,e=>rt(e)),x8=T(Qp,Bt),N8=T(Qp,Gn),P8=T(Qp,Ws),F8=e=>T(jC,r=>r?r.find(t=>t.id===e):void 0),L8=T(Fc,e=>e.ui.updated),k8=T(Fc,e=>e.ui.bannerDismissed),LO=T(Fc,e=>e.consents),U8=e=>T(LO,r=>r.find(t=>t.templateCode===e));var xs="current",Ns="anonymous",j8="guest",$8=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:Ns,OCC_USER_ID_CURRENT:xs,OCC_USER_ID_GUEST:j8}),Lue="current",zn="[Auth] Login",Sr="[Auth] Logout",Ps=class{constructor(){this.type=zn}},Nf=class{constructor(){this.type=Sr}},kue=Object.freeze({__proto__:null,LOGIN:zn,LOGOUT:Sr,Login:Ps,Logout:Nf}),Wn=(()=>{class e{constructor(){this._userId=new Yt(1)}setUserId(t){this._userId.next(t)}getUserId(){return this._userId}takeUserId(t=!1){return this.getUserId().pipe(re(1),y(n=>{if(t&&n===Ns)throw new Error("Requested user id for logged user while user is not logged in.");return n}))}clearUserId(){this.setUserId(Ns)}isEmulated(){return this.getUserId().pipe(y(t=>t!==Ns&&t!==xs))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),B8="oAuthRedirectCodeFlow",Dc=function(e){return e[e.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",e[e.ImplicitFlow=1]="ImplicitFlow",e[e.AuthorizationCode=2]="AuthorizationCode",e}(Dc||{}),V8=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),ri=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),Ir=(()=>{class e extends ri{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),Jp=(()=>{class e{constructor(t,n){this.authConfig=t,this.occConfig=n}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let t=this.config?.tokenEndpoint??"";return this.prefixEndpoint(t)}getLoginUrl(){let t=this.config?.loginUrl??"";return this.prefixEndpoint(t)}getRevokeEndpoint(){let t=this.config?.revokeEndpoint??"";return this.prefixEndpoint(t)}getLogoutUrl(){let t=this.config?.logoutUrl??"";return this.prefixEndpoint(t)}getUserinfoEndpoint(){let t=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(t)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(t){let n=t;return n.startsWith("/")||(n="/"+n),`${this.getBaseUrl()}${n}`}getOAuthFlow(){let t=this.config?.OAuthLibConfig?.responseType;if(t){let n=t.split(" ");return n.includes("code")?Dc.AuthorizationCode:n.includes("token")?Dc.ImplicitFlow:Dc.ResourceOwnerPasswordFlow}return Dc.ResourceOwnerPasswordFlow}static{this.\u0275fac=function(n){return new(n||e)(f(V8),f(Ir))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H8=new S("SERVER_REQUEST_URL"),z8=new S("SERVER_REQUEST_ORIGIN"),Dr=(()=>{class e{constructor(t,n,i,o){this.platformId=n,this.serverUrl=i,this.serverOrigin=o,this.document=t}isBrowser(){return Un(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?oa(this.nativeWindow,"resize").pipe($i(300),tr({target:this.nativeWindow}),dn()):I(null)}static{this.\u0275fac=function(n){return new(n||e)(f(Fe),f($e),f(H8,8),f(z8,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kO=(()=>{class e{constructor(t,n,i,o){this.oAuthService=t,this.authConfigService=n,this.platformId=i,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let t=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(t?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(t,n){return this.oAuthService.fetchTokenUsingPasswordFlow(t,n)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(t=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{t()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(B8,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(t=>{let n,i=this.events$.pipe(M(o=>o.type==="token_received"),re(1)).subscribe(o=>n=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{t({result:o,tokenReceived:!!n})}).finally(()=>{i.unsubscribe()})})}static{this.\u0275fac=function(n){return new(n||e)(f(tf),f(Jp),f($e),f(Dr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Lc=(()=>{class e extends go{constructor(){super(...arguments),this._token$=new Re({})}static{this.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"]}decode(t,n){return e.nonStringifiedOAuthLibKeys.includes(t)?n:JSON.stringify(n)}encode(t,n){if(e.nonStringifiedOAuthLibKeys.includes(t))return n;try{return JSON.parse(n)}catch{return n}}getToken(){return this._token$}setToken(t){this._token$.next(t)}getItem(t){let n;return this.getToken().subscribe(i=>n=i).unsubscribe(),this.decode(t,n?.[t])}removeItem(t){let n=v({},this._token$.value);delete n[t],this._token$.next(v({},n))}setItem(t,n){t&&this._token$.next(w(v({},this._token$.value),{[t]:this.encode(t,n)}))}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UO="[Router] Change Next PageContext",$C=class{constructor(r){this.payload=r,this.type=UO}};var BC="router",G8=En(BC),Xp=T(G8,e=>e.router),Uue=T(Xp,e=>e.state&&e.state.semanticRoute||""),W8=T(Xp,e=>e.state&&e.state.context||{id:""}),jO=T(Xp,e=>e.nextState&&e.nextState.context),q8=T(jO,e=>!!e);var VC=e=>e.startsWith(":"),x_=e=>e.slice(1);var K=(()=>{class e{log(...t){console.log(...t)}warn(...t){console.warn(...t)}error(...t){console.error(...t)}info(...t){console.info(...t)}debug(...t){console.debug(...t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eg=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),tg=(()=>{class e{constructor(t){this.config=t,this.logger=E(K)}getRouteConfig(t){let n=this.config?.routing?.routes,i=n&&n[t];return(!n||i===void 0)&&this.warn(`No path was configured for the named route '${t}'!`),i}warn(...t){pe()&&this.logger.warn(...t)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(t){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[t]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[t,n]of Object.entries(this.config?.routing?.routes??{}))n?.paths?.forEach(i=>{pe()&&this.routeNamesByPath[i]&&this.logger.error(`The same path '${i}' is configured for two different route names: '${this.routeNamesByPath[i]}' and '${t}`),this.routeNamesByPath[i]=t})}static{this.\u0275fac=function(n){return new(n||e)(f(eg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fI=(()=>{class e{constructor(t){this.router=t}getPrimarySegments(t){let n=this.router.parseUrl(t);return this._getPrimarySegmentsFromUrlTree(n.root)}_getPrimarySegmentsFromUrlTree(t){let n=t.segments.map(o=>o.path),i=t.children[ee]?this._getPrimarySegmentsFromUrlTree(t.children[ee]):[];return n.concat(i)}matchPath(t,n){if(t=Array.isArray(t)?t:this.getPrimarySegments(t),n=Array.isArray(n)?n:this.getPrimarySegments(n),t.length!==n.length)return!1;for(let i=0;i<n.length;i++){let o=n[i],s=t[i];if(!VC(o)&&o!==s)return!1}return!0}static{this.\u0275fac=function(n){return new(n||e)(f(xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kc=(()=>{class e{constructor(t,n){this.routingConfigService=t,this.urlParser=n,this.ROOT_URL=["/"]}get(t){let n=this.routingConfigService.getRouteConfig(t);return n&&Array.isArray(n.paths)?"/"+n.paths[0]:void 0}transform(t){Array.isArray(t)||(t=[t]);let n=[];for(let i of t)if(!this.isRouteCommand(i))n.push(i);else{let o=this.generateUrlPart(i);if(o===null)return this.ROOT_URL;n.push(...o)}return this.shouldOutputAbsolute(t)&&n.unshift("/"),n}isRouteCommand(t){return t&&!!t.cxRoute}shouldOutputAbsolute(t){return this.isRouteCommand(t[0])}generateUrlPart(t){if(this.standarizeRouteCommand(t),!t.cxRoute)return null;let n=this.routingConfigService.getRouteConfig(t.cxRoute);if(!n||!n.paths)return null;let i=this.findPathWithFillableParams(n,t.params);return i?this.provideParamsValues(i,t.params,n.paramsMapping):null}standarizeRouteCommand(t){t.params=t.params||{}}provideParamsValues(t,n,i){return this.urlParser.getPrimarySegments(t).map(o=>{if(VC(o)){let s=x_(o),a=this.getMappedParamName(s,i);return n?.[a]}return o})}findPathWithFillableParams(t,n){let i=t.paths?.find(o=>this.getParams(o).every(s=>{let a=this.getMappedParamName(s,t.paramsMapping);return n?.[a]!==void 0}));return i??null}getParams(t){return this.urlParser.getPrimarySegments(t).filter(VC).map(x_)}getMappedParamName(t,n){return n&&n[t]||t}static{this.\u0275fac=function(n){return new(n||e)(f(tg),f(fI))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$O=(()=>{class e{constructor(t){this.router=t,this.routes$=this.router.events.pipe(M(n=>n instanceof ut),tr(void 0),y(()=>{let n=this.router.routerState.snapshot.root,i=[n];for(;n=n.firstChild;)i.push(n);return i}),ot({bufferSize:1,refCount:!0}))}static{this.\u0275fac=function(n){return new(n||e)(f(xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Y8=(()=>{class e{constructor(t,n){this.router=t,this.activatedRoutesService=n,this.params$=this.activatedRoutesService.routes$.pipe(y(i=>this.findAllParam(i)),ot({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(t){return Object.assign({},...t.map(n=>n.params))}static{this.\u0275fac=function(n){return new(n||e)(f(xe),f($O))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_i=(()=>{class e{constructor(t,n,i,o,s,a){this.store=t,this.winRef=n,this.semanticPathService=i,this.routingParamsService=o,this.router=s,this.location=a}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(R(Xp))}getPageContext(){return this.store.pipe(R(W8))}getNextPageContext(){return this.store.pipe(R(jO))}changeNextPageContext(t){this.store.dispatch(new $C(t))}isNavigating(){return this.store.pipe(R(q8))}go(t,n){let i=this.semanticPathService.transform(t);return this.navigate(i,n)}getUrl(t,n){let i=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(t),n));return i.startsWith("/")||(i=`/${i}`),i}getFullUrl(t,n){return`${this.winRef.location.origin}${this.getUrl(t,n)}`}goByUrl(t,n){return this.router.navigateByUrl(t,n)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(t,n){return this.router.navigate(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(Dr),f(kc),f(Y8),f(xe),f(hr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),BO=(()=>{class e{constructor(){this.redirectUrl$=new Re(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(t){this.redirectUrl$.next(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),K8=(()=>{class e{constructor(t,n){this.config=t,this.urlParsingService=n}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((t,n)=>n.authFlow===!0&&n.paths?.length?t.concat(n?.paths):t,[])),this._authFlowPaths}isAuthFlow(t){return this.authFlowPaths.some(n=>this.urlParsingService.matchPath(t,n))}static{this.\u0275fac=function(n){return new(n||e)(f(eg),f(fI))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hI=(()=>{class e{constructor(t,n,i,o){this.routing=t,this.router=n,this.authRedirectStorageService=i,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(t=>{t instanceof ut&&this.setRedirectUrl(t.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(re(1)).subscribe(t=>{t===void 0?this.routing.go("/"):this.routing.goByUrl(t),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let t=this.router.getCurrentNavigation();if(!t?.finalUrl)return;let n=this.router.serializeUrl(t.finalUrl);this.setRedirectUrl(n)}setRedirectUrl(t){this.authFlowRoutesService.isAuthFlow(t)||this.authRedirectStorageService.setRedirectUrl(t)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}static{this.\u0275fac=function(n){return new(n||e)(f(_i),f(xe),f(BO),f(K8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sn(e){return typeof e<"u"}function js(e){return sn(e)&&e!==null}function Uc(e,r){return e.context&&e.context[r]||[]}function Xr(e,r){let t=Uc(e,r);return t&&t.length?t[0]:void 0}var wo="language",To="currency",ei="baseSite",VO="theme",pI="[Site-context] Load BaseSite",HO="[Site-context] Load BaseSite Fail",gI="[Site-context] Load BaseSite Success",mI="[Site-context] Load BaseSites",zO="[Site-context] Load BaseSites Fail",vI="[Site-context] Load BaseSites Success",yI="[Site-context] Set Active BaseSite",GO="[Site-context] BaseSite Change",HC=class{constructor(){this.type=pI}},Pf=class{constructor(r){this.payload=r,this.type=HO,this.error=r}},Ff=class{constructor(r){this.payload=r,this.type=gI}},Lf=class{constructor(){this.type=mI}},kf=class{constructor(r){this.payload=r,this.type=zO,this.error=r}},Uf=class{constructor(r){this.payload=r,this.type=vI}},jf=class{constructor(r){this.payload=r,this.type=yI}},zC=class{constructor(){this.type=GO}},EI="[Site-context] Load Currencies",WO="[Site-context] Load Currencies Fail",CI="[Site-context] Load Currencies Success",ng="[Site-context] Set Active Currency",qs="[Site-context] Currency Change",$f=class{constructor(){this.type=EI}},Bf=class{constructor(r){this.payload=r,this.type=WO,this.error=r}},Vf=class{constructor(r){this.payload=r,this.type=CI}},Hf=class{constructor(r){this.payload=r,this.type=ng}},zf=class{constructor(r){this.payload=r,this.type=qs}},SI="[Site-context] Load Languages",qO="[Site-context] Load Languages Fail",II="[Site-context] Load Languages Success",rg="[Site-context] Set Active Language",wn="[Site-context] Language Change",Gf=class{constructor(){this.type=SI}},Wf=class{constructor(r){this.payload=r,this.type=qO,this.error=r}},qf=class{constructor(r){this.payload=r,this.type=II}},Yf=class{constructor(r){this.payload=r,this.type=rg}},Kf=class{constructor(r){this.payload=r,this.type=wn}},jue=Object.freeze({__proto__:null,BASE_SITE_CHANGE:GO,BaseSiteChange:zC,CURRENCY_CHANGE:qs,CurrencyChange:zf,LANGUAGE_CHANGE:wn,LOAD_BASE_SITE:pI,LOAD_BASE_SITES:mI,LOAD_BASE_SITES_FAIL:zO,LOAD_BASE_SITES_SUCCESS:vI,LOAD_BASE_SITE_FAIL:HO,LOAD_BASE_SITE_SUCCESS:gI,LOAD_CURRENCIES:EI,LOAD_CURRENCIES_FAIL:WO,LOAD_CURRENCIES_SUCCESS:CI,LOAD_LANGUAGES:SI,LOAD_LANGUAGES_FAIL:qO,LOAD_LANGUAGES_SUCCESS:II,LanguageChange:Kf,LoadBaseSite:HC,LoadBaseSiteFail:Pf,LoadBaseSiteSuccess:Ff,LoadBaseSites:Lf,LoadBaseSitesFail:kf,LoadBaseSitesSuccess:Uf,LoadCurrencies:$f,LoadCurrenciesFail:Bf,LoadCurrenciesSuccess:Vf,LoadLanguages:Gf,LoadLanguagesFail:Wf,LoadLanguagesSuccess:qf,SET_ACTIVE_BASE_SITE:yI,SET_ACTIVE_CURRENCY:ng,SET_ACTIVE_LANGUAGE:rg,SetActiveBaseSite:jf,SetActiveCurrency:Hf,SetActiveLanguage:Yf}),DI="siteContext",jc=En(DI),Z8=e=>e.entities,Q8=T(jc,e=>e.baseSite),N_=T(jc,e=>e&&e.baseSite&&e.baseSite.activeSite),$ue=T(jc,e=>e&&e.baseSite&&e.baseSite.details),J8=T(Q8,Z8),X8=T(J8,e=>e?Object.keys(e).map(r=>e[r]):null),e3=e=>e.entities,t3=e=>e.activeCurrency,YO=T(jc,e=>e.currencies),n3=T(YO,e3),GC=T(YO,t3),r3=T(n3,e=>e?Object.keys(e).map(r=>e[r]):null),i3=e=>e.activeLanguage,o3=e=>e.entities,KO=T(jc,e=>e.languages),s3=T(KO,o3),WC=T(KO,i3),a3=T(s3,e=>e?Object.keys(e).map(r=>e[r]):null);var Ao=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getActive(){return this.store.pipe(R(N_),M(t=>!!t))}getAll(){return this.store.pipe(R(X8),k(t=>{t||this.store.dispatch(new Lf)}),M(js))}get(t){return t?this.getAll().pipe(y(n=>n.find(i=>i.uid===t))):this.getActive().pipe(_(n=>this.getAll().pipe(y(i=>i.find(o=>o.uid===n)))))}setActive(t){this.store.pipe(R(N_),re(1)).subscribe(n=>{t&&n!==t&&this.store.dispatch(new jf(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Uc(this.config,ei).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),c3=(()=>{class e{constructor(t){this.baseSiteService=t,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(re(1),y(t=>t?.isolated?this.MULTISITE_SEPARATOR+t?.uid:""))}decorateUserId(t){return this.getBaseSiteDecorator().pipe(y(n=>t+n))}static{this.\u0275fac=function(n){return new(n||e)(f(Ao))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qn=(()=>{class e{constructor(t,n,i,o,s,a,c){this.store=t,this.userIdService=n,this.oAuthLibWrapperService=i,this.authStorageService=o,this.authRedirectService=s,this.routingService=a,this.authMultisiteIsolationService=c,this.refreshInProgress$=new Re(!1),this.logoutInProgress$=new Re(!1)}checkOAuthParamsInUrl(){return it(this,null,function*(){try{let t=yield this.oAuthLibWrapperService.tryLogin(),n=this.authStorageService.getItem("access_token");t.result&&n&&(this.userIdService.setUserId(xs),this.store.dispatch(new Ps),t.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(t,n){return it(this,null,function*(){let i=t;this.authMultisiteIsolationService&&(i=yield nr(this.authMultisiteIsolationService.decorateUserId(i)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(i,n),this.userIdService.setUserId(xs),this.store.dispatch(new Ps),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(t,n){return it(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(t,n),this.userIdService.setUserId(xs),this.store.dispatch(new Ps),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(t=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Nf),this.setLogoutProgress(!1),t()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(y(t=>!!t?.access_token),dn())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(t){this.refreshInProgress$.next(t)}setLogoutProgress(t){this.logoutInProgress$.next(t)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(Wn),f(kO),f(Lc),f(hI),f(_i),f(c3))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$c=(()=>{class e{constructor(t,n){this.store=t,this.authService=n}loadTemplates(){this.store.dispatch(new Mf)}getTemplates(t=!1){return sa(()=>t,this.store.pipe(R(jC),st(this.getLoadTemplatesLoading()),M(([n,i])=>!i),k(([n,i])=>{n||this.loadTemplates()}),M(([n,i])=>!!n),y(([n,i])=>n)),this.store.pipe(R(jC)))}getTemplate(t){return this.store.pipe(R(F8(t)))}getLoadTemplatesLoading(){return this.store.pipe(R(x8))}getLoadTemplatesSuccess(){return this.store.pipe(R(N8))}getLoadTemplatesError(){return this.store.pipe(R(P8))}resetLoadTemplatesState(){this.store.dispatch(new NC)}getConsents(){return this.store.pipe(R(LO))}setConsents(t){return this.store.dispatch(new PC(t))}getConsent(t){return this.authService.isUserLoggedIn().pipe(M(n=>!n),k(()=>this.getTemplates(!0)),_(()=>this.store.pipe(R(U8(t)))))}giveConsent(t){this.store.dispatch(new FC(t))}giveAllConsents(){return this.getTemplates(!0).pipe(k(t=>t.forEach(n=>{n.id&&this.giveConsent(n.id)})))}isConsentGiven(t){return(t&&t.consentState===Us.GIVEN)??!1}withdrawConsent(t){this.store.dispatch(new LC(t))}withdrawAllConsents(){return this.getTemplates(!0).pipe(k(t=>t.forEach(n=>{n.id&&this.withdrawConsent(n.id)})))}isConsentWithdrawn(t){return t&&t.consentState===Us.WITHDRAWN}toggleBannerDismissed(t){this.store.dispatch(new kC(t)),t&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(R(k8))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(_(()=>this.store.pipe(R(L8))))}toggleTemplatesUpdated(t){this.store.dispatch(new xf(t))}isBannerVisible(){return Ne([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(k(()=>this.checkConsentVersions()),y(([t,n])=>!t||n))}checkConsentVersions(){this.store.dispatch(new UC)}detectUpdatedTemplates(t,n){if(n.length!==t.length)return!0;for(let i=0;i<n.length;i++){let o=n[i],s=t[i];if(o.version!==s.version)return!0}return!1}serializeAndEncode(t){if(!t)return"";let n=JSON.stringify(t);return encodeURIComponent(n)}decodeAndDeserialize(t){let n=decodeURIComponent(t);return n.length>0?JSON.parse(n):[]}consentsUpdated(t,n){let i=this.serializeAndEncode(t),o=this.serializeAndEncode(n);return i!==o}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(qn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qC="cx-use-client-token",Bue="cx-use-csagent-token",Vue="sap-commerce-cloud-captcha-token",Tc=class{static createHeader(r,t,n){return n?n.append(r,JSON.stringify(t)):(n=new de().set(r,JSON.stringify(t)),n)}static removeHeader(r,t){let n=t.headers.delete(r);return t.clone({headers:n})}static getInterceptorParam(r,t){let n=t.get(r);if(n)return JSON.parse(n)}},ZO="client-auth",ig="[Client auth] Client Token Data",QO="[Token] Load Client Token",u3="[Token] Load Client Token Fail",l3="[Token] Load Client Token Success",Zf=class extends ft{constructor(){super(ig),this.type=QO}},YC=class extends ht{constructor(r){super(ig,r),this.payload=r,this.type=u3}},KC=class extends pt{constructor(r){super(ig),this.payload=r,this.type=l3}};var d3=En(ZO),P_=T(d3,e=>e.clientToken);var JO=(()=>{class e{constructor(t){this.store=t}getClientToken(){return this.store.pipe(R(P_),un(ui),M(t=>this.isClientTokenLoaded(t)?!0:(t.loading||this.store.dispatch(new Zf),!1)),y(t=>t.value))}refreshClientToken(){return this.store.dispatch(new Zf),this.store.pipe(R(P_),M(t=>this.isClientTokenLoaded(t)),y(t=>t.value),M(sn))}isClientTokenLoaded(t){return!!((t.success||t.error)&&!t.loading)}static{this.\u0275fac=function(n){return new(n||e)(f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),f3=(()=>{class e{constructor(t){this.clientTokenService=t}handleExpiredClientToken(t,n){return this.clientTokenService.refreshClientToken().pipe(re(1),_(i=>n.handle(this.createNewRequestWithNewToken(t,i))))}createNewRequestWithNewToken(t,n){return t=t.clone({setHeaders:{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}}),t}static{this.\u0275fac=function(n){return new(n||e)(f(JO))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ZC=class{static resolve(r,t,n){for(let i of Object.keys(t)){let o=new RegExp("\\${"+i+"}","g");r=r.replace(o,n?encodeURIComponent(t[i]):t[i])}return r}},QC=class{encodeKey(r){return encodeURIComponent(r)}encodeValue(r){return encodeURIComponent(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}},bc="default";function F_(...e){let r=[];e=e.filter(t=>!!t);for(let t of e)r.push(h3(t));return e[0]?.startsWith("/")&&(r[0]="/"+r[0]),e[e.length-1]?.endsWith("/")&&(r[r.length-1]=r[r.length-1]+"/"),r.join("/")}function h3(e){return e=e.startsWith("/")?e.slice(1):e,e=e.endsWith("/")?e.slice(0,-1):e,e}var Ke=(()=>{class e{get activeBaseSite(){return this._activeBaseSite??Xr(this.config,ei)}constructor(t,n){this.config=t,this.baseSiteService=n,this.logger=E(K),this.baseSiteService&&this.baseSiteService.getActive().subscribe(i=>this._activeBaseSite=i)}getRawEndpointValue(t,n){return this.getEndpointForScope(t,n)}isConfigured(t,n){return!(typeof this.getEndpointFromConfig(t,n)>"u")}getBaseUrl(t={baseUrl:!0,prefix:!0,baseSite:!0}){let n=t.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",i=t.prefix===!1?"":this.getPrefix(),o=t.baseSite===!1?"":this.activeBaseSite;return F_(n,i,o)}buildUrl(t,n,i){let o=this.getEndpointForScope(t,n?.scope);if(n){let{urlParams:s,queryParams:a}=n;if(s&&(o=ZC.resolve(o,s,!0)),a){let c={encoder:new QC};if(o.includes("?")){let d;[o,d]=o.split("?"),c=w(v({},c),{fromString:d})}let l=this.getHttpParamsFromQueryParams(a,c).toString();l.length&&(o+="?"+l)}}return this.buildUrlFromEndpointString(o,i)}getHttpParamsFromQueryParams(t,n){let i=new Ge(n);return Object.keys(t).forEach(o=>{let s=t[o];s!==void 0&&(s===null?i=i.delete(o):i=i.set(o,s))}),i}getEndpointFromConfig(t,n){let i=this.config.backend?.occ?.endpoints;if(!i)return;let o=i[t];return n?n===bc&&typeof o=="string"?o:o?.[n]:typeof o=="string"?o:o?.[bc]}getEndpointForScope(t,n){let i=this.config.backend?.occ?.endpoints;if(!i)return"";let o=i[t];if(n){if(o?.[n])return o?.[n];if(n===bc&&typeof o=="string")return o;pe()&&this.logger.warn(`${t} endpoint configuration missing for scope "${n}"`)}return(typeof o=="string"?o:o?.[bc])||t}buildUrlFromEndpointString(t,n){return F_(this.getBaseUrl(n),t)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}static{this.\u0275fac=function(n){return new(n||e)(f(Ir),f(Ao,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),p3=(()=>{class e{constructor(t,n,i){this.clientTokenService=t,this.clientErrorHandlingService=n,this.occEndpoints=i}intercept(t,n){let i=this.isClientTokenRequest(t);return i&&(t=Tc.removeHeader(qC,t)),this.getClientToken(i).pipe(re(1),_(o=>(o?.access_token&&t.url.includes(this.occEndpoints.getBaseUrl())&&(t=t.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),n.handle(t).pipe(F(s=>{if(s instanceof Mt&&s.status===401&&i&&this.isExpiredToken(s))return this.clientErrorHandlingService.handleExpiredClientToken(t,n);throw s})))))}getClientToken(t){return t?this.clientTokenService.getClientToken():I(void 0)}isClientTokenRequest(t){return!!Tc.getInterceptorParam(qC,t.headers)}isExpiredToken(t){return t.error?.errors?.[0]?.type==="InvalidTokenError"}static{this.\u0275fac=function(n){return new(n||e)(f(JO),f(f3),f(Ke))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),g3=[{provide:tn,useExisting:p3,multi:!0}],Fs=function(e){return e.NO_STORAGE="NO_STORAGE",e.LOCAL_STORAGE="LOCAL_STORAGE",e.SESSION_STORAGE="SESSION_STORAGE",e}(Fs||{}),Ro=function(e){return e.TRANSFER_STATE="SSR",e}(Ro||{});function bI(e,r=[],t=[]){let n=(e??[]).filter(o=>!o.hasMatch||o.hasMatch(...r));if(n.length<2)return n[0];let i=-1/0;return n.reduce((o,s)=>{let a=s.getPriority?s.getPriority(...t):0;return i>a?o:(i=a,s)},void 0)}var JC=class{},Ms=function(e){return e[e.Parallel=0]="Parallel",e[e.Queue=1]="Queue",e[e.CancelPrevious=2]="CancelPrevious",e[e.ErrorPrevious=3]="ErrorPrevious",e}(Ms||{}),m3=(()=>{class e{constructor(){this.subscriptions=new Ee}create(t,n){let i=new ie,o=new ie,s=u=>({next:l=>u.next(l),error:l=>u.error(l),complete:()=>u.complete()}),a;switch(n?.strategy){case Ms.CancelPrevious:case Ms.ErrorPrevious:a=ji(i,o).pipe(_(([u,l])=>Ze(()=>t(u)).pipe(k(s(l)),F(()=>ge),Rn(()=>{!l.closed&&!l.hasError&&(n.strategy===Ms.ErrorPrevious?l.error(new Error("Canceled by next command")):l.complete())}))));break;case Ms.Parallel:a=ji(i,o).pipe(z(([u,l])=>Ze(()=>t(u)).pipe(k(s(l)),F(()=>ge))));break;case Ms.Queue:default:a=ji(i,o).pipe(Ue(([u,l])=>Ze(()=>t(u)).pipe(k(s(l)),F(()=>ge))));break}return this.subscriptions.add(a.subscribe()),new class extends JC{constructor(){super(...arguments),this.execute=u=>{let l=new Yt;return o.next(l),i.next(u),l}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ri(e,r){return Object.assign(new e,r)}var ti=(()=>{class e{static{this.type="CxEvent"}}return e})(),XC=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new V(r=>(this.consumer=r,this.bindAllSourcesToConsumer(r),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(Lo()),this.consumer=null}add(r){this.has(r)||(this.consumer&&this.bindSourceToConsumer(r,this.consumer),this.sources.push(r))}bindAllSourcesToConsumer(r){this.sources.forEach(t=>this.bindSourceToConsumer(t,r))}unbindAllSourcesFromConsumer(){this.sources.forEach(r=>this.unbindSourceFromConsumer(r))}bindSourceToConsumer(r,t){let n=r.subscribe(i=>t.next(i));this.subscriptionsToSources.set(r,n)}unbindSourceFromConsumer(r){let t=this.subscriptionsToSources.get(r);t!==void 0&&(t.unsubscribe(),this.subscriptionsToSources.delete(r))}remove(r){this.unbindSourceFromConsumer(r);let t;(t=this.sources.findIndex(n=>n===r))!==-1&&this.sources.splice(t,1)}has(r){return this.sources.includes(r)}},Mo=(()=>{class e{constructor(){this.logger=E(K),this.eventsMeta=new Map}register(t,n){let i=this.getEventMeta(t);return i.mergingSubject.has(n)?pe()&&this.logger.warn("EventService: the event source",n,"has been already registered for the type",t):i.mergingSubject.add(n),()=>i.mergingSubject.remove(n)}get(t){let n=this.getEventMeta(t).mergingSubject.output$;return pe()&&(n=this.getValidatedEventStream(n,t)),n}dispatch(t,n){n?t instanceof n||(t=Ri(n,t)):n=t.constructor,this.getInputSubject(n).next(t)}getInputSubject(t){let n=this.getEventMeta(t);return n.inputSubject$||(n.inputSubject$=new ie,this.register(t,n.inputSubject$)),n.inputSubject$}getEventMeta(t){return this.eventsMeta.get(t)||(pe()&&this.validateEventType(t),this.createEventMeta(t)),this.eventsMeta.get(t)}createEventMeta(t){let n={inputSubject$:null,mergingSubject:new XC};this.eventsMeta.set(t,n);let i=Object.getPrototypeOf(t);for(;i!==null&&Object.getPrototypeOf(i)!==Object.getPrototypeOf({});)this.register(i,n.mergingSubject.output$),i=Object.getPrototypeOf(i)}validateEventType(t){if(!t?.constructor)throw new Error(`EventService:  ${t} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(t)}validateCxEvent(t){let n=t;for(;n!==null&&Object.getPrototypeOf(n)!==Object.getPrototypeOf({});){if(n.type===ti.type)return;n=Object.getPrototypeOf(n)}this.logger.warn(`The ${t.name} (or one of its parent classes) does not inherit from the ${ti.type}`)}getValidatedEventStream(t,n){return t.pipe(k(i=>{i instanceof n||this.logger.warn("EventService: The stream",t,"emitted the event",i,"that is not an instance of the declared type",n.name)}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Hue=(()=>{class e{constructor(t){this.eventService=t,this.subscriptions=new Ee}create(t,n){let i={data:void 0,error:!1,loading:!0},o=new Re(i),s=sa(()=>o.value.loading,I(void 0),ge),a=this.getTriggersStream([s,...n?.reloadOn??[],...n?.resetOn??[]]),c=this.getTriggersStream(n?.resetOn??[]),u=this.getTriggersStream(n?.reloadOn??[]),l=t().pipe(la(c)),d=a.pipe(k(()=>{o.value.loading||o.next(w(v({},o.value),{loading:!0}))}),_(()=>l),k(C=>{o.next({loading:!1,error:!1,data:C})}),F((C,D)=>(o.next({loading:!1,error:C,data:void 0}),D)),Lo());n?.reloadOn?.length&&this.subscriptions.add(u.subscribe(()=>{o.value.loading||o.next(w(v({},o.value),{loading:!0}))})),n?.resetOn?.length&&this.subscriptions.add(c.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(i)}));let h=Ui(()=>d.subscribe(),()=>o),m=h.pipe(y(C=>C.data),dn());return{get:()=>m,getState:()=>h}}getTriggersStream(t){if(!t.length)return ge;let n=t.map(i=>ki(i)?i:this.eventService.get(i));return ln(...n)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Mo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Qf(e){let r;return e.subscribe(t=>r=t).unsubscribe(),r}var Sf={},eS=class{constructor(r,t){this.mainInjector=r,this.complementaryInjectors=t}get(r,t,n){if(n&&n.self){if(t!==void 0)return t;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let i of this.complementaryInjectors){let o=i.get(r,Sf,{self:!0});if(o!==Sf)return o}for(let i of this.complementaryInjectors){let o=i.get(r,Sf);if(o!==Sf)return o}return this.mainInjector.get(r,t)}},gC=(()=>{class e extends ti{static{this.type="ModuleInitializedEvent"}}return e})(),XO=new S("MODULE_INITIALIZER"),wI=(()=>{class e{constructor(t,n,i){this.compiler=t,this.injector=n,this.events=i,this.logger=E(K),this.modules$=Fu(this.events.get(gC).pipe(y(o=>o.moduleRef)),{connector:()=>new Yt,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(t,n,i=[]){let o;return i.length?i.length===1?o=i[0].injector:o=new eS(this.injector,i.map(s=>s.injector)):o=this.injector,this.resolveModuleFactory(t).pipe(y(([s])=>s.create(o)),Ue(s=>this.runModuleInitializersForModule(s)),k(s=>this.events.dispatch(Ri(gC,{feature:n,moduleRef:s}))))}resolveDependencyModuleInstance(t){return this.resolveModuleFactory(t).pipe(y(([n,i])=>{if(!this.dependencyModules.has(i)){let o=n.create(this.injector);this.dependencyModules.set(i,o)}return this.dependencyModules.get(i)}),Ue(n=>this.runModuleInitializersForModule(n)),k(n=>this.events.dispatch(Ri(gC,{moduleRef:n}))))}runModuleInitializersForModule(t){let n=t.injector.get(XO,[],{self:!0}),i=this.runModuleInitializerFunctions(n);return i.length?me(Promise.all(i)).pipe(k({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),_(()=>I(t))):I(t)}runModuleInitializerFunctions(t){let n=[];try{if(t)for(let i=0;i<t.length;i++){let o=t[i]();this.isObjectPromise(o)&&n.push(o)}return n}catch(i){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",i),i}}isObjectPromise(t){return!!t&&typeof t.then=="function"}resolveModuleFactory(t){return me(t()).pipe(_(n=>n instanceof Xi?I([n,n]):Ne([me(this.compiler.compileModuleAsync(n)),I(n)])),un(ui))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(t=>t.destroy())}static{this.\u0275fac=function(n){return new(n||e)(f(us),f(Qe),f(Mo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),L_={},Bc=(()=>{class e{constructor(t,n){this.rootInjector=t,this.lazyModules=n,this.injectors$=this.lazyModules.modules$.pipe(y(i=>i.injector),tr(this.rootInjector))}get(t,n){return this.injectors$.pipe(y((i,o)=>i.get(t,n??L_,o?{self:!0}:void 0)),M(i=>i!==L_))}getMulti(t){return this.get(t,[]).pipe(M(n=>{if(!Array.isArray(n))throw new Error(`Multi-providers mixed with single providers for ${t.toString()}!`);return n.length>0}),Bi((n,i)=>[...n,...i],[]))}static{this.\u0275fac=function(n){return new(n||e)(f(Qe),f(wI))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Xe=(()=>{class e{constructor(t){this.unifiedInjector=t,this.subscriptions=new Ee,this.converters=new Map;let n=this.unifiedInjector.injectors$.pipe(k(()=>this.converters.clear()));this.subscriptions.add(n.subscribe())}getConverters(t){if(!this.converters.has(t)){let n=Qf(this.unifiedInjector.getMulti(t));n&&this.converters.set(t,n)}return this.converters.get(t)}hasConverters(t){let n=this.getConverters(t);return Array.isArray(n)&&n.length>0}pipeable(t){return this.hasConverters(t)?y(n=>this.convertSource(n,t)):n=>n}pipeableMany(t){return this.hasConverters(t)?y(n=>this.convertMany(n,t)):n=>n}convert(t,n){return this.hasConverters(n)?this.convertSource(t,n):t}convertMany(t,n){return this.hasConverters(n)&&Array.isArray(t)?t.map(i=>this.convertSource(i,n)):t}convertSource(t,n){return this.getConverters(n)?.reduce((i,o)=>o.convert(t,i),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Bc))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),v3="[^/]",y3="[^/]*",E3="(?:.+\\/)?",ex=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:y3}],C3=[...ex,{replace:/\?/g,with:v3}],S3=[...ex,{replace:/\?/g,with:"\\?"}];function I3(e,r=!1){let t=r?S3:C3,n=e.split("/").reverse(),i="";for(;n.length>0;){let o=n.pop();if(o==="**")n.length>0?i+=E3:i+=".*";else{let s=t.reduce((a,c)=>a?.replace(c.replace,c.with),o);i+=s,n.length>0&&(i+="\\/")}}return i}function D3(e){return e.map(r=>{let t=!r.startsWith("!");return r=t?r:r.substring(1),{positive:t,regex:`^${I3(r)}$`}})}var b3=(()=>{class e{getValidator(t){let n=D3(t).map(({positive:s,regex:a})=>({positive:s,regex:new RegExp(a)})),i=n.filter(s=>s.positive),o=n.filter(s=>!s.positive);return s=>i.some(a=>a.regex.test(s))&&!o.some(a=>a.regex.test(s))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w3=(()=>{class e{constructor(){this.logger=E(K),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(t){let n=t.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!n)return null;let[,,i,o]=n;try{return new RegExp(o,i)}catch(s){return pe()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${t} 
Message: ${s}`),null}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function nt(e,r){if(e instanceof wc)return e;if(e instanceof Mt){let t=new wc;return t.message=e.message,t.status=e.status,t.statusText=e.statusText,t.url=e.url,Array.isArray(e.error.errors)?t.details=e.error.errors:typeof e.error.error=="string"&&(t.details=[{type:e.error.error,message:e.error.error_description}]),t}pe()&&r.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",e)}var Ac=class{static shallowEqualObjects(r,t){if(r===t)return!0;if(!r||!t)return!1;let n=Object.keys(r),i=Object.keys(t),o=n.length,s=i.length;if(o!==s)return!1;for(let a=0;a<o;a++){let c=n[a];if(r[c]!==t[c])return!1}return!0}static deepEqualObjects(r,t){return r===t?!0:!(r instanceof Object)||!(t instanceof Object)||r.constructor!==t.constructor?!1:this.compareObjectProperties(r,t)}static compareObjectProperties(r,t){for(let n in r)if(r.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(r[n]!==t[n]&&(typeof r[n]!="object"||!this.deepEqualObjects(r[n],t[n])))return!1}for(let n in t)if(t.hasOwnProperty(n)&&!r.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(r,t){return t.reduce((n,i)=>(this.deepEqualObjects(r,i)&&n++,n),0)}static indexOfFirstOccurrence(r,t){for(let n=0;n<t.length;n++)if(this.deepEqualObjects(t[n],r))return n}};function zue(e){return e.details?.[0]?.type==="JaloObjectNoLongerValidError"}var Gue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Wue=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,que=/^(?=.*?[A-Z]).*$/,Yue=/^(?=.*?\d).*$/,Kue=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,Zue=/^.{6,}$/,Que=/(.)\1+/,Jue=/^(?!.*(.)\1)(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/;function Xue(e){let r=e?.shouldRetry??(()=>!0),t=e?.maxTries??3,n=e?.delay??300;return i=>i.pipe(Hg({delay:(o,s)=>{if(s>t||!r(o))throw o;let a=s*s;return Zt(a*n)}}))}function tx(e){return Ze(()=>{let r=0,t=new V(n=>{let i=()=>{n.next(),n.complete()};r?Fg.schedule(i):i(),r++});return Ne(e).pipe(aa(()=>t))})}function og(e){return r=>e.pipe(tr(void 0),_(()=>r))}function ele(e){return ki(e)?e:T3(e)?me(Promise.resolve(e)):I(e)}function T3(e){return!!e&&typeof e.then=="function"}var tS=function(e){return e.HEAD="head",e.BODY="body",e}(tS||{}),tle=(()=>{class e{constructor(t,n){this.document=t,this.platformId=n}embedScript(t){let{src:n,params:i,attributes:o,callback:s,errorCallback:a,placement:c=tS.HEAD}=t,u=io(this.platformId);if((s||a)&&u)return;let l=i?n+this.parseParams(i):n;if(!u&&this.hasScript(l))return;let d=this.document.createElement("script");d.src=l,d.async=!0,d.defer=!0,o&&Object.keys(o).forEach(h=>{h.startsWith("data-")?d.setAttribute(h,o[h]):d[h]=o[h]}),s&&d.addEventListener("load",s),a&&d.addEventListener("error",a),c===tS.HEAD?this.document.head.appendChild(d):this.document.body.appendChild(d)}hasScript(t){return!!this.document.querySelector(`script[src="${t}"]`)}parseParams(t){let n="",i=Object.keys(t);return i.length>0&&(n="?"+i.map(o=>encodeURI(o)+"="+encodeURI(t[o])).join("&")),n}static{this.\u0275fac=function(n){return new(n||e)(f(Fe),f($e))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var k_=class e{static getLocalTimezoneOffset(r){let t=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(t/60)).toString().padStart(2,"0"),i=(t%60).toString().padStart(2,"0");return`${t>=0?r?"-":"+":r?"+":"-"}${n}:${i}`}static convertDateToDatetime(r,t){return`${r}T${t?"23:59:59":"00:00:00"}${e.getLocalTimezoneOffset()}`}static convertDatetimeToDate(r){return new Date(`${r.substring(0,19)}${e.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}};function ae(e,r){return nt(e,r)??e}function U_(e,r){let t;switch(e){case Fs.LOCAL_STORAGE:{t=r.localStorage;break}case Fs.SESSION_STORAGE:{t=r.sessionStorage;break}case Fs.NO_STORAGE:{t=void 0;break}default:t=r.sessionStorage}return t}function A3(e,r,t){!nx(t)&&sn(r)&&t.setItem(e,JSON.stringify(r))}function j_(e,r){if(nx(e))return;let t=e.getItem(r);if(t)return JSON.parse(t)}function nx(e){return!e}var Vc=(()=>{class e{constructor(t){this.winRef=t}syncWithStorage({key:t,state$:n,context$:i=I(""),storageType:o=Fs.LOCAL_STORAGE,onRead:s=()=>{}}){let a=U_(o,this.winRef),c=new Ee;return c.add(i.pipe(y(u=>a?j_(a,this.generateKeyWithContext(u,t)):void 0),k(u=>s(u))).subscribe()),a&&c.add(n.pipe(st(i)).subscribe(([u,l])=>{A3(this.generateKeyWithContext(l,t),u,a)})),c}readStateFromStorage({key:t,context:n="",storageType:i=Fs.LOCAL_STORAGE}){let o=U_(i,this.winRef);if(o)return j_(o,this.generateKeyWithContext(n,t))}generateKeyWithContext(t,n){return`spartacus\u26BF${[].concat(t).join("\u26BF")}\u26BF${n}`}static{this.\u0275fac=function(n){return new(n||e)(f(Dr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rx=(()=>{class e{constructor(t,n,i,o){this.statePersistenceService=t,this.userIdService=n,this.authStorageService=i,this.authRedirectStorageService=o,this.subscription=new Ee,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:t=>this.onRead(t)}))}getAuthState(){return Ne([this.authStorageService.getToken().pipe(M(t=>!!t),y(t=>v({},t))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(y(([t,n,i])=>{let o=t;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:n,redirectUrl:i}}))}onRead(t){t?.token&&this.authStorageService.setToken(t.token),t?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(t.redirectUrl),t?.userId?this.userIdService.setUserId(t.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Vc),f(Wn),f(Lc),f(BO))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nS="cx-state";function R3(e,r,t,n){if(r&&t?.state?.ssrTransfer?.keys){if(Un(e))return _3(r,t.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(io(e))return M3(r,t.state.ssrTransfer.keys)}return i=>i}function M3(e,r){let t=TO(r,Ro.TRANSFER_STATE);return function(n){return function(i,o){let s=n(i,o);if(s){let a=lI(t,[],s);e.set(nS,a)}return s}}}function _3(e,r,t){let n=TO(r,Ro.TRANSFER_STATE);return function(i){return function(o,s){if(s.type===Ad){if(o||(o=i(o,s)),!t&&e.hasKey(nS)){let a=e.get(nS,{}),c=lI(n,[],a);o=It({},o,c)}return o}return i(o,s)}}}var $_=new S("TransferStateMetaReducer"),O3=[{provide:$_,useFactory:R3,deps:[$e,[new pn,Na],[new pn,Dt],[new pn,rx]]},{provide:fs,useExisting:$_,multi:!0}],ii=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...O3]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),x3=(()=>{class e{constructor(t,n){this.http=t,this.authConfigService=n}loadClientAuthenticationToken(){let t=this.authConfigService.getTokenEndpoint(),n=new Ge().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),i=new de({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(t,n,{headers:i})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Jp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),N3=(()=>{class e{constructor(t,n){this.actions$=t,this.clientAuthenticationTokenService=n,this.logger=E(K),this.loadClientToken$=H(()=>this.actions$.pipe($(QO),rr(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(y(i=>new KC(i)),F(i=>I(new YC(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(x3))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),P3=[N3];function F3(){return{clientToken:dt(ig)}}var ix=new S("ClientAuthReducers"),L3={provide:ix,useFactory:F3},k3=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[L3],imports:[Ye,ii,jn.forFeature(ZO,ix),$n.forFeature(P3)]})}}return e})(),U3=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...g3]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye,k3]})}}return e})(),sg=new S("ConfigInitializer"),ox=new S("CONFIG_INITIALIZER_FORROOT_GUARD"),Dn=(()=>{class e{constructor(t,n,i){this.config=t,this.initializerGuard=n,this.rootConfig=i,this.logger=E(K),this.ongoingScopes$=new Re(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...t){return this.isStable?I(this.config):this.ongoingScopes$.pipe(M(n=>!!n&&this.areReady(t,n)),re(1),y(()=>this.config))}finishScopes(t){let n=[...this.ongoingScopes$.value??[]];for(let i of t)n.splice(n.indexOf(i),1);this.ongoingScopes$.next(n)}areReady(t,n){if(!t.length)return!n.length;for(let i of t)for(let o of n)if(this.scopesOverlap(i,o))return!1;return!0}scopesOverlap(t,n){return n.length>t.length&&([t,n]=[n,t]),t.startsWith(n)&&(t[n.length]||".")==="."}initialize(t){return it(this,null,function*(){if(this.ongoingScopes$.value)return;let n=[],i=[];for(let o of t||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");pe()&&!this.areReady(o.scopes,n)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),n.push(...o.scopes),i.push(it(this,null,function*(){let s=yield o.configFactory();It(this.rootConfig,s),It(this.config,s),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(n),i.length&&(yield Promise.all(i))})}static{this.\u0275fac=function(n){return new(n||e)(f(Dt),f(ox,8),f(qS))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sx=new S("ConfigurationValidator");function TI(e){return{provide:sx,useValue:e,multi:!0}}function j3(e,r,t){for(let n of r){let i=n(e);i&&t.warn(i)}}function $3(e){if(typeof e?.authentication?.baseUrl>"u"&&typeof e?.backend?.occ?.baseUrl>"u"&&e?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var B3={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}},B_=(()=>{class e extends ti{static{this.type="LogoutEvent"}}return e})(),V3=(()=>{class e extends ti{static{this.type="LoginEvent"}}return e})(),ax=(()=>{class e{constructor(t,n){this.actionsSubject=t,this.eventService=n}register(t){return this.eventService.register(t.event,this.getFromAction(t))}getFromAction(t){return this.actionsSubject.pipe($(...[].concat(t.action))).pipe(y(n=>this.createEvent(n,t.event,t.factory)))}createEvent(t,n,i){return i?i(t):Ri(n,t.payload??{})}static{this.\u0275fac=function(n){return new(n||e)(f(Wr),f(Mo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H3=(()=>{class e{constructor(t,n,i){this.stateEventService=t,this.eventService=n,this.authService=i,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:zn,event:V3})}registerLogoutEvent(){this.eventService.register(B_,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(ua(),M(([t,n])=>t&&!n),y(()=>Ri(B_,{})))}static{this.\u0275fac=function(n){return new(n||e)(f(ax),f(Mo),f(qn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z3=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(H3))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),ke=function(e){return e.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",e.MSG_TYPE_ERROR="[GlobalMessage] Error",e.MSG_TYPE_INFO="[GlobalMessage] Information",e.MSG_TYPE_WARNING="[GlobalMessage] Warning",e.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",e}(ke||{}),Jf="[Global-message] Add a Message",cx="[Global-message] Remove a Message",ux="[Global-message] Remove messages by type",rS=class{constructor(r){this.payload=r,this.type=Jf}},Rc=class{constructor(r){this.payload=r,this.type=cx}},Xf=class{constructor(r){this.payload=r,this.type=ux}};var lx="global-message",G3=En(lx),dx=T(G3,e=>e.entities),fx=e=>T(dx,r=>r&&r[e]),W3=e=>T(fx(e),r=>r&&r.length);var Ys=(()=>{class e{constructor(t){this.store=t}get(){return this.store.pipe(R(dx),M(sn))}add(t,n,i){this.store.dispatch(new rS({text:typeof t=="string"?{raw:t}:t,type:n,timeout:i}))}remove(t,n){this.store.dispatch(n!==void 0?new Rc({type:t,index:n}):new Xf(t))}static{this.\u0275fac=function(n){return new(n||e)(f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),q3=(()=>{class e{constructor(t,n,i,o,s,a,c){this.authService=t,this.authStorageService=n,this.oAuthLibWrapperService=i,this.routingService=o,this.occEndpoints=s,this.globalMessageService=a,this.authRedirectService=c,this.refreshTokenTrigger$=new ie,this.token$=this.authStorageService.getToken().pipe(y(u=>u?.access_token?u:void 0)),this.stopProgress$=this.token$.pipe(ua(),k(([u,l])=>{u?.access_token!==l?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(st(this.authService.refreshInProgress$,this.authService.logoutInProgress$),M(([,u,l])=>!u&&!l),k(([u])=>{u?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=Ui(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(ot({refCount:!0,bufferSize:1})),this.subscriptions=new Ee,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(t){return this.isOccUrl(t.url)}shouldAddAuthorizationHeader(t){let n=!!this.getAuthorizationHeader(t),i=this.isOccUrl(t.url);return!n&&i}alterRequest(t,n){let i=!!this.getAuthorizationHeader(t),o=this.isBaseSitesRequest(t),s=this.isOccUrl(t.url);return!i&&s&&!o?t.clone({setHeaders:v({},this.createAuthorizationHeader(n))}):t}isOccUrl(t){return t.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(t){return t.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(t){return t.headers.get("Authorization")}createAuthorizationHeader(t){if(t?.access_token)return{Authorization:`${t.token_type||"Bearer"} ${t.access_token}`};let n;return this.authStorageService.getToken().subscribe(i=>n=i).unsubscribe(),n?.access_token?{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}:{}}handleExpiredAccessToken(t,n,i){return this.getValidToken(i).pipe(_(o=>o?n.handle(this.createNewRequestWithNewToken(t,o)):ge))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},ke.MSG_TYPE_ERROR)})}getStableToken(){return Ne([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(un(ui),M(([t,n,i])=>!n&&!i),_(()=>this.token$))}getValidToken(t){return Ze(()=>{let n=!1;return this.tokenToRetryRequest$.pipe(k(i=>{i?.access_token===t?.access_token&&!n&&this.refreshTokenTrigger$.next(i),n=!0}),ju(i=>i?.access_token===t?.access_token),re(1))})}createNewRequestWithNewToken(t,n){return t=t.clone({setHeaders:{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`}}),t}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(qn),f(Lc),f(kO),f(_i),f(Ke),f(Ys),f(hI))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Y3=(()=>{class e{constructor(t,n){this.authHttpHeaderService=t,this.authConfigService=n}intercept(t,n){let i=this.authHttpHeaderService.shouldCatchError(t);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(t)?this.authHttpHeaderService.getStableToken().pipe(re(1)):I(void 0)).pipe(y(c=>({token:c,request:this.authHttpHeaderService.alterRequest(t,c)}))).pipe(_(({request:c,token:u})=>n.handle(c).pipe(F(l=>{switch(l.status){case 401:if(this.isExpiredToken(l)&&i)return this.authHttpHeaderService.handleExpiredAccessToken(c,n,u);if(this.errorIsInvalidToken(l))return this.authHttpHeaderService.handleExpiredRefreshToken(),ge;break;case 400:this.errorIsInvalidGrant(l)&&c.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw l}))))}errorIsInvalidToken(t){return(t.url?.includes(this.authConfigService.getTokenEndpoint())&&t.error.error==="invalid_token")??!1}errorIsInvalidGrant(t){return(t.url?.includes(this.authConfigService.getTokenEndpoint())&&t.error.error==="invalid_grant")??!1}isExpiredToken(t){return t.error?.errors?.[0]?.type==="InvalidTokenError"}static{this.\u0275fac=function(n){return new(n||e)(f(q3),f(Jp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),K3=(()=>{class e{constructor(t,n){this.authStorageService=t,this.authConfigService=n}intercept(t,n){let i=this.isTokenRevocationRequest(t);return this.authStorageService.getToken().pipe(re(1),_(o=>(i&&(t=t.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),n.handle(t))))}isTokenRevocationRequest(t){return t.url===this.authConfigService.getRevokeEndpoint()}static{this.\u0275fac=function(n){return new(n||e)(f(Lc),f(Jp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z3=[{provide:tn,useExisting:Y3,multi:!0},{provide:tn,useExisting:K3,multi:!0}],AI=new S("MULTI_LOCATION_INITIALIZED");function Q3(e,r,t){return()=>Un(t)?nr(r.getStable().pipe(_(()=>e.checkOAuthParamsInUrl()))):Promise.resolve()}function J3(e){return()=>e.initSync()}var X3=()=>{let e=E(qn),r=E(Dn),t=E($e),n=E(rx);return J3(n)(),Q3(e,r,t)},eW=(()=>{class e{static forRoot(){return{ngModule:e,providers:[bn(B3),TI($3),...Z3,{provide:go,useExisting:Lc},{provide:AI,useFactory:X3,multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye,KM.forRoot(),z3]})}}return e})(),nle=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye,eW.forRoot(),U3.forRoot()]})}}return e})(),tW=(()=>{class e{constructor(t,n,i,o){this.authService=t,this.authRedirectService=n,this.router=i,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(y(t=>t||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}static{this.\u0275fac=function(n){return new(n||e)(f(qn),f(hI),f(xe),f(kc))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rle=(()=>{class e{constructor(t,n,i){this.authService=t,this.semanticPathService=n,this.router=i}canActivate(){return this.authService.isUserLoggedIn().pipe(y(t=>t?this.router.parseUrl(this.semanticPathService.get("home")??""):!t))}static{this.\u0275fac=function(n){return new(n||e)(f(qn),f(kc),f(xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hx=(()=>{class e extends Ir{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),nW=(()=>{class e{constructor(t,n,i,o){this.anonymousConsentsService=t,this.authService=n,this.occEndpoints=i,this.config=o}intercept(t,n){return Ne([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(re(1),_(([i,o])=>{if(!this.isOccUrl(t.url))return n.handle(t);let s=this.handleRequest(i,t);return n.handle(s).pipe(k(a=>{a instanceof oo&&(a.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,a.headers.get(bC),i)}))}))}handleResponse(t,n,i){if(!t&&n){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(n),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,i)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(t,n){if(!t)return n;let i=this.anonymousConsentsService.serializeAndEncode(t);return n.clone({setHeaders:{[bC]:i}})}isOccUrl(t){return t.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(t){let n=[...t];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let i of n)i.templateCode&&this.config.anonymousConsents.requiredConsents.includes(i.templateCode)&&(i.consentState=Us.GIVEN);return n}static{this.\u0275fac=function(n){return new(n||e)(f($c),f(qn),f(Ke),f(hx))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rW=[{provide:tn,useExisting:nW,multi:!0}],RI="[User] Load Billing Countries",px="[User] Load Billing Countries Fail",MI="[User] Load Billing Countries Success",eh=class{constructor(){this.type=RI}},th=class{constructor(r){this.payload=r,this.type=px,this.error=r}},nh=class{constructor(r){this.payload=r,this.type=MI}},ce="process";function iW(){return En(ce)}function ag(e){return T(iW(),r=>qt(r,e))}function Ai(e){return T(ag(e),r=>Bt(r))}function Zr(e){return T(ag(e),r=>Gn(r))}function Ti(e){return T(ag(e),r=>Ws(r))}var ile=Object.freeze({__proto__:null,getProcessErrorFactory:Ti,getProcessLoadingFactory:Ai,getProcessStateFactory:ag,getProcessSuccessFactory:Zr}),gx="user",oW="registerUser",yo="giveConsent",Eo="withdrawConsent",Hc="updateNotificationPreferences",$s="addProductInterests",Bs="removeProductInterests",zc="[User] User Consents",br="[User] User Payment Methods",an="[User] User Addresses",cg="[User] User Cost Centers",Gc="[User] Regions",Wc="[User] Customer Coupons",Co="subscribeCustomerCoupon",So="unsubscribeCustomerCoupon",Ls="claimCustomerCoupon",Vs="disclaimCustomerCoupon",qc="[User] Notification Preferences",Yc="[User] Product Interests",_I="[User] Load Customer Coupons",mx="[User] Load Customer Coupons Fail",OI="[User] Load Customer Coupons Success",vx="[User] Reset Load Customer Coupons",xI="[User] Subscribe Customer Notification Coupon",yx="[User] Subscribe Customer Coupon Notification Fail",NI="[User] Subscribe Customer Coupon Notification Success",Ex="[User] Reset Subscribe Customer Coupon Process",PI="[User] Unsubscribe Customer Notification Coupon",Cx="[User] Unsubscribe Customer Coupon Notification Fail",FI="[User] Unsubscribe Customer Coupon Notification Success",Sx="[User] Reset Unsubscribe Customer Coupon Process",LI="[User] Claim Customer",Ix="[User] Claim Customer Fail",Dx="[User] Claim Customer Success",kI="[User] Disclaim Customer",bx="[User] Disclaim Customer Fail",wx="[User] Disclaim Customer Success",Tx="[User] Reset Disclaim Customer",rh=class extends ft{constructor(r){super(Wc),this.payload=r,this.type=_I}},ih=class extends ht{constructor(r){super(Wc,r),this.payload=r,this.type=mx}},oh=class extends pt{constructor(r){super(Wc),this.payload=r,this.type=OI}},iS=class extends Jr{constructor(){super(Wc),this.type=vx}},sh=class extends $t{constructor(r){super(ce,Co),this.payload=r,this.type=xI}},ah=class extends _t{constructor(r){super(ce,Co,r),this.payload=r,this.type=yx}},ch=class extends gt{constructor(r){super(ce,Co,r),this.payload=r,this.type=NI}},oS=class extends Hn{constructor(){super(ce,Co),this.type=Ex}},uh=class extends $t{constructor(r){super(ce,So),this.payload=r,this.type=PI}},lh=class extends _t{constructor(r){super(ce,So,r),this.payload=r,this.type=Cx}},dh=class extends gt{constructor(r){super(ce,So,r),this.payload=r,this.type=FI}},sS=class extends Hn{constructor(){super(ce,So),this.type=Sx}},fh=class extends $t{constructor(r){super(ce,Ls),this.payload=r,this.type=LI}},hh=class extends $t{constructor(r){super(ce,Vs),this.payload=r,this.type=kI}},ph=class extends Hn{constructor(){super(ce,Vs),this.type=Tx}},gh=class extends _t{constructor(r){super(ce,Vs,r),this.payload=r,this.type=bx}},mh=class extends gt{constructor(r){super(ce,Vs,r),this.payload=r,this.type=wx}},vh=class extends _t{constructor(r){super(ce,Ls,r),this.payload=r,this.type=Ix}},yh=class extends gt{constructor(r){super(ce,Ls,r),this.payload=r,this.type=Dx}},UI="[User] Load Delivery Countries",Ax="[User] Load Delivery Countries Fail",jI="[User] Load Delivery Countries Success",Eh=class{constructor(){this.type=UI}},Ch=class{constructor(r){this.payload=r,this.type=Ax,this.error=r}},Sh=class{constructor(r){this.payload=r,this.type=jI}},$I="[User] Load Notification Preferences",BI="[User] Load Notification Preferences Fail",VI="[User] Load Notification Preferences Success",HI="[User] Update Notification Preferences",Rx="[User] Update Notification Preferences Fail",zI="[User] Update Notification Preferences Success",Mx="[User] Reset Notification Preferences",_x="[User] Clear Notification Preferences",Ih=class extends ft{constructor(r){super(qc),this.payload=r,this.type=$I}},Dh=class extends ht{constructor(r){super(qc,r),this.payload=r,this.type=BI}},bh=class extends pt{constructor(r){super(qc),this.payload=r,this.type=VI}},wh=class extends $t{constructor(r){super(ce,Hc),this.payload=r,this.type=HI}},Th=class extends _t{constructor(r){super(ce,Hc,r),this.payload=r,this.type=Rx}},Ah=class extends gt{constructor(r){super(ce,Hc),this.payload=r,this.type=zI}},Rh=class extends Hn{constructor(){super(ce,Hc),this.type=Mx}},Mh=class extends Jr{constructor(){super(qc),this.type=_x}},GI="[User] Load User Payment Methods",WI="[User] Load User Payment Methods Fail",qI="[User] Load User Payment Methods Success",YI="[User] Set Default User Payment Method",Ox="[User] Set Default User Payment Method Fail",xx="[User] Set Default User Payment Method Success",KI="[User] Delete User Payment Method",Nx="[User] Delete User Payment Method Fail",Px="[User] Delete User  Payment Method Success",Hs=class extends ft{constructor(r){super(br),this.payload=r,this.type=GI}},_h=class extends ht{constructor(r){super(br,r),this.payload=r,this.type=WI}},Oh=class extends pt{constructor(r){super(br),this.payload=r,this.type=qI}},xh=class extends ft{constructor(r){super(br),this.payload=r,this.type=YI}},Nh=class extends ht{constructor(r){super(br,r),this.payload=r,this.type=Ox}},Ph=class extends pt{constructor(r){super(br),this.payload=r,this.type=xx}},Fh=class extends ft{constructor(r){super(br),this.payload=r,this.type=KI}},Lh=class extends ht{constructor(r){super(br,r),this.payload=r,this.type=Nx}},kh=class extends pt{constructor(r){super(br),this.payload=r,this.type=Px}},ZI="Load Product Interests",QI="Load Product Interests Fail",JI="Load Product Interests Success",XI="Remove Product Interest",Fx="Remove Product Interest Success",Lx="Remove Product Interest Fail",eD="Add Product Interest",kx="Add Product Interest Fail",Ux="Add Product Interest Success",jx="Add Product Interest Reset",$x="Remove Product Interest Reset",Bx="Clear Product Interests",zs=class extends ft{constructor(r){super(Yc),this.payload=r,this.type=ZI}},Uh=class extends ht{constructor(r){super(Yc,r),this.payload=r,this.type=QI}},jh=class extends pt{constructor(r){super(Yc),this.payload=r,this.type=JI}},$h=class extends $t{constructor(r){super(ce,Bs),this.payload=r,this.type=XI}},Bh=class extends gt{constructor(r){super(ce,Bs),this.payload=r,this.type=Fx}},Vh=class extends _t{constructor(r){super(ce,Bs,r),this.payload=r,this.type=Lx}},Hh=class extends $t{constructor(r){super(ce,$s),this.payload=r,this.type=eD}},zh=class extends gt{constructor(r){super(ce,$s),this.payload=r,this.type=Ux}},Gh=class extends _t{constructor(r){super(ce,$s,r),this.payload=r,this.type=kx}},Wh=class extends Hn{constructor(){super(ce,$s),this.type=jx}},qh=class extends Hn{constructor(){super(ce,Bs),this.type=$x}},Yh=class extends Jr{constructor(){super(Yc),this.type=Bx}},tD="[User] Load Regions",nD="[User] Load Regions Success",Vx="[User] Load Regions Fail",rD="[User] Clear Regions",Kh=class extends ft{constructor(r){super(Gc),this.payload=r,this.type=tD}},Zh=class extends ht{constructor(r){super(Gc,r),this.payload=r,this.type=Vx}},Qh=class extends pt{constructor(r){super(Gc),this.payload=r,this.type=nD}},Jh=class{constructor(){this.type=rD}},iD="[User] Load User Addresses",oD="[User] Load User Addresses Fail",sD="[User] Load User Addresses Success",ug="[User] Add User Address",Hx="[User] Add User Address Fail",aD="[User] Add User Address Success",lg="[User] Update User Address",zx="[User] Update User Address Fail",cD="[User] Update User Address Success",dg="[User] Delete User Address",Gx="[User] Delete User Address Fail",uD="[User] Delete User Address Success",Xh=class extends ft{constructor(r){super(an),this.payload=r,this.type=iD}},ep=class extends ht{constructor(r){super(an,r),this.payload=r,this.type=oD}},tp=class extends pt{constructor(r){super(an),this.payload=r,this.type=sD}},np=class extends ft{constructor(r){super(an),this.payload=r,this.type=ug}},rp=class extends ht{constructor(r){super(an,r),this.payload=r,this.type=Hx}},ip=class extends pt{constructor(r){super(an),this.payload=r,this.type=aD}},Mc=class extends ft{constructor(r){super(an),this.payload=r,this.type=lg}},op=class extends ht{constructor(r){super(an,r),this.payload=r,this.type=zx}},sp=class extends pt{constructor(r){super(an),this.payload=r,this.type=cD}},ap=class extends ft{constructor(r){super(an),this.payload=r,this.type=dg}},cp=class extends ht{constructor(r){super(an,r),this.payload=r,this.type=Gx}},up=class extends pt{constructor(r){super(an),this.payload=r,this.type=uD}},lD="[User] Load User Consents",dD="[User] Load User Consents Success",Wx="[User] Load User Consents Fail",qx="[User] Reset Load User Consents",fD="[User] Give User Consent",Yx="[User] Give User Consent Fail",hD="[User] Give User Consent Success",Kx="[User] Reset Give User Consent Process",lp="[User] Transfer Anonymous Consent",pD="[User] Withdraw User Consent",Zx="[User] Withdraw User Consent Fail",Qx="[User] Withdraw User Consent Success",Jx="[User] Reset Withdraw User Consent Process",dp=class extends ft{constructor(r){super(zc),this.payload=r,this.type=lD}},fp=class extends ht{constructor(r){super(zc,r),this.payload=r,this.type=Wx}},hp=class extends pt{constructor(r){super(zc),this.payload=r,this.type=dD}},_c=class extends Jr{constructor(){super(zc),this.type=qx}},Oc=class extends $t{constructor(r){super(ce,yo),this.payload=r,this.type=fD}},pp=class extends _t{constructor(r){super(ce,yo,r),this.type=Yx}},gp=class extends gt{constructor(r){super(ce,yo),this.consentTemplate=r,this.type=hD}},mp=class extends Hn{constructor(){super(ce,yo),this.type=Kx}},vp=class{constructor(r){this.payload=r,this.type=lp}},yp=class extends $t{constructor(r){super(ce,Eo),this.payload=r,this.type=pD}},Ep=class extends _t{constructor(r){super(ce,Eo,r),this.type=Zx}},Cp=class extends gt{constructor(){super(ce,Eo),this.type=Qx}},Sp=class extends Hn{constructor(){super(ce,Eo),this.type=Jx}},gD="[User] Load Active CostCenters",mD="[User] Load Active CostCenters Fail",vD="[User] Load Active CostCenters Success",aS=class extends ft{constructor(r){super(cg),this.payload=r,this.type=gD}},Ip=class extends ht{constructor(r){super(cg,r),this.payload=r,this.type=mD}},Dp=class extends pt{constructor(r){super(cg),this.payload=r,this.type=vD}},Kc="[User] Clear User Misc Data",bp=class{constructor(){this.type=Kc}},yD="[User] Register User Success",cS=class extends gt{constructor(){super(ce,oW),this.type=yD}},ole=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:eD,ADD_PRODUCT_INTEREST_FAIL:kx,ADD_PRODUCT_INTEREST_RESET:jx,ADD_PRODUCT_INTEREST_SUCCESS:Ux,ADD_USER_ADDRESS:ug,ADD_USER_ADDRESS_FAIL:Hx,ADD_USER_ADDRESS_SUCCESS:aD,AddProductInterest:Hh,AddProductInterestFail:Gh,AddProductInterestSuccess:zh,AddUserAddress:np,AddUserAddressFail:rp,AddUserAddressSuccess:ip,CLAIM_CUSTOMER_COUPON:LI,CLAIM_CUSTOMER_COUPON_FAIL:Ix,CLAIM_CUSTOMER_COUPON_SUCCESS:Dx,CLEAR_NOTIFICATION_PREFERENCES:_x,CLEAR_PRODUCT_INTERESTS:Bx,CLEAR_REGIONS:rD,CLEAR_USER_MISCS_DATA:Kc,ClaimCustomerCoupon:fh,ClaimCustomerCouponFail:vh,ClaimCustomerCouponSuccess:yh,ClearNotificationPreferences:Mh,ClearProductInterests:Yh,ClearRegions:Jh,ClearUserMiscsData:bp,DELETE_USER_ADDRESS:dg,DELETE_USER_ADDRESS_FAIL:Gx,DELETE_USER_ADDRESS_SUCCESS:uD,DELETE_USER_PAYMENT_METHOD:KI,DELETE_USER_PAYMENT_METHOD_FAIL:Nx,DELETE_USER_PAYMENT_METHOD_SUCCESS:Px,DISCLAIM_CUSTOMER_COUPON:kI,DISCLAIM_CUSTOMER_COUPON_FAIL:bx,DISCLAIM_CUSTOMER_COUPON_SUCCESS:wx,DeleteUserAddress:ap,DeleteUserAddressFail:cp,DeleteUserAddressSuccess:up,DeleteUserPaymentMethod:Fh,DeleteUserPaymentMethodFail:Lh,DeleteUserPaymentMethodSuccess:kh,DisclaimCustomerCoupon:hh,DisclaimCustomerCouponFail:gh,DisclaimCustomerCouponSuccess:mh,GIVE_USER_CONSENT:fD,GIVE_USER_CONSENT_FAIL:Yx,GIVE_USER_CONSENT_SUCCESS:hD,GiveUserConsent:Oc,GiveUserConsentFail:pp,GiveUserConsentSuccess:gp,LOAD_ACTIVE_COST_CENTERS:gD,LOAD_ACTIVE_COST_CENTERS_FAIL:mD,LOAD_ACTIVE_COST_CENTERS_SUCCESS:vD,LOAD_BILLING_COUNTRIES:RI,LOAD_BILLING_COUNTRIES_FAIL:px,LOAD_BILLING_COUNTRIES_SUCCESS:MI,LOAD_CUSTOMER_COUPONS:_I,LOAD_CUSTOMER_COUPONS_FAIL:mx,LOAD_CUSTOMER_COUPONS_SUCCESS:OI,LOAD_DELIVERY_COUNTRIES:UI,LOAD_DELIVERY_COUNTRIES_FAIL:Ax,LOAD_DELIVERY_COUNTRIES_SUCCESS:jI,LOAD_NOTIFICATION_PREFERENCES:$I,LOAD_NOTIFICATION_PREFERENCES_FAIL:BI,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:VI,LOAD_PRODUCT_INTERESTS:ZI,LOAD_PRODUCT_INTERESTS_FAIL:QI,LOAD_PRODUCT_INTERESTS_SUCCESS:JI,LOAD_REGIONS:tD,LOAD_REGIONS_FAIL:Vx,LOAD_REGIONS_SUCCESS:nD,LOAD_USER_ADDRESSES:iD,LOAD_USER_ADDRESSES_FAIL:oD,LOAD_USER_ADDRESSES_SUCCESS:sD,LOAD_USER_CONSENTS:lD,LOAD_USER_CONSENTS_FAIL:Wx,LOAD_USER_CONSENTS_SUCCESS:dD,LOAD_USER_PAYMENT_METHODS:GI,LOAD_USER_PAYMENT_METHODS_FAIL:WI,LOAD_USER_PAYMENT_METHODS_SUCCESS:qI,LoadActiveCostCenters:aS,LoadActiveCostCentersFail:Ip,LoadActiveCostCentersSuccess:Dp,LoadBillingCountries:eh,LoadBillingCountriesFail:th,LoadBillingCountriesSuccess:nh,LoadCustomerCoupons:rh,LoadCustomerCouponsFail:ih,LoadCustomerCouponsSuccess:oh,LoadDeliveryCountries:Eh,LoadDeliveryCountriesFail:Ch,LoadDeliveryCountriesSuccess:Sh,LoadNotificationPreferences:Ih,LoadNotificationPreferencesFail:Dh,LoadNotificationPreferencesSuccess:bh,LoadProductInterests:zs,LoadProductInterestsFail:Uh,LoadProductInterestsSuccess:jh,LoadRegions:Kh,LoadRegionsFail:Zh,LoadRegionsSuccess:Qh,LoadUserAddresses:Xh,LoadUserAddressesFail:ep,LoadUserAddressesSuccess:tp,LoadUserConsents:dp,LoadUserConsentsFail:fp,LoadUserConsentsSuccess:hp,LoadUserPaymentMethods:Hs,LoadUserPaymentMethodsFail:_h,LoadUserPaymentMethodsSuccess:Oh,REGISTER_USER_SUCCESS:yD,REMOVE_PRODUCT_INTEREST:XI,REMOVE_PRODUCT_INTEREST_FAIL:Lx,REMOVE_PRODUCT_INTEREST_RESET:$x,REMOVE_PRODUCT_INTEREST_SUCCESS:Fx,RESET_DISCLAIM_CUSTOMER_COUPON:Tx,RESET_GIVE_USER_CONSENT_PROCESS:Kx,RESET_LOAD_CUSTOMER_COUPONS:vx,RESET_LOAD_USER_CONSENTS:qx,RESET_NOTIFICATION_PREFERENCES:Mx,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:Ex,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:Sx,RESET_WITHDRAW_USER_CONSENT_PROCESS:Jx,RegisterUserSuccess:cS,RemoveProductInterest:$h,RemoveProductInterestFail:Vh,RemoveProductInterestSuccess:Bh,ResetAddInterestState:Wh,ResetDisclaimCustomerCoupon:ph,ResetGiveUserConsentProcess:mp,ResetLoadCustomerCoupons:iS,ResetLoadUserConsents:_c,ResetNotificationPreferences:Rh,ResetRemoveInterestState:qh,ResetSubscribeCustomerCouponProcess:oS,ResetUnsubscribeCustomerCouponProcess:sS,ResetWithdrawUserConsentProcess:Sp,SET_DEFAULT_USER_PAYMENT_METHOD:YI,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:Ox,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:xx,SUBSCRIBE_CUSTOMER_COUPON:xI,SUBSCRIBE_CUSTOMER_COUPON_FAIL:yx,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:NI,SetDefaultUserPaymentMethod:xh,SetDefaultUserPaymentMethodFail:Nh,SetDefaultUserPaymentMethodSuccess:Ph,SubscribeCustomerCoupon:sh,SubscribeCustomerCouponFail:ah,SubscribeCustomerCouponSuccess:ch,TRANSFER_ANONYMOUS_CONSENT:lp,TransferAnonymousConsent:vp,UNSUBSCRIBE_CUSTOMER_COUPON:PI,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:Cx,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:FI,UPDATE_NOTIFICATION_PREFERENCES:HI,UPDATE_NOTIFICATION_PREFERENCES_FAIL:Rx,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:zI,UPDATE_USER_ADDRESS:lg,UPDATE_USER_ADDRESS_FAIL:zx,UPDATE_USER_ADDRESS_SUCCESS:cD,UnsubscribeCustomerCoupon:uh,UnsubscribeCustomerCouponFail:lh,UnsubscribeCustomerCouponSuccess:dh,UpdateNotificationPreferences:wh,UpdateNotificationPreferencesFail:Th,UpdateNotificationPreferencesSuccess:Ah,UpdateUserAddress:Mc,UpdateUserAddressFail:op,UpdateUserAddressSuccess:sp,WITHDRAW_USER_CONSENT:pD,WITHDRAW_USER_CONSENT_FAIL:Zx,WITHDRAW_USER_CONSENT_SUCCESS:Qx,WithdrawUserConsent:yp,WithdrawUserConsentFail:Ep,WithdrawUserConsentSuccess:Cp}),wp=class{},sW=(()=>{class e{constructor(t){this.adapter=t}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}static{this.\u0275fac=function(n){return new(n||e)(f(wp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Tp=class{},Ap=class{},uS=new S("CmsPageNormalizer"),aW="JspIncludeComponent",cW="CMSFlexComponent";var uW=function(e){return e.DEFER="DEFERRED-LOADING",e.INSTANT="INSTANT-LOADING",e}(uW||{}),ED=(()=>{class e extends Ir{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),Kr=function(e){return e.INDEX="INDEX",e.NOINDEX="NOINDEX",e.FOLLOW="FOLLOW",e.NOFOLLOW="NOFOLLOW",e}(Kr||{}),Os;(function(e){let r;(function(p){p.INDEX_FOLLOW="INDEX_FOLLOW",p.NOINDEX_FOLLOW="NOINDEX_FOLLOW",p.INDEX_NOFOLLOW="INDEX_NOFOLLOW",p.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(r=e.PageRobots||(e.PageRobots={}));let t;(function(p){p.Success="SUCCESS",p.Info="INFO",p.Warning="WARNING",p.Error="ERROR"})(t=e.OrderEntryStatus||(e.OrderEntryStatus={}));let n;(function(p){p.BUY="BUY",p.FROM="FROM"})(n=e.PriceType||(e.PriceType={}));let i;(function(p){p.PRIMARY="PRIMARY",p.GALLERY="GALLERY"})(i=e.ImageType||(e.ImageType={}));let o;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(o=e.Fields||(e.Fields={}));let s;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(s=e.Fields1||(e.Fields1={}));let a;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(a=e.Fields2||(e.Fields2={}));let c;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(c=e.Fields3||(e.Fields3={}));let u;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(u=e.Fields4||(e.Fields4={}));let l;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(l=e.Fields5||(e.Fields5={}));let d;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(d=e.Fields6||(e.Fields6={}));let h;(function(p){p.CONTENT_PAGE="ContentPage",p.PRODUCT_PAGE="ProductPage",p.CATEGORY_PAGE="CategoryPage",p.CATALOG_PAGE="CatalogPage"})(h=e.PageType||(e.PageType={}));let m;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(m=e.Fields7||(e.Fields7={}));let C;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(C=e.Fields8||(e.Fields8={}));let D;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(D=e.Fields9||(e.Fields9={}));let A;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(A=e.Fields10||(e.Fields10={}));let N;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(N=e.Fields11||(e.Fields11={}));let x;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(x=e.Fields12||(e.Fields12={}));let Y;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Y=e.Fields13||(e.Fields13={}));let Z;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Z=e.Fields14||(e.Fields14={}));let X;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(X=e.Fields15||(e.Fields15={}));let fe;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(fe=e.Fields16||(e.Fields16={}));let Te;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Te=e.SortEnum||(e.SortEnum={}));let He;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(He=e.Fields17||(e.Fields17={}));let Ni;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Ni=e.Fields18||(e.Fields18={}));let Yn;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Yn=e.Fields19||(e.Fields19={}));let b;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(b=e.Fields20||(e.Fields20={}));let O;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(O=e.Fields21||(e.Fields21={}));let ne;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ne=e.Fields22||(e.Fields22={}));let ye;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ye=e.Fields23||(e.Fields23={}));let Ae;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Ae=e.Fields24||(e.Fields24={}));let he;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(he=e.Fields25||(e.Fields25={}));let Ar;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(Ar=e.Fields26||(e.Fields26={}));let mt;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(mt=e.Fields27||(e.Fields27={}));let ze;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(ze=e.Fields28||(e.Fields28={}));let cn;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(cn=e.Fields29||(e.Fields29={}));let iu;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(iu=e.Fields30||(e.Fields30={}));let EP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(EP=e.Fields31||(e.Fields31={}));let CP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(CP=e.Fields32||(e.Fields32={}));let SP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(SP=e.Fields33||(e.Fields33={}));let IP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(IP=e.Fields34||(e.Fields34={}));let DP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(DP=e.Fields35||(e.Fields35={}));let bP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(bP=e.Fields36||(e.Fields36={}));let wP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(wP=e.Fields37||(e.Fields37={}));let TP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(TP=e.Fields38||(e.Fields38={}));let AP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(AP=e.Fields39||(e.Fields39={}));let RP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(RP=e.Fields40||(e.Fields40={}));let MP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(MP=e.Fields41||(e.Fields41={}));let _P;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(_P=e.Fields42||(e.Fields42={}));let OP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(OP=e.Fields43||(e.Fields43={}));let xP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(xP=e.Fields44||(e.Fields44={}));let NP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(NP=e.Fields45||(e.Fields45={}));let PP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(PP=e.Fields46||(e.Fields46={}));let FP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(FP=e.Fields47||(e.Fields47={}));let LP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(LP=e.Fields48||(e.Fields48={}));let kP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(kP=e.Fields49||(e.Fields49={}));let UP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(UP=e.Fields50||(e.Fields50={}));let jP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(jP=e.Fields51||(e.Fields51={}));let $P;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})($P=e.Fields52||(e.Fields52={}));let BP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(BP=e.Fields53||(e.Fields53={}));let VP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(VP=e.Fields54||(e.Fields54={}));let HP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(HP=e.Fields55||(e.Fields55={}));let zP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(zP=e.Fields56||(e.Fields56={}));let GP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(GP=e.Fields57||(e.Fields57={}));let WP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(WP=e.Fields58||(e.Fields58={}));let qP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(qP=e.Fields59||(e.Fields59={}));let YP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(YP=e.Fields60||(e.Fields60={}));let KP;(function(p){p.BASIC="BASIC",p.DEFAULT="DEFAULT",p.FULL="FULL"})(KP=e.Fields61||(e.Fields61={}));let ZP;(function(p){p.All="all",p.Product="product",p.Order="order"})(ZP=e.Type||(e.Type={}));let QP;(function(p){p.ANONYMOUS_CONSENT_GIVEN="GIVEN",p.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})(QP=e.CONSENT_STATUS||(e.CONSENT_STATUS={}));let JP;(function(p){p.BACK_IN_STOCK="BACK_IN_STOCK"})(JP=e.NotificationType||(e.NotificationType={}));let XP;(function(p){p.DAY="DAY",p.WEEK="WEEK",p.MONTH="MONTH",p.QUARTER="QUARTER",p.YEAR="YEAR"})(XP=e.Period||(e.Period={}));let eF;(function(p){p.MONDAY="MONDAY",p.TUESDAY="TUESDAY",p.WEDNESDAY="WEDNESDAY",p.THURSDAY="THURSDAY",p.FRIDAY="FRIDAY",p.SATURDAY="SATURDAY",p.SUNDAY="SUNDAY"})(eF=e.DaysOfWeek||(e.DaysOfWeek={}));let tF;(function(p){p.APPROVE="APPROVE",p.REJECT="REJECT"})(tF=e.OrderApprovalDecisionValue||(e.OrderApprovalDecisionValue={}))})(Os||(Os={}));var lW=(()=>{class e{convert(t,n={}){return this.normalizePageData(t,n),this.normalizePageSlotData(t,n),this.normalizePageComponentData(t,n),this.normalizeComponentData(t,n),n}normalizePageData(t,n){if(!t)return;let i={};t.name&&(i.name=t.name),t.typeCode&&(i.type=t.typeCode),t.label&&(i.label=t.label),t.template&&(i.template=t.template),t.uid&&(i.pageId=t.uid),t.title&&(i.title=t.title),t.description&&(i.description=t.description),t.properties&&(i.properties=t.properties),this.normalizeRobots(t,i),n.page=i}normalizePageSlotData(t,n){if(t?.contentSlots){t.contentSlots.contentSlot&&!Array.isArray(t.contentSlots.contentSlot)&&(t.contentSlots.contentSlot=[t.contentSlots.contentSlot]),n.page=n.page??{},n.page.slots={};for(let i of t.contentSlots.contentSlot??[])i.position&&(n.page.slots[i.position]={},i.properties&&(n.page.slots[i.position].properties=i.properties))}}normalizePageComponentData(t,n){if(t?.contentSlots?.contentSlot){for(let i of t.contentSlots.contentSlot)if(Array.isArray(i.components?.component))for(let o of i.components?.component??[]){let s={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(i.position){let a=n.page?.slots?.[i.position];a&&(a.components||(a.components=[]),a.components.push(s))}}}}getComponentProperties(t){return t||void 0}getFlexTypeFromComponent(t){return t.typeCode===cW?t.flexType:t.typeCode===aW?t.uid:t.typeCode}normalizeComponentData(t,n){if(t?.contentSlots?.contentSlot)for(let i of t.contentSlots.contentSlot)for(let o of i.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),n.components||(n.components=[]),n.components.push(o)}normalizeRobots(t,n){let i=[];if(t.robotTag)switch(t.robotTag){case Os.PageRobots.INDEX_FOLLOW:i.push(Kr.INDEX),i.push(Kr.FOLLOW);break;case Os.PageRobots.NOINDEX_FOLLOW:i.push(Kr.NOINDEX),i.push(Kr.FOLLOW);break;case Os.PageRobots.INDEX_NOFOLLOW:i.push(Kr.INDEX),i.push(Kr.NOFOLLOW);break;case Os.PageRobots.NOINDEX_NOFOLLOW:i.push(Kr.NOINDEX),i.push(Kr.NOFOLLOW);break}n.robots=i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),If=new S("CmsComponentNormalizer"),dW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})();function Xx(e){return typeof e=="object"&&!!e.features}function V_(e,r){if(e==="*")return!0;let t=e.split("."),n=r.split(".");for(let i=0;i<n.length;i++){let o=Number(n[i]),s=Number(t[i])||0;if(o!==s)return s>o}return!0}function eN(e,r){return Xx(e)&&e.features.level?r.startsWith("!")?!V_(e.features.level,r.substring(1)):V_(e.features.level,r):!1}function tN(e,r){if(Xx(e)){let t=r[0]==="!"?e.features[r.substring(1)]:e.features[r],n=typeof t=="string"?eN(e,t):t;return r.startsWith("!")?!n:!!n}return!1}var Oi=(()=>{class e{constructor(t){this.config=t}isLevel(t){return eN(this.config,t)}isEnabled(t){return tN(this.config,t)}static{this.\u0275fac=function(n){return new(n||e)(f(dW))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var sle=(()=>{class e{constructor(t,n,i){this.templateRef=t,this.viewContainer=n,this.featureConfig=i,this.hasView=!1}set cxFeature(t){this.featureConfig.isEnabled(t)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(t)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}static{this.\u0275fac=function(n){return new(n||e)(J(Fn),J(Gt),J(Oi))}}static{this.\u0275dir=Lt({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}})}}return e})(),ale=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:()=>Object.assign({},E(nN),E(rN)),providedIn:"root"})}}return e})(),nN=new S("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...E(oN,{optional:!0})??[])}),rN=new S("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...E(iN,{optional:!0})??[])}),iN=new S("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),oN=new S("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function cle(e={}){return{provide:iN,useValue:e,multi:!0}}function fW(e={}){return{provide:oN,useValue:e,multi:!0}}var hW={showDeliveryOptionsTranslation:!1,formErrorsDescriptiveMessages:!1,showSearchingCustomerByOrderInASM:!1,showStyleChangesInASM:!1,shouldHideAddToCartForUnpurchasableProducts:!1,useExtractedBillingAddressComponent:!1,showBillingAddressInDigitalPayments:!1,showDownloadProposalButton:!1,showPromotionsInPDP:!0,searchBoxV2:!1,recentSearches:!0,trendingSearches:!1,pdfInvoicesSortByInvoiceDate:!0,storeFrontLibCardParagraphTruncated:!0,useProductCarouselBatchApi:!1,productConfiguratorAttributeTypesV2:!0,propagateErrorsToServer:!1,ssrStrictErrorHandlingForHttpAndNgrx:!1,productConfiguratorDeltaRendering:!1,a11yRequiredAsterisks:!0,a11yQuantityOrderTabbing:!0,a11yNavigationUiKeyboardControls:!0,a11yNavMenuExpandStateReadout:!1,a11yOrderConfirmationHeadingOrder:!0,a11yStarRating:!0,a11yViewChangeAssistiveMessage:!0,a11yPreventHorizontalScroll:!1,a11yReorderDialog:!0,a11yPopoverFocus:!0,a11yScheduleReplenishment:!0,a11yScrollToTop:!0,a11ySavedCartsZoom:!0,a11ySortingOptionsTruncation:!0,a11yExpandedFocusIndicator:!0,a11yCheckoutDeliveryFocus:!0,a11yMobileVisibleFocus:!0,a11yOrganizationsBanner:!0,a11yOrganizationListHeadingOrder:!0,a11yCartImportConfirmationMessage:!1,a11yReplenishmentOrderFieldset:!0,a11yListOversizedFocus:!0,a11yStoreFinderOverflow:!0,a11yMobileFocusOnFirstNavigationItem:!1,a11yCartSummaryHeadingOrder:!0,a11ySearchBoxMobileFocus:!1,a11yFacetKeyboardNavigation:!1,a11yUnitsListKeyboardControls:!0,a11yCartItemsLinksStyles:!0,a11yHideSelectBtnForSelectedAddrOrPayment:!1,a11yFocusableCarouselControls:!0,a11yUseTrapTabInsteadOfTrapInDialogs:!1,cmsGuardsServiceUseGuardsComposer:!1,cartQuickOrderRemoveListeningToFailEvent:!0,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!1,a11yVisibleFocusOverflows:!1,a11yTruncatedTextForResponsiveView:!1,a11ySemanticPaginationLabel:!1,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!1,a11yMyAccountLinkOutline:!1,a11yCloseProductImageBtnFocus:!1,a11yNotificationPreferenceFieldset:!1,a11yImproveContrast:!1,a11yEmptyWishlistHeading:!1,a11yScreenReaderBloatFix:!1,a11yUseButtonsForBtnLinks:!1,a11yTabComponent:!1,a11yCarouselArrowKeysNavigation:!1,a11yNotificationsOnConsentChange:!1,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!1,a11yFacetsDialogFocusHandling:!1,a11yStoreFinderAlerts:!1,a11yFormErrorMuteIcon:!1,a11yCxMessageFocus:!1,a11yLinkBtnsToTertiaryBtns:!1,a11yRepeatedPageTitleFix:!1,a11yDeliveryModeRadiogroup:!1,a11yNgSelectOptionsCount:!1,a11yRepeatedCancelOrderError:!1,a11yAddedToCartActiveDialog:!1,a11yNgSelectMobileReadout:!1,a11yDeliveryMethodFieldset:!1,a11yShowMoreReviewsBtnFocus:!1,a11yQuickOrderAriaControls:!1,a11yRemoveStatusLoadedRole:!1,a11yDialogsHeading:!1,a11yDialogTriggerRefocus:!1,a11yAddToWishlistFocus:!1,a11ySearchBoxFocusOnEscape:!1,a11yViewHoursButtonIconContrast:!1,occCartNameAndDescriptionInHttpRequestBody:!1,cmsBottomHeaderSlotUsingFlexStyles:!1,useSiteThemeService:!1,enableConsecutiveCharactersPasswordRequirement:!1,enablePasswordsCannotMatchInPasswordUpdateForm:!1,allPageMetaResolversEnabledInCsr:!1,useExtendedMediaComponentConfiguration:!1};function pW(e,r){return()=>e.initialize(r)}var gW=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:ox,useValue:!0},{provide:Et,multi:!0,useFactory:pW,deps:[Dn,[new pn,sg]]},{provide:AI,useFactory:()=>{let t=E(Dn);return()=>nr(t.getStable())},multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function mW(e,r){let t=E(K);return()=>{pe()&&e.getStable().subscribe(n=>j3(n,r||[],t))}}var vW=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Et,multi:!0,useFactory:mW,deps:[Dn,[new pn,sx]]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),yW=(()=>{class e{constructor(t,n,i,o){this.rootConfig=t,this.defaultConfig=n,this.unifiedInjector=i,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new Re(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let t=this.unifiedInjector.get(xc,[]),n=this.unifiedInjector.get(Gs,[]);return ji(t,n).pipe(xg(1),k(([i,o])=>this.processConfig(i,o)))}processConfig(t,n){n?.length&&It(this.ambientDefaultConfig,...n),t.length&&It(this.ambientConfig,...t),(t.length||n.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let t=It({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(t),tN(this.config,"disableConfigUpdates")||It(this.config,t)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}static{this.\u0275fac=function(n){return new(n||e)(f(qS),f(iO),f(Bc),f(Dt))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),sN=(()=>{class e{constructor(t){}static withConfig(t){return{ngModule:e,providers:[O_(t)]}}static withConfigFactory(t,n){return{ngModule:e,providers:[Tf(t,n)]}}static forRoot(t={}){return{ngModule:e,providers:[O_(t)]}}static{this.\u0275fac=function(n){return new(n||e)(f(yW))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function EW(e,r){let n=new RegExp("(?:^|;\\s*)"+r+"=([^;]*)","g").exec(e);return n&&decodeURIComponent(n[1])||""}var CW=new S("TEST_CONFIG_COOKIE_NAME"),ule=new S("TEST_CONFIG",{providedIn:"root",factory:()=>{let e=E(CW),r=E($e),t=E(Fe);if(Un(r)&&e){let n=EW(t.cookie,e);return SW(n)}return{}}});function SW(e){try{return JSON.parse(decodeURIComponent(e))}catch{return{}}}var IW=[Tf(()=>{let e=E(rN);return{features:v({},e)}}),bo(()=>{let e=E(nN);return{features:v({},e)}})],aN=(()=>{class e{constructor(){this.rendererFactory=E(Ji),this.featureConfig=E(Oi),this.logger=E(K),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(t){this.rootElement=t.location.nativeElement;for(let[n,i]of this.usagesCounter.entries())i>0&&this.addClass(n)}registerUsage(t){let n=this.usagesCounter.get(t)??0;this.isEnabled(t)&&n===0&&this.addClass(t),this.usagesCounter.set(t,n+1)}unregisterUsage(t){let n=this.usagesCounter.get(t)??0;n===0&&pe()&&this.logger.warn(`Feature flag CSS: "${t}" is already not used, so it cannot be unregistered.`),this.isEnabled(t)&&n===1&&this.removeClass(t),this.usagesCounter.set(t,Math.max(n-1,0))}isEnabled(t){return this.featureConfig.isEnabled(t)}addClass(t){let n=this.getCssClass(t);!this.rootElement||!n||this.renderer.addClass(this.rootElement,n)}removeClass(t){let n=this.getCssClass(t);!this.rootElement||!n||this.renderer.removeClass(this.rootElement,n)}getCssClass(t){return this.featureConfig.isEnabled(t)?`${this.CSS_FEATURE_FLAG_PREFIX}${t}`:void 0}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),DW=(()=>{class e{static forRoot(t="3.0"){return{ngModule:e,providers:[fW(hW),...IW,bn({features:{level:t||"*"}}),{provide:cs,multi:!0,useFactory:()=>{let n=E(aN);return i=>n.init(i)}}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function bW(e){Aa(bW);let r=E(aN),t=E(yi);r.registerUsage(e),t.onDestroy(()=>r.unregisterUsage(e))}var wW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.userIdService=E(Wn),this.featureConfigService=E(Oi),this.headers=new de().set("Content-Type","application/json")}load(t,n){return this.featureConfigService.isEnabled(_s)?this.userIdService.getUserId().pipe(_(i=>this.http.get(this.getComponentEndPoint(t,n,i),{headers:this.headers})),this.converter.pipeable(If)):this.http.get(this.getComponentEndPoint(t,n),{headers:this.headers}).pipe(this.converter.pipeable(If))}findComponentsByIds(t,n,i="DEFAULT",o=0,s=t.length,a){let c=v(v({},this.getContextParams(n)),this.getPaginationParams(o,s,a));return c.componentIds=t.toString(),this.featureConfigService.isEnabled(_s)?this.userIdService.getUserId().pipe(_(u=>this.http.get(this.getComponentsEndpoint(c,i,u),{headers:this.headers})),y(u=>u.component??[]),this.converter.pipeableMany(If)):this.http.get(this.getComponentsEndpoint(c,i),{headers:this.headers}).pipe(y(u=>u.component??[]),this.converter.pipeableMany(If))}getComponentEndPoint(t,n,i){if(this.featureConfigService.isEnabled(_s)){let o=this.getContextParams(n),s=i?{urlParams:{id:t,userId:i},queryParams:o}:{urlParams:{id:t},queryParams:o};return this.occEndpoints.buildUrl("component",s)}return this.occEndpoints.buildUrl("component",{urlParams:{id:t},queryParams:this.getContextParams(n)})}getComponentsEndpoint(t,n,i){if(this.featureConfigService.isEnabled(_s)){let o=v({fields:n},t),s=i?{urlParams:{userId:i},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",s)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:n},t)})}getPaginationParams(t,n,i){let o={};return t!==void 0&&(o.currentPage=t.toString()),n!==void 0&&(o.pageSize=n.toString()),i!==void 0&&(o.sort=i),o}getContextParams(t){let n={};switch(t.type){case we.PRODUCT_PAGE:{n={productCode:t.id};break}case we.CATEGORY_PAGE:{n={categoryCode:t.id};break}case we.CATALOG_PAGE:{n={catalogCode:t.id};break}}return n}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cN="__HOMEPAGE__",uN="smartedit-preview";var TW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.userIdService=E(Wn),this.featureConfigService=E(Oi),this.headers=new de().set("Content-Type","application/json")}load(t){let n=this.getPagesRequestParams(t);if(this.featureConfigService.isEnabled(_s))return this.userIdService.getUserId().pipe(_(o=>{let s=t.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:n}):this.occEndpoints.buildUrl("page",{urlParams:{id:t.id,userId:o}});return this.http.get(s,{headers:this.headers})}),this.converter.pipeable(uS));let i=t.type?this.occEndpoints.buildUrl("pages",{queryParams:n}):this.occEndpoints.buildUrl("page",{urlParams:{id:t.id}});return this.http.get(i,{headers:this.headers}).pipe(this.converter.pipeable(uS))}getPagesRequestParams(t){if(t.id===cN||t.id===uN)return{};let n={};return t.type&&(n.pageType=t.type),t.type===we.CONTENT_PAGE?n.pageLabelOrId=t.id:n.code=t.id,n}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),AW=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:Ap,useExisting:TW},{provide:uS,useExisting:lW,multi:!0},{provide:Tp,useExisting:wW}],imports:[Ye]})}}return e})();var RW=(()=>{class e{convert(t,n){return n===void 0&&(n=v({},t)),n.active=this.normalizeBoolean(t.active),n}normalizeBoolean(t){return t===void 0?!1:typeof t=="string"?t==="true":t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),MW=(()=>{class e{convert(t,n){return n===void 0&&(n=v({},t)),n.activeFlag=t.active,delete n.active,n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lN=new S("CostCenterNormalizer"),dN=new S("CostCentersListNormalizer"),_W=new S("CostCenterSerializer"),OW=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),n.values=t.costCenters.map(i=>v({},this.converter.convert(i,lN))),n}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xW={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},lle=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:dN,useExisting:OW,multi:!0},{provide:lN,useExisting:RW,multi:!0},{provide:_W,useExisting:MW,multi:!0}],imports:[Ye,sN.withConfig(xW)]})}}return e})(),NW=(()=>{class e{constructor(t){this.config=t}convert(t,n){return n===void 0&&(n=v({},t)),t.images&&(n.images=this.normalize(t.images)),n}normalize(t){let n={};if(t)for(let i of t){let o=this.hasGalleryIndex(i);if(i.imageType){n.hasOwnProperty(i.imageType)||(n[i.imageType]=o?[]:{});let s=this.getImageContainer(o,n,i),a=v({},i);a.url=this.normalizeImageUrl(a.url??""),i.format&&(s[i.format]=a)}}return n}getImageContainer(t,n,i){return t?this.getImageGroups(n,i)[i.galleryIndex]:n[i.imageType]}getImageGroups(t,n){let i=t[n.imageType];return i[n.galleryIndex]||(i[n.galleryIndex]={}),i}normalizeImageUrl(t){return new RegExp(/^(http|data:image|\/\/)/i).test(t)?t:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+t}hasGalleryIndex(t){return(t.galleryIndex??!1)!==!1}static{this.\u0275fac=function(n){return new(n||e)(f(Ir))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Io=new S("ProductNormalizer"),PW=(()=>{class e{constructor(t){this.converterService=t,this.DEFAULT_TOP_VALUES=6}convert(t,n={}){return n=v(v({},n),t),this.normalizeFacets(n),t.products&&(n.products=t.products.map(i=>this.converterService.convert(i,Io))),n}normalizeFacets(t){this.normalizeFacetValues(t),this.normalizeUselessFacets(t)}normalizeUselessFacets(t){t.facets&&(t.facets=t.facets.filter(n=>!t.pagination||!t.pagination.totalResults||(!n.hasOwnProperty("visible")||n.visible)&&n.values&&n.values.find(i=>i.selected||(i.count??0)<(t.pagination?.totalResults??0))))}normalizeFacetValues(t){t.facets&&(t.facets=t.facets.map(n=>{let s=n,{topValues:i}=s,o=Sg(s,["topValues"]);return o.topValueCount=i&&i.length>0?i.length:this.DEFAULT_TOP_VALUES,o}))}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),FW=(()=>{class e{constructor(t){this.converter=t}convert(t,n=[]){return n===void 0&&(n=v({},t)),t&&t.references?(n=t.references.map(i=>w(v({},i),{target:this.converter.convert(i.target,Io)})),n):[]}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LW=(()=>{class e{constructor(t){this.config=t,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(t,n){return n=n??v({},t),t.name&&(n.name=this.normalize(t.name),n.slug=this.normalizeSlug(t.name),n.nameHtml=t.name),n}normalize(t){return t.replace(/<[^>]*>/g,"")}normalizeSlug(t){return this.normalize(t).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}static{this.\u0275fac=function(n){return new(n||e)(f(Ir))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fN=new S("ProductReferencesListNormalizer"),kW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}load(t,n,i){return this.http.get(this.getEndpoint(t,n,i)).pipe(this.converter.pipeable(fN))}getEndpoint(t,n,i){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:t},queryParams:{referenceType:n,pageSize:i}})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),UW=new S("ProductReviewNormalizer"),jW=new S("ProductReviewSerializer"),$W=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}load(t,n){return this.http.get(this.getEndpoint(t,n)).pipe(y(i=>i.reviews),y(i=>i??[]),this.converter.pipeableMany(UW))}post(t,n){n=this.converter.convert(n,jW);let i=new de({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",n.headline),o.append("comment",n.comment),o.append("rating",n.rating.toString()),o.append("alias",n.alias),this.http.post(this.getEndpoint(t),o.toString(),{headers:i})}getEndpoint(t,n){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:t},queryParams:{maxCount:n}})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),hN=new S("ProductSearchPageNormalizer"),BW=new S("ProductSuggestionNormalizer"),pN=new Ha(()=>({}));function VW(e){let r=e.map(n=>typeof n=="string"?fg(n):n),t=gN(It({},...r));return mN(t)}function gN(e={}){let r=Object.keys(e);return r.includes("FULL")?(delete e.DEFAULT,delete e.BASIC):r.includes("DEFAULT")&&delete e.BASIC,Object.keys(e).forEach(t=>{e[t]=gN(e[t])}),e}function fg(e,r=0){let t={},n=r;for(;n<e.length;){if(e[n]===",")n>r&&(t[e.substring(r,n)]={}),r=n+1;else if(e[n]==="("){let i=fg(e,n+1);if(!Array.isArray(i))return t;t[e.substring(r,n)]=i[0],r=i[1],n=r-1}else if(e[n]===")")return n>r&&(t[e.substring(r,n)]={}),[t,n+1];n++}return r<e.length&&(t[e.substring(r,n)]={}),t}function mN(e){return Object.keys(e).map(r=>{let t=mN(e[r]);return t?`${r}(${t})`:r}).join(",")}function HW(e,r){let t=typeof r=="string"?fg(r):r;return vN(e,t)}function vN(e,r){if(!wf(e))return e;let t=Object.keys(r);if(t.length===0||t.find(i=>i==="BASIC"||i==="DEFAULT"||i==="FULL"))return e;let n={};return t.forEach(i=>{e.hasOwnProperty(i)&&(n[i]=vN(e[i],r[i]))}),n}var dle=new S("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>$8}),zW=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.router=E(xe,{optional:!0}),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(t,n=this.DEFAULT_SEARCH_CONFIG,i){let o=new ds().set(pN,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(t,n,i),{context:o}).pipe(this.converter.pipeable(hN),k(s=>s.keywordRedirectUrl&&this.router?.navigate([s.keywordRedirectUrl])))}searchByCodes(t,n){if(t.length===0)return I({products:[]});let i=100,o=[];for(let a=0;a<t.length;a+=i)o.push(t.slice(a,a+i));let s=o.map(a=>{let c={filters:`code:${a.join(",")}`,pageSize:i};return this.search("",c,n).pipe(y(u=>({products:u?.products??[]})))});return ia(s).pipe(y(a=>({products:a.flatMap(c=>c.products)})))}loadSuggestions(t,n=3){return this.http.get(this.getSuggestionEndpoint(t,n.toString())).pipe(y(i=>i.suggestions??[]),this.converter.pipeableMany(BW))}getSearchEndpoint(t,n,i){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:t},n),scope:i})}getSuggestionEndpoint(t,n){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:t,max:n}})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),GW=(()=>{class e{constructor(t){this.http=t,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(t){let n={};for(let o of t){let[s,a]=this.splitFields(o.url??"");n[s]||(n[s]={}),o.fields=a?fg(a):{},o.scopedData.scope!==void 0&&(n[s][o.scopedData.scope]=o)}let i={};for(let[o,s]of Object.entries(n)){let a=this.getUrlWithFields(o,Object.values(s).map(c=>c.fields));i[a]=s}return i}splitFields(t){let[n,i]=t.split("?"),o={};i&&i.split("&").forEach(c=>{let u=c.split("=");o[u[0]]=u[1]});let a=Object.keys(o).sort().reduce((c,u)=>(u!==this.FIELDS_PARAM&&c.push(o[u]?`${u}=${o[u]}`:u),c),[]).join("&");return[a?`${n}?${a}`:n,o[this.FIELDS_PARAM]]}getUrlWithFields(t,n){let i=VW(n);return i&&(t+=t.includes("?")?"&":"?",t+=`${this.FIELDS_PARAM}=${i}`),t}static{this.\u0275fac=function(n){return new(n||e)(f(Le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),WW=(()=>{class e{constructor(t,n){this.http=t,this.occFields=n}scopedDataLoad(t,n){let i=[];n||(n=s=>this.http.get(s));let o=this.occFields.getOptimalUrlGroups(t);return Object.entries(o).forEach(([s,a])=>{let c=Object.values(a);if(c.length===1)i.push(w(v({},c[0].scopedData),{data$:n?.(s)}));else{let u=n?.(s).pipe(ot(1));c.forEach(l=>{i.push(w(v({},l.scopedData),{data$:u?.pipe(y(d=>HW(d,l.fields)))}))})}}),i}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(GW))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qW=(()=>{class e{constructor(t,n,i,o){this.http=t,this.occEndpoints=n,this.converter=i,this.requestsOptimizer=o}load(t,n){return this.http.get(this.getEndpoint(t,n)).pipe(this.converter.pipeable(Io))}loadMany(t){let n=t.map(i=>({scopedData:i,url:this.getEndpoint(i.code,i.scope)}));return this.requestsOptimizer.scopedDataLoad(n).map(i=>w(v({},i),{data$:i.data$?.pipe(this.converter.pipeable(Io))}))}getEndpoint(t,n){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:t},scope:n})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe),f(WW))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Rp=class{},Mp=class{},_p=class{},Op=class{},YW={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:{default:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions,baseProduct,priceRange(maxPrice(formattedValue),minPrice(formattedValue))),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",carousel:"products/search?fields=products(code,purchasable,name,summary,price(formattedValue),stock(DEFAULT),images(DEFAULT,galleryIndex),baseProduct)",carouselMinimal:"products/search?fields=products(code,name,price(formattedValue),images(DEFAULT),baseProduct)"},productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}},fle=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bn(YW),{provide:Rp,useClass:qW},{provide:Io,useExisting:NW,multi:!0},{provide:Io,useExisting:LW,multi:!0},{provide:Mp,useClass:kW},{provide:fN,useExisting:FW,multi:!0},{provide:Op,useClass:zW},{provide:hN,useExisting:PW,multi:!0},{provide:_p,useClass:$W}],imports:[Ye]})}}return e})(),KW=(()=>{class e{constructor(){}convert(t,n){return n===void 0&&(n=v({},t)),n.baseStore=t.stores?.[0],delete n.stores,n}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ZW=new S("LanguageNormalizer"),QW=new S("CurrencyNormalizer"),JW=new S("CountryNormalizer"),XW=new S("RegionNormalizer"),yN=new S("BaseSiteNormalizer"),e4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpointsService=n,this.converterService=i}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(y(t=>t.languages??[]),this.converterService.pipeableMany(ZW))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(y(t=>t.currencies??[]),this.converterService.pipeableMany(QW))}loadCountries(t){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:t?{type:t}:void 0})).pipe(y(n=>n.countries??[]),this.converterService.pipeableMany(JW))}loadRegions(t){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:t}})).pipe(y(n=>n.regions??[]),this.converterService.pipeableMany(XW))}loadBaseSite(t){return t||(t=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(y(n=>n.baseSites.find(i=>i.uid===t)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(y(t=>t.baseSites),this.converterService.pipeableMany(yN))}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),xp=class{},t4={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},xi=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getAll(){return this.store.pipe(R(a3),k(t=>{t||this.store.dispatch(new Gf)}),M(js))}getActive(){return this.store.pipe(R(WC),M(js))}setActive(t){this.store.pipe(R(WC),re(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new Yf(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Uc(this.config,wo).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Zc=(()=>{class e{constructor(t,n){this.store=t,this.config=n}getAll(){return this.store.pipe(R(r3),k(t=>{t||this.store.dispatch(new $f)}),M(js))}getActive(){return this.store.pipe(R(GC),M(js))}setActive(t){this.store.pipe(R(GC),re(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new Hf(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return!!t&&Uc(this.config,To).includes(t)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),n4=(()=>{class e{constructor(t,n,i,o){this.languageService=t,this.currencyService=n,this.occEndpoints=i,this.config=o,this.activeLang=Xr(this.config,wo),this.activeCurr=Xr(this.config,To),this.languageService.getActive().subscribe(s=>this.activeLang=s),this.currencyService.getActive().subscribe(s=>{this.activeCurr=s})}intercept(t,n){return t.url.includes(this.occEndpoints.getBaseUrl())&&(t=t.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),n.handle(t)}static{this.\u0275fac=function(n){return new(n||e)(f(xi),f(Zc),f(Ke),f(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),r4=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bn(t4),{provide:xp,useClass:e4},{provide:tn,useExisting:n4,multi:!0},{provide:yN,useExisting:KW,multi:!0}],imports:[Ye]})}}return e})(),i4=(()=>{class e{constructor(t){this.anonymousConsentsService=t}convert(t){return this.anonymousConsentsService.decodeAndDeserialize(t)}static{this.\u0275fac=function(n){return new(n||e)(f($c))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),o4=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),t&&t.results&&(n.results=t.results.map(i=>w(v({},i),{product:this.converter.convert(i.product,Io)}))),n}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),EN=new S("AnonymousConsentNormalizer"),lS=new S("ConsentTemplateNormalizer"),s4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadAnonymousConsentTemplates(){let t=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(t).pipe(F(n=>{throw nt(n,this.logger)}),y(n=>n.consentTemplates??[]),this.converter.pipeableMany(lS))}loadAnonymousConsents(){let t=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(t,{observe:"response"}).pipe(F(n=>{throw nt(n,this.logger)}),y(n=>n.headers.get(bC)??""),this.converter.pipeable(EN))}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),a4=new S("CustomerCouponSearchResultNormalizer"),c4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}getCustomerCoupons(t,n,i,o){if(t===Ns)return I({});let s=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:t}}),a=new Ge().set("sort",o||"startDate:asc");n&&(a=a.set("pageSize",n.toString())),i&&(a=a.set("currentPage",i.toString()));let c=this.newHttpHeader();return this.http.get(s,{headers:c,params:a}).pipe(this.converter.pipeable(a4))}turnOffNotification(t,n){let i=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.delete(i,{headers:o})}turnOnNotification(t,n){let i=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.post(i,{headers:o})}claimCustomerCoupon(t,n){let i=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.post(i,{headers:o})}disclaimCustomerCoupon(t,n){let i=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:t,couponCode:n}}),o=this.newHttpHeader();return this.http.delete(i,{headers:o})}newHttpHeader(){return new de({"Content-Type":"application/json"})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),CN=new S("AddressNormalizer"),u4=new S("AddressesNormalizer"),mC=new S("AddressSerializer"),l4=new S("AddressValidationNormalizer"),Ic={"Content-Type":"application/json"},d4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadAll(t){let n=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:t}}),i=new de(v({},Ic));return this.http.get(n,{headers:i}).pipe(F(o=>{throw nt(o,this.logger)}),y(o=>o.addresses??[]),this.converter.pipeableMany(CN))}add(t,n){let i=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:t}}),o=new de(v({},Ic));return n=this.converter.convert(n,mC),this.http.post(i,n,{headers:o}).pipe(F(s=>{throw nt(s,this.logger)}))}update(t,n,i){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:t,addressId:n}}),s=new de(v({},Ic));return i=this.converter.convert(i,mC),this.http.patch(o,i,{headers:s}).pipe(F(a=>{throw nt(a,this.logger)}))}verify(t,n){let i=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:t}}),o=new de(v({},Ic));return t===Ns&&(o=Tc.createHeader(qC,!0,o)),n=this.converter.convert(n,mC),this.http.post(i,n,{headers:o}).pipe(F(s=>{throw nt(s,this.logger)}),this.converter.pipeable(l4))}delete(t,n){let i=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:t,addressId:n}}),o=new de(v({},Ic));return this.http.delete(i,{headers:o}).pipe(F(s=>{throw nt(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),f4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadConsents(t){let n=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:t}}),i=new de({"Cache-Control":"no-cache"});return this.http.get(n,{headers:i}).pipe(F(o=>{throw nt(o,this.logger)}),y(o=>o.consentTemplates??[]),this.converter.pipeableMany(lS))}giveConsent(t,n,i){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:t}}),s=new Ge().set("consentTemplateId",n).set("consentTemplateVersion",i.toString()),a=new de({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,s,{headers:a}).pipe(F(c=>{throw nt(c,this.logger)}),this.converter.pipeable(lS))}withdrawConsent(t,n){let i=new de({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:t,consentId:n}});return this.http.delete(o,{headers:i})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),SN=new S("ProductInterestsNormalizer"),H_=new de({"Content-Type":"application/json"}),h4=(()=>{class e{constructor(t,n,i,o){this.http=t,this.occEndpoints=n,this.config=i,this.converter=o,this.logger=E(K)}getInterests(t,n,i,o,s,a){let c=new Ge().set("sort",o||"name:asc");return n&&(c=c.set("pageSize",n.toString())),i&&(c=c.set("currentPage",i.toString())),s&&(c=c.set("productCode",s)),a&&(c=c.set("notificationType",a.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:t}}),{headers:H_,params:c}).pipe(this.converter.pipeable(SN),F(u=>{throw nt(u,this.logger)}))}removeInterest(t,n){let i=[];return n.productInterestEntry?.forEach(o=>{let s=new Ge().set("productCode",n.product?.code??"").set("notificationType",o.interestType);i.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:t}}),{params:s}).pipe(F(a=>{throw nt(a,this.logger)})))}),ia(i)}addInterest(t,n,i){let o=new Ge().set("productCode",n).set("notificationType",i.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:t}}),{},{headers:H_,params:o}).pipe(F(s=>{throw nt(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Ir),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),p4=new S("NotificationPreferenceSerializer"),g4=new S("NotificationPreferenceNormalizer"),Np=class{},m4=(()=>{class e{constructor(t){this.adapter=t}loadAll(t){return this.adapter.loadAll(t)}update(t,n){return this.adapter.update(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Np))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z_=new de({"Content-Type":"application/json"}),v4=(()=>{class e{constructor(t,n,i){this.http=t,this.converter=n,this.occEndpoints=i,this.logger=E(K)}loadAll(t){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:t}}),{headers:z_}).pipe(y(n=>n.preferences??[]),this.converter.pipeableMany(g4),F(n=>{throw nt(n,this.logger)}))}update(t,n){return n=this.converter.convert(n,p4),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:t}}),{preferences:n},{headers:z_}).pipe(F(i=>{throw nt(i,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Xe),f(Ke))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),y4=new S("PaymentDetailsNormalizer"),vC={"Content-Type":"application/json"},E4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i,this.logger=E(K)}loadAll(t){let n=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:t}})+"?saved=true",i=new de(v({},vC));return this.http.get(n,{headers:i}).pipe(F(o=>{throw nt(o,this.logger)}),y(o=>o.payments??[]),this.converter.pipeableMany(y4))}delete(t,n){let i=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:t,paymentDetailId:n}}),o=new de(v({},vC));return this.http.delete(i,{headers:o}).pipe(F(s=>{throw nt(s,this.logger)}))}setDefault(t,n){let i=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:t,paymentDetailId:n}}),o=new de(v({},vC));return this.http.patch(i,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(F(s=>{throw nt(s,this.logger)}))}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Pp=class{},Fp=class{},Lp=class{},kp=class{},Up=class{},jp=class{},C4=(()=>{class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=v({},t)),n.values=t.addresses?.map(i=>v({},this.converter.convert(i,CN)))??[],n}static{this.\u0275fac=function(n){return new(n||e)(f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),S4={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},I4=(()=>{class e{constructor(t,n,i){this.http=t,this.occEndpoints=n,this.converter=i}loadActiveList(t){let n=new ds().set(pN,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(t),{context:n}).pipe(this.converter.pipeable(dN))}getCostCentersEndpoint(t,n){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:t},queryParams:n})}static{this.\u0275fac=function(n){return new(n||e)(f(Le),f(Ke),f(Xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),hle=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bn(S4),{provide:Pp,useClass:d4},{provide:Fp,useClass:f4},{provide:wp,useClass:s4},{provide:jp,useClass:E4},{provide:kp,useClass:c4},{provide:Np,useClass:v4},{provide:Up,useClass:h4},{provide:Lp,useClass:I4},{provide:SN,useExisting:o4,multi:!0},{provide:EN,useExisting:i4,multi:!0},{provide:u4,useExisting:C4,multi:!0}],imports:[Ye]})}}return e})(),D4={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function b4(e){if(e.backend===void 0||e.backend.occ===void 0||e.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var w4=(()=>{class e{constructor(t){this.config=t}intercept(t,n){return this.requiresWithCredentials(t)&&(t=t.clone({withCredentials:!0})),n.handle(t)}requiresWithCredentials(t){return this.occConfig?.useWithCredentials!==void 0&&t.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}static{this.\u0275fac=function(n){return new(n||e)(f(Ir))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),T4=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:tn,useExisting:w4,multi:!0},bn(D4),TI(b4)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[AW,r4]})}}return e})(),A4="occ-backend-base-url",R4="OCC_BACKEND_BASE_URL_VALUE",M4="media-backend-base-url",_4="MEDIA_BACKEND_BASE_URL_VALUE";function O4(e){let r=IN(A4,e);return r&&r!==R4?{backend:{occ:{baseUrl:r}}}:{}}function x4(e){let r=IN(M4,e);return r&&r!==_4?{backend:{media:{baseUrl:r}}}:{}}function IN(e,r){let t=r.getTag(`name="${e}"`);return t&&t.content}function N4(){return[Tf(O4,[Zy]),Tf(x4,[Zy])]}var P4=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...N4()]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),F4=(()=>{class e{constructor(t){this.config=t}expand(t,n){let i=this.config?.backend?.loadingScopes?.[t];if(i){let o=[...n],s=o.length;for(;s>0;){s--;let a=i[o[s]]?.include;if(a)for(let c of a)o.includes(c)||(o.splice(s,0,c),s++)}return o}return n}getMaxAge(t,n){return(this.config.backend?.loadingScopes?.[t]?.[n]?.maxAge??0)*1e3}getReloadTriggers(t,n){return this.config.backend?.loadingScopes?.[t]?.[n]?.reloadOn??[]}static{this.\u0275fac=function(n){return new(n||e)(f(Ir))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wr=En(gx),L4=T(wr,e=>e.billingCountries),k4=T(L4,e=>e.entities),U4=T(k4,e=>Object.keys(e).map(r=>e[r])),hg=T(wr,e=>e.customerCoupons),j4=T(hg,e=>Gn(e)),$4=T(hg,e=>Bt(e)),ple=T(hg,e=>rt(e)),B4=T(wr,e=>e.countries),DN=T(B4,e=>e.entities),V4=T(DN,e=>Object.keys(e).map(r=>e[r])),H4=e=>T(DN,r=>Object.keys(r).length!==0?r[e]:null),CD=T(wr,e=>e.notificationPreferences),z4=T(CD,e=>rt(e)),G4=T(CD,e=>rt(e).filter(r=>r.enabled)),W4=T(CD,e=>Bt(e)),SD=T(wr,e=>e.payments),q4=T(SD,e=>rt(e)),Y4=T(SD,e=>Bt(e)),K4=T(SD,e=>Gn(e)&&!Bt(e)),ID=T(wr,e=>e.productInterests),Z4=T(ID,e=>rt(e)),Q4=T(ID,e=>Bt(e)),Qc=T(wr,e=>e.regions),gle=T(Qc,e=>rt(e).entities),J4=T(Qc,e=>({loaded:Gn(e),loading:Bt(e),regions:rt(e).entities,country:rt(e).country})),mle=T(Qc,e=>rt(e).country),vle=T(Qc,e=>Bt(e)),yle=T(Qc,e=>Gn(e)),DD=T(wr,e=>e.addresses),X4=T(DD,e=>rt(e)),eq=T(DD,e=>Bt(e)),tq=T(DD,e=>Gn(e)&&!Bt(e)),pg=T(wr,e=>e.consents),dS=T(pg,e=>rt(e)),nq=e=>T(dS,r=>r.find(t=>t.id===e)),rq=T(pg,Bt),iq=T(pg,Gn),oq=T(pg,Ws),sq=T(wr,e=>e.costCenters),Ele=T(sq,e=>rt(e));var aq=(()=>{class e{constructor(t,n,i){this.store=t,this.authService=n,this.userIdService=i}loadConsents(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new dp(t))})}getConsents(t=!1){return sa(()=>t,this.store.pipe(R(dS),st(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),M(([n,i,o])=>!i),k(([n,i,o])=>{(!n||n.length===0)&&(o||this.loadConsents())}),M(([n,i])=>!!n),y(([n,i])=>n)),this.store.pipe(R(dS)))}getConsentsResultLoading(){return this.store.pipe(R(rq))}getConsentsResultSuccess(){return this.store.pipe(R(iq))}getConsentsResultError(){return this.store.pipe(R(oq))}resetConsentsProcessState(){this.store.dispatch(new _c)}getConsent(t){return Ne([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(M(([n,i])=>n&&i===xs),_(()=>this.getConsents(!0)),re(1),_(()=>this.store.pipe(R(nq(t)))),M(sn),y(n=>n.currentConsent))}isConsentGiven(t){return!!t&&!!t.consentGivenDate&&!t.consentWithdrawnDate}isConsentWithdrawn(t){return t?!!t?.consentWithdrawnDate:!0}giveConsent(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Oc({userId:i,consentTemplateId:t,consentTemplateVersion:n}))})}getGiveConsentResultLoading(){return this.store.pipe(R(Ai(yo)))}getGiveConsentResultSuccess(){return this.store.pipe(R(Zr(yo)))}getGiveConsentResultError(){return this.store.pipe(R(Ti(yo)))}resetGiveConsentProcessState(){return this.store.dispatch(new mp)}withdrawConsent(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new yp({userId:i,consentCode:t,consentId:n}))})}getWithdrawConsentResultLoading(){return this.store.pipe(R(Ai(Eo)))}getWithdrawConsentResultSuccess(){return this.store.pipe(R(Zr(Eo)))}getWithdrawConsentResultError(){return this.store.pipe(R(Ti(Eo)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new Sp)}filterConsentTemplates(t,n=[]){if(n.length===0)return t;let i=[];for(let o of t)o.id&&!n.includes(o.id)&&i.push(o);return i}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(qn),f(Wn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cq=(()=>{class e{isRequiredConsent(t){return!!(t&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(t))}constructor(t,n,i,o,s,a,c){this.actions$=t,this.anonymousConsentTemplatesConnector=n,this.authService=i,this.anonymousConsentsConfig=o,this.anonymousConsentService=s,this.userConsentService=a,this.userIdService=c,this.logger=E(K),this.checkConsentVersions$=H(()=>this.actions$.pipe($(FO),st(this.anonymousConsentService.getConsents()),Ue(([u,l])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(y(d=>{if(!d)return pe()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let h=l.map(C=>C.templateVersion),m=d.map(C=>C.templateVersion);return this.detectUpdatedVersion(h,m)}),_(d=>d?I(new Mf):ge),F(d=>I(new Of(ae(d,this.logger)))))))),this.loadAnonymousConsentTemplates$=H(()=>this.actions$.pipe($(MO),st(this.anonymousConsentService.getTemplates()),Ue(([u,l])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe(z(d=>{let h=!1;return l&&l.length!==0&&(h=this.anonymousConsentService.detectUpdatedTemplates(l,d)),[new _f(d),new xf(h)]}),F(d=>I(new Of(ae(d,this.logger)))))))),this.transferAnonymousConsentsToUser$=H(()=>this.actions$.pipe($(zn),M(()=>!!this.anonymousConsentsConfig.anonymousConsents),st(this.actions$.pipe($(yD))),M(([,u])=>!!u),_(()=>this.anonymousConsentService.getConsents().pipe(st(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),M(([,,,u])=>u),Ue(([u,l,d,h])=>{let m=[];for(let C of u)if(this.anonymousConsentService.isConsentGiven(C)&&!this.isRequiredConsent(C.templateCode)){for(let D of d)if(D.id===C.templateCode){m.push(new vp({userId:l,consentTemplateId:D.id,consentTemplateVersion:D.version}));break}}return m.length>0?m:ge}))))),this.giveRequiredConsentsToUser$=H(()=>this.actions$.pipe($(zn),M(u=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&u)),Ue(()=>this.userConsentService.getConsentsResultSuccess().pipe(re(1),st(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),M(([,,,u])=>u),k(([u,l,d,h])=>{u||this.userConsentService.loadConsents()}),y(([u,l,d,h])=>({userId:l,templates:d})),Ue(({userId:u,templates:l})=>{let d=[];for(let h of l)this.userConsentService.isConsentWithdrawn(h.currentConsent)&&this.isRequiredConsent(h.id)&&d.push(new Oc({userId:u,consentTemplateId:h.id,consentTemplateVersion:h.version}));return d.length>0?d:ge})))))}detectUpdatedVersion(t,n){if(t.length!==n.length)return!0;for(let i=0;i<n.length;i++)if(t[i]!==n[i])return!0;return!1}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(sW),f(qn),f(hx),f($c),f(aq),f(Wn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),uq=[cq],lq=(()=>{class e{constructor(t,n,i){this.baseSiteService=t,this.javaRegExpConverter=n,this.winRef=i,this.scopes=["context"],this.configFactory=()=>nr(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(y(t=>t?.find(n=>this.isCurrentBaseSite(n))),M(t=>{if(!t)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!t}),y(t=>this.getConfig(t)),re(1))}getConfig(t){return{context:{urlParameters:this.getUrlParams(t.urlEncodingAttributes),[ei]:[t.uid],[wo]:this.getIsoCodes(t.baseStore?.languages,t.defaultLanguage||t.baseStore?.defaultLanguage),[To]:this.getIsoCodes(t.baseStore?.currencies,t.baseStore?.defaultCurrency),[VO]:[t.theme]}}}isCurrentBaseSite(t){return(t.urlPatterns||[]).findIndex(i=>{let o=this.javaRegExpConverter.toJsRegExp(i);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(t){let n="storefront";return(t||[]).map(i=>i===n?ei:i)}getIsoCodes(t,n){if(t&&n)return this.moveToFirst(t,o=>o.isocode===n.isocode).map(o=>o.isocode)}moveToFirst(t,n){t=[...t];let i=t.findIndex(n);if(i!==-1){let[o]=t.splice(i,1);t.unshift(o)}return t}static{this.\u0275fac=function(n){return new(n||e)(f(Ao),f(w3),f(Dr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ks=(()=>{class e{constructor(t){this.adapter=t}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(t){return this.adapter.loadCountries(t)}getRegions(t){return this.adapter.loadRegions(t)}getBaseSite(t){return this.adapter.loadBaseSite(t)}getBaseSites(){return this.adapter.loadBaseSites()}static{this.\u0275fac=function(n){return new(n||e)(f(xp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),G_=(()=>{class e extends ti{static{this.type="LanguageSetEvent"}}return e})(),W_=(()=>{class e extends ti{static{this.type="CurrencySetEvent"}}return e})(),dq=(()=>{class e{constructor(t,n){this.actionsSubject=t,this.eventService=n,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let t=this.actionsSubject.pipe($(rg),y(n=>Ri(G_,{activeLanguage:n.payload})));this.eventService.register(G_,t)}registerSetCurrency(){let t=this.actionsSubject.pipe($(ng),y(n=>Ri(W_,{activeCurrency:n.payload})));this.eventService.register(W_,t)}static{this.\u0275fac=function(n){return new(n||e)(f(Wr),f(Mo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fq=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(dq))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),$p=class{};function hq(){return{[wo]:xi,[To]:Zc,[ei]:Ao}}var pq={provide:$p,useFactory:hq},gq=(()=>{class e{constructor(t,n){this.baseSiteService=t,this.configInit=n}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(k(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=Xr(t,ei);!this.baseSiteService.isInitialized()&&n&&this.baseSiteService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Ao),f(Dn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mq=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.currencyService=n,this.config=i,this.initialized$=new Yt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:To,state$:this.currencyService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.currencyService.isInitialized()&&t&&this.currencyService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)(f(Vc),f(Zc),f(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vq=(()=>{class e{constructor(t,n,i){this.currencyService=t,this.currencyStatePersistenceService=n,this.configInit=i}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.currencyStatePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(k(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=Xr(t,To);!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Zc),f(mq),f(Dn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yq=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.languageService=n,this.config=i,this.initialized$=new Yt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:wo,state$:this.languageService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.languageService.isInitialized()&&t&&this.languageService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)(f(Vc),f(xi),f(ri))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Eq=(()=>{class e{constructor(t,n,i){this.languageService=t,this.languageStatePersistenceService=n,this.configInit=i}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.languageStatePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(k(t=>this.setDefaultFromConfig(t)))}setDefaultFromConfig(t){let n=Xr(t,wo);!this.languageService.isInitialized()&&n&&this.languageService.setActive(n)}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(xi),f(yq),f(Dn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bD=(()=>{class e{constructor(t,n,i){this.config=t,this.injector=n,this.serviceMap=i,this.logger=E(K)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(t=>t!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(t){return Uc(this.config,t)}getParamDefaultValue(t){return Xr(this.config,t)}getSiteContextService(t){if(this.serviceMap[t])try{return this.injector.get(this.serviceMap[t])}catch{pe()&&this.logger.warn(`Couldn't find site context service for '${t}'.`);return}}getValue(t){let n,i=this.getSiteContextService(t);return i&&i.getActive().subscribe(o=>n=o).unsubscribe(),n!==void 0?n:this.getParamDefaultValue(t)}setValue(t,n){let i=this.getSiteContextService(t);i&&i.setActive(n)}getValues(t){return t.length===0?I([]):Ne(t.map(n=>{let i=this.getSiteContextService(n);return i?i.getActive().pipe(dn()):I("")})).pipe(M(n=>n.every(i=>!!i)))}static{this.\u0275fac=function(n){return new(n||e)(f(ri),f(Qe),f($p))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),fS=(()=>{class e extends lo{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(t){super(),this.siteContextParams=t,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(t){if(this.hasContextInRoutes){let n=this.urlExtractContextParameters(t),i=super.parse(n.url);return this.urlTreeIncludeContextParameters(i,n.params),i}else return super.parse(t)}urlExtractContextParameters(t){let[,n,i]=t.match(this.URL_SPLIT)??[,"",""],o=n?.split("/")??[];o[0]===""&&o.shift();let s={},a=0,c=0;for(;a<this.urlEncodingParameters.length&&c<o.length;){let u=this.urlEncodingParameters[a];this.siteContextParams.getParamValues(u).includes(o[c])&&(s[u]=o[c],c++),a++}return t=o.slice(c).join("/")+i,{url:t,params:s}}urlTreeIncludeContextParameters(t,n){t.siteContext=n}serialize(t){let n=this.urlTreeExtractContextParameters(t),i=super.serialize(t);return this.urlIncludeContextParameters(i,n)}urlTreeExtractContextParameters(t){return t.siteContext?t.siteContext:{}}urlIncludeContextParameters(t,n){return this.urlEncodingParameters.map(o=>n[o]?n[o]:this.siteContextParams.getValue(o)).join("/")+t}static{this.\u0275fac=function(n){return new(n||e)(f(bD))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function Cq(e){if(Xr(e,ei)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function Sq(){return{context:{[wo]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[To]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function Iq(e){return()=>{e.initialize()}}function Dq(e){return()=>{e.initialize()}}function bq(e){return()=>{e.initialize()}}var wq=[{provide:Et,useFactory:Dq,deps:[Eq],multi:!0},{provide:Et,useFactory:Iq,deps:[vq],multi:!0},{provide:Et,useFactory:bq,deps:[gq],multi:!0}],Tq=(()=>{class e{constructor(t,n,i){this.siteContextParams=t,this.serializer=n,this.injector=i,this.subscription=new Ee,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(xe),this.location=this.injector.get(hr);let t=this.siteContextParams.getUrlEncodingParameters();t.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(t),this.subscribeRouting())}subscribeChanges(t){t.forEach(n=>{let i=this.siteContextParams.getSiteContextService(n);i&&this.subscription.add(i.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[n]&&this.contextValues[n]!==o){let s=this.router.parseUrl(this.router.url),a=this.router.serializeUrl(s);this.location.replaceState(a)}this.contextValues[n]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(M(t=>t instanceof Sn||t instanceof ut||t instanceof mr||t instanceof In)).subscribe(t=>{this.isNavigating=t instanceof Sn,this.isNavigating&&this.setContextParamsFromRoute(t.url)}))}setContextParamsFromRoute(t){let{params:n}=this.serializer.urlExtractContextParameters(t);Object.keys(n).forEach(i=>this.siteContextParams.setValue(i,n[i]))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(bD),f(fS),f(Qe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Aq(e,r){return()=>nr(e.getStable("context").pipe(k(()=>{r.init()})))}var Rq=[Ao,xi,Zc,{provide:Et,useFactory:Aq,deps:[Dn,Tq],multi:!0}],Mq=[bD,fS,{provide:ho,useExisting:fS}],_q=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadBaseSite$=H(()=>this.actions$.pipe($(pI),rr(()=>this.siteConnector.getBaseSite().pipe(y(i=>{if(i)return new Ff(i);throw new Error("BaseSite is not found")}),F(i=>I(new Pf(ae(i,this.logger)))))))),this.loadBaseSites$=H(()=>this.actions$.pipe($(mI),rr(()=>this.siteConnector.getBaseSites().pipe(y(i=>new Uf(i)),F(i=>I(new kf(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Ks))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Oq=(()=>{class e{constructor(t,n,i){this.actions$=t,this.siteConnector=n,this.state=i,this.logger=E(K),this.loadCurrencies$=H(()=>this.actions$.pipe($(EI),rr(()=>this.siteConnector.getCurrencies().pipe(y(o=>new Vf(o)),F(o=>I(new Bf(ae(o,this.logger)))))))),this.activateCurrency$=H(()=>this.state.select(GC).pipe(ca(2,1),M(([o])=>!!o),y(([o,s])=>new zf({previous:o,current:s}))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Ks),f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),xq=(()=>{class e{constructor(t,n,i){this.actions$=t,this.siteConnector=n,this.state=i,this.logger=E(K),this.loadLanguages$=H(()=>this.actions$.pipe($(SI),rr(()=>this.siteConnector.getLanguages().pipe(y(o=>new qf(o)),F(o=>I(new Wf(ae(o,this.logger)))))))),this.activateLanguage$=H(()=>this.state.select(WC).pipe(ca(2,1),M(([o])=>!!o),y(([o,s])=>new Kf({previous:o,current:s}))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Ks),f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Nq=[xq,Oq,_q],Pq={entities:null,details:{},activeSite:""};function Fq(e=Pq,r){switch(r.type){case gI:return w(v({},e),{details:r.payload});case yI:{let t={};return e.entities&&(t=e.entities[r.payload]),w(v({},e),{details:t,activeSite:r.payload})}case vI:{let n=r.payload.reduce((o,s)=>w(v({},o),{[s.uid??""]:s}),v({},e.entities)),i=n[e.activeSite];return w(v({},e),{details:i,entities:n})}}return e}var Lq={entities:null,activeCurrency:null};function kq(e=Lq,r){switch(r.type){case CI:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case ng:{let t=r.payload;return w(v({},e),{activeCurrency:t})}}return e}var Uq={entities:null,activeLanguage:null};function jq(e=Uq,r){switch(r.type){case II:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case rg:{let t=r.payload;return w(v({},e),{activeLanguage:t})}}return e}function $q(){return{languages:jq,currencies:kq,baseSite:Fq}}var bN=new S("SiteContextReducers"),Bq={provide:bN,useFactory:$q};function Vq(){return{state:{ssrTransfer:{keys:{[DI]:Ro.TRANSFER_STATE}}}}}var Hq=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bo(Vq),Bq],imports:[Ye,jn.forFeature(DI,bN),$n.forFeature(Nq)]})}}return e})();function zq(e,r){return r.context?.[ei]?null:e}var Gq=(()=>{class e{static forRoot(){return{ngModule:e,providers:[bo(Sq),pq,...Rq,...Mq,TI(Cq),{provide:sg,useFactory:zq,deps:[lq,ri],multi:!0},...wq]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[ii,Hq,fq]})}}return e})(),Wq=!1;function qq(e=Wq,r){switch(r.type){case NO:return r.dismissed}return e}var Yq=!1;function Kq(e=Yq,r){switch(r.type){case PO:return r.updated}return e}var Zq=[];function q_(e,r,t){return e?e.map(n=>(n.templateCode===r&&(n=w(v({},n),{consentState:t})),n)):[]}function Qq(e=Zq,r){switch(r.type){case OO:return q_(e,r.templateCode,Us.GIVEN);case xO:return q_(e,r.templateCode,Us.WITHDRAWN);case _O:return r.payload}return e}function Jq(){return{templates:dt(Pc),consents:Qq,ui:ao({bannerDismissed:qq,updated:Kq})}}var wN=new S("AnonymousConsentsReducers"),Xq={provide:wN,useFactory:Jq};function e6(e){return function(r,t){return r!==void 0&&(t.type===Sr||t.type===wn)&&(r=w(v({},r),{templates:{}})),e(r,t)}}var t6=[e6],n6=(()=>{class e{constructor(t,n,i){this.statePersistenceService=t,this.store=n,this.anonymousConsentsService=i,this.subscription=new Ee,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:t=>this.onRead(t)}))}getAuthState(){return this.store.select(Fc)}onRead(t){let n=t?.templates,i=t?.consents,o=t?.ui;n?.success&&this.store.dispatch(new _f(n.value??[])),i&&this.anonymousConsentsService.setConsents(i),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(Vc),f(le),f($c))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function r6(e){return()=>e.initSync()}var i6=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[Xq,{provide:Et,useFactory:r6,deps:[n6],multi:!0}],imports:[Ye,ii,jn.forFeature(RO,wN,{metaReducers:t6}),$n.forFeature(uq)]})}}return e})(),Cle=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...rW,$c,bn(s8)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[i6]})}}return e})(),TN={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},o6=w(v({},TN),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),wD="cms",gg="[Cms] Navigation Entity",Jc="[Cms] Component Entity",TD="[Cms] Load Component",AD="[Cms] Load Component Fail",RD="[Cms] Load Component Success",MD="[Cms] Get Component from Page",Bp=class extends $t{constructor(r){super(Jc,r.uid),this.payload=r,this.type=TD}},Vp=class extends _t{constructor(r){super(Jc,r.uid,r.error),this.payload=r,this.type=AD}},hS=class extends gt{constructor(r){super(Jc,r.uid||r.component.uid||""),this.payload=r,this.type=RD}},pS=class extends gt{constructor(r){super(Jc,[].concat(r).map(t=>t.component.uid)),this.payload=r,this.type=MD}},AN="[Cms] Load NavigationEntry items",s6="[Cms] Load NavigationEntry items Fail",RN="[Cms] Load NavigationEntry items Success",gS=class extends $t{constructor(r){super(gg,r.nodeId),this.payload=r,this.type=AN}},Hp=class extends _t{constructor(r,t){super(gg,r,t),this.payload=t,this.type=s6}},mS=class extends gt{constructor(r){super(gg,r.nodeId),this.payload=r,this.type=RN}},MN="[Cms] Load Page Data",_N="[Cms] Load Page Data Fail",_D="[Cms] Load Page Data Success",ON="[Cms] Set Page Success Index",xN="[Cms] Set Page Fail Index",ks=class extends $t{constructor(r){super(r.type??"",r.id),this.payload=r,this.type=MN}},vS=class extends _t{constructor(r,t){super(r.type??"",r.id,t),this.type=_N}},yS=class extends gt{constructor(r,t){super(r.type??"",r.id,t),this.type=_D}},ES=class extends gt{constructor(r,t){super(r.type??"",r.id,t),this.type=ON}},CS=class extends _t{constructor(r,t){super(r.type??"",r.id,new Error("Failed to set cms page index")),this.payload=t,this.type=xN}};var OD=En(wD),a6=T(OD,e=>e.components),NN=e=>T(a6,r=>wO(r,e)),PN=(e,r)=>T(NN(e),t=>t&&t.pageContext&&t.pageContext[r]||Vn),c6=(e,r)=>T(PN(e,r),t=>rt(t)),u6=e=>T(NN(e),r=>r?r.component:void 0),l6=(e,r)=>T(u6(e),c6(e,r),(t,n)=>{switch(n){case!0:return t;case!1:return null;case void 0:return}}),d6=T(OD,e=>e.navigation),f6=e=>T(d6,r=>qt(r,e)),h6=e=>T(f6(e),r=>rt(r)),p6=e=>e.pageData.entities,g6=(e,r)=>{switch(r){case we.CONTENT_PAGE:return e.content;case we.PRODUCT_PAGE:return e.product;case we.CATEGORY_PAGE:return e.category;case we.CATALOG_PAGE:return e.catalog;default:return{entities:{}}}},m6=e=>{let r=new Set;if(e&&e.slots)for(let t of Object.keys(e.slots))for(let n of e.slots[t].components||[])r.add(n.flexType??"");return Array.from(r)},FN=T(OD,e=>e.page),v6=T(FN,e=>e.index),y6=e=>T(v6,r=>g6(r,e.type)),LN=e=>T(y6(e),r=>qt(r,e.id)),kN=e=>T(LN(e),r=>rt(r)),E6=T(FN,p6),zp=e=>T(E6,kN(e),(r,t)=>r[t]),C6=e=>T(zp(e),r=>m6(r)),S6=(e,r)=>T(zp(e),t=>{if(t)return t.slots?.[r]||{components:[]}});var I6="current";function Qr(e,r){return e?r&&e.type===we.CONTENT_PAGE?`${e.type}`:`${e.type}-${e.id}`:I6}var mg=(()=>{class e{constructor(t,n){this.store=t,this.routingService=n,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(_(t=>this.store.select(zp(t))))}getComponentData(t,n){if(t==="")return I(null);let i=Qr(n,!0);this.components[t]||(this.components[t]={});let o=this.components[t];return o[i]||(o[i]=this.createComponentData(t,n)),o[i]}createComponentData(t,n){if(!n)return this.routingService.getPageContext().pipe(M(a=>!!a),_(a=>this.getComponentData(t,a)));let i=Qr(n,!0),o=Ne([this.routingService.getNextPageContext(),this.store.pipe(R(PN(t,i)))]).pipe(un(ui),k(([a,c])=>{let u=c.loading||c.success||c.error,l=a?Qr(a,!0)===i:!1;!u&&!l&&this.store.dispatch(new Bp({uid:t,pageContext:n}))})),s=this.store.pipe(R(l6(t,i)),M(sn));return Ui(()=>o.subscribe(),()=>s).pipe(ot({bufferSize:1,refCount:!0}))}getContentSlot(t){return this.routingService.getPageContext().pipe(_(n=>this.store.pipe(R(S6(n,t)),M(sn))))}getNavigationEntryItems(t){return this.store.pipe(R(h6(t)))}loadNavigationItems(t,n){this.store.dispatch(new gS({nodeId:t,items:n}))}refreshLatestPage(){this.routingService.getPageContext().pipe(re(1)).subscribe(t=>this.store.dispatch(new ks(t)))}refreshPageById(t){let n={id:t};this.store.dispatch(new ks(n))}refreshComponent(t,n){this.store.dispatch(new Bp({uid:t,pageContext:n}))}getPageState(t){return this.store.pipe(R(zp(t)))}getPageComponentTypes(t){return this.store.pipe(R(C6(t)))}hasPage(t,n=!1){return this.store.pipe(R(LN(t)),k(i=>{let o=i.loading||i.success||i.error,s=n&&!i.loading;(!o||s)&&(this.store.dispatch(new ks(t)),n=!1)}),M(i=>i.hasOwnProperty("value")?!!(i.success||i.error&&!i.loading):!1),y(i=>!!i.success),F(()=>I(!1)))}getPage(t,n=!1){return this.hasPage(t,n).pipe(_(i=>i?this.getPageState(t):I(null)))}getPageIndex(t){return this.store.pipe(R(kN(t)))}setPageFailIndex(t,n){this.store.dispatch(new CS(t,n))}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(_i))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),D6={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},on=class{getScore(r){let t=0;return this.pageType&&(t+=r.type===this.pageType?1:-1),this.pageTemplate&&(t+=r.template===this.pageTemplate?1:-1),this.pageUid&&(t+=r.pageId===this.pageUid?10:-10),t}hasMatch(r){return this.getScore(r)>0}getPriority(r){return this.getScore(r)}},Cr=class{},b6=(()=>{class e{constructor(t){this.translation=t}resolveBreadcrumbs({url:t,pageMetaConfig:n}){let i=n?.breadcrumb;return i?typeof i!="string"&&i.raw?I([{link:t,label:i.raw}]):this.translateBreadcrumbLabel(i).pipe(y(o=>[{label:o,link:t}])):I([])}translateBreadcrumbLabel(t){let n=typeof t=="string"?t:t.i18n;return this.getParams().pipe(_(i=>this.translation.translate(n??"",i??{})))}getParams(){return I({})}static{this.\u0275fac=function(n){return new(n||e)(f(Cr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w6=(()=>{class e{constructor(t,n){this.activatedRoutesService=t,this.injector=n,this.routes$=this.activatedRoutesService.routes$.pipe(y(i=>i=i.slice(1,i.length))),this.routesWithExtras$=this.routes$.pipe(y(i=>i.reduce((o,s)=>{let a=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(b6),url:""},c=this.getResolver(s)??a.resolver,u=this.getUrlPart(s),l=a.url+(u?`/${u}`:"");return o.concat({route:s,resolver:c,url:l})},[])),ot({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(t){return this.routesWithExtras$.pipe(y(n=>t?.includeCurrentRoute?n:this.trimCurrentRoute(n)),_(n=>n.length?Ne(n.map(i=>this.resolveRouteBreadcrumb(i))):I([])),y(n=>n.flat()))}getResolver(t){let n=this.getPageMetaConfig(t);return typeof n!="string"&&n?.resolver?this.injector.get(n.resolver,null):null}resolveRouteBreadcrumb({route:t,resolver:n,url:i}){let o=n;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:t,url:i,pageMetaConfig:this.getPageMetaConfig(t)}):I([])}trimCurrentRoute(t){let n=t.length-1;for(;t[n]?.route?.url.length===0&&n>=0;)n--;return t.slice(0,n)}getUrlPart(t){return t.url.map(n=>n.path).join("/")}getPageMetaConfig(t){return t?.routeConfig?.data?.cxPageMeta}static{this.\u0275fac=function(n){return new(n||e)(f($O),f(Qe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UN=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),jN=(()=>{class e{constructor(t,n){this.pageMetaConfig=t,this.winRef=n}getCanonicalUrl(t,n){let i=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),t);return this.buildCanonicalUrl(n??this.winRef.location.href??"",i)}buildCanonicalUrl(t,n){return n.forceHttps&&(t=t.replace(/^http(?!s):/i,"https:")),n.forceWww&&(t=t.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),n.removeQueryParams&&(t=this.removeQueryParams(t,n)),n.forceTrailingSlash&&(t=t.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),t}removeQueryParams(t,n){let i=t.indexOf("?");if(i>-1){let o=t.substring(0,i),s=new URLSearchParams(t.substring(i));t=o,Array.isArray(n.removeQueryParams)&&(n.removeQueryParams.forEach(a=>{s.delete(a)}),s.toString().length>0&&(t=`${o}?${s.toString()}`))}return t}static{this.\u0275fac=function(n){return new(n||e)(f(UN),f(Dr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),vg=(()=>{class e{constructor(t,n,i,o,s){this.cmsService=t,this.translation=n,this.routingPageMetaResolver=i,this.router=o,this.pageLinkService=s,this.page$=Ze(()=>this.cmsService.getCurrentPage()).pipe(M(a=>!!a)),this.title$=this.page$.pipe(y(a=>a.title)),this.description$=this.page$.pipe(y(a=>a.description)),this.robots$=this.page$.pipe(y(a=>a.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(y(a=>[{label:a,link:"/"}])),this.breadcrumb$=Ne([this.homeBreadcrumb$,Ze(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(y(a=>a.flat()),ot({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(t){return this.router.events.pipe(M(n=>n instanceof ut),tr(null),y(()=>this.pageLinkService.getCanonicalUrl(t)))}static{this.\u0275fac=function(n){return new(n||e)(f(mg),f(Cr),f(w6),f(xe),f(jN))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),T6=(()=>{class e extends on{constructor(t){super(),this.basePageMetaResolver=t,this.pageType=we.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(f(vg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),A6=(()=>{class e{static forRoot(){return{ngModule:e,providers:[bn(D6)]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:on,useExisting:T6,multi:!0}]})}}return e})();function xD(e=0,r){return t=>{let n=[];return t.pipe(k(i=>n.push(i)),$i(e,r),y(()=>n),k(()=>n=[]))}}var R6=(()=>{class e extends ED{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),$N=(()=>{class e{constructor(t){this.cmsDataConfig=t}mergePageStructure(t,n){return this.mergePage(t,n).pipe(_(i=>this.mergeSlots(i)))}shouldIgnoreBackend(t){return this.getPageFromConfig(t).pipe(y(n=>!!n&&!!n.ignoreBackend))}getComponentFromConfig(t){return I(this.getComponentById(t))}getComponentsFromConfig(t){return I(t.map(n=>this.getComponentById(n)))}getPageFromConfig(t){return I(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(n=>n.pageId===t):void 0)}mergePage(t,n){return this.getPageFromConfig(t).pipe(_(i=>i?(n.page||(n.page=v({},i),n.page.slots={}),n.page.slots||(n.page.slots={}),this.mergeSlots(n,i.slots)):I(n)))}mergeSlots(t,n){if(!n&&this.cmsDataConfig.cmsStructure?.slots&&(n=this.cmsDataConfig.cmsStructure.slots),!n)return I(t);for(let i of Object.keys(n))if(t.page?.slots&&!Object.keys(t.page.slots).includes(i)){t.page.slots[i]={};for(let o of this.getComponentsByPosition(n,i))t.page.slots[i].components=t.page.slots[i].components??[],t.page.slots[i].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),t.components=t.components??[],t.components.push(o)}return I(t)}getComponentsByPosition(t,n){let i=[];if(t[n]&&t[n].componentIds){for(let o of t[n].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let s=this.cmsDataConfig.cmsStructure.components[o];s&&i.push(v({uid:o},s))}}return i}getComponentById(t){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[t]:void 0}static{this.\u0275fac=function(n){return new(n||e)(f(R6))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),BN=(()=>{class e{constructor(t,n,i){this.cmsStructureConfigService=t,this.cmsComponentAdapter=n,this.config=i}get(t,n){return this.cmsStructureConfigService.getComponentFromConfig(t).pipe(_(i=>i?I(i):this.cmsComponentAdapter.load(t,n)))}getList(t,n){return this.cmsStructureConfigService.getComponentsFromConfig(t).pipe(_(i=>{let o=i.reduce((s,a,c)=>(a===void 0&&s.push(t[c]),s),[]);if(o.length>0){let s=this.config.componentsLoading?.pageSize||o.length,a=Math.ceil(o.length/s),c=[],u=0;for(;u<a;)c.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(u*s,(u+1)*s),n)),u++;return ji(...c).pipe(y(l=>[...i.filter(Boolean)].concat(...l)))}else return I(i)}))}static{this.\u0275fac=function(n){return new(n||e)(f($N),f(Tp),f(ED))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),M6=(()=>{class e{constructor(t,n){this.actions$=t,this.cmsComponentConnector=n,this.logger=E(K),this.contextChange$=this.actions$.pipe($(wn,Sr,zn)),this.loadComponent$=H(()=>({scheduler:i,debounce:o=0}={})=>this.actions$.pipe($(TD),_r(s=>Qr(s.payload.pageContext)),z(s=>s.pipe(xD(o,i),z(a=>this.loadComponentsEffect(a.map(c=>c.payload.uid),a[0].payload.pageContext??{id:""})))),og(this.contextChange$)))}loadComponentsEffect(t,n){return this.cmsComponentConnector.getList(t,n).pipe(_(i=>{let o=[],s=new Set(t);for(let a of i)o.push(new hS({component:a,uid:a.uid,pageContext:n})),s.delete(a.uid??"");return s.forEach(a=>{o.push(new Vp({uid:a,pageContext:n,error:new Error(`Failed to load CmsComponent ${n.type} uid: ${a}`)}))}),me(o)}),F(i=>me(t.map(o=>new Vp({uid:o,error:ae(i,this.logger),pageContext:n})))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(BN))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),ND=(()=>{class e{constructor(t){this.globService=t}getFalsy(){return function(){return null}}getFromPaths(t){let n=t.map(o=>this.getFromPath(o)),i=this.getCombined(n);return pe()&&(i._paths=t),i}getCombined(t){let n=function(o,s,a){for(let c=0;c<t.length;c++){let u=t[c](o,s,a);if(u)return u}return null};return pe()&&(n._matchers=t),n}getFromPath(t=""){let n=function(c,u,l){if(t==="")return i(c,u,l);let d=t.split("/");if(o(d.length>c.length,s(l.pathMatch==="full",o(u.hasChildren(),d.length<c.length))))return null;let h={};for(let m=0;m<d.length;m++){let C=d[m],D=c[m];if(C.startsWith(":"))h[C.substring(1)]=D;else if(C!==D.path)return null}return{consumed:c.slice(0,d.length),posParams:h}};return pe()&&(n._path=t),n;function i(a,c,u){return s(u.pathMatch==="full",o(c.hasChildren(),a.length>0))?null:{consumed:[],posParams:{}}}function o(a,c){return a||c}function s(a,c){return a&&c}}getOpposite(t){let n=function(o,s,a){return t(o,s,a)?null:{consumed:o,posParams:{}}};return pe()&&(n._originalMatcher=t),n}getFromGlob(t){let n=this.globService.getValidator(t),i=function(s){let a=`/${s.map(c=>c.path).join("/")}`;return n(a)?{consumed:s,posParams:{}}:null};return pe()&&(i._globPatterns=t),i}static{this.\u0275fac=function(n){return new(n||e)(f(b3))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_6=(()=>{class e{constructor(t,n,i){this.injector=t,this.routingConfigService=n,this.urlMatcherService=i,this.logger=E(K),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let t=this.injector.get(xe);t.resetConfig(this.configureRoutes(t.config))}configureRoutes(t){return t.map(n=>{let i=this.configureRoute(n);return n.children&&n.children.length&&(i.children=this.configureRoutes(n.children)),i})}configureRoute(t){let n=this.getRouteName(t);if(n){let i=this.routingConfigService.getRouteConfig(n);return this.validateRouteConfig(i,n,t),i?.disabled?(delete t.path,w(v({},t),{matcher:this.urlMatcherService.getFalsy()})):i?.matchers?(delete t.path,w(v({},t),{matcher:this.resolveUrlMatchers(t,i?.matchers)})):i?.paths?.length===1?(delete t.matcher,w(v({},t),{path:i?.paths[0]})):(delete t.path,w(v({},t),{matcher:this.urlMatcherService.getFromPaths(i?.paths||[])}))}return t}resolveUrlMatchers(t,n){let i=n?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(t,o))??[];return this.urlMatcherService.getCombined(i)}resolveUrlMatcherFactory(t,n){return this.injector.get(n)(t)}getRouteName(t){return t.data&&t.data.cxRoute}validateRouteConfig(t,n,i){if(pe()){if(t===null||t?.paths===null||t?.matchers)return;if(!t?.paths){this.warn(`Could not configure the named route '${n}'`,i,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...t){pe()&&this.logger.warn(...t)}static{this.\u0275fac=function(n){return new(n||e)(f(Qe),f(tg),f(ND))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Sle=(()=>{class e{constructor(t){this.urlService=t}transform(t){return this.urlService.transform(t)}static{this.\u0275fac=function(n){return new(n||e)(J(kc,16))}}static{this.\u0275pipe=Jt({name:"cxUrl",type:e,pure:!0})}}return e})(),Ile=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[Ye]})}}return e})(),O6=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),x6=(()=>{class e{constructor(t,n){this.winRef=t,this.platformId=n}canActivate(t,n){return Un(this.platformId)&&this.redirect(t,n),!1}redirect(t,n){let i=this.winRef.nativeWindow;i&&i.location&&(i.location.href=n.url)}static{this.\u0275fac=function(n){return new(n||e)(f(Dr),f($e))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function N6(e){return()=>{e.addRoutes()}}var P6=(()=>{class e{constructor(t,n,i){this.config=t,this.urlMatcherService=n,this.injector=i}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let t=this.injector.get(xe),n=this.getRoutes();n.length&&t.resetConfig([...n,...t.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let t=[];return t.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[x6],component:{}}),t}getUrlMatcher(){let t=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(t)}static{this.\u0275fac=function(n){return new(n||e)(f(O6),f(ND),f(Qe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dle=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Et,multi:!0,useFactory:N6,deps:[P6]}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),F6=(()=>{class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(t,n){this.config=t,this.urlParsingService=n,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(i=>this.getSegments(i)))}isUrlProtected(t){return this.shouldProtect&&!this.matchAnyPath(t,this.nonProtectedPaths)}matchAnyPath(t,n){return n.some(i=>this.matchPath(t,i))}matchPath(t,n){return this.urlParsingService.matchPath(t,n)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((t,n)=>n.protected===!1&&n.paths&&n.paths.length?t.concat(n?.paths??[]):t,[])}getSegments(t){return(t||"").split("/")}static{this.\u0275fac=function(n){return new(n||e)(f(eg),f(fI))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ble=(()=>{class e{constructor(t,n){this.service=t,this.authGuard=n}canActivate(t){let n=t.url.map(i=>i.path);return n=n.length?n:[""],this.service.isUrlProtected(n)?this.authGuard.canActivate():I(!0)}static{this.\u0275fac=function(n){return new(n||e)(f(F6),f(tW))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),L6=(()=>{class e{constructor(t,n){this.baseSiteService=t,this.configInit=n,this.scopes=["routing"],this.configFactory=()=>nr(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(_(t=>{let n=t?.context?.[ei]?.[0];return this.baseSiteService.get(n).pipe(k(i=>{if(!i)throw new Error(`Error: Cannot get base site config for ${n}.`)}),y(i=>this.getRoutingConfig(i)),re(1))}))}getRoutingConfig(t){return{routing:{protected:t?.requiresAuthentication}}}static{this.\u0275fac=function(n){return new(n||e)(f(Ao),f(Dn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),k6=(()=>{class e{constructor(t,n){this.actions$=t,this.router=n,this.clearCmsRoutes$=H(()=>this.actions$.pipe($(wn,Sr,zn),k(()=>{let i=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));i.length!==this.router.config.length&&this.router.resetConfig(i)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(xe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),U6=[k6],j6={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function $6(){return{router:B6}}function B6(e=j6,r){switch(r.type){case of:return w(v({},e),{nextState:r.payload.routerState,navigationId:r.payload.event.id});case af:case sf:return w(v({},e),{nextState:void 0});case UO:return e.nextState?w(v({},e),{nextState:w(v({},e.nextState),{context:r.payload})}):e;case cf:return{state:w(v({},r.payload.routerState),{context:e.nextState?.context??r.payload.routerState.context}),navigationId:r.payload.event.id,nextState:void 0};default:return e}}var VN=new S("RouterReducers"),V6={provide:VN,useFactory:$6},H6=(()=>{class e{serialize(t){let n=t.root,i=!1,o,s,a="";for(;n.firstChild;)n=n.firstChild,a+="/"+n.url.map(u=>u.path).join("/"),n.data?.cxRoute&&(s=n.data?.cxRoute),n.data?.cxCmsRouteContext&&(o=n.data?.cxCmsRouteContext),!i&&(o||n.routeConfig?.canActivate?.find(u=>u&&u.guardName==="CmsPageGuard"))&&(i=!0);s=s||this.lookupSemanticRoute(a);let{params:c}=n;return o=this.getPageContext(o,n),{url:t.url,queryParams:t.root.queryParams,params:c,context:o,cmsRequired:i,semanticRoute:s}}getPageContext(t,n){let i=t;if(n.url.length>0&&n.url[0].path==="cx-preview"&&n.queryParams.cmsTicketId!==void 0)i={id:uN,type:we.CONTENT_PAGE};else{let{params:o}=n;o.productCode?i={id:o.productCode,type:we.PRODUCT_PAGE}:o.categoryCode?i={id:o.categoryCode,type:we.CATEGORY_PAGE}:o.brandCode?i={id:o.brandCode,type:we.CATEGORY_PAGE}:n.data.pageLabel!==void 0&&(i={id:n.data.pageLabel,type:we.CONTENT_PAGE})}return i||(n.url.length>0?i={id:"/"+n.url.map(s=>s.path).join("/"),type:we.CONTENT_PAGE}:i={id:cN,type:we.CONTENT_PAGE}),i}lookupSemanticRoute(t){return this.routingConfig.getRouteName(t.substr(1))}constructor(t){this.routingConfig=t}static{this.\u0275fac=function(n){return new(n||e)(f(tg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})();function z6(e){return()=>e.init()}function G6(e,r){return r.routing?.protected===void 0?e:null}function W6(){let r=(E(AI,{optional:!0})??[]).map(t=>t());return Promise.all(r)}var wle=(()=>{class e{static forRoot(){return{ngModule:e,providers:[V6,{provide:Ds,useClass:H6},{provide:Et,useFactory:z6,deps:[_6],multi:!0},{provide:sg,useFactory:G6,deps:[L6,eg],multi:!0},{provide:md,useFactory:W6}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[jn.forFeature(BC,VN),$n.forFeature(U6),t_.forRoot({routerState:1,stateKey:BC})]})}}return e})();function q6(e,r){return n=>{let i=n.data&&n.data.cxRoute,o=e.getRouteConfig(i),s=o&&o.paths||[];return r.getFromPaths(s)}}var Tle=new S("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>q6(E(tg),E(ND))}),Y6=(()=>{class e{getIdListByItemType(t){let n=[],i=[],o=[];return t.forEach(s=>{s.superType==="AbstractCMSComponent"?i.push(s.id):s.superType==="AbstractPage"?n.push(s.id):s.superType==="AbstractMedia"&&o.push(s.id)}),{pageIds:n,componentIds:i,mediaIds:o}}constructor(t,n,i){this.actions$=t,this.cmsComponentConnector=n,this.routingService=i,this.logger=E(K),this.loadNavigationItems$=H(()=>this.actions$.pipe($(AN),y(o=>o.payload),y(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),z(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(M(sn),y(s=>s.state.context),re(1),z(s=>this.cmsComponentConnector.getList(o.ids.componentIds,s).pipe(y(a=>new mS({nodeId:o.nodeId,components:a})),F(a=>I(new Hp(o.nodeId,ae(a,this.logger))))))):I(new Hp(o.nodeId,new Error("navigation nodes are empty"))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(BN),f(_i))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),K6=(()=>{class e{constructor(t,n){this.cmsPageAdapter=t,this.cmsStructureConfigService=n}get(t){return this.cmsStructureConfigService.shouldIgnoreBackend(t.id).pipe(_(n=>n?I({}):this.cmsPageAdapter.load(t).pipe(F(i=>{if(i instanceof Mt&&i.status===400)return I({});throw i}))),_(n=>this.mergeDefaultPageStructure(t,n)))}mergeDefaultPageStructure(t,n){return this.cmsStructureConfigService.mergePageStructure(t.id,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Ap),f($N))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z6=(()=>{class e{constructor(t,n,i){this.actions$=t,this.cmsPageConnector=n,this.routingService=i,this.logger=E(K),this.refreshPage$=H(()=>this.actions$.pipe($(wn,Sr,zn),_(()=>this.routingService.getRouterState().pipe(M(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),re(1),y(o=>o.state.context),z(o=>I(new ks(o))))))),this.loadPageData$=H(()=>this.actions$.pipe($(MN),y(o=>o.payload),_r(o=>Qr(o)),z(o=>o.pipe(_(s=>this.cmsPageConnector.get(s).pipe(z(a=>{let c=[new pS((a.components??[]).map(l=>({component:l,pageContext:s}))),new yS(s,a.page??{})],u=a.page?.label;return u&&u!==s.id&&c.unshift(new ES({id:u,type:s.type},a.page??{})),c}),F(a=>I(new vS(s,ae(a,this.logger))))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(K6),f(_i))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Q6=[Z6,M6,Y6],J6={component:void 0,pageContext:{}};function Df(e,r){switch(r.type){case AD:return!1;case MD:case RD:return!0}return e}function X6(e=J6,r){switch(r.type){case TD:{let t=dt(r.meta.entityType,Df),n=Qr(r.payload.pageContext,!0);return w(v({},e),{pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case AD:{let t=dt(r.meta.entityType,Df),n=Qr(r.payload.pageContext,!0);return w(v({},e),{pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case RD:{let t=dt(r.meta.entityType,Df),n=Qr(r.payload.pageContext,!0);return w(v({},e),{component:r.payload.component,pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}case MD:{let t=dt(r.meta.entityType,Df);if(!Array.isArray(r.payload)){let n=Qr(r.payload.pageContext,!0);return w(v({},e),{component:r.payload.component,pageContext:w(v({},e.pageContext),{[n]:t(e.pageContext[n],r)})})}}}return e}var e5=void 0;function t5(e=e5,r){switch(r.type){case RN:if(r.payload.components.length){let n=r.payload.components.reduce((i,o)=>w(v({},i),{[`${o.uid}_AbstractCMSComponent`]:o}),{});return v(v({},e),n)}}return e}var n5={entities:{}};function r5(e=n5,r){switch(r.type){case _D:{let t=r.payload;return w(v({},e),{entities:w(v({},e.entities),{[t.pageId??""]:t})})}}return e}var Y_=void 0;function bf(e){return(r=Y_,t)=>{if(t.meta&&t.meta.entityType===e)switch(t.type){case _D:return t.payload.pageId;case _N:return Y_;case xN:return t.payload;case ON:return t.payload.pageId}return r}}function i5(){return{page:ao({pageData:r5,index:ao({content:vo(we.CONTENT_PAGE,bf(we.CONTENT_PAGE)),product:vo(we.PRODUCT_PAGE,bf(we.PRODUCT_PAGE)),category:vo(we.CATEGORY_PAGE,bf(we.CATEGORY_PAGE)),catalog:vo(we.CATALOG_PAGE,bf(we.CATALOG_PAGE))})}),components:Nc(Jc,X6),navigation:vo(gg,t5)}}var HN=new S("CmsReducers"),o5={provide:HN,useFactory:i5};function s5(e){return function(r,t){return(t.type===wn||t.type===Sr||t.type===zn)&&(r=void 0),e(r,t)}}var a5=[s5];function c5(){return{state:{ssrTransfer:{keys:{[wD]:Ro.TRANSFER_STATE}}}}}var u5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bo(c5),o5],imports:[Ye,ii,jn.forFeature(wD,HN,{metaReducers:a5}),$n.forFeature(Q6)]})}}return e})();function l5(e){let r=!1;return e.find(t=>{let n=t.features?.[_s];n&&(r=n)}),r?o6:TN}var d5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[mg,bo(l5,[xc])]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[u5,A6.forRoot()]})}}return e})(),f5=(()=>{class e{constructor(){this.logger=E(K)}handleError(t){this.logger.error(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zN=new S("MULTI_ERROR_HANDLER"),h5=(()=>{class e{constructor(){this.logger=E(K),this.errorHandlers=E(zN)}handleError(t){this.errorHandlers.forEach(n=>{n.handleError(t)})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),GN=(()=>{class e{constructor(){this.errorHandler=E(ct),this.windowRef=E(Dr)}handle(t){let n=t.error;!(n instanceof wc)&&!(n instanceof Mt)&&this.shouldHandleError(n)&&this.errorHandler.handleError(n)}isErrorAction(t){return"error"in t}shouldHandleError(t){return!this.windowRef.isBrowser()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),p5=(()=>{class e{constructor(){this.actions$=E(De),this.errorActionService=E(GN),this.featureConfigService=E(Oi),this.error$=H(()=>this.actions$.pipe(M(this.errorActionService.isErrorAction),k(t=>{this.featureConfigService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")&&this.errorActionService.handle(t)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),g5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[GN]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[$n.forFeature([p5])]})}}return e})(),m5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),Tr=function(e){return e[e.UNKNOWN=-1]="UNKNOWN",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.CONFLICT=409]="CONFLICT",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e}(Tr||{}),St=(()=>{class e{constructor(t,n){this.globalMessageService=t,this.platformId=n}hasMatch(t){return t.status===this.responseStatus}getErrorTranslationKey(t){let n="httpHandlers.badRequest";return t?`${n}.${t.toLowerCase().replace(/ /g,"_")}`:`${n}PleaseLoginAgain`}isSsr(){return this.platformId?!Un(this.platformId):!1}static{this.\u0275fac=function(n){return new(n||e)(f(Ys),f($e))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),v5=(()=>{class e extends St{constructor(){super(...arguments),this.responseStatus=Tr.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),y5="/authorizationserver/oauth/token",E5=(()=>{class e extends St{constructor(){super(...arguments),this.responseStatus=Tr.BAD_REQUEST}handleError(t,n){this.handleBadPassword(t,n),this.handleBadLoginResponse(t,n),this.handleValidationError(t,n),this.handleGuestDuplicateEmail(t,n),this.handleUnknownIdentifierError(t,n)}handleBadPassword(t,n){n.url?.includes(y5)&&n.error?.error==="invalid_grant"&&t.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(n.error?.error_description),params:{errorMessage:n.error.error_description||n.message||""}},ke.MSG_TYPE_ERROR),this.globalMessageService.remove(ke.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(t,n){this.getErrors(n).filter(i=>i.type==="PasswordMismatchError").forEach(()=>{let o=new URL(t.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},ke.MSG_TYPE_ERROR)})}handleValidationError(t,n){this.getErrors(n).filter(i=>i.type==="ValidationError").forEach(i=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${i.reason}.${i.subject}`},ke.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(t,n){this.getErrors(n).filter(i=>i.type==="DuplicateUidError").forEach(i=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:i.message||""}},ke.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(t,n){this.getErrors(n).filter(i=>i.type==="UnknownIdentifierError").forEach(i=>{this.globalMessageService.add(i.message?i.message:{key:"httpHandlers.unknownIdentifier"},ke.MSG_TYPE_ERROR)})}getErrors(t){return(t.error?.errors||[]).filter(n=>n.type!=="JaloObjectNoLongerValidError")}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),C5=(()=>{class e extends St{constructor(){super(...arguments),this.responseStatus=Tr.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),S5=(()=>{class e extends St{handleError(t){t.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}constructor(t,n,i){super(t),this.globalMessageService=t,this.authService=n,this.occEndpoints=i,this.responseStatus=Tr.FORBIDDEN}static{this.\u0275fac=function(n){return new(n||e)(f(Ys),f(qn),f(Ke))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),I5=(()=>{class e extends St{constructor(){super(...arguments),this.responseStatus=Tr.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),D5=(()=>{class e extends St{constructor(){super(...arguments),this.responseStatus=Tr.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),b5=(()=>{class e extends St{constructor(){super(...arguments),this.responseStatus=Tr.NOT_FOUND}handleError(){}getPriority(){return-10}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),w5=(()=>{class e extends St{constructor(){super(...arguments),this.logger=E(K),this.featureConfigService=E(Oi),this.responseStatus=Tr.UNKNOWN}hasMatch(t){return!0}handleError(t,n){(this.featureConfigService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")?pe():pe()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,n.message)}getPriority(){return-50}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),T5=(()=>{class e{constructor(t){this.unifiedInjector=t,this.handlers$=this.unifiedInjector.getMulti(St).pipe(ot(1))}intercept(t,n){return n.handle(t).pipe(k({error:i=>{i instanceof Mt&&this.handleErrorResponse(t,i)}}))}handleErrorResponse(t,n){let i=this.getResponseHandler(n);i&&i.handleError(t,n)}getResponseHandler(t){return bI(Qf(this.handlers$)??[],[t])}static{this.\u0275fac=function(n){return new(n||e)(f(Bc))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),A5=[{provide:St,useExisting:w5,multi:!0},{provide:St,useExisting:v5,multi:!0},{provide:St,useExisting:E5,multi:!0},{provide:St,useExisting:C5,multi:!0},{provide:St,useExisting:S5,multi:!0},{provide:St,useExisting:I5,multi:!0},{provide:St,useExisting:D5,multi:!0},{provide:St,useExisting:b5,multi:!0}],R5=[{provide:tn,useExisting:T5,multi:!0}],M5={entities:{}};function _5(e=M5,r){switch(r.type){case Jf:{let t=r.payload;if(e.entities[t.type]===void 0)return w(v({},e),{entities:w(v({},e.entities),{[t.type]:[t.text]})});{let n=e.entities[t.type];return w(v({},e),{entities:w(v({},e.entities),{[t.type]:[...n,t.text]})})}}case cx:{let t=r.payload.type,n=r.payload.index;if(Object.keys(e.entities).length===0||!e.entities[t])return e;let i=[...e.entities[t]];return i.splice(n,1),w(v({},e),{entities:w(v({},e.entities),{[t]:i})})}case ux:{let t=w(v({},e.entities),{[r.payload]:[]});return w(v({},e),{entities:t})}}return e}function O5(){return _5}var WN=new S("GlobalMessageReducers"),x5={provide:WN,useFactory:O5},N5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[x5],imports:[ii,jn.forFeature(lx,WN)]})}}return e})(),P5=(()=>{class e{constructor(t,n,i,o){this.actions$=t,this.store=n,this.config=i,this.platformId=o,this.removeDuplicated$=H(()=>this.actions$.pipe($(Jf),y(s=>s.payload),_(s=>I(s.text).pipe(st(this.store.pipe(R(fx(s.type)))),M(([a,c])=>Ac.countOfDeepEqualObjects(a,c)>1),y(([a,c])=>{let u=Ac.indexOfFirstOccurrence(a,c);if(u!==void 0)return new Rc({type:s.type,index:u})}),M(sn))))),this.hideAfterDelay$=H(()=>Un(this.platformId)?this.actions$.pipe($(Jf),y(s=>s.payload),Ue(s=>{let a=this.config.globalMessages?.[s.type];return this.store.pipe(R(W3(s.type)),re(1),M(c=>(a&&a.timeout!==void 0||s.timeout!==void 0)&&c>0),er(s.timeout||a?.timeout),_(()=>I(new Rc({type:s.type,index:0}))))})):()=>ge)}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(le),f(m5),f($e))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),F5={globalMessages:{[ke.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[ke.MSG_TYPE_INFO]:{timeout:3e3},[ke.MSG_TYPE_ERROR]:{timeout:7e3},[ke.MSG_TYPE_WARNING]:{timeout:7e3},[ke.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},L5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...A5,...R5]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bn(F5)],imports:[N5,$n.forFeature([P5])]})}}return e})(),Gp=class extends Error{constructor(r){super("Outbound HTTP Error",{cause:r})}},SS=class extends Gp{constructor(r){super(r),this.message="CMS Page Not Found"}},k5=(()=>{class e{constructor(){this.errorHandler=E(ct),this.occEndpointsService=E(Ke),this.windowRef=E(Dr),this.featureService=E(Oi)}intercept(t,n){return n.handle(t).pipe(k({error:i=>{this.featureService.isEnabled("ssrStrictErrorHandlingForHttpAndNgrx")&&this.shouldHandleError(i)&&this.handleError(i)}}))}shouldHandleError(t){return!this.windowRef.isBrowser()}handleError(t){t=this.isCmsPageNotFoundHttpError(t)?new SS(t):new Gp(t),this.errorHandler.handleError(t)}isCmsPageNotFoundHttpError(t){let n=this.occEndpointsService.buildUrl("pages");return t instanceof Mt&&t.status===Tr.NOT_FOUND&&(t.url??"").startsWith(n)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),U5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:tn,useClass:k5,multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function j5(){return[{provide:zN,useExisting:f5,multi:!0}]}var $5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[j5(),{provide:ct,useClass:h5}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[g5.forRoot(),U5.forRoot()]})}}return e})(),B5={backend:{timeout:{server:2e4}}},V5=new Ha(()=>{});var H5=(()=>{class e{constructor(t,n){this.windowRef=t,this.config=n,this.logger=E(K)}intercept(t,n){let i=this.getTimeoutValue(t);return typeof i>"u"?n.handle(t):n.handle(t).pipe(_(o=>o.type===pr.Sent?kg.pipe(tr(o),ra(i)):I(o)),F(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:t,timeoutValue:i})}))}getTimeoutValue(t){let n=t.context.get(V5),i=this.config?.backend?.timeout,o=n??i??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:t,request:n,timeoutValue:i}){if(t instanceof Pu){let o=this.buildError(n,i);return new Mt({url:n.url,error:o})}return t}buildError(t,n){let i=`Request to URL '${t.url}' exceeded expected time of ${n}ms and was aborted.`;return this.logger.warn(i),new Error(i)}static{this.\u0275fac=function(n){return new(n||e)(f(Dr),f(Ir))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),z5=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[{provide:tn,useExisting:H5,multi:!0},bn(B5)]})}}return e})(),G5=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[z5]})}}return e})(),W5={i18n:{fallbackLang:void 0,debug:!1}},Zs=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),q5=(()=>{class e{constructor(t){this.configInit=t,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>nr(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(y(t=>({i18n:{fallbackLang:t?.context?.language?.[0]}})))}static{this.\u0275fac=function(n){return new(n||e)(f(Dn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ale=(()=>{class e extends HA{constructor(t){super(""),this.language=t,this.logger=E(K)}transform(t,n,i){return super.transform(t,n,i,this.getLang())}getLang(){let t=this.getActiveLang();try{return vd(t),t}catch{return this.reportMissingLocaleData(t),"en"}}getActiveLang(){let t="";return this.language.getActive().subscribe(n=>t=n).unsubscribe(),t}reportMissingLocaleData(t){pe()&&this.logger.warn(`cxDate pipe: No locale data registered for '${t}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(n){return new(n||e)(J(xi,16))}}static{this.\u0275pipe=Jt({name:"cxDate",type:e,pure:!0})}}return e})(),IS=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),yg=new S("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>Ct.createInstance()}),Y5=new S("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let e=E(Le);return(r,t,n,i)=>{e.get(t,{responseType:"text"}).subscribe({next:o=>i(null,{status:200,data:o}),error:o=>i(o,{data:null,status:o.status})})}}}),K5=(()=>{class e{constructor(t,n,i,o){this.i18next=t,this.i18nextHttpClient=n,this.config=i,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(y_),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(t){return!this.windowRef.isBrowser()&&!t.match(/^http(s)?:\/\//)?(t.startsWith("/")&&(t=t.slice(1)),t.startsWith("./")&&(t=t.slice(2)),`${this.windowRef.location.origin}/${t}`):t}static{this.\u0275fac=function(n){return new(n||e)(f(yg),f(Y5),f(Zs),f(Dr))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z5=(()=>{class e{constructor(t,n){this.config=t,this.i18next=n}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let t=this.config.i18n?.backend?.loader;if(!t)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(__(t)),{backend:{}}}static{this.\u0275fac=function(n){return new(n||e)(f(Zs),f(yg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Q5=[{provide:IS,useExisting:K5,multi:!0},{provide:IS,useExisting:Z5,multi:!0}],J5=new S("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let e=E(K);return{type:"logger",log:r=>e.log(...r),warn:r=>e.warn(...r),error:r=>e.error(...r)}}}),X5=(()=>{class e{constructor(t){this.backendInitializers=t}initialize(){return bI(this.backendInitializers??[])?.initialize()??{}}static{this.\u0275fac=function(n){return new(n||e)(f(IS,8))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eY=(()=>{class e{constructor(t,n,i,o){this.i18next=t,this.config=n,this.languageService=i,this.i18nextBackendService=o,this.loggerPlugin=E(J5)}initialize(){let t=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(t,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let t={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(t=v(v({},t),this.i18nextBackendService.initialize())),t}addTranslationResources(){let t=this.config.i18n?.resources??{};Object.keys(t).forEach(n=>{Object.keys(t[n]).forEach(i=>{this.i18next.addResourceBundle(n,i,t[n][i],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(t=>this.i18next.changeLanguage(t))}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(f(yg),f(Zs),f(xi),f(X5))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),tY=[{provide:Et,useFactory:()=>{let e=E(Dn),r=E(eY);return()=>nr(e.getStable("i18n")).then(()=>r.initialize())},multi:!0},...Q5],nY=(()=>{class e{constructor(t){this.config=t,this.duplicates={},this.chunks={},this.logger=E(K),this.KEY_SEPARATOR=".";let n=t.i18n&&t.i18n.chunks||{};Object.keys(n).forEach(i=>{n[i].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(i)):this.chunks[o]=i})}),Object.keys(this.duplicates).length>0&&pe()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(t){let n=(t||"").split(this.KEY_SEPARATOR)[0],i=this.chunks&&this.chunks[n];return i||n}warnDuplicates(t){let n=[];Object.keys(t).forEach(i=>{n.push(`* '${i}' found in chunks: ${t[i].join(", ")}. Used '${this.chunks[i]}.${i}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${n.join(`
`)}`)}static{this.\u0275fac=function(n){return new(n||e)(f(Zs))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rY=(()=>{class e{constructor(t,n,i){this.config=t,this.translationChunk=n,this.i18next=i,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=E(K)}translate(t,n={},i=!1){let o=Array.isArray(t)?t:[t],s=new Map,a=[];return o.forEach(c=>{let u=this.translationChunk.getChunkNameForKey(c),l=this.getNamespacedKey(c,u);a.push(l),s.set(c,u)}),new V(c=>{let u=()=>{if(!this.i18next.isInitialized)return;let l=!1;this.i18next.loadNamespaces(Array.from(s.values()),()=>{l=!0,this.i18next.exists(a,n)?c.next(this.i18next.t(a,n)):(this.reportMissingKey(s),c.next(this.getFallbackValue(a)))}),!l&&i&&c.next(this.NON_BREAKING_SPACE)};return u(),this.i18next.on("languageChanged",u),()=>this.i18next.off("languageChanged",u)})}loadChunks(t){return this.i18next.loadNamespaces(t)}getFallbackValue(t){let n=Array.isArray(t)?t.join(", "):t;return pe()?`[${n}]`:this.NON_BREAKING_SPACE}reportMissingKey(t){let n=[...t.keys()];pe()&&this.logger.warn(`Translation keys missing [${n.join(", ")}]. Attempted to load ${[...t].map(([i,o])=>`'${i}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(t,n){return n+this.NAMESPACE_SEPARATOR+t}static{this.\u0275fac=function(n){return new(n||e)(f(Zs),f(nY),f(yg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rle=(()=>{class e extends zA{constructor(t){super(""),this.language=t,this.logger=E(K)}transform(t,n){return super.transform(t,n,this.getLang())}getLang(){let t=this.getActiveLang();try{return vd(t),t}catch{return this.reportMissingLocaleData(t),"en"}}getActiveLang(){let t="";return this.language.getActive().subscribe(n=>t=n).unsubscribe(),t}reportMissingLocaleData(t){pe()&&this.logger.warn(`cxNumeric pipe: No locale data registered for '${t}' (see https://angular.io/api/common/registerLocaleData).`)}static{this.\u0275fac=function(n){return new(n||e)(J(xi,16))}}static{this.\u0275pipe=Jt({name:"cxNumeric",type:e,pure:!0})}}return e})();function yC(e){return e!==null&&typeof e=="object"&&("key"in e||"raw"in e)}var Mle=(()=>{class e{constructor(t,n){this.service=t,this.cd=n,this.logger=E(K)}transform(t,n={}){if(!t)return pe()&&this.logger.error(`The given input for the cxTranslate pipe (${t}) is invalid and cannot be translated`),"";if(yC(t)&&t.raw)return t.raw;yC(t)&&t.params&&(n=v(v({},n),t.params));let i=yC(t)?t.key:t;return this.translate(i,n),this.translatedValue}translate(t,n){(t!==this.lastKey||!Ac.shallowEqualObjects(n,this.lastOptions))&&(this.lastKey=t,this.lastOptions=n,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(t,n,!0).subscribe(i=>this.markForCheck(i)))}markForCheck(t){this.translatedValue=t,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)(J(Cr,16),J($r,16))}}static{this.\u0275pipe=Jt({name:"cxTranslate",type:e,pure:!1})}}return e})();function iY(e,r){return r?.i18n?.fallbackLang!==void 0?null:e}var oY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[bn(W5),{provide:Cr,useExisting:rY},...tY,{provide:sg,useFactory:iY,deps:[q5,Zs],multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function sY(e,r){let t=E(K);return()=>Promise.all(e.runModuleInitializerFunctions(r)).catch(n=>{throw t.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var aY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[{provide:Et,useFactory:sY,deps:[wI,[new pn,XO]],multi:!0}]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();function cY(){return vo(ce)}var qN=new S("ProcessReducers"),uY={provide:qN,useFactory:cY},lY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[uY],imports:[ii,jn.forFeature(ce,qN)]})}}return e})(),dY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[lY]})}}return e})(),fY={siteTheme:{optionalThemes:[{i18nNameKey:"siteThemeSwitcher.themes.highContrastDark",className:"cx-theme-high-contrast-dark"},{i18nNameKey:"siteThemeSwitcher.themes.highContrastLight",className:"cx-theme-high-contrast-light"}]}},YN="[Site-theme] Set Active Site Theme",hY="[Site-theme] Site Theme Change",DS=class{constructor(r){this.payload=r,this.type=YN}},bS=class{constructor(r){this.payload=r,this.type=hY}};var PD="siteTheme",pY=En(PD),gY=e=>e.activeSiteTheme,mY=T(pY,e=>e.themes),wS=T(mY,gY);var FD=(()=>{class e{constructor(){this.store=E(le),this.config=E(Dt),this.FALLBACK_DEFAULT_THEME_ID=""}getDefault(){return{className:Xr(this.config,VO)??this.FALLBACK_DEFAULT_THEME_ID,i18nNameKey:"siteThemeSwitcher.themes.default"}}get themes(){let t=this.config.siteTheme?.optionalThemes||[];return[this.getDefault(),...t]}getAll(){return I(this.themes)}getActive(){return this.store.pipe(R(wS),M(js))}setActive(t){this.store.pipe(R(wS),re(1)).subscribe(n=>{n!==t&&this.isValid(t)&&this.store.dispatch(new DS(t))})}isInitialized(){let t=!1;return this.getActive().subscribe(()=>t=!0).unsubscribe(),t}isValid(t){return this.themes.map(n=>n.className).includes(t)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),vY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:function(n){let i=null;return n?i=new(n||e):i=f(Dt),i},providedIn:"root"})}}return e})(),yY="siteTheme",EY=(()=>{class e{constructor(){this.statePersistenceService=E(Vc),this.siteThemeService=E(FD),this.config=E(vY),this.initialized$=new Yt(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:yY,state$:this.siteThemeService.getActive(),onRead:t=>this.onRead(t)}),this.initialized$}onRead(t){!this.siteThemeService.isInitialized()&&t&&this.siteThemeService.setActive(t),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),CY=(()=>{class e{constructor(){this.siteThemeService=E(FD),this.siteThemePersistenceService=E(EY),this.configInit=E(Dn)}initialize(){this.subscription=this.configInit.getStable("context").pipe(_(()=>this.siteThemePersistenceService.initSync()),_(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(k(()=>this.setDefaultFromConfig()))}setDefaultFromConfig(){if(!this.siteThemeService.isInitialized()){let t=this.siteThemeService.getDefault();this.siteThemeService.setActive(t.className)}}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function SY(){let e=E(CY);return()=>{e.initialize()}}var IY=[{provide:Et,useFactory:SY,multi:!0}],DY=(()=>{class e{constructor(){this.actions$=E(De),this.state=E(le),this.activateSiteTheme$=H(()=>this.state.select(wS).pipe(ca(2,1),M(([t])=>!!t),y(([t,n])=>new bS({previous:t,current:n}))))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),bY=[DY],wY={activeSiteTheme:null};function TY(e=wY,r){if(r.type===YN){let t=r.payload;return w(v({},e),{activeSiteTheme:t})}return e}function AY(){return{themes:TY}}var KN=new S("SiteThemeReducers"),RY={provide:KN,useFactory:AY};function MY(){return{state:{ssrTransfer:{keys:{[PD]:Ro.TRANSFER_STATE}}}}}var _Y=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bo(MY),RY],imports:[Ye,jn.forFeature(PD,KN),$n.forFeature(bY)]})}}return e})(),OY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[FD,bn(fY),...IY]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[ii,_Y]})}}return e})(),_le=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[$5.forRoot(),ii.forRoot(),sN.forRoot(),gW.forRoot(),vW.forRoot(),oY.forRoot(),d5.forRoot(),L5.forRoot(),dY.forRoot(),DW.forRoot(),Gq.forRoot(),P4.forRoot(),T4.forRoot(),aY.forRoot(),G5.forRoot(),OY.forRoot()]})}}return e})(),Ole=new S("PointOfServiceNormalizer"),xY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),NY=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),xle=(()=>{class e{constructor(t,n,i,o){this.cms=t,this.unifiedInjector=n,this.pageMetaConfig=i,this.platformId=o,this.featureConfigService=E(Oi),this.resolvers$=this.unifiedInjector.getMulti(on).pipe(ot({bufferSize:1,refCount:!0})),this.meta$=Ze(()=>this.cms.getCurrentPage()).pipe(M(s=>!!s),_(s=>this.getMetaResolver(s)),_(s=>s?this.resolve(s):I(null)),ot({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(t){let n=this.getResolverMethods(),i=Object.keys(n).filter(o=>t[n[o]]).map(o=>t[n[o]]().pipe(y(s=>({[o]:s}))));return i.length===0?I({}):tx(i).pipe(y(o=>Object.assign({},...o)))}getResolverMethods(){let t={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(n=>{let i=this.featureConfigService.isEnabled("allPageMetaResolversEnabledInCsr")?!1:n.disabledInCsr;return!Un(this.platformId??"")||!i||pe()&&this.pageMetaConfig?.pageMeta?.enableInDevMode}).forEach(n=>t[n.property]=n.method),t}getMetaResolver(t){return this.resolvers$.pipe(y(n=>bI(n,[t],[t])))}static{this.\u0275fac=function(n){return new(n||e)(f(mg),f(Bc),f(UN),f($e))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Nle=(()=>{class e{constructor(t){this.unifiedInjector=t,this.componentDecorators$=this.unifiedInjector.getMulti(xY).pipe(ot(1)),this.slotDecorators$=this.unifiedInjector.getMulti(NY).pipe(ot(1))}addAttributesToComponent(t,n,i){(Qf(this.componentDecorators$)||[]).forEach(o=>o.decorate(t,n,i))}addAttributesToSlot(t,n,i){(Qf(this.slotDecorators$)||[]).forEach(o=>o.decorate(t,n,i))}static{this.\u0275fac=function(n){return new(n||e)(f(Bc))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var PY=(()=>{class e{constructor(t,n){this.cmsConfig=t,this.lazyModules=n,this.features=new Map}isConfigured(t){return!!this.getFeatureConfig(t)?.module}resolveFeature(t){return t=this.resolveFeatureAlias(t),Ze(()=>{if(!this.features.has(t)){if(!this.isConfigured(t))return Nt(()=>new Error("No module defined for Feature Module "+t));let n=this.getFeatureConfig(t);this.features.set(t,this.resolveDependencies(n?.dependencies).pipe(_(i=>this.lazyModules.resolveModuleInstance(n?.module,t,i)),ot()))}return this.features.get(t)??ge})}getFeatureConfig(t){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(t)]}resolveFeatureAlias(t){for(;typeof this.cmsConfig.featureModules?.[t]=="string";)t=this.cmsConfig.featureModules?.[t];return t}resolveDependencies(t=[]){return t?.length?ia(t.map(n=>typeof n=="string"?this.resolveFeature(n):this.lazyModules.resolveDependencyModuleInstance(n))):I(void 0)}static{this.\u0275fac=function(n){return new(n||e)(f(ED),f(wI))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),K_="proxyFacadeInstance",FY=(()=>{class e{constructor(t,n){this.featureModules=t,this.injector=n}getResolver(t,n,i=!1){if(!this.featureModules.isConfigured(t))return Nt(()=>new Error(`Feature ${t} is not configured properly`));let o=this.featureModules.resolveFeature(t).pipe(y(s=>s.injector),y(s=>s.get(n)));return i&&(o=o.pipe(er(0))),o.pipe(ot())}call(t,n,i){let o=Fu(t.pipe(y(s=>s[n](...i))),{connector:()=>new Yt,resetOnDisconnect:!1});return o.connect(),o.pipe(_(s=>ki(s)?s:ge))}get(t,n){return t.pipe(_(i=>i[n]))}create({facade:t,feature:n,methods:i,properties:o,async:s}){let a=this.getResolver(n,t,s),c=new class extends t{};return(i??[]).forEach(u=>{c[u]=(...l)=>this.call(a,u,l)}),(o??[]).forEach(u=>{c[u]=this.get(a,u)}),c[K_]=!0,c}isProxyFacadeInstance(t){return!!t?.[K_]}static{this.\u0275fac=function(n){return new(n||e)(f(PY),f(Qe))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ple(e){return E(FY).create(e)}var LY=(()=>{class e{constructor(t){this.adapter=t}get(t,n=""){return this.adapter.load(t,n)}getMany(t){return this.adapter.loadMany?this.adapter.loadMany(t):t.map(n=>w(v({},n),{data$:this.adapter.load(n.code,n.scope)}))}static{this.\u0275fac=function(n){return new(n||e)(f(Rp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kY=(()=>{class e{constructor(t){this.adapter=t}get(t,n,i){return this.adapter.load(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(f(Mp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UY=(()=>{class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}add(t,n){return this.adapter.post(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(_p))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ZN=(()=>{class e{constructor(t){this.adapter=t}search(t,n,i){return this.adapter.search(t,n,i)}searchByCodes(t,n){return this.adapter.searchByCodes(t,n)}getSuggestions(t,n){return this.adapter.loadSuggestions(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Op))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z_=(()=>{class e extends ti{static{this.type="FacetChangedEvent"}}return e})(),QN="[Product] Load Product References Data",jY="[Product] Load Product References Data Fail",JN="[Product] Load Product References Data Success",XN="[Product] Clean Product References",TS=class{constructor(r){this.payload=r,this.type=QN}},AS=class{constructor(r){this.payload=r,this.type=jY,this.error=r}},RS=class{constructor(r){this.payload=r,this.type=JN}},MS=class{constructor(){this.type=XN}},eP="[Product] Load Product Reviews Data",$Y="[Product] Load Product Reviews Data Fail",tP="[Product] Load Product Reviews Data Success",nP="[Product] Post Product Review",rP="[Product] Post Product Review Fail",iP="[Product] Post Product Review Success",_S=class{constructor(r){this.payload=r,this.type=eP}},OS=class{constructor(r){this.payload=r,this.type=$Y,this.error=r}},xS=class{constructor(r){this.payload=r,this.type=tP}},NS=class{constructor(r){this.payload=r,this.type=nP}},PS=class{constructor(r){this.payload=r,this.type=rP,this.error=r}},FS=class{constructor(r){this.payload=r,this.type=iP}},oP="[Product] Search Products",BY="[Product] Search Products Fail",sP="[Product] Search Products Success",aP="[Product] Get Product Suggestions",cP="[Product] Get Product Suggestions Success",VY="[Product] Get Product Suggestions Fail",uP="[Product] Clear Product Search Result",Wp=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=oP}},LS=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=BY,this.error=r}},kS=class{constructor(r,t){this.payload=r,this.auxiliary=t,this.type=sP}},US=class{constructor(r){this.payload=r,this.type=aP}},qp=class{constructor(r){this.payload=r,this.type=cP}},jS=class{constructor(r){this.payload=r,this.type=VY,this.error=r}},Yp=class{constructor(r={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=r,this.type=uP}},ni;(function(e){function r(u,l,d){return w(v({},nI(u,l)),{scope:d})}e.entityScopedLoadMeta=r;function t(u,l,d,h){return w(v({},rI(u,l,h)),{scope:d})}e.entityScopedFailMeta=t;function n(u,l,d){return w(v({},iI(u,l)),{scope:d})}e.entityScopedSuccessMeta=n;function i(u,l,d){return w(v({},oI(u,l)),{scope:d})}e.entityScopedResetMeta=i;class o{constructor(l,d,h){this.type=JS,this.meta=r(l,d,h)}}e.EntityScopedLoadAction=o;class s{constructor(l,d,h,m){this.type=XS,this.meta=t(l,d,h,m),this.error=m}}e.EntityScopedFailAction=s;class a{constructor(l,d,h,m){this.payload=m,this.type=eI,this.meta=n(l,d,h)}}e.EntityScopedSuccessAction=a;class c{constructor(l,d,h){this.type=tI,this.meta=i(l,d,h)}}e.EntityScopedResetAction=c})(ni||(ni={}));var LD="product",Xc="[Product] Detail Entity",eu="[Product] Search Results By Codes Entity",lP="[Product] Product Search Load By Code",HY="[Product] Product Search Load By Code Success",zY="[Product] Product Search Load By Code Fail",GY="[Product] Clear Product Search By Code State",$S=class extends ni.EntityScopedLoadAction{constructor(r){super(eu,r.code,r.scope),this.payload=r,this.type=lP}},BS=class extends ni.EntityScopedSuccessAction{constructor(r){super(eu,r.code,r.scope,r.product),this.type=HY}},VS=class extends ni.EntityScopedFailAction{constructor(r){super(eu,r.code,r.scope,r.error),this.type=zY}},HS=class extends Af{constructor(){super(eu),this.type=GY}},kD="[Product] Load Product Data",dP="[Product] Load Product Data Fail",fP="[Product] Load Product Data Success",WY="[Product] Clear Product PRICE",zS=class extends ni.EntityScopedLoadAction{constructor(r,t=""){super(Xc,r,t),this.payload=r,this.type=kD}},Kp=class extends ni.EntityScopedFailAction{constructor(r,t,n=""){super(Xc,r,n,t),this.payload=t,this.type=dP}},GS=class extends ni.EntityScopedSuccessAction{constructor(r,t=""){super(Xc,r.code??"",t),this.payload=r,this.type=fP}},WS=class extends ni.EntityScopedResetAction{constructor(){super(Xc,void 0,"price"),this.type=WY}};var tu=En(LD),qY=T(tu,e=>e.references),YY=(e,r)=>T(qY,t=>t.productCode===e&&t.list?r?t.list.filter(n=>n.referenceType===r):t.list:[]),KY=T(tu,e=>e.reviews),ZY=e=>T(KY,r=>{if(r.productCode===e)return r.list}),QY={results:{},suggestions:[],auxResults:{}};function JY(e=QY,r){switch(r.type){case sP:{let t=r.payload,n=r.auxiliary?{auxResults:t}:{results:t};return v(v({},e),n)}case cP:{let t=r.payload;return w(v({},e),{suggestions:t})}case uP:return w(v({},e),{results:r.payload.clearPageResults?{}:e.results,suggestions:r.payload.clearSearchboxResults?[]:e.suggestions,auxResults:r.payload.clearSearchboxResults?{}:e.auxResults})}return e}var XY=e=>e.results,e9=e=>e.auxResults,t9=e=>e.suggestions,UD=T(tu,e=>e.search),n9=T(UD,XY),r9=T(UD,e9),i9=T(UD,t9),o9=T(tu,e=>e.searchByCode),s9=e=>T(o9,r=>qt(r,e.code)[e.scope]||Vn),hP=T(tu,e=>e.details),nu=(e,r="")=>T(hP,t=>qt(t,e)[r]||Vn),a9=(e,r="")=>T(nu(e,r),t=>rt(t)),pP=(e,r="")=>T(nu(e,r),t=>Bt(t)),c9=(e,r="")=>T(nu(e,r),t=>Gn(t)),u9=(e,r="")=>T(nu(e,r),t=>Ws(t)),Fle=T(hP,e=>Object.keys(e.entities));var ru=(()=>{class e{constructor(t){this.store=t}search(t,n){t&&this.store.dispatch(new Wp({queryText:t,searchConfig:n}))}getResults(){return this.store.pipe(R(n9))}clearResults(){this.store.dispatch(new Yp({clearPageResults:!0}))}static{this.\u0275fac=function(n){return new(n||e)(f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),l9=(()=>{class e{constructor(t,n){this.eventService=t,this.productSearchService=n,this.register()}register(){this.eventService.register(Z_,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(ua(),M(([t,n])=>this.compareSearchResults(t,n)),y(([t,n])=>{let i=this.getToggledBreadcrumb(n.breadcrumbs,t.breadcrumbs)||this.getToggledBreadcrumb(t.breadcrumbs,n.breadcrumbs);if(i)return Ri(Z_,{code:i.facetCode,name:i.facetName,valueCode:i.facetValueCode,valueName:i.facetValueName,selected:n.breadcrumbs&&t.breadcrumbs&&n.breadcrumbs.length>t.breadcrumbs.length})}))}compareSearchResults(t,n){if(t&&Object.keys(t).length!==0){let i=t.freeTextSearch!==""&&t.freeTextSearch===n.freeTextSearch,o=n.breadcrumbs?.[0]?.facetCode==="allCategories"&&t.breadcrumbs?.[0]?.facetCode===n.breadcrumbs[0]?.facetCode&&t.breadcrumbs[0].facetValueCode===n.breadcrumbs[0].facetValueCode;return i||o}return!1}getToggledBreadcrumb(t,n){if(t&&n&&t.length-n.length===1)return t.find(i=>!n.find(o=>o.facetCode===i.facetCode&&o.facetValueCode===i.facetValueCode))}static{this.\u0275fac=function(n){return new(n||e)(f(Mo),f(ru))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),d9=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(l9))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})(),f9=(()=>{class e{constructor(t,n){this.actions$=t,this.productReferencesConnector=n,this.logger=E(K),this.loadProductReferences$=H(()=>this.actions$.pipe($(QN),y(i=>i.payload),z(i=>this.productReferencesConnector.get(i.productCode,i.referenceType,i.pageSize).pipe(y(o=>new RS({productCode:i.productCode,list:o})),F(o=>I(new AS(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(kY))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),h9=(()=>{class e{constructor(t,n,i){this.actions$=t,this.productReviewsConnector=n,this.globalMessageService=i,this.logger=E(K),this.loadProductReviews$=H(()=>this.actions$.pipe($(eP),y(o=>o.payload),z(o=>this.productReviewsConnector.get(o).pipe(y(s=>new xS({productCode:o,list:s})),F(s=>I(new OS(ae(s,this.logger)))))))),this.postProductReview=H(()=>this.actions$.pipe($(nP),y(o=>o.payload),z(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(y(s=>new FS(s)),F(s=>I(new PS(ae(s,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=H(()=>this.actions$.pipe($(iP),k(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},ke.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=H(()=>this.actions$.pipe($(rP),k(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},ke.MSG_TYPE_ERROR)})),{dispatch:!1})}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(UY),f(Ys))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),p9=(()=>{class e{constructor(t,n){this.actions$=t,this.productSearchConnector=n,this.logger=E(K),this.searchProducts$=H(()=>this.actions$.pipe($(oP),_r(i=>i.auxiliary),z(i=>i.pipe(_(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(y(s=>new kS(s,o.auxiliary)),F(s=>I(new LS(ae(s,this.logger),o.auxiliary))))))))),this.getProductSuggestions$=H(()=>this.actions$.pipe($(aP),y(i=>i.payload),_(i=>this.productSearchConnector.getSuggestions(i.term,i.searchConfig?.pageSize).pipe(y(o=>o===void 0?new qp([]):new qp(o)),F(o=>I(new jS(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(ZN))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),g9=(()=>{class e{productLoadEffect(t){return t.data$?.pipe(y(n=>new GS(v({code:t.code},n),t.scope)),F(n=>I(new Kp(t.code,ae(n,this.logger),t.scope))))??I(new Kp(t.code,new Error("Scoped product data does not exist"),t.scope))}constructor(t,n){this.actions$=t,this.productConnector=n,this.logger=E(K),this.contextChange$=this.actions$.pipe($(qs,wn)),this.loadProduct$=H(()=>({scheduler:i,debounce:o=0}={})=>this.actions$.pipe($(kD),y(s=>({code:s.payload,scope:s.meta.scope})),xD(o,i),z(s=>ln(...this.productConnector.getMany(s).map(a=>this.productLoadEffect(a)))),og(this.contextChange$))),this.clearProductPrice$=H(()=>this.actions$.pipe($(Sr,zn),y(()=>new WS)))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(LY))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),m9=(()=>{class e{constructor(){this.logger=E(K),this.actions$=E(De),this.productSearchConnector=E(ZN),this.contextChange$=this.actions$.pipe($(qs,wn)),this.searchByCodes$=H(()=>({scheduler:t,debounce:n=0}={})=>this.actions$.pipe($(lP),_r(i=>i.payload.scope),z(i=>{let o=i.key;return i.pipe(y(s=>s.payload),xD(n,t),z(s=>{let a=s.map(c=>c.code);return this.productSearchConnector.searchByCodes(a,o).pipe(_(c=>c.products?.map((u,l)=>new BS(w(v({},s[l]),{product:u})))),F(c=>s.map(u=>new VS(w(v({},u),{error:nt(c,this.logger)})))))}))}),og(this.contextChange$))),this.clearState$=H(()=>this.actions$.pipe($(Sr,zn),y(()=>new HS)))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),v9=[p9,m9,g9,h9,f9],y9={};function E9(e,r){let t=dt(e,r);return(n=y9,i)=>i&&i.meta&&i.meta.entityType===e?w(v({},n),{[i.meta.scope??""]:t(n[i.meta.scope??""],i)}):n}function Q_(e,r){return Nc(e,E9(e,r))}var J_={productCode:"",list:[]};function C9(e=J_,r){switch(r.type){case JN:{let t=r.payload.productCode,n=r.payload.list;return w(v({},e),{list:[...e.list,...n||[]].reduce((i,o)=>(i.some(s=>s.referenceType===o.referenceType&&s.target?.code===o.target?.code)||i.push(o),i),[]),productCode:t})}case XN:return J_}return e}var S9={productCode:"",list:[]};function I9(e=S9,r){switch(r.type){case tP:{let t=r.payload.productCode,n=r.payload.list;return w(v({},e),{productCode:t,list:n})}}return e}function D9(){return{search:JY,searchByCode:Q_(eu),details:Q_(Xc),reviews:I9,references:C9}}var gP=new S("ProductReducers"),b9={provide:gP,useFactory:D9};function w9(e){return function(r,t){return(t.type===qs||t.type===wn)&&(r=void 0),e(r,t)}}var T9=[w9],Lle=(()=>{class e{constructor(t){this.store=t}loadProductReferences(t,n,i){this.store.dispatch(new TS({productCode:t,referenceType:n,pageSize:i}))}getProductReferences(t,n){return this.store.pipe(R(YY(t,n)))}cleanReferences(){this.store.dispatch(new MS)}static{this.\u0275fac=function(n){return new(n||e)(f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kle=(()=>{class e{constructor(t){this.store=t}getByProductCode(t){return this.store.pipe(R(ZY(t)),k(n=>{n===void 0&&t!==void 0&&this.store.dispatch(new _S(t))}),y(n=>n??[]))}add(t,n){this.store.dispatch(new NS({productCode:t,review:n}))}static{this.\u0275fac=function(n){return new(n||e)(f(le))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ule=(()=>{class e{constructor(){this.store=E(le)}load({code:t,scope:n}){this.store.dispatch(new $S({code:t,scope:n??""}))}get({code:t,scope:n}){let i=this.store.pipe(R(s9({code:t,scope:n??""}))),o=i.pipe(ku(0),k(a=>{a.loading||a.success||a.error||this.load({code:t,scope:n})})),s=i.pipe(y(a=>a.value));return Ui(()=>o.subscribe(),()=>s)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),A9=(()=>{class e{constructor(t,n,i,o,s){this.store=t,this.loadingScopes=n,this.actions$=i,this.platformId=o,this.eventService=s,this.products={}}get(t,n){return n=this.loadingScopes.expand("product",n),this.initProductScopes(t,n),this.products[t][this.getScopesIndex(n)]}initProductScopes(t,n){this.products[t]||(this.products[t]={});for(let i of n)this.products[t][i]||(this.products[t][i]=this.getProductForScope(t,i));n.length>1&&(this.products[t][this.getScopesIndex(n)]=tx(n.map(i=>this.products[t][i])).pipe(y(i=>i.every(Boolean)?It({},...i):void 0),dn()))}getScopesIndex(t){return t.join("\u0275")}getProductForScope(t,n){let i=this.store.pipe(R(nu(t,n)),y(c=>!c.loading&&!c.success&&!c.error),dn(),M(c=>c)),o=this.store.pipe(R(pP(t,n))),s=ln(i,...this.getProductReloadTriggers(t,n)).pipe($i(0),st(o),k(([,c])=>{c||this.store.dispatch(new zS(t,n))})),a=this.store.pipe(R(a9(t,n)));return Ui(()=>s.subscribe(),()=>a).pipe(ot({bufferSize:1,refCount:!0}))}getProductReloadTriggers(t,n){let i=[],o=this.loadingScopes.getMaxAge("product",n);if(o&&Un(this.platformId)){let a=this.actions$.pipe($(fP,dP),M(u=>u.meta.entityId===t&&u.meta.scope===n)),c=this.actions$.pipe($(kD),M(u=>u.payload===t&&u.meta.scope===n));i.push(this.getMaxAgeTrigger(c,a,o))}let s=this.loadingScopes.getReloadTriggers("product",n).map(a=>this.eventService.get(a));return i.concat(s)}getMaxAgeTrigger(t,n,i,o){let s=0,a=()=>o?o.now():Date.now(),c=n.pipe(k(()=>s=a()));return Ze(()=>{let l=a()-s,d=c.pipe(er(i,o),y(()=>!0),og(t));return l>i?ln(I(!0),d):l===0?d:ln(I(!0).pipe(er(i-l,o)),d)})}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(F4),f(De),f($e),f(Mo))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),R9=(()=>{class e{constructor(t,n){this.store=t,this.productLoading=n}get(t,n=bc){return t?this.productLoading.get(t,[].concat(n)):I(void 0)}isLoading(t,n=""){return this.store.pipe(R(pP(t,n)))}isSuccess(t,n=""){return this.store.pipe(R(c9(t,n)))}hasError(t,n=""){return this.store.pipe(R(u9(t,n)))}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(A9))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jle=(()=>{class e extends ru{search(t,n){this.store.dispatch(new Wp({queryText:t,searchConfig:n},!0))}getResults(){return this.store.pipe(R(r9))}clearResults(){this.store.dispatch(new Yp({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(R(i9))}searchSuggestions(t,n){this.store.dispatch(new US({term:t,searchConfig:n}))}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=qe(e)))(i||e)}})()}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),M9=(()=>{class e extends on{constructor(t,n,i,o){super(),this.productSearchService=t,this.cms=n,this.translation=i,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(M(s=>!!s),_(s=>this.hasProductListComponent(s)?this.productSearchService.getResults().pipe(M(a=>!!a)):I(s))),this.pageType=we.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(M(t=>!!t.pagination),_(t=>this.translation.translate("pageMetaResolver.category.title",{count:t.pagination?.totalResults,query:t.breadcrumbs?.length?t.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return Ne([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(y(([t,n])=>t.breadcrumbs?this.resolveBreadcrumbData(t,n):[]))}resolveBreadcrumbData(t,n){let i=[];i.push({label:n,link:"/"});for(let o of t.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&i.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&i.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return i}hasProductListComponent(t){return!!Object.keys(t.slots||{}).find(n=>!!t.slots?.[n].components?.find(i=>i.typeCode==="CMSProductListComponent"||i.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(f(ru),f(mg),f(Cr),f(vg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_9=(()=>{class e extends on{constructor(t,n,i,o,s){super(),this.productSearchService=t,this.translation=n,this.authService=i,this.route=o,this.semanticPathService=s,this.total$=this.productSearchService.getResults().pipe(M(a=>!!a?.pagination),y(a=>a.pagination?.totalResults??0)),this.pageType=we.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return Ne([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(y(([t,n,i])=>{let o=[];return o.push({label:t,link:"/"}),i&&o.push({label:n,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(_(t=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:t,coupon:this.couponCode})))}getScore(t){return super.getScore(t)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}static{this.\u0275fac=function(n){return new(n||e)(f(ru),f(Cr),f(qn),f(qr),f(kc))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),O9=(()=>{class e extends on{constructor(t,n,i,o,s){super(),this.routingService=t,this.productService=n,this.translation=i,this.basePageMetaResolver=o,this.pageLinkService=s,this.product$=this.routingService.getRouterState().pipe(y(a=>a.state.params.productCode),M(a=>!!a),_(a=>this.productService.get(a,"details")),M(sn)),this.pageType=we.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(_(t=>this.translation.translate("pageMetaResolver.product.heading",{heading:t.name})))}resolveTitle(){return this.product$.pipe(_(t=>{let n=t.name;return n+=this.resolveFirstCategory(t),n+=this.resolveManufacturer(t),this.translation.translate("pageMetaResolver.product.title",{title:n})}))}resolveDescription(){return this.product$.pipe(_(t=>this.translation.translate("pageMetaResolver.product.description",{description:t.summary})))}resolveBreadcrumbs(){return Ne([this.product$.pipe(),this.translation.translate("common.home")]).pipe(y(([t,n])=>{let i=[];i.push({label:n,link:"/"});for(let{name:o,code:s,url:a}of t.categories||[])i.push({label:o||s,link:a});return i}))}resolveImage(){return this.product$.pipe(y(t=>t.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(t){let n=t?.categories?.[0];return n?` | ${n.name||n.code}`:""}resolveManufacturer(t){return t.manufacturer?` | ${t.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(_(t=>this.findBaseProduct(t)),y(t=>{let n=this.routingService.getFullUrl({cxRoute:"product",params:t});return this.pageLinkService.getCanonicalUrl({},n)}))}findBaseProduct(t){return t?.baseProduct?this.productService.get(t.baseProduct,"list").pipe(M(sn),_(n=>this.findBaseProduct(n))):I(t)}static{this.\u0275fac=function(n){return new(n||e)(f(_i),f(R9),f(Cr),f(vg),f(jN))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),x9=(()=>{class e extends on{constructor(t,n,i,o){super(),this.routingService=t,this.productSearchService=n,this.translation=i,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(M(s=>!!s?.pagination),y(s=>s.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(y(s=>s.state.params.query)),this.pageType=we.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let t=[this.total$,this.query$];return Ne(t).pipe(_(([n,i])=>this.translation.translate("pageMetaResolver.search.default_title").pipe(z(o=>this.translation.translate("pageMetaResolver.search.title",{count:n,query:i||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}static{this.\u0275fac=function(n){return new(n||e)(f(_i),f(ru),f(Cr),f(vg))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function N9(){return{state:{ssrTransfer:{keys:{[LD]:Ro.TRANSFER_STATE}}}}}var P9=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[bo(N9),b9],imports:[Ye,jn.forFeature(LD,gP,{metaReducers:T9}),$n.forFeature(v9)]})}}return e})(),F9=[{provide:on,useExisting:O9,multi:!0},{provide:on,useExisting:M9,multi:!0},{provide:on,useExisting:x9,multi:!0},{provide:on,useExisting:_9,multi:!0}],$le=(()=>{class e{static forRoot(){return{ngModule:e,providers:[...F9]}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({imports:[P9,d9]})}}return e})(),mP=(()=>{class e{constructor(t){this.adapter=t}getAll(t){return this.adapter.loadAll(t)}add(t,n){return this.adapter.add(t,n)}update(t,n,i){return this.adapter.update(t,n,i)}verify(t,n){return this.adapter.verify(t,n)}delete(t,n){return this.adapter.delete(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(Pp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),L9=(()=>{class e{constructor(t){this.adapter=t}loadConsents(t){return this.adapter.loadConsents(t)}giveConsent(t,n,i){return this.adapter.giveConsent(t,n,i)}withdrawConsent(t,n,i){return this.adapter.withdrawConsent(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(f(Fp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),k9=(()=>{class e{constructor(t){this.adapter=t}getActiveList(t){return this.adapter.loadActiveList(t)}static{this.\u0275fac=function(n){return new(n||e)(f(Lp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),U9=(()=>{class e{constructor(t){this.adapter=t}getCustomerCoupons(t,n,i,o){return this.adapter.getCustomerCoupons(t,n,i,o)}turnOnNotification(t,n){return this.adapter.turnOnNotification(t,n)}turnOffNotification(t,n){return this.adapter.turnOffNotification(t,n)}claimCustomerCoupon(t,n){return this.adapter.claimCustomerCoupon(t,n)}disclaimCustomerCoupon(t,n){return this.adapter.disclaimCustomerCoupon(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(kp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),j9=(()=>{class e{constructor(t){this.adapter=t}getInterests(t,n,i,o,s,a){return this.adapter.getInterests(t,n,i,o,s,a)}removeInterest(t,n){return this.adapter.removeInterest(t,n)}addInterest(t,n,i){return this.adapter.addInterest(t,n,i)}static{this.\u0275fac=function(n){return new(n||e)(f(Up))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$9=(()=>{class e{constructor(t){this.adapter=t}getAll(t){return this.adapter.loadAll(t)}delete(t,n){return this.adapter.delete(t,n)}setDefault(t,n){return this.adapter.setDefault(t,n)}static{this.\u0275fac=function(n){return new(n||e)(f(jp))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Do=class extends ti{},B9=(()=>{class e extends Do{static{this.type="UpdateUserAddressEvent"}}return e})(),V9=(()=>{class e extends Do{static{this.type="DeleteUserAddressEvent"}}return e})(),H9=(()=>{class e extends Do{static{this.type="AddUserAddressEvent"}}return e})(),Ble=(()=>{class e extends Do{static{this.type="LoadUserAddressesEvent"}}return e})(),Vle=(()=>{class e extends Do{static{this.type="LoadUserPaymentMethodsEvent"}}return e})(),vP=(()=>{class e{constructor(t){this.stateEventService=t,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:lg,event:B9})}addUserAddressEvent(){this.stateEventService.register({action:ug,event:H9})}deleteUserAddressEvent(){this.stateEventService.register({action:dg,event:V9})}static{this.\u0275fac=function(n){return new(n||e)(f(ax))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),z9=(()=>{class e{constructor(t){}static{this.\u0275fac=function(n){return new(n||e)(f(vP))}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({})}}return e})();var Hle=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadCustomerCoupons(t,n,i){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new rh({userId:o,pageSize:t,currentPage:n,sort:i}))})}getCustomerCoupons(t){return Ne([this.store.pipe(R(hg)),this.getClaimCustomerCouponResultLoading()]).pipe(M(([,n])=>!n),k(([n])=>{n.loading||n.success||n.error||this.loadCustomerCoupons(t)}),y(([n])=>n.value),M(sn))}getCustomerCouponsLoaded(){return this.store.pipe(R(j4))}getCustomerCouponsLoading(){return this.store.pipe(R($4))}subscribeCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new sh({userId:n,couponCode:t}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(R(Ai(Co)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(R(Zr(Co)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(R(Ti(Co)))}unsubscribeCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new uh({userId:n,couponCode:t}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(R(Ai(So)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(R(Zr(So)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(R(Ti(So)))}claimCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new fh({userId:n,couponCode:t}))})}disclaimCustomerCoupon(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new hh({userId:n,couponCode:t}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new ph)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(R(Zr(Ls)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(R(Ai(Ls)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(R(Zr(Vs)))}getClaimCustomerCouponResultError(){return this.store.pipe(R(Ti(Ls)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(R(Ti(Vs)))}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(Wn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),G9=(()=>{class e{constructor(t,n,i,o){this.store=t,this.userIdService=n,this.userAddressConnector=i,this.command=o,this.userAddressVerificationCommand=this.command.create(s=>this.userIdService.takeUserId(!1).pipe(_(a=>this.userAddressConnector.verify(a,s.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Xh(t))})}addUserAddress(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new np({userId:n,address:t}))})}setAddressAsDefault(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Mc({userId:n,addressId:t,address:{defaultAddress:!0}}))})}updateUserAddress(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Mc({userId:i,addressId:t,address:n}))})}deleteUserAddress(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new ap({userId:n,addressId:t}))})}getAddresses(){return this.store.pipe(R(X4))}getAddressesLoading(){return this.store.pipe(R(eq))}getAddressesLoadedSuccess(){return this.store.pipe(R(tq))}loadDeliveryCountries(){this.store.dispatch(new Eh)}getDeliveryCountries(){return this.store.pipe(R(V4))}getCountry(t){return this.store.pipe(R(H4(t)))}loadRegions(t){this.store.dispatch(new Kh(t))}clearRegions(){this.store.dispatch(new Jh)}getRegions(t){return this.store.pipe(R(J4),y(({regions:n,country:i,loading:o,loaded:s})=>!t&&(o||s)?(this.clearRegions(),[]):o&&!s?[]:!o&&t!==i&&t?(i&&this.clearRegions(),this.loadRegions(t),[]):n))}verifyAddress(t){return this.userAddressVerificationCommand.execute({address:t})}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(Wn),f(mP),f(m3))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var zle=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadProductInterests(t,n,i,o,s){this.userIdService.takeUserId().subscribe(a=>{this.store.dispatch(new zs({userId:a,pageSize:t,currentPage:n,sort:i,productCode:o,notificationType:s}))})}getProductInterests(){return this.store.pipe(R(Z4))}getAndLoadProductInterests(t){return this.store.pipe(R(ID),k(n=>{n.loading||n.success||n.error||this.loadProductInterests(t)}),y(n=>n.value),M(sn))}getProdutInterestsLoading(){return this.store.pipe(R(Q4))}removeProdutInterest(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new $h({userId:i,item:t,singleDelete:n}))})}getRemoveProdutInterestLoading(){return this.store.pipe(R(Ai(Bs)))}getRemoveProdutInterestSuccess(){return this.store.pipe(R(Zr(Bs)))}addProductInterest(t,n){this.userIdService.takeUserId().subscribe(i=>{this.store.dispatch(new Hh({userId:i,productCode:t,notificationType:n}))})}getAddProductInterestSuccess(){return this.store.pipe(R(Zr($s)))}getAddProductInterestError(){return this.store.pipe(R(Ti($s)))}resetAddInterestState(){this.store.dispatch(new Wh)}resetRemoveInterestState(){this.store.dispatch(new qh)}clearProductInterests(){this.store.dispatch(new Yh)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(Wn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Gle=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}getPreferences(){return this.store.pipe(R(z4))}getEnabledPreferences(){return this.store.pipe(R(G4))}loadPreferences(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Ih(t))})}clearPreferences(){this.store.dispatch(new Mh)}getPreferencesLoading(){return this.store.pipe(R(W4))}updatePreferences(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new wh({userId:n,preferences:t}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ai(Hc))}resetNotificationPreferences(){this.store.dispatch(new Rh)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(Wn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Wle=(()=>{class e{constructor(t,n){this.store=t,this.userIdService=n}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(t=>{this.store.dispatch(new Hs(t))})}getPaymentMethods(){return this.store.pipe(R(q4))}getPaymentMethodsLoading(){return this.store.pipe(R(Y4))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(R(K4))}setPaymentMethodAsDefault(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new xh({userId:n,paymentMethodId:t}))})}deletePaymentMethod(t){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Fh({userId:n,paymentMethodId:t}))})}getAllBillingCountries(){return this.store.pipe(R(U4))}loadBillingCountries(){this.store.dispatch(new eh)}static{this.\u0275fac=function(n){return new(n||e)(f(le),f(Wn))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),X_=class{},W9=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadBillingCountries$=H(()=>this.actions$.pipe($(RI),_(()=>this.siteConnector.getCountries(YS.BILLING).pipe(y(i=>new nh(i)),F(i=>I(new th(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Ks))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),q9=(()=>{class e{constructor(t){this.actions$=t,this.clearMiscsData$=H(()=>this.actions$.pipe($(wn,qs),y(()=>new bp)))}static{this.\u0275fac=function(n){return new(n||e)(f(De))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Y9=(()=>{class e{constructor(t,n){this.actions$=t,this.customerCouponConnector=n,this.logger=E(K),this.loadCustomerCoupons$=H(()=>this.actions$.pipe($(_I),y(i=>i.payload),z(i=>this.customerCouponConnector.getCustomerCoupons(i.userId,i.pageSize,i.currentPage,i.sort).pipe(y(o=>new oh(o)),F(o=>I(new ih(ae(o,this.logger)))))))),this.subscribeCustomerCoupon$=H(()=>this.actions$.pipe($(xI),y(i=>i.payload),z(i=>this.customerCouponConnector.turnOnNotification(i.userId,i.couponCode).pipe(y(o=>new ch(o)),F(o=>I(new ah(ae(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=H(()=>this.actions$.pipe($(PI),y(i=>i.payload),z(i=>this.customerCouponConnector.turnOffNotification(i.userId,i.couponCode).pipe(y(()=>new dh(i.couponCode)),F(o=>I(new lh(ae(o,this.logger)))))))),this.claimCustomerCoupon$=H(()=>this.actions$.pipe($(LI),y(i=>i.payload),z(i=>this.customerCouponConnector.claimCustomerCoupon(i.userId,i.couponCode).pipe(y(o=>new yh(o)),F(o=>I(new vh(ae(o,this.logger)))))))),this.disclaimCustomerCoupon$=H(()=>this.actions$.pipe($(kI),y(i=>i.payload),z(i=>this.customerCouponConnector.disclaimCustomerCoupon(i.userId,i.couponCode).pipe(y(o=>new mh(o)),F(o=>I(new gh(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(U9))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),K9=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadDeliveryCountries$=H(()=>this.actions$.pipe($(UI),_(()=>this.siteConnector.getCountries(YS.SHIPPING).pipe(y(i=>new Sh(i)),F(i=>I(new Ch(ae(i,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Ks))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Z9=(()=>{class e{constructor(t,n){this.actions$=t,this.connector=n,this.logger=E(K),this.loadPreferences$=H(()=>this.actions$.pipe($($I),y(i=>i.payload),_(i=>this.connector.loadAll(i).pipe(y(o=>new bh(o)),F(o=>I(new Dh(ae(o,this.logger)))))))),this.updatePreferences$=H(()=>this.actions$.pipe($(HI),y(i=>i.payload),z(i=>this.connector.update(i.userId,i.preferences).pipe(y(()=>new Ah(i.preferences)),F(o=>I(new Th(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(m4))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),Q9=(()=>{class e{constructor(t,n,i){this.actions$=t,this.userPaymentMethodConnector=n,this.globalMessageService=i,this.logger=E(K),this.loadUserPaymentMethods$=H(()=>this.actions$.pipe($(GI),y(o=>o.payload),z(o=>this.userPaymentMethodConnector.getAll(o).pipe(y(s=>new Oh(s)),F(s=>I(new _h(ae(s,this.logger)))))))),this.setDefaultUserPaymentMethod$=H(()=>this.actions$.pipe($(YI),y(o=>o.payload),z(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(_(s=>[new Ph(s),new Hs(o.userId)]),F(s=>I(new Nh(ae(s,this.logger)))))))),this.deleteUserPaymentMethod$=H(()=>this.actions$.pipe($(KI),y(o=>o.payload),z(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(_(s=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},ke.MSG_TYPE_CONFIRMATION),[new kh(s),new Hs(o.userId)])),F(s=>I(new Lh(ae(s,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f($9),f(Ys))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),J9=(()=>{class e{constructor(t,n){this.actions$=t,this.userInterestsConnector=n,this.logger=E(K),this.loadProductInteres$=H(()=>this.actions$.pipe($(ZI),y(i=>i.payload),_(i=>this.userInterestsConnector.getInterests(i.userId,i.pageSize,i.currentPage,i.sort,i.productCode,i.notificationType).pipe(y(o=>new jh(o)),F(o=>I(new Uh(ae(o,this.logger)))))))),this.removeProductInterest$=H(()=>this.actions$.pipe($(XI),y(i=>i.payload),_(i=>this.userInterestsConnector.removeInterest(i.userId,i.item).pipe(_(o=>[new zs(i.singleDelete?{userId:i.userId,productCode:i.item.product?.code,notificationType:i.item.productInterestEntry?.[0].interestType}:{userId:i.userId}),new Bh(o)]),F(o=>I(new Vh(ae(o,this.logger)))))))),this.addProductInterest$=H(()=>this.actions$.pipe($(eD),y(i=>i.payload),_(i=>this.userInterestsConnector.addInterest(i.userId,i.productCode,i.notificationType).pipe(_(o=>[new zs({userId:i.userId,productCode:i.productCode,notificationType:i.notificationType}),new zh(o)]),F(o=>I(new Gh(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(j9))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),X9=(()=>{class e{constructor(t,n){this.actions$=t,this.siteConnector=n,this.logger=E(K),this.loadRegions$=H(()=>this.actions$.pipe($(tD),y(i=>i.payload),_(i=>this.siteConnector.getRegions(i).pipe(y(o=>new Qh({entities:o,country:i})),F(o=>I(new Zh(ae(o,this.logger)))))))),this.resetRegions$=H(()=>this.actions$.pipe($(Kc,rD),y(()=>new Jr(Gc))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(Ks))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),e7=(()=>{class e{constructor(t,n,i,o){this.actions$=t,this.userAddressConnector=n,this.userAddressService=i,this.messageService=o,this.logger=E(K),this.loadUserAddresses$=H(()=>this.actions$.pipe($(iD),y(s=>s.payload),_(s=>this.userAddressConnector.getAll(s).pipe(y(a=>new tp(a)),F(a=>I(new ep(ae(a,this.logger)))))))),this.addUserAddress$=H(()=>this.actions$.pipe($(ug),y(s=>s.payload),z(s=>this.userAddressConnector.add(s.userId,s.address).pipe(y(a=>new ip(a)),F(a=>I(new rp(ae(a,this.logger)))))))),this.updateUserAddress$=H(()=>this.actions$.pipe($(lg),y(s=>s.payload),z(s=>this.userAddressConnector.update(s.userId,s.addressId,s.address).pipe(y(()=>new sp(s)),F(a=>(this.showGlobalMessage("addressForm.invalidAddress",ke.MSG_TYPE_ERROR),I(new op(ae(a,this.logger))))))))),this.deleteUserAddress$=H(()=>this.actions$.pipe($(dg),y(s=>s.payload),z(s=>this.userAddressConnector.delete(s.userId,s.addressId).pipe(y(a=>new up(a)),F(a=>I(new cp(ae(a,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=H(()=>this.actions$.pipe($(aD),k(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=H(()=>this.actions$.pipe($(cD),y(s=>s.payload),k(s=>{this.loadAddresses(),(Object.keys(s?.address).length!==1||!s?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=H(()=>this.actions$.pipe($(uD),k(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(t,n){this.messageService.add({key:t},n??ke.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(mP),f(G9),f(Ys))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),t7=(()=>{class e{constructor(t,n){this.actions$=t,this.userConsentConnector=n,this.logger=E(K),this.resetConsents$=H(()=>this.actions$.pipe($(wn),y(()=>new _c))),this.getConsents$=H(()=>this.actions$.pipe($(lD),y(i=>i.payload),Ue(i=>this.userConsentConnector.loadConsents(i).pipe(y(o=>new hp(o)),F(o=>I(new fp(ae(o,this.logger)))))))),this.giveConsent$=H(()=>this.actions$.pipe($(fD,lp),Ue(i=>this.userConsentConnector.giveConsent(i.payload.userId,i.payload.consentTemplateId??"",i.payload.consentTemplateVersion??0).pipe(y(o=>new gp(o)),F(o=>{let s=[new pp(ae(o,this.logger))];return i.type===lp&&o.status===409&&s.push(new Xf(ke.MSG_TYPE_ERROR)),I(...s)}))))),this.withdrawConsent$=H(()=>this.actions$.pipe($(pD),y(i=>i.payload),Ue(({userId:i,consentCode:o,consentId:s})=>this.userConsentConnector.withdrawConsent(i,o,s).pipe(y(()=>new Cp),F(a=>I(new Ep(ae(a,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(L9))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),n7=(()=>{class e{constructor(t,n){this.actions$=t,this.userCostCenterConnector=n,this.logger=E(K),this.loadActiveCostCenters$=H(()=>this.actions$.pipe($(gD),y(i=>i.payload),_(i=>this.userCostCenterConnector.getActiveList(i).pipe(y(o=>new Dp(o.values)),F(o=>I(new Ip(ae(o,this.logger))))))))}static{this.\u0275fac=function(n){return new(n||e)(f(De),f(k9))}}static{this.\u0275prov=g({token:e,factory:e.\u0275fac})}}return e})(),r7=[q9,K9,X9,e7,Q9,W9,t7,Y9,Z9,J9,n7],eO={entities:{}};function i7(e=eO,r){switch(r.type){case MI:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode]:o}),v({},e.entities));return w(v({},e),{entities:n})}case Kc:return eO}return e}var o7={coupons:[],sorts:[],pagination:{}};function s7(e=o7,r){switch(r.type){case OI:return r.payload;case NI:{let t=r.payload.coupon,n=new Array(e.coupons?.length??0);return e.coupons?.forEach((i,o)=>t&&i.couponId===t.couponId?n[o]=t:n[o]=i),w(v({},e),{coupons:n})}case FI:{let t=r.payload,n=new Array(e.coupons?.length??0);return e.coupons?.forEach((i,o)=>i.couponId===t?n[o]=w(v({},i),{notificationOn:!1}):n[o]=i),w(v({},e),{coupons:n})}}return e}var tO={entities:{}};function a7(e=tO,r){switch(r.type){case jI:{let n=r.payload.reduce((i,o)=>w(v({},i),{[o.isocode??""]:o}),v({},e.entities));return w(v({},e),{entities:n})}case Kc:return tO}return e}var EC=[];function c7(e=EC,r){switch(r.type){case BI:return EC;case VI:case zI:return r.payload?r.payload:EC}return e}var CC=[];function u7(e=CC,r){switch(r.type){case qI:return r.payload?r.payload:CC;case WI:return CC}return e}var SC={results:[],pagination:{},sorts:[]};function l7(e=SC,r){switch(r.type){case JI:return r.payload?r.payload:SC;case QI:return SC}return e}var nO={entities:[],country:null};function d7(e=nO,r){switch(r.type){case nD:{let t=r.payload.entities,n=r.payload.country;return t||n?w(v({},e),{entities:t,country:n}):nO}}return e}var IC=[];function f7(e=IC,r){switch(r.type){case oD:return IC;case sD:return r.payload?r.payload:IC}return e}var rO=[];function h7(e=rO,r){switch(r.type){case dD:{let t=r.payload;return t||rO}case hD:{let t=r.consentTemplate;return e.map(n=>n.id===t.id?t:n)}}return e}var DC=[];function p7(e=DC,r){switch(r.type){case mD:return DC;case vD:return r.payload?r.payload:DC}return e}function g7(){return{addresses:dt(an,f7),billingCountries:i7,consents:dt(zc,h7),payments:dt(br,u7),countries:a7,regions:dt(Gc,d7),customerCoupons:dt(Wc,s7),notificationPreferences:dt(qc,c7),productInterests:dt(Yc,l7),costCenters:dt(cg,p7)}}var yP=new S("UserReducers"),m7={provide:yP,useFactory:g7};function v7(e){return function(r,t){return t.type===Sr&&(r=void 0),e(r,t)}}var y7=[v7],E7=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[m7],imports:[Ye,ii,jn.forFeature(gx,yP,{metaReducers:y7}),$n.forFeature(r7),HM]})}}return e})(),qle=(()=>{class e{static forRoot(){return{ngModule:e}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=U({providers:[vP],imports:[E7,z9]})}}return e})();export{v as a,w as b,Sg as c,C7 as d,it as e,Ee as f,V as g,ie as h,Re as i,Yt as j,Fg as k,ui as l,jF as m,ge as n,RK as o,MK as p,un as q,me as r,I as s,Nt as t,nr as u,y as v,Ne as w,z as x,Jn as y,Xn as z,Ze as A,ia as B,oa as C,sa as D,Zt as E,YF as F,ln as G,kg as H,M as I,Ug as J,Ui as K,ku as L,F as M,Ue as N,_F as O,$i as P,re as Q,Tu as R,er as S,OF as T,dn as U,NF as V,yb as W,JF as X,Rn as Y,xt as Z,_r as _,ua as $,XF as aa,Bi as ba,Lo as ca,ot as da,xg as ea,ju as fa,tr as ga,_ as ha,la as ia,FF as ja,k as ka,eL as la,st as ma,B as na,Aw as oa,g as pa,U as qa,S as ra,f as sa,E as ta,Cv as ua,pn as va,fn as wa,Vw as xa,j as ya,Lt as za,Jt as Aa,ur as Ba,mi as Ca,Boe as Da,Voe as Ea,qe as Fa,Fv as Ga,Qe as Ha,lr as Ia,vt as Ja,$e as Ka,vn as La,Hoe as Ma,zoe as Na,MU as Oa,Goe as Pa,Woe as Qa,qoe as Ra,J as Sa,Fn as Ta,Hm as Ua,ml as Va,Wl as Wa,Ji as Xa,os as Ya,Ce as Za,Gt as _a,j1 as $a,K1 as ab,sy as bb,f$ as cb,B0 as db,h$ as eb,Qoe as fb,Joe as gb,Xoe as hb,K0 as ib,Z0 as jb,uy as kb,Q0 as lb,J0 as mb,T$ as nb,ese as ob,R$ as pb,ly as qb,tse as rb,nse as sb,rse as tb,L$ as ub,eA as vb,tA as wb,ise as xb,nA as yb,rA as zb,ose as Ab,sse as Bb,j$ as Cb,iA as Db,$$ as Eb,B$ as Fb,V$ as Gb,ase as Hb,H$ as Ib,cse as Jb,use as Kb,lse as Lb,dse as Mb,fse as Nb,hse as Ob,pse as Pb,gse as Qb,mse as Rb,vse as Sb,yse as Tb,Ese as Ub,Cse as Vb,Sse as Wb,Ise as Xb,as as Yb,Et as Zb,cs as _b,ro as $b,pe as ac,$r as bc,my as cc,ka as dc,Ci as ec,Fe as fc,hr as gc,Rt as hc,vd as ic,fr as jc,Bse as kc,Vse as lc,qB as mc,Hse as nc,zse as oc,Gse as pc,Wse as qc,VA as rc,qse as sc,Yse as tc,Kse as uc,Zse as vc,Qse as wc,Jse as xc,Xse as yc,zA as zc,eae as Ac,Ye as Bc,Un as Cc,io as Dc,GA as Ec,de as Fc,ky as Gc,Ge as Hc,ds as Ic,oo as Jc,Mt as Kc,Le as Lc,tn as Mc,fae as Nc,hae as Oc,pae as Pc,Tae as Qc,Aae as Rc,Zy as Sc,hR as Tc,KV as Uc,Si as Vc,hs as Wc,Wr as Xc,fs as Yc,le as Zc,R as _c,T as $c,En as ad,jn as bd,Bae as cd,Vae as dd,H as ed,De as fd,$ as gd,$n as hd,Sn as id,ut as jd,In as kd,jd as ld,qr as md,F2 as nd,pc as od,xe as pd,sM as qd,mce as rd,HM as sd,cf as td,wf as ud,It as vd,Dt as wd,xc as xd,Gs as yd,O_ as zd,bn as Ad,bo as Bd,we as Cd,a8 as Dd,c8 as Ed,Us as Fd,wc as Gd,u8 as Hd,l8 as Id,d8 as Jd,Fue as Kd,xs as Ld,Ns as Md,j8 as Nd,Lue as Od,kue as Pd,Wn as Qd,B8 as Rd,Dc as Sd,ri as Td,Ir as Ud,Jp as Vd,Dr as Wd,kO as Xd,Lc as Yd,K as Zd,tg as _d,kc as $d,$O as ae,_i as be,hI as ce,sn as de,js as ee,Xr as fe,wo as ge,To as he,ei as ie,VO as je,jue as ke,Ao as le,c3 as me,qn as ne,$c as oe,qC as pe,Bue as qe,Vue as re,Tc as se,QC as te,Ke as ue,Fs as ve,bI as we,Ms as xe,m3 as ye,Ri as ze,ti as Ae,Mo as Be,Hue as Ce,Qf as De,XO as Ee,Bc as Fe,Xe as Ge,nt as He,Ac as Ie,zue as Je,Gue as Ke,Wue as Le,que as Me,Yue as Ne,Kue as Oe,Zue as Pe,Que as Qe,Jue as Re,Xue as Se,og as Te,ele as Ue,tle as Ve,k_ as We,ae as Xe,Vc as Ye,ii as Ze,Dn as _e,B_ as $e,V3 as af,ax as bf,ke as cf,Ys as df,q3 as ef,nle as ff,tW as gf,rle as hf,hx as if,ce as jf,ile as kf,ole as lf,uW as mf,ED as nf,Oi as of,sle as pf,ale as qf,cle as rf,sN as sf,DW as tf,bW as uf,lle as vf,Io as wf,pN as xf,dle as yf,fle as zf,xp as Af,xi as Bf,Zc as Cf,CN as Df,mC as Ef,y4 as Ff,hle as Gf,aq as Hf,G_ as If,W_ as Jf,$p as Kf,bD as Lf,Gq as Mf,Cle as Nf,mg as Of,on as Pf,Cr as Qf,vg as Rf,A6 as Sf,ND as Tf,Sle as Uf,Ile as Vf,Dle as Wf,F6 as Xf,ble as Yf,wle as Zf,Tle as _f,Tr as $f,St as ag,Ale as bg,nY as cg,Rle as dg,Mle as eg,oY as fg,FD as gg,OY as hg,_le as ig,Ole as jg,xY as kg,NY as lg,xle as mg,Nle as ng,PY as og,Ple as pg,LY as qg,ZN as rg,ru as sg,Lle as tg,kle as ug,Ule as vg,R9 as wg,jle as xg,$le as yg,Do as zg,B9 as Ag,V9 as Bg,Ble as Cg,Vle as Dg,Hle as Eg,G9 as Fg,zle as Gg,Gle as Hg,Wle as Ig,X_ as Jg,qle as Kg};
