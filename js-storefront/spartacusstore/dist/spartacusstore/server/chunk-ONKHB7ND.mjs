import './polyfills.server.mjs';
import{a as Gt,d as Ut}from"./chunk-TK2ELYED.mjs";import{C as kt,Ra as Pt,S as Nt,Ta as $t,U as Vt,V as xe,X as he,Y as Bt,Z as oe,b as bt,d as Ot,j as Rt,ma as jt,o as At}from"./chunk-6XFVW6FJ.mjs";import{Db as Mt,E as ht,Ea as Ft,Eb as ne,I as Z,Qa as Ct,S as x,db as It,dc as wt,e as _t,ea as yt,f as W,fb as Se,g as $,h as ft,ha as ge,i as gt,l as te,la as H,m as be,mb as Et,n as ie,nb as Tt,o as vt,qc as b,rc as Lt,t as _e,u as St,ua as ve,vc as Dt,x as fe,z as xt,zb as q}from"./chunk-JYBAAKHA.mjs";import{$a as C,$b as L,Ac as rt,Bc as pe,Bd as ee,Ca as Xe,Ed as dt,Fa as N,Fd as pt,Ga as V,Gc as u,Hc as _,Ia as le,Ic as Q,Id as me,Ka as S,Kb as Te,Kd as ut,L as Je,La as z,Lc as X,Pb as p,Qb as T,Ra as E,Rb as a,S as ce,Sa as B,Ta as et,Xb as c,Xc as at,Xd as mt,Yb as s,Za as tt,Zb as v,_a as F,_b as w,a as Ye,bc as D,dc as I,ec as d,fc as nt,fd as st,gb as Ee,gc as ot,hc as J,kb as it,kc as Me,lc as we,mc as Le,nc as K,oc as m,pc as R,q as se,qc as g,rc as P,sb as de,td as ue,vd as Y,wb as o,wd as j,x as M,xa as Ie,xb as h,xd as ct,yc as De,yd as lt,z as Ze,zc as y}from"./chunk-4X4JD2BX.mjs";import{a as G,b as U}from"./chunk-GHFNAT2I.mjs";var Ue=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=N({token:t,factory:function(i){let n=null;return i?n=new(i||t):n=S(ht),n},providedIn:"root"})}}return t})(),re=class{},We=(()=>{class t{constructor(e){this.adapter=e}search(e,i,n,l){return this.adapter.search(e,i,n,l)}getCounts(){return this.adapter.loadCounts()}get(e){return this.adapter.load(e)}static{this.\u0275fac=function(i){return new(i||t)(S(re))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),qt=new le("StoreFinderSearchPageNormalizer"),zt=new le("StoreCountNormalizer"),Kt="stores",O="[StoreFinder] Store Finder Data",fi="[StoreFinder] On Hold",Qt="[StoreFinder] Find Stores",gi="[StoreFinder] Find Stores Fail",Yt="[StoreFinder] Find Stores Success",Zt="[StoreFinder] Find a Store by Id",vi="[StoreFinder] Find a Store by Id Fail",Jt="[StoreFinder] Find a Store by Id Success",Oe=class extends x.LoaderLoadAction{constructor(){super(O),this.type=fi}},ye=class extends x.LoaderLoadAction{constructor(r){super(O),this.payload=r,this.type=Qt}},Re=class extends x.LoaderFailAction{constructor(r){super(O,r),this.payload=r,this.type=gi}},Ae=class extends x.LoaderSuccessAction{constructor(r){super(O),this.payload=r,this.type=Yt}},ke=class extends x.LoaderLoadAction{constructor(r){super(O),this.payload=r,this.type=Zt}},Ne=class extends x.LoaderFailAction{constructor(r){super(O,r),this.payload=r,this.type=vi}},Ve=class extends x.LoaderSuccessAction{constructor(r){super(O),this.payload=r,this.type=Jt}},Xt="[StoreFinder] View All Stores",Si="[StoreFinder] View All Stores Fail",ei="[StoreFinder] View All Stores Success",He="[StoreFinder] Clear Data",Be=class extends x.LoaderLoadAction{constructor(){super(O),this.type=Xt}},je=class extends x.LoaderFailAction{constructor(r){super(O,r),this.payload=r,this.type=Si}},Pe=class extends x.LoaderSuccessAction{constructor(r){super(O),this.payload=r,this.type=ei}},$e=class{constructor(){this.type=He}};var ti=ft(Kt),qe=$(ti,t=>t.findStores),Wt=$(qe,t=>x.loaderValueSelector(t)),xi=$(qe,t=>x.loaderLoadingSelector(t)),hi=$(qe,t=>x.loaderSuccessSelector(t)),ii=$(ti,t=>t.viewAllStores),yi=$(ii,t=>x.loaderValueSelector(t)),Fi=$(ii,t=>x.loaderLoadingSelector(t));var A=(()=>{class t{constructor(e,i,n,l,f){this.store=e,this.winRef=i,this.globalMessageService=n,this.routingService=l,this.platformId=f,this.geolocationWatchId=null,this.subscription=new Ye,this.reloadStoreEntitiesOnContextChange()}getStoresLoading(){return this.store.pipe(W(xi))}getStoresLoaded(){return this.store.pipe(W(hi))}getFindStoresEntities(){return this.store.pipe(W(Wt),M(e=>e.findStoresEntities))}getFindStoreEntityById(){return this.store.pipe(W(Wt),M(e=>e.findStoreEntityById))}getViewAllStoresLoading(){return this.store.pipe(W(Fi))}getViewAllStoresEntities(){return this.store.pipe(W(yi),M(e=>e.viewAllStoresEntities))}findStoresAction(e,i,n,l,f,k){f&&this.winRef.nativeWindow?(this.clearWatchGeolocation(new Oe),this.geolocationWatchId=this.winRef.nativeWindow.navigator.geolocation.watchPosition(Qe=>{let _i={longitude:Qe.coords.longitude,latitude:Qe.coords.latitude};this.clearWatchGeolocation(new ye({queryText:e,searchConfig:i,longitudeLatitude:_i,countryIsoCode:l,radius:k}))},()=>{this.globalMessageService.add({key:"storeFinder.geolocationNotEnabled"},Et.MSG_TYPE_ERROR),this.routingService.go(["/store-finder"])})):this.clearWatchGeolocation(new ye({queryText:e,searchConfig:i,longitudeLatitude:n,countryIsoCode:l,radius:k}))}viewAllStores(){this.clearWatchGeolocation(new Be)}viewStoreById(e){this.clearWatchGeolocation(new ke({storeId:e}))}clearWatchGeolocation(e){this.geolocationWatchId!==null&&(this.winRef.nativeWindow?.navigator.geolocation.clearWatch(this.geolocationWatchId),this.geolocationWatchId=null),this.store.dispatch(e)}isEmpty(e){return!e||typeof e=="object"&&Object.keys(e).length===0}reloadStoreEntitiesOnContextChange(){(ut(this.platformId)||!this.platformId)&&(this.subscription=this.getFindStoresEntities().pipe(Je(e=>this.isEmpty(e)),Xe(this.getStoresLoading(),this.getStoresLoaded(),this.routingService.getParams())).subscribe(([,e,i,n])=>{!e&&!i&&(n.country&&!n.store&&this.callFindStoresAction(n),n.store&&this.viewStoreById(n.store))}))}callFindStoresAction(e){this.findStoresAction("",{pageSize:-1},void 0,e.country)}ngOnDestroy(){this.subscription?.unsubscribe()}getStoreLatitude(e){return e?.geoPoint?.latitude}getStoreLongitude(e){return e?.geoPoint?.longitude}getDirections(e){let i="https://www.google.com/maps/dir/Current+Location/",n=this.getStoreLatitude(e),l=this.getStoreLongitude(e);return i+n+","+l}static{this.\u0275fac=function(i){return new(i||t)(S(_t),S(yt),S(Tt),S(H),S(it))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ni=(()=>{class t{constructor(e,i,n){this.config=e,this.storeFinderService=i,this.scriptLoader=n,this.googleMap=null,this.logger=z(ge)}renderMap(e,i,n){if(this.config.googleMaps?.apiKey){if(Object.entries(i[Object.keys(i)[0]]).length>0)if(this.googleMap===null){let l=this.config.googleMaps.apiKey===Gt?"":this.config.googleMaps.apiKey;this.scriptLoader.embedScript({src:this.config.googleMaps.apiUrl,params:{key:l},attributes:{type:"text/javascript"},callback:()=>{this.drawMap(e,i,n)}})}else this.drawMap(e,i,n)}else at()&&this.logger.warn("A Google Maps api key is required in the store finder configuration to display the Google map.")}centerMap(e,i){this.googleMap.panTo({lat:e,lng:i}),this.googleMap.setZoom(this.config.googleMaps.selectedMarkerScale)}defineMapCenter(e){return new google.maps.LatLng(this.storeFinderService.getStoreLatitude(e[0]),this.storeFinderService.getStoreLongitude(e[0]))}initMap(e,i){let l={center:i,zoom:this.config.googleMaps.scale,mapTypeId:google.maps.MapTypeId.ROADMAP,gestureHandling:"greedy"};this.googleMap=new google.maps.Map(e,l)}createMarkers(e,i){this.markers=[],e.forEach((n,l)=>{let f=new google.maps.Marker({position:new google.maps.LatLng(this.storeFinderService.getStoreLatitude(n),this.storeFinderService.getStoreLongitude(n)),label:l+1+""});this.markers.push(f),f.setMap(this.googleMap),f.addListener("mouseover",function(){f.setAnimation(google.maps.Animation.BOUNCE)}),f.addListener("mouseout",function(){f.setAnimation(null)}),i&&f.addListener("click",function(){i(l)})})}drawMap(e,i,n){this.initMap(e,this.defineMapCenter(i)),this.createMarkers(i,n)}static{this.\u0275fac=function(i){return new(i||t)(S(Ue),S(A),S(It))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ci={googleMaps:{apiUrl:"https://maps.googleapis.com/maps/api/js",apiKey:"",scale:5,selectedMarkerScale:17,radius:5e4}},Ii={findStoresEntities:{},findStoreEntityById:{}};function Ei(t=Ii,r){switch(r.type){case Yt:{let e=r.payload;return U(G({},t),{findStoresEntities:e})}case Jt:{let e=r.payload;return U(G({},t),{findStoreEntityById:e})}}return t}var Ti={viewAllStoresEntities:{}};function Mi(t=Ti,r){switch(r.type){case ei:{let e=r.payload;return U(G({},t),{viewAllStoresEntities:e})}}return t}function wi(){return{findStores:x.loaderReducer(O,Ei),viewAllStores:x.loaderReducer(O,Mi)}}var oi=new le("StoreFinderReducers"),Li={provide:oi,useFactory:wi};function Di(t){return function(r,e){return e.type===ve.LANGUAGE_CHANGE&&(r=void 0),e.type===He&&(r=void 0),t(r,e)}}var bi=[Di],Oi=(()=>{class t{constructor(e,i){this.actions$=e,this.storeFinderConnector=i,this.logger=z(ge),this.findStores$=te(()=>this.actions$.pipe(ie(Qt),M(n=>n.payload),Ze(n=>this.storeFinderConnector.search(n.queryText,n.searchConfig,n.longitudeLatitude,n.radius).pipe(M(l=>(n.countryIsoCode&&(l.stores=l.stores.filter(f=>f.address.country.isocode===n.countryIsoCode),l.stores.sort((f,k)=>f.name<k.name?-1:f.name>k.name?1:0)),new Ae(l))),ce(l=>se(new Re(Se(l,this.logger)))))))),this.findStoreById$=te(()=>this.actions$.pipe(ie(Zt),M(n=>n.payload),Ie(n=>this.storeFinderConnector.get(n.storeId).pipe(M(l=>new Ve(l)),ce(l=>se(new Ne(Se(l,this.logger))))))))}static{this.\u0275fac=function(i){return new(i||t)(S(be),S(We))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac})}}return t})(),Ri=(()=>{class t{constructor(e,i){this.actions$=e,this.storeFinderConnector=i,this.logger=z(ge),this.viewAllStores$=te(()=>this.actions$.pipe(ie(Xt,He),Ie(()=>this.storeFinderConnector.getCounts().pipe(M(n=>(n.sort((l,f)=>l.name<f.name?-1:l.name>f.name?1:0),new Pe(n))),ce(n=>se(new je(Se(n,this.logger)))))))),this.clearStoreFinderData$=te(()=>this.actions$.pipe(ie(ve.LANGUAGE_CHANGE,ve.CURRENCY_CHANGE),M(()=>new $e)))}static{this.\u0275fac=function(i){return new(i||t)(S(be),S(We))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac})}}return t})(),Ai=[Oi,Ri],ki=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=B({type:t})}static{this.\u0275inj=V({providers:[Li],imports:[me,gt.forFeature(Kt,oi,{metaReducers:bi}),vt.forFeature(Ai)]})}}return t})(),Fe=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=B({type:t})}static{this.\u0275inj=V({providers:[Z(Ci),We],imports:[ki]})}}return t})();var Vi=(()=>{class t{constructor(e,i,n){this.http=e,this.occEndpointsService=i,this.converterService=n}search(e,i,n,l){return this.callOccFindStores(e,i,n,l).pipe(this.converterService.pipeable(qt))}loadCounts(){return this.http.get(this.occEndpointsService.buildUrl("storescounts")).pipe(M(({countriesAndRegionsStoreCount:e})=>e),this.converterService.pipeableMany(zt))}load(e){return this.http.get(this.occEndpointsService.buildUrl("store",{urlParams:{storeId:e}})).pipe(this.converterService.pipeable(Dt))}callOccFindStores(e,i,n,l){let f={};return n?(f.longitude=String(n.longitude),f.latitude=String(n.latitude)):f.query=e,l&&(f.radius=String(l)),i?.pageSize&&(f.pageSize=String(i.pageSize)),i?.currentPage&&(f.currentPage=String(i.currentPage)),i?.sort&&(f.sort=i.sort),this.http.get(this.occEndpointsService.buildUrl("stores",{queryParams:f}))}static{this.\u0275fac=function(i){return new(i||t)(S(mt),S(Ft),S(Ct))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac})}}return t})(),Bi={backend:{occ:{endpoints:{store:"stores/${storeId}?fields=FULL",stores:"stores?fields=stores(name,displayName,formattedDistance,openingHours(weekDayOpeningList(FULL),specialDayOpeningList(FULL)),geoPoint(latitude,longitude),address(line1,line2,town,region(FULL),postalCode,phone,country,email), features),pagination(DEFAULT),sorts(DEFAULT)",storescounts:"stores/storescounts"}}}},ri=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=B({type:t})}static{this.\u0275inj=V({providers:[Z(Bi),{provide:re,useClass:Vi}]})}}return t})();var ji=["*"];function Pi(t,r){t&1&&(c(0,"div",7),m(1),u(2,"cxTranslate"),s()),t&2&&(o(),g(" ",_(2,1,"storeFinder.closed")," "))}function $i(t,r){if(t&1&&(c(0,"div",8),m(1),s()),t&2){let e=d().$implicit;o(),P(" ",e.openingTime==null?null:e.openingTime.formattedHour," - ",e.closingTime==null?null:e.closingTime.formattedHour," ")}}function Gi(t,r){if(t&1&&(c(0,"div",3)(1,"div",4),m(2),s(),p(3,Pi,3,3,"div",5)(4,$i,2,2,"div",6),s()),t&2){let e=r.$implicit;o(2),R(e.weekDay),o(),a("ngIf",e.closed),o(),a("ngIf",!e.closed)}}function Ui(t,r){if(t&1&&(c(0,"div",1),p(1,Gi,5,3,"div",2),s()),t&2){let e=d();o(),a("ngForOf",e.weekDays)}}var Wi=(t,r)=>({displayName:t,name:r}),Ce=t=>[t],Ke=(t,r,e)=>[t,r,e];function Hi(t,r){if(t&1){let e=D();c(0,"a",7),I("click",function(){F(e);let n=d();return C(n.handleStoreItemClick())})("keyup",function(n){F(e);let l=d();return C(l.onKey(n))}),m(1),s()}if(t&2){let e=d();o(),g(" ",e.location.displayName||e.location.name," ")}}function qi(t,r){if(t&1&&(c(0,"a",8),m(1),s()),t&2){let e=d();a("routerLink",y(2,Ce,e.location.name)),o(),g(" ",e.location.displayName||e.location.name," ")}}function zi(t,r){if(t&1&&(c(0,"div",12),m(1),s()),t&2){let e=d(2);o(),g(" ",e.location.formattedDistance," ")}}function Ki(t,r){if(t&1&&(c(0,"div",9)(1,"div",10),m(2),s(),m(3),p(4,zi,2,1,"div",11),s()),t&2){let e=d();o(2),P(" ",e.location.address.line1," ",e.location.address.line2," "),o(),g(" ",e.getFormattedStoreAddress(pe(4,Ke,e.location.address.town,e.location.address.postalCode,e.location.address.country.isocode))," "),o(),a("ngIf",e.location.formattedDistance&&e.displayDistance)}}function Qi(t,r){}var ae=t=>({count:t});function Yi(t,r){t&1&&(v(0,"div",8),u(1,"cxTranslate")),t&2&&T("aria-label",_(1,1,"common.loaded"))}function Zi(t,r){if(t&1&&(c(0,"div",9)(1,"h3",10),m(2),u(3,"cxTranslate"),s(),c(4,"span",11),m(5),u(6,"cxTranslate"),s()()),t&2){let e=d().ngIf;o(2),g(" ",_(3,2,"storeFinder.storesFoundTitle")," "),o(3),g(" ",Q(6,4,"storeFinder.storesFound",y(7,ae,e==null||e.stores==null?null:e.stores.length))," ")}}function Ji(t,r){if(t&1&&(c(0,"div",12),m(1),u(2,"cxTranslate"),s()),t&2){let e=d().ngIf;o(),g(" ",Q(2,1,"storeFinder.storesFound",y(4,ae,e==null||e.stores==null?null:e.stores.length))," ")}}function Xi(t,r){if(t&1&&(c(0,"div",13),v(1,"cx-store-finder-list-item",14),s()),t&2){let e=r.$implicit;o(),a("location",e)}}function en(t,r){if(t&1&&(w(0),p(1,Yi,2,3,"div",2),c(2,"div",3),p(3,Zi,7,9,"div",4)(4,Ji,3,6,"div",5),c(5,"div",6),p(6,Xi,2,1,"div",7),s()(),L()),t&2){let e=r.ngIf;o(),a("cxFeature","!a11yRemoveStatusLoadedRole"),o(2),a("cxFeature","a11yStoreFinderAlerts"),o(),a("cxFeature","!a11yStoreFinderAlerts"),o(2),a("ngForOf",e==null?null:e.stores)}}function tn(t,r){t&1&&(c(0,"div",15),v(1,"cx-spinner"),s())}var nn=()=>["/store-finder/find"],on=t=>({query:t}),rn=t=>({"disabled-action":t}),an=()=>["/store-finder/view-all"],sn=["mapElement"];function cn(t,r){if(t&1&&(c(0,"div",13)(1,"div"),m(2),s(),c(3,"div"),m(4),s()()),t&2){let e=d(3);o(2),P("",e.location.address.line1," ",e.location.address.line2,""),o(2),g(" ",e.getFormattedStoreAddress(pe(3,Ke,e.location.address.town,e.location.address.postalCode,e.location.address.country.isocode))," ")}}function ln(t,r){if(t&1&&(c(0,"li",7),m(1),u(2,"cxTranslate"),s()),t&2){let e=d(3);o(),P(" ",_(2,2,"storeFinder.call")," ",e.location.address==null?null:e.location.address.phone," ")}}function dn(t,r){if(t&1&&(c(0,"div",14)(1,"cx-schedule",15)(2,"h3"),m(3),u(4,"cxTranslate"),s()()()),t&2){let e=d(3);o(),a("location",e.location),o(2),R(_(4,2,"storeFinder.storeHours"))}}function pn(t,r){if(t&1&&(c(0,"div",19),m(1),s()),t&2){let e=r.$implicit;o(),g(" ",e.value," ")}}function un(t,r){if(t&1&&(c(0,"div",16)(1,"h3",17),m(2),u(3,"cxTranslate"),s(),c(4,"div"),p(5,pn,2,1,"div",18),s()()),t&2){let e=d(3);o(2),g(" ",_(3,2,"storeFinder.storeFeatures")," "),o(3),a("ngForOf",e.location.features==null?null:e.location.features.entry)}}function mn(t,r){if(t&1&&(c(0,"div",20),v(1,"cx-store-finder-map",21),s()),t&2){let e=d(3);o(),a("locations",y(1,Ce,e.location))}}function _n(t,r){if(t&1&&(w(0),c(1,"div",2)(2,"div",3)(3,"h2"),m(4),s(),p(5,cn,5,7,"div",4),c(6,"section",5)(7,"ul",6)(8,"li",7)(9,"a",8),u(10,"cxTranslate"),m(11),u(12,"cxTranslate"),s()(),p(13,ln,3,4,"li",9),s()(),p(14,dn,5,4,"div",10)(15,un,6,4,"div",11),u(16,"json"),s(),p(17,mn,2,3,"div",12),s(),L()),t&2){let e=d(2);o(4),R(e.location.displayName||e.location.name),o(),a("ngIf",e.location.address),o(4),a("href",e.getDirections(e.location),de),T("aria-label",_(10,9,"storeFinder.ariaLabelGetDirections")),o(2),R(_(12,11,"storeFinder.getDirections")),o(2),a("ngIf",e.location.address==null?null:e.location.address.phone),o(),a("ngIf",e.location.openingHours),o(),a("ngIf",_(16,13,e.location.features)!=="{}"),o(2),a("ngIf",!e.disableMap)}}function fn(t,r){if(t&1&&(c(0,"p",13),m(1),v(2,"br"),m(3),s()),t&2){let e=d(4);o(),P(" ",e.location.address.line1," ",e.location.address.line2," "),o(2),g(" ",e.getFormattedStoreAddress(pe(3,Ke,e.location.address.town,e.location.address.postalCode,e.location.address.country.isocode))," ")}}function gn(t,r){if(t&1&&(c(0,"li",7),m(1),u(2,"cxTranslate"),s()),t&2){let e=d(4);o(),P(" ",_(2,2,"storeFinder.call")," ",e.location.address==null?null:e.location.address.phone," ")}}function vn(t,r){if(t&1&&(c(0,"div",14)(1,"cx-schedule",15)(2,"h3"),m(3),u(4,"cxTranslate"),s()()()),t&2){let e=d(4);o(),a("location",e.location),o(2),R(_(4,2,"storeFinder.storeHours"))}}function Sn(t,r){if(t&1&&(c(0,"div",29)(1,"div",30),m(2),s()()),t&2){let e=r.$implicit;o(2),R(e.value)}}function xn(t,r){if(t&1&&(c(0,"div",16)(1,"div",23)(2,"div",27)(3,"h3",17),m(4),u(5,"cxTranslate"),s()()(),c(6,"article",23),p(7,Sn,3,1,"div",28),s()()),t&2){let e=d(4);o(4),g(" ",_(5,2,"storeFinder.storeFeatures")," "),o(3),a("ngForOf",e.location.features==null?null:e.location.features.entry)}}function hn(t,r){if(t&1&&(c(0,"article",31),v(1,"cx-store-finder-map",21),s()),t&2){let e=d(4);o(),a("locations",y(1,Ce,e.location))}}function yn(t,r){if(t&1&&(w(0),c(1,"div",22)(2,"div",23)(3,"article",24)(4,"h2",25),m(5),s(),p(6,fn,4,7,"p",4),c(7,"section",5)(8,"ul",6)(9,"li",7)(10,"a",8),u(11,"cxTranslate"),m(12),u(13,"cxTranslate"),s()(),p(14,gn,3,4,"li",9),s()(),p(15,vn,5,4,"div",10)(16,xn,8,4,"div",11),u(17,"json"),s(),p(18,hn,2,3,"article",26),s()(),L()),t&2){let e=d(3);o(5),g(" ",e.location.displayName||e.location.name," "),o(),a("ngIf",e.location.address),o(4),a("href",e.getDirections(e.location),de),T("aria-label",_(11,9,"storeFinder.ariaLabelGetDirections")),o(2),R(_(13,11,"storeFinder.getDirections")),o(2),a("ngIf",e.location.address==null?null:e.location.address.phone),o(),a("ngIf",e.location.openingHours),o(),a("ngIf",_(17,13,e.location.features)!=="{}"),o(2),a("ngIf",!e.disableMap)}}function Fn(t,r){if(t&1&&(w(0),p(1,yn,19,15,"ng-container",0),L()),t&2){let e=d(2);o(),a("ngIf",e.location)}}function Cn(t,r){t&1&&(w(0),p(1,_n,18,15,"ng-container",1)(2,Fn,2,1,"ng-container",1),L()),t&2&&(o(),a("cxFeature","a11yStoreFinderOverflow"),o(),a("cxFeature","!a11yStoreFinderOverflow"))}var In=["storeMap"],ci=t=>({"cx-selected-item":t}),En=t=>({"nav-link":!0,active:t});function Tn(t,r){if(t&1){let e=D();c(0,"button",12),I("click",function(){F(e);let n=d(3);return C(n.hideStoreDetails())}),v(1,"cx-icon",13),m(2),u(3,"cxTranslate"),s()}if(t&2){let e=d(3);o(),a("type",e.iconTypes.CARET_LEFT),o(),g(" ",_(3,2,"storeFinder.back")," ")}}function Mn(t,r){if(t&1&&(c(0,"div",6)(1,"div",7),v(2,"cx-store-finder-pagination-details",8),s(),c(3,"div",9)(4,"div",10),m(5),s(),p(6,Tn,4,4,"button",11),s()()),t&2){let e=d(2);o(2),a("pagination",e.locations.pagination),o(3),g(" ",e.storeDetails==null?null:e.storeDetails.displayName," "),o(),a("ngIf",e.isDetailsModeVisible)}}function wn(t,r){if(t&1&&(c(0,"div",20),v(1,"cx-store-finder-store-description",21),s()),t&2){let e=d(3);o(),a("location",e.storeDetails)("disableMap",!0)}}function Ln(t,r){if(t&1){let e=D();c(0,"li",24)(1,"cx-store-finder-list-item",25),I("storeItemClick",function(n){let l=F(e).$implicit,f=d(4);return C(f.centerStoreOnMapByIndex(n,l))}),s()()}if(t&2){let e=r.$implicit,i=r.index,n=d(4);J("id","item-"+i),a("ngClass",y(7,ci,n.selectedStoreIndex===i)),o(),a("location",e)("locationIndex",i)("displayDistance",n.useMylocation)("useClickEvent",!0)("listOrderLabel",i+n.locations.pagination.currentPage*n.locations.pagination.pageSize+1)}}function Dn(t,r){if(t&1&&(c(0,"ol",22),p(1,Ln,2,9,"li",23),s()),t&2){let e=d(3);o(),a("ngForOf",e.locations==null?null:e.locations.stores)}}function bn(t,r){if(t&1){let e=D();c(0,"div",14)(1,"div",15),p(2,wn,2,2,"div",16)(3,Dn,2,1,"ol",17),s(),c(4,"div",18)(5,"cx-store-finder-map",19,0),I("selectedStoreItem",function(n){F(e);let l=d(2);return C(l.selectStoreItemList(n))}),s()()()}if(t&2){let e=d(2);o(2),a("ngIf",e.isDetailsModeVisible),o(),a("ngIf",!e.isDetailsModeVisible),o(2),a("locations",e.locations.stores)}}function On(t,r){if(t&1){let e=D();c(0,"li",32)(1,"button",33),I("click",function(){let n=F(e).$implicit,l=d(3);return C(l.setDisplayMode(n==null?null:n.value))}),m(2),u(3,"cxTranslate"),s()()}if(t&2){let e=r.$implicit,i=d(3);o(),a("id","tab-"+(e==null?null:e.value))("ngClass",y(7,En,i.isDisplayModeActive(e==null?null:e.value))),T("aria-controls","tab-"+(e==null?null:e.value)+"-panel")("aria-selected",i.isDisplayModeActive(e==null?null:e.value)),o(),g(" ",_(3,5,"storeFinder."+(e==null?null:e.value))," ")}}function Rn(t,r){if(t&1&&(c(0,"div",20),v(1,"cx-store-finder-store-description",21),s()),t&2){let e=d(4);o(),a("location",e.storeDetails)("disableMap",!0)}}function An(t,r){if(t&1){let e=D();c(0,"li",24)(1,"cx-store-finder-list-item",25),I("storeItemClick",function(n){let l=F(e).$implicit,f=d(5);return C(f.centerStoreOnMapByIndex(n,l))}),s()()}if(t&2){let e=r.$implicit,i=r.index,n=d(5);J("id","item-"+i),a("ngClass",y(7,ci,n.selectedStoreIndex===i)),o(),a("location",e)("locationIndex",i)("displayDistance",n.useMylocation)("useClickEvent",!0)("listOrderLabel",i+n.locations.pagination.currentPage*n.locations.pagination.pageSize+1)}}function kn(t,r){if(t&1&&(c(0,"ol",22),p(1,An,2,9,"li",23),s()),t&2){let e=d(4);o(),a("ngForOf",e.locations==null?null:e.locations.stores)}}function Nn(t,r){if(t&1&&(c(0,"div",34)(1,"div",35),p(2,Rn,2,2,"div",16)(3,kn,2,1,"ol",17),s()()),t&2){let e=d(3);o(2),a("ngIf",e.isDetailsModeVisible),o(),a("ngIf",!e.isDetailsModeVisible)}}function Vn(t,r){if(t&1){let e=D();c(0,"div",36)(1,"div",37)(2,"cx-store-finder-map",19,0),I("selectedStoreItem",function(n){F(e);let l=d(3);return C(l.selectStoreItemList(n))}),s()()()}if(t&2){let e=d(3);o(2),a("locations",e.selectedStore?y(1,Ce,e.selectedStore):e.locations.stores)}}function Bn(t,r){if(t&1&&(c(0,"div",26)(1,"ul",27),p(2,On,4,9,"li",28),u(3,"keyvalue"),s(),c(4,"div",29)(5,"div",30),p(6,Nn,4,2,"ng-template",31)(7,Vn,4,3,"ng-template",31),s()()()),t&2){let e=d(2);o(2),a("ngForOf",_(3,4,e.displayModes)),o(3),a("ngSwitch",e.activeDisplayMode),o(),a("ngSwitchCase",e.displayModes.LIST_VIEW),o(),a("ngSwitchCase",e.displayModes.MAP_VIEW)}}function jn(t,r){t&1&&(c(0,"div",6)(1,"div",38),m(2),u(3,"cxTranslate"),s()()),t&2&&(o(2),g(" ",_(3,1,"storeFinder.noStoreFound")," "))}function Pn(t,r){if(t&1&&(w(0),c(1,"div",2),p(2,Mn,7,3,"div",3)(3,bn,7,3,"div",4)(4,Bn,8,6,"div",5)(5,jn,4,3,"div",3),s(),L()),t&2){let e=d();o(2),a("ngIf",e.locations==null?null:e.locations.pagination),o(),a("ngIf",e.locations==null?null:e.locations.stores),o(),a("ngIf",e.locations==null?null:e.locations.stores),o(),a("ngIf",!(e.locations!=null&&e.locations.stores))}}function $n(t,r){t&1&&(v(0,"div",6),u(1,"cxTranslate")),t&2&&T("aria-label",_(1,1,"common.loaded"))}function Gn(t,r){if(t&1){let e=D();c(0,"div")(1,"div",7)(2,"cx-pagination",8),I("viewPageEvent",function(n){F(e);let l=d(2);return C(l.viewPage(n))}),s()()()}if(t&2){let e=d().ngIf;o(2),a("pagination",e.pagination)}}function Un(t,r){if(t&1&&v(0,"cx-store-finder-list",9),t&2){let e=d().ngIf,i=d();a("locations",e)("useMylocation",i.useMyLocation)}}function Wn(t,r){t&1&&(c(0,"div",10)(1,"div",11)(2,"span",12),m(3),u(4,"cxTranslate"),s()()()),t&2&&(o(3),g(" ",_(4,1,"storeFinder.noStoresMessage")," "))}function Hn(t,r){if(t&1&&(c(0,"div"),p(1,$n,2,3,"div",2)(2,Gn,3,1,"div",3)(3,Un,1,2,"cx-store-finder-list",4)(4,Wn,5,3,"div",5),s()),t&2){let e=r.ngIf;o(),a("cxFeature","!a11yRemoveStatusLoadedRole"),o(),a("ngIf",e==null?null:e.stores.length),o(),a("ngIf",e==null?null:e.stores.length),o(),a("ngIf",!(e!=null&&e.stores.length))}}function qn(t,r){t&1&&(c(0,"div",13),v(1,"cx-spinner"),s())}var zn=t=>["../country",t];function Kn(t,r){t&1&&(v(0,"div",6),u(1,"cxTranslate")),t&2&&T("aria-label",_(1,1,"common.loaded"))}function Qn(t,r){if(t&1&&(c(0,"div",8)(1,"span",9),m(2),u(3,"cxTranslate"),s()()),t&2){let e=d(2).ngIf;o(2),R(Q(3,1,"storeFinder.ariaLabelCountriesCount",y(4,ae,e==null?null:e.length)))}}function Yn(t,r){if(t&1&&(w(0),p(1,Qn,4,6,"div",7),L()),t&2){let e=d().ngIf;o(),a("ngIf",e==null?null:e.length)}}function Zn(t,r){if(t&1&&(c(0,"div",13),m(1),u(2,"cxTranslate"),s()),t&2){let e=d(2).ngIf;o(),g(" ",Q(2,1,"storeFinder.ariaLabelCountriesCount",y(4,ae,e==null?null:e.length))," ")}}function Jn(t,r){if(t&1&&(c(0,"span",19),m(1),s()),t&2){let e=d().$implicit;a("ngClass",e!=null&&e.storeCountDataList?"country-header":"country-header-link"),o(),g("(",e.count,")")}}function Xn(t,r){if(t&1){let e=D();c(0,"div",14)(1,"a",15),I("keydown.space",function(n){let l=F(e).$implicit,f=d(3);return C(f.navigateToLocation(l.isoCode,n))}),c(2,"h2",16)(3,"span",17),m(4),s(),p(5,Jn,2,2,"span",18),s()()()}if(t&2){let e=r.$implicit;o(),a("routerLink",y(5,zn,e.isoCode)),T("aria-label",e.name+"("+e.count+")"),o(2),a("ngClass",e!=null&&e.storeCountDataList?"country-header":"country-header-link"),o(),R(e.name),o(),a("ngIf",!(e!=null&&e.storeCountDataList))}}function eo(t,r){if(t&1&&(c(0,"div",10),p(1,Zn,3,6,"div",11)(2,Xn,6,7,"div",12),s()),t&2){let e=d().ngIf;o(),a("cxFeature","!a11yStoreFinderAlerts"),o(),a("ngForOf",e)}}function to(t,r){t&1&&(c(0,"div",10)(1,"span",20),m(2),u(3,"cxTranslate"),s()()),t&2&&(o(2),g(" ",_(3,1,"storeFinder.noStoresMessage")," "))}function io(t,r){if(t&1&&(w(0),p(1,Kn,2,3,"div",2)(2,Yn,2,1,"ng-container",3),c(3,"div",4),p(4,eo,3,2,"div",5)(5,to,4,3,"div",5),s(),L()),t&2){let e=r.ngIf;o(),a("cxFeature","!a11yRemoveStatusLoadedRole"),o(),a("cxFeature","a11yStoreFinderAlerts"),o(2),a("ngIf",e==null?null:e.length),o(),a("ngIf",!(e!=null&&e.length))}}function no(t,r){t&1&&(c(0,"div",21),v(1,"cx-spinner"),s())}function oo(t,r){t&1&&(c(0,"div",2),v(1,"cx-store-finder-header")(2,"router-outlet"),s())}function ro(t,r){t&1&&(c(0,"div",3)(1,"div",2),v(2,"cx-store-finder-header")(3,"router-outlet"),s()())}function ao(t,r){t&1&&(v(0,"div",12),u(1,"cxTranslate")),t&2&&T("aria-label",_(1,1,"common.loaded"))}function so(t,r){if(t&1){let e=D();c(0,"div",3),p(1,ao,2,3,"div",4),c(2,"div",5),m(3),s(),c(4,"div",6)(5,"button",7),I("click",function(){F(e);let n=d();return C(n.goBack())}),v(6,"cx-icon",8),m(7),u(8,"cxTranslate"),s()(),c(9,"div",9)(10,"div",10),v(11,"cx-store-finder-store-description",11),s()()()}if(t&2){let e=r.ngIf,i=d();o(),a("cxFeature","!a11yRemoveStatusLoadedRole"),o(2),g(" ",e==null?null:e.displayName," "),o(3),a("type",i.iconTypes.CARET_LEFT),o(),g(" ",_(8,6,"storeFinder.backToList")," "),o(4),a("disableMap",i.disableMap)("location",e)}}function co(t,r){t&1&&(c(0,"div",13),v(1,"cx-spinner"),s())}var li=(()=>{class t{constructor(e){this.storeFinderService=e}getDirections(e){return this.storeFinderService.getDirections(e)}getFormattedStoreAddress(e){return e.filter(Boolean).join(", ")}static{this.\u0275fac=function(i){return new(i||t)(h(A))}}static{this.\u0275dir=et({type:t,inputs:{location:"location"}})}}return t})(),lo=(()=>{class t{constructor(){}ngOnInit(){this.location&&(this.weekDays=this.location.openingHours?.weekDayOpeningList)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["cx-schedule"]],inputs:{location:"location"},ngContentSelectors:ji,decls:2,vars:1,consts:[["class","container cx-store-hours",4,"ngIf"],[1,"container","cx-store-hours"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"cx-days","col-4"],["class","cx-hours col-8 closed",4,"ngIf"],["class","cx-hours col-8",4,"ngIf"],[1,"cx-hours","col-8","closed"],[1,"cx-hours","col-8"]],template:function(i,n){i&1&&(nt(),ot(0),p(1,Ui,2,1,"div",0)),i&2&&(o(),a("ngIf",n.location.openingHours))},dependencies:[Y,j,b],encapsulation:2})}}return t})(),di=(()=>{class t extends li{constructor(e){super(e),this.storeFinderService=e,this.locationIndex=null,this.storeItemClick=new Ee,this.StoreFinderOutlets=Ut}handleStoreItemClick(){this.locationIndex!==null&&this.storeItemClick.emit(this.locationIndex)}onKey(e){e.key==="Enter"&&this.handleStoreItemClick()}static{this.\u0275fac=function(i){return new(i||t)(h(A))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-list-item"]],inputs:{locationIndex:"locationIndex",listOrderLabel:"listOrderLabel",displayDistance:"displayDistance",useClickEvent:"useClickEvent"},outputs:{storeItemClick:"storeItemClick"},features:[Te],decls:12,vars:16,consts:[["aria-relevant","all"],[1,"cx-store-list-order"],["class","cx-store-name","tabindex","0",3,"click","keyup",4,"ngIf"],["class","cx-store-name","tabindex","0",3,"routerLink",4,"ngIf"],["class","cx-store-address",4,"ngIf"],[3,"cxOutlet","cxOutletContext"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-sm","btn-secondary","btn-block","cx-button",3,"click","href"],["tabindex","0",1,"cx-store-name",3,"click","keyup"],["tabindex","0",1,"cx-store-name",3,"routerLink"],[1,"cx-store-address"],[1,"cx-store-address-street"],["class","cx-store-distance",4,"ngIf"],[1,"cx-store-distance"]],template:function(i,n){i&1&&(w(0),c(1,"div",0)(2,"div",1),m(3),s(),p(4,Hi,2,1,"a",2)(5,qi,2,4,"a",3)(6,Ki,5,8,"div",4)(7,Qi,0,0,"ng-template",5),c(8,"a",6),u(9,"cxTranslate"),I("click",function(f){return f.stopPropagation()}),m(10),u(11,"cxTranslate"),s()(),L()),i&2&&(o(3),g(" ",n.listOrderLabel," "),o(),a("ngIf",n.useClickEvent),o(),a("ngIf",!n.useClickEvent),o(),a("ngIf",n.location.address),o(),a("cxOutlet",n.StoreFinderOutlets.PREFERRED_STORE)("cxOutletContext",rt(13,Wi,n.location.displayName,n.location.name)),o(),J("href",n.getDirections(n.location),de),T("aria-label",_(9,9,"storeFinder.ariaLabelGetDirections")),o(2),R(_(11,11,"storeFinder.getDirections")))},dependencies:[j,fe,Nt,b],encapsulation:2})}}return t})(),ai=(()=>{class t{constructor(e,i){this.storeFinderService=e,this.route=i,ne("a11yStoreFinderAlerts")}ngOnInit(){this.isLoading$=this.storeFinderService.getStoresLoading(),this.locations$=this.storeFinderService.getFindStoresEntities(),this.defaultLocation={},this.findStores()}findStores(){this.route.snapshot.params.country&&this.storeFinderService.callFindStoresAction(this.route.snapshot.params)}static{this.\u0275fac=function(i){return new(i||t)(h(A),h(_e))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-grid"]],decls:5,vars:6,consts:[["loading",""],[4,"ngIf","ngIfElse"],["role","status",4,"cxFeature"],[1,"container"],["class","cx-counter",4,"cxFeature"],["class","cx-visually-hidden",4,"cxFeature"],[1,"row"],["class","col-sm-6 col-md-4 col-lg-3 item",4,"ngFor","ngForOf"],["role","status"],[1,"cx-counter"],[1,"cx-counter-title"],["role","alert"],[1,"cx-visually-hidden"],[1,"col-sm-6","col-md-4","col-lg-3","item"],[3,"location"],[1,"cx-spinner"]],template:function(i,n){if(i&1&&(p(0,en,7,4,"ng-container",1),u(1,"async"),u(2,"async"),p(3,tn,2,0,"ng-template",null,0,X)),i&2){let l=K(4);a("ngIf",!_(1,2,n.isLoading$)&&_(2,4,n.locations$))("ngIfElse",l)}},dependencies:[Y,j,oe,q,di,ee,b],encapsulation:2,changeDetection:0})}}return t})(),po=(()=>{class t{constructor(e){this.routingService=e,this.searchBox=new Rt,this.iconTypes=xe}findStores(e){this.routingService.go(["store-finder/find"],{queryParams:{query:e}})}viewStoresWithMyLoc(){this.routingService.go(["store-finder/find"],{queryParams:{useMyLocation:!0}})}onKey(e){this.searchBox.value&&this.searchBox.value.length&&e.key==="Enter"&&this.findStores(this.searchBox.value)}static{this.\u0275fac=function(i){return new(i||t)(h(H))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-search"]],decls:20,vars:28,consts:[["queryInput",""],[1,"container"],[1,"row"],[1,"col-md-12","col-lg-6"],[1,"form-group","search-wrapper"],["type","text",1,"form-control",3,"keyup","formControl","placeholder"],["role","button",1,"search",3,"keyup","type","routerLink","queryParams","ngClass"],[1,"row","cx-search-links","mb-3"],[1,"col-6"],[1,"btn","btn-primary","btn-block",3,"click"],[1,"btn","btn-primary","btn-block",3,"routerLink"]],template:function(i,n){if(i&1){let l=D();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),u(6,"cxTranslate"),u(7,"cxTranslate"),I("keyup",function(k){return F(l),C(n.onKey(k))}),s(),c(8,"cx-icon",6),u(9,"cxTranslate"),I("keyup",function(k){return F(l),C(n.onKey(k))}),s()()(),c(10,"div",3)(11,"div",7)(12,"div",8)(13,"button",9),I("click",function(){return F(l),C(n.viewStoresWithMyLoc())}),m(14),u(15,"cxTranslate"),s()(),c(16,"div",8)(17,"button",10),m(18),u(19,"cxTranslate"),s()()()()()()}if(i&2){let l=K(5);o(4),J("placeholder",_(6,12,"storeFinder.searchBox")),a("formControl",n.searchBox),T("aria-label",_(7,14,"storeFinder.searchBoxLabel")),o(4),a("type",n.iconTypes.SEARCH)("routerLink",De(22,nn))("queryParams",y(23,on,l.value))("ngClass",y(25,rn,!(l.value&&l.value.length))),T("tabindex",l.value!=null&&l.value.length?0:-1)("aria-label",_(9,16,"storeFinder.searchNearestStores")),o(6),g(" ",_(15,18,"storeFinder.useMyLocation")," "),o(3),a("routerLink",De(27,an)),o(),g(" ",_(19,20,"storeFinder.viewAllStores")," ")}},dependencies:[ue,bt,Ot,At,fe,he,b],encapsulation:2})}}return t})(),uo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-header"]],decls:3,vars:3,consts:[["role","search"]],template:function(i,n){i&1&&(w(0),v(1,"cx-store-finder-search",0),u(2,"cxTranslate"),L()),i&2&&(o(),T("aria-label",_(2,1,"storeFinder.storeFinder")))},dependencies:[po,b],encapsulation:2})}}return t})(),pi=(()=>{class t{constructor(e){this.googleMapRendererService=e,this.selectedStoreItem=new Ee,ne("a11yStoreFinderOverflow")}ngOnChanges(e){e.locations&&this.locations&&this.renderMap()}centerMap(e,i){this.googleMapRendererService.centerMap(e,i)}renderMap(){this.googleMapRendererService.renderMap(this.mapElement.nativeElement,this.locations,e=>{this.selectStoreItemClickHandle(e)})}selectStoreItemClickHandle(e){this.selectedStoreItem.emit(e)}static{this.\u0275fac=function(i){return new(i||t)(h(ni))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-map"]],viewQuery:function(i,n){if(i&1&&Me(sn,7),i&2){let l;we(l=Le())&&(n.mapElement=l.first)}},inputs:{locations:"locations"},outputs:{selectedStoreItem:"selectedStoreItem"},features:[tt],decls:2,vars:0,consts:[["mapElement",""],["aria-hidden","true",1,"cx-store-map"]],template:function(i,n){i&1&&v(0,"div",1,0)},encapsulation:2})}}return t})(),mo=(()=>{class t{constructor(){}getResultsPerPage(){if(this.pagination.totalResults>this.pagination.pageSize){let e=this.pagination.currentPage*this.pagination.pageSize+1,i=(this.pagination.currentPage+1)*this.pagination.pageSize;return i>this.pagination.totalResults&&(i=this.pagination.totalResults),`${e} - ${i}`}else return`1 - ${this.pagination.totalResults}`}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-pagination-details"]],inputs:{pagination:"pagination"},decls:3,vars:7,consts:[["role","alert",1,"cx-pagination-details"]],template:function(i,n){i&1&&(c(0,"span",0),m(1),u(2,"cxTranslate"),s()),i&2&&(o(),P(" ",n.getResultsPerPage()," ",Q(2,2,"storeFinder.fromStoresFound",y(5,ae,n.pagination.totalResults)),`
`))},dependencies:[b],encapsulation:2})}}return t})(),ze=function(t){return t.LIST_VIEW="listView",t.MAP_VIEW="mapView",t}(ze||{}),ui=(()=>{class t extends li{constructor(e){super(e),this.storeFinderService=e,ne("a11yStoreFinderOverflow")}static{this.\u0275fac=function(i){return new(i||t)(h(A))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-store-description"]],inputs:{location:"location",disableMap:"disableMap"},features:[Te],decls:1,vars:1,consts:[[4,"ngIf"],[4,"cxFeature"],[1,"cx-container"],[1,"cx-store"],["class","cx-store-description-address",4,"ngIf"],[1,"cx-contact"],[1,"cx-list"],[1,"cx-item"],["target","_blank","rel","noopener noreferrer",1,"cx-link",3,"href"],["class","cx-item",4,"ngIf"],["class","cx-schedule",4,"ngIf"],["class","cx-features",4,"ngIf"],["class","cx-storeMap",4,"ngIf"],[1,"cx-store-description-address"],[1,"cx-schedule"],[3,"location"],[1,"cx-features"],[1,"cx-features-header"],["class","cx-feature-item",4,"ngFor","ngForOf"],[1,"cx-feature-item"],[1,"cx-storeMap"],[3,"locations"],[1,"container"],[1,"row"],[1,"cx-store","col-md-4"],["aria-hidden","true"],["class","cx-storeMap col-lg-8",4,"ngIf"],[1,"col-lg-12"],["class","col-lg-12 cx-feature-item",4,"ngFor","ngForOf"],[1,"col-lg-12","cx-feature-item"],[1,"cx-feature-value"],[1,"cx-storeMap","col-lg-8"]],template:function(i,n){i&1&&p(0,Cn,3,2,"ng-container",0),i&2&&a("ngIf",n.location)},dependencies:[Y,j,q,pi,lo,dt,b],encapsulation:2})}}return t})(),_o=(()=>{class t{constructor(e,i){this.storeFinderService=e,this.document=i,this.iconTypes=xe,this.displayModes=ze,this.activeDisplayMode=ze.LIST_VIEW,this.isDetailsModeVisible=!1}centerStoreOnMapByIndex(e,i){this.showStoreDetails(i),this.selectedStoreIndex=e,this.selectedStore=i,this.storeMap.centerMap(this.storeFinderService.getStoreLatitude(this.locations.stores[e]),this.storeFinderService.getStoreLongitude(this.locations.stores[e]))}selectStoreItemList(e){this.selectedStoreIndex=e,this.document.getElementById("item-"+e).scrollIntoView({behavior:"smooth",block:"center"})}showStoreDetails(e){this.isDetailsModeVisible=!0,this.storeDetails=e}hideStoreDetails(){this.isDetailsModeVisible=!1,this.selectedStoreIndex=void 0,this.selectedStore=void 0,this.storeMap.renderMap()}setDisplayMode(e){this.activeDisplayMode=e}isDisplayModeActive(e){return this.activeDisplayMode===e}static{this.\u0275fac=function(i){return new(i||t)(h(A),h(st))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-list"]],viewQuery:function(i,n){if(i&1&&Me(In,5),i&2){let l;we(l=Le())&&(n.storeMap=l.first)}},inputs:{locations:"locations",useMylocation:"useMylocation"},decls:1,vars:1,consts:[["storeMap",""],[4,"ngIf"],[1,"container","mb-2"],["class","row",4,"ngIf"],["class","row cx-columns",4,"ngIf"],["class","cx-columns-mobile",4,"ngIf"],[1,"row"],[1,"col-md-12"],[3,"pagination"],[1,"text-left","cx-back-wrapper"],[1,"cx-visually-hidden"],["class","btn btn-block btn-secondary cx-back",3,"click",4,"ngIf"],[1,"btn","btn-block","btn-secondary","cx-back",3,"click"],[3,"type"],[1,"row","cx-columns"],[1,"col-md-4","cx-address-col"],["class","cx-store-details",4,"ngIf"],["class","cx-list",4,"ngIf"],[1,"col-md-8","cx-map-col"],[3,"selectedStoreItem","locations"],[1,"cx-store-details"],[3,"location","disableMap"],[1,"cx-list"],["class","cx-list-items",3,"id","ngClass",4,"ngFor","ngForOf"],[1,"cx-list-items",3,"id","ngClass"],[3,"storeItemClick","location","locationIndex","displayDistance","useClickEvent","listOrderLabel"],[1,"cx-columns-mobile"],["role","tablist",1,"nav","cx-nav"],["class","nav-item cx-nav-item",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"nav-item","cx-nav-item"],["role","tab","aria-disabled","false",3,"click","id","ngClass"],["id","tab-listView-panel","role","tabpanel","aria-labelledby","tab-listView"],[1,"cx-address-col"],["id","tab-mapView-panel","role","tabpanel","aria-labelledby","tab-mapView"],[1,"cx-map-col"],[1,"col-md-12","cx-not-found"]],template:function(i,n){i&1&&p(0,Pn,6,4,"ng-container",1),i&2&&a("ngIf",n.locations)},dependencies:[ue,Y,j,ct,lt,he,pi,di,ui,mo,pt,b],encapsulation:2})}}return t})(),fo=(()=>{class t{constructor(e,i,n){this.storeFinderService=e,this.route=i,this.config=n,this.countryCode=null,this.searchConfig={currentPage:0}}ngOnInit(){this.subscription=this.route.queryParams.subscribe(e=>this.initialize(e))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}viewPage(e){this.searchConfig=U(G({},this.searchConfig),{currentPage:e}),this.storeFinderService.findStoresAction(this.searchQuery.queryText,this.searchConfig,this.geolocation,this.countryCode,this.useMyLocation,this.radius)}initialize(e){this.searchQuery=this.parseParameters(e),this.useMyLocation=!!(e&&e.useMyLocation),this.searchConfig=U(G({},this.searchConfig),{currentPage:0}),this.radius=this.config.googleMaps.radius,this.storeFinderService.findStoresAction(this.searchQuery.queryText,this.searchConfig,this.geolocation,this.countryCode,this.useMyLocation,this.radius),this.isLoading$=this.storeFinderService.getStoresLoading(),this.locations$=this.storeFinderService.getFindStoresEntities()}parseParameters(e){let i;return e.query?i={queryText:e.query}:i={queryText:""},i.useMyLocation=e.useMyLocation!=null&&e.useMyLocation.toUpperCase()==="TRUE",i}static{this.\u0275fac=function(i){return new(i||t)(h(A),h(_e),h(Ue))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-search-result"]],decls:5,vars:6,consts:[["loading",""],[4,"ngIf","ngIfElse"],["role","status",4,"cxFeature"],[4,"ngIf"],[3,"locations","useMylocation",4,"ngIf"],["class","container",4,"ngIf"],["role","status"],[1,"cx-pagination"],["aria-hidden","true",3,"viewPageEvent","pagination"],[3,"locations","useMylocation"],[1,"container"],[1,"row"],["role","alert",1,"cx-no-stores"],[1,"cx-spinner"]],template:function(i,n){if(i&1&&(p(0,Hn,5,4,"div",1),u(1,"async"),u(2,"async"),p(3,qn,2,0,"ng-template",null,0,X)),i&2){let l=K(4);a("ngIf",!_(1,2,n.isLoading$)&&_(2,4,n.locations$))("ngIfElse",l)}},dependencies:[j,Pt,oe,q,_o,ee,b],encapsulation:2})}}return t})(),go=(()=>{class t{constructor(e){this.storeFinderService=e,this.routingService=z(H,{optional:!0}),ne("a11yStoreFinderAlerts")}ngOnInit(){this.storeFinderService.viewAllStores(),this.locations$=this.storeFinderService.getViewAllStoresEntities(),this.isLoading$=this.storeFinderService.getViewAllStoresLoading()}navigateToLocation(e,i){this.routingService&&(i?.preventDefault(),this.routingService.go(["/store-finder/country",e]))}static{this.\u0275fac=function(i){return new(i||t)(h(A))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-stores-count"]],decls:5,vars:6,consts:[["loading",""],[4,"ngIf","ngIfElse"],["role","status",4,"cxFeature"],[4,"cxFeature"],[1,"cx-count","container"],["class","row",4,"ngIf"],["role","status"],["class","col-12 m-3",4,"ngIf"],[1,"col-12","m-3"],["role","alert"],[1,"row"],["class","cx-visually-hidden",4,"cxFeature"],["class","cx-set col-sm-6 col-md-4 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"cx-visually-hidden"],[1,"cx-set","col-sm-6","col-md-4","col-lg-4","col-xl-3"],["role","button",1,"btn-link",3,"keydown.space","routerLink"],["aria-hidden","true",1,"cx-title"],[1,"cx-name",3,"ngClass"],["class","cx-country-count",3,"ngClass",4,"ngIf"],[1,"cx-country-count",3,"ngClass"],["role","alert",1,"cx-no-stores"],[1,"cx-count-spinner"]],template:function(i,n){if(i&1&&(p(0,io,6,4,"ng-container",1),u(1,"async"),u(2,"async"),p(3,no,2,0,"ng-template",null,0,X)),i&2){let l=K(4);a("ngIf",!_(1,2,n.isLoading$)&&_(2,4,n.locations$))("ngIfElse",l)}},dependencies:[ue,Y,j,fe,oe,q,ee,b],encapsulation:2})}}return t})(),vo=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder"]],decls:3,vars:2,consts:[["class","cx-store-finder-wrapper",4,"cxFeature"],["aria-live","assertive","aria-relevant","additions text",4,"cxFeature"],[1,"cx-store-finder-wrapper"],["aria-live","assertive","aria-relevant","additions text"]],template:function(i,n){i&1&&(w(0),p(1,oo,3,0,"div",0)(2,ro,4,0,"div",1),L()),i&2&&(o(),a("cxFeature","a11yStoreFinderAlerts"),o(),a("cxFeature","!a11yStoreFinderAlerts"))},dependencies:[St,q,uo],encapsulation:2})}}return t})(),si=(()=>{class t{constructor(e,i,n){this.storeFinderService=e,this.route=i,this.routingService=n,this.iconTypes=xe}ngOnInit(){this.location||(this.requestStoresData(),this.location$=this.storeFinderService.getFindStoreEntityById(),this.isLoading$=this.storeFinderService.getStoresLoading())}requestStoresData(){this.storeFinderService.viewStoreById(this.route.snapshot.params.store)}goBack(){this.routingService.go([`store-finder/country/${this.route.snapshot.params.country}`])}static{this.\u0275fac=function(i){return new(i||t)(h(A),h(_e),h(H))}}static{this.\u0275cmp=E({type:t,selectors:[["cx-store-finder-store"]],inputs:{location:"location",disableMap:"disableMap"},decls:6,vars:6,consts:[["loading",""],["aria-live","assertive","aria-atomic","true","aria-relevant","additions"],["class","container",4,"ngIf","ngIfElse"],[1,"container"],["role","status",4,"cxFeature"],[1,"cx-visually-hidden"],[1,"cx-store-actions"],[1,"btn","btn-block","btn-secondary",3,"click"],[3,"type"],[1,"row"],[1,"col-12","p-0"],[3,"disableMap","location"],["role","status"],[1,"cx-spinner"]],template:function(i,n){if(i&1&&(c(0,"div",1),p(1,so,12,8,"div",2),u(2,"async"),u(3,"async"),s(),p(4,co,2,0,"ng-template",null,0,X)),i&2){let l=K(5);o(),a("ngIf",n.location||!_(2,2,n.isLoading$)&&_(3,4,n.location$))("ngIfElse",l)}},dependencies:[j,oe,he,q,ui,ee,b],encapsulation:2})}}return t})(),mi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=B({type:t})}static{this.\u0275inj=V({providers:[Z({cmsComponents:{StoreFinderComponent:{component:vo,childRoutes:[{path:"find",component:fo},{path:"view-all",component:go},{path:"country/:country",component:ai},{path:"country/:country/region/:region",component:ai},{path:"country/:country/region/:region/:store",component:si},{path:"country/:country/:store",component:si}]}}})],imports:[me,kt,xt,$t,jt,wt,Fe,Lt,Bt,Vt,Mt]})}}return t})();var lr=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=B({type:t})}static{this.\u0275inj=V({imports:[Fe,ri,mi]})}}return t})();export{Ue as a,A as b,lr as c};
